/*! For license information please see main.15f655f8.js.LICENSE.txt */
(()=>{var e={4(e,t,n){"use strict";var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var B=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case _:return"SuspenseList";case k:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var M=Array.isArray,F=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},R=[],L=-1;function N(e){return{current:e}}function z(e){0>L||(e.current=R[L],R[L]=null,L--)}function Q(e,t){L++,R[L]=e.current,e.current=t}var Y,U,G=N(null),H=N(null),W=N(null),V=N(null);function K(e,t){switch(Q(W,t),Q(H,e),Q(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ah(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yh(t=Ah(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(G),Q(G,e)}function q(){z(G),z(H),z(W)}function X(e){null!==e.memoizedState&&Q(V,e);var t=G.current,n=yh(t,e.type);t!==n&&(Q(H,e),Q(G,n))}function J(e){H.current===e&&(z(G),z(H)),V.current===e&&(z(V),ud._currentValue=P)}function Z(e){if(void 0===Y)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Y=t&&t[1]||"",U=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Y+e+U}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{$=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Z(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return e.child!==t&&null!==t?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Z("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,ge=r.unstable_IdlePriority,pe=r.log,me=r.unstable_setDisableYieldValue,Ae=null,ye=null;function ve(e){if("function"===typeof pe&&me(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(Ae,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/xe|0)|0},we=Math.log,xe=Math.LN2;var Ee=256,_e=262144,Ce=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=Se(r):0!==(s&=a)?i=Se(s):n||0!==(n=a&~e)&&(i=Se(n)):0!==(a=r&~o)?i=Se(a):0!==s?i=Se(s):n||0!==(n=r&~e)&&(i=Se(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function Be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Te(){var e=Ce;return 0===(62914560&(Ce<<=1))&&(Ce=4194304),e}function De(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Fe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function je(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Pe(n))&(e.suspendedLanes|t))?0:n}function Pe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:Sd(e.type)}function Ne(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}var ze=Math.random().toString(36).slice(2),Qe="__reactFiber$"+ze,Ye="__reactProps$"+ze,Ue="__reactContainer$"+ze,Ge="__reactEvents$"+ze,He="__reactListeners$"+ze,We="__reactHandles$"+ze,Ve="__reactResources$"+ze,Ke="__reactMarker$"+ze;function qe(e){delete e[Qe],delete e[Ye],delete e[Ge],delete e[He],delete e[We]}function Xe(e){var t=e[Qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ue]||n[Qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ph(e);null!==e;){if(n=e[Qe])return n;e=Ph(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[Qe]||e[Ue]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function $e(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(st,i)&&(ot.test(i)?at[i]=!0:(st[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function At(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?bt(e,s,ht(t)):null!=n?bt(e,s,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ht(a):e.removeAttribute("name")}function vt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),ft(e)}function bt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(M(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&St(e,o,t[o])}function Bt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ot(){}var Mt=null;function Ft(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var jt=null,Pt=null;function Rt(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[Ye]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+At(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ye]||null;if(!i)throw Error(s(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&gt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Nt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==jt||null!==Pt)&&($c(),jt&&(t=jt,e=Pt,Pt=jt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ye]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Qt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Yt=!1;if(Qt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Yt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Jd){Yt=!1}var Gt=null,Ht=null,Wt=null;function Vt(){if(Wt)return Wt;var e,t,n=Ht,r=n.length,i="value"in Gt?Gt.value:Gt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Xt(){return!1}function Jt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Zt,$t,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Jt(tn),rn=f({},tn,{view:0,detail:0}),on=Jt(rn),sn=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Zt=e.screenX-en.screenX,$t=e.screenY-en.screenY):$t=Zt=0,en=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),an=Jt(sn),ln=Jt(f({},sn,{dataTransfer:0})),cn=Jt(f({},rn,{relatedTarget:0})),un=Jt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Jt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Jt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function An(){return mn}var yn=Jt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Jt(f({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Jt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),wn=Jt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Jt(f({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),En=Jt(f({},tn,{newState:0,oldState:0})),_n=[9,13,27,32],Cn=Qt&&"CompositionEvent"in window,Sn=null;Qt&&"documentMode"in document&&(Sn=document.documentMode);var kn=Qt&&"TextEvent"in window&&!Sn,Bn=Qt&&(!Cn||Sn&&8<Sn&&11>=Sn),In=String.fromCharCode(32),Tn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Pn(e,t,n,r){jt?Pt?Pt.push(r):Pt=[r]:jt=r,0<(t=rh(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,Ln=null;function Nn(e){qu(e,0)}function zn(e){if(gt(Ze(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(Qt){var Un;if(Qt){var Gn="oninput"in document;if(!Gn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Gn="function"===typeof Hn.oninput}Un=Gn}else Un=!1;Yn=Un&&(!document.documentMode||9<document.documentMode)}function Wn(){Rn&&(Rn.detachEvent("onpropertychange",Vn),Ln=Rn=null)}function Vn(e){if("value"===e.propertyName&&zn(Ln)){var t=[];Pn(t,Ln,e,Ft(e)),Nt(Nn,t)}}function Kn(e,t,n){"focusin"===e?(Wn(),Ln=n,(Rn=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Wn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Ln)}function Xn(e,t){if("click"===e)return zn(t)}function Jn(e,t){if("input"===e||"change"===e)return zn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Qt&&"documentMode"in document&&11>=document.documentMode,sr=null,ar=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==sr||sr!==pt(r)||("selectionStart"in(r=sr)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&$n(lr,r)||(lr=r,0<(r=rh(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},gr={};function pr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return fr[e]=n[t];return e}Qt&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var mr=pr("animationend"),Ar=pr("animationiteration"),yr=pr("animationstart"),vr=pr("transitionrun"),br=pr("transitionstart"),wr=pr("transitioncancel"),xr=pr("transitionend"),Er=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){Er.set(e,t),rt(t,[e])}_r.push("scrollEnd");var Sr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},kr=[],Br=0,Ir=0;function Tr(){for(var e=Br,t=Ir=Br=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var i=kr[t];kr[t++]=null;var o=kr[t];if(kr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Fr(n,i,o)}}function Dr(e,t,n,r){kr[Br++]=e,kr[Br++]=t,kr[Br++]=n,kr[Br++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Dr(e,t,n,r),jr(e)}function Mr(e,t){return Dr(e,null,null,t),jr(e)}function Fr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-be(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function jr(e){if(50<Gc)throw Gc=0,Hc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pr={};function Rr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Rr(e,t,n,r)}function Nr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Qr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Yr(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)Nr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,G.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Lr(31,n,t,i)).elementType=k,e.lanes=o,e;case A:return Ur(n.children,i,o,t);case y:a=8,i|=24;break;case v:return(e=Lr(12,n,t,2|i)).elementType=v,e.lanes=o,e;case E:return(e=Lr(13,n,t,i)).elementType=E,e.lanes=o,e;case _:return(e=Lr(19,n,t,i)).elementType=_,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:a=10;break e;case b:a=9;break e;case x:a=11;break e;case C:a=14;break e;case S:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ur(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Gr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Hr(e){var t=Lr(18,null,null,0);return t.stateNode=e,t}function Wr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=new WeakMap;function Kr(e,t){if("object"===typeof e&&null!==e){var n=Vr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Vr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var qr=[],Xr=0,Jr=null,Zr=0,$r=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){qr[Xr++]=Zr,qr[Xr++]=Jr,Jr=e,Zr=t}function oi(e,t,n){$r[ei++]=ni,$r[ei++]=ri,$r[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-be(r)-1;r&=~(1<<i),n+=1;var o=32-be(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ni=1<<32-be(t)+i|n<<i|r,ri=o+e}else ni=1<<o|n<<i|r,ri=e}function si(e){null!==e.return&&(ii(e,1),oi(e,1,0))}function ai(e){for(;e===Jr;)Jr=qr[--Xr],qr[Xr]=null,Zr=qr[--Xr],qr[Xr]=null;for(;e===ti;)ti=$r[--ei],$r[ei]=null,ri=$r[--ei],$r[ei]=null,ni=$r[--ei],$r[ei]=null}function li(e,t){$r[ei++]=ni,$r[ei++]=ri,$r[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,hi=!1,di=null,fi=!1,gi=Error(s(519));function pi(e){throw wi(Kr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gi}function mi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Qe]=e,t[Ye]=r,n){case"dialog":Xu("cancel",t),Xu("close",t);break;case"iframe":case"object":case"embed":Xu("load",t);break;case"video":case"audio":for(n=0;n<Vu.length;n++)Xu(Vu[n],t);break;case"source":Xu("error",t);break;case"img":case"image":case"link":Xu("error",t),Xu("load",t);break;case"details":Xu("toggle",t);break;case"input":Xu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xu("invalid",t);break;case"textarea":Xu("invalid",t),Et(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ch(t.textContent,n)?(null!=r.popover&&(Xu("beforetoggle",t),Xu("toggle",t)),null!=r.onScroll&&Xu("scroll",t),null!=r.onScrollEnd&&Xu("scrollend",t),null!=r.onClick&&(t.onclick=Ot),t=!0):t=!1,t||pi(e,!0)}function Ai(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ci=ci.return}}function yi(e){if(e!==ci)return!1;if(!hi)return Ai(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||vh(e.type,e.memoizedProps)),t=!t),t&&ui&&pi(e),Ai(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=jh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=jh(e)}else 27===n?(n=ui,Sh(e.type)?(e=Fh,Fh=null,ui=e):ui=n):ui=ci?Mh(e.stateNode.nextSibling):null;return!0}function vi(){ui=ci=null,hi=!1}function bi(){var e=di;return null!==e&&(null===Tc?Tc=e:Tc.push.apply(Tc,e),di=null),e}function wi(e){null===di?di=[e]:di.push(e)}var xi=N(null),Ei=null,_i=null;function Ci(e,t,n){Q(xi,t._currentValue),t._currentValue=n}function Si(e){e._currentValue=xi.current,z(xi)}function ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ki(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),ki(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ii(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Zn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===V.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(ud):e=[ud])}i=i.return}null!==e&&Bi(t,e,n,r),t.flags|=262144}function Ti(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Di(e){Ei=e,_i=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Oi(e){return Fi(Ei,e)}function Mi(e,t){return null===Ei&&Di(e),Fi(e,t)}function Fi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===_i){if(null===e)throw Error(s(308));_i=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _i=_i.next=t;return n}var ji="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pi=r.unstable_scheduleCallback,Ri=r.unstable_NormalPriority,Li={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ni(){return{controller:new ji,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Pi(Ri,function(){e.controller.abort()})}var Qi=null,Yi=0,Ui=0,Gi=null;function Hi(){if(0===--Yi&&null!==Qi){null!==Gi&&(Gi.status="fulfilled");var e=Qi;Qi=null,Ui=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wi=F.S;F.S=function(e,t){Mc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Qi){var n=Qi=[];Yi=0,Ui=Yu(),Gi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Yi++,t.then(Hi,Hi)}(0,t),null!==Wi&&Wi(e,t)};var Vi=N(null);function Ki(){var e=Vi.current;return null!==e?e:gc.pooledCache}function qi(e,t){Q(Vi,null===t?Vi.current:t.pool)}function Xi(){var e=Ki();return null===e?null:{parent:Li._currentValue,pool:e}}var Ji=Error(s(460)),Zi=Error(s(474)),$i=Error(s(542)),eo={then:function(){}};function to(e){return"fulfilled"===(e=e.status)||"rejected"===e}function no(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ot,Ot),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ot,Ot);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e}throw io=t,Ji}}function ro(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw io=t,Ji;throw t}}var io=null;function oo(){if(null===io)throw Error(s(459));var e=io;return io=null,e}function so(e){if(e===Ji||e===$i)throw Error(s(483))}var ao=null,lo=0;function co(e){var t=lo;return lo+=1,null===ao&&(ao=[]),no(ao,e,t)}function uo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ho(e,t){if(t.$$typeof===g)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===A?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===S&&ro(o)===t.type)?(uo(t=i(t,n.props),n),t.return=e,t):(uo(t=Yr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Gr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return uo(n=Yr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Wr(t,e.mode,n)).return=e,t;case S:return d(e,t=ro(t),n)}if(M(t)||T(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,co(t),n);if(t.$$typeof===w)return d(e,Mi(e,t),n);ho(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case S:return f(e,t,n=ro(n),r)}if(M(n)||T(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,co(n),r);if(n.$$typeof===w)return f(e,t,Mi(e,n),r);ho(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return g(e,t,n,r=ro(r),i)}if(M(r)||T(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return g(e,t,n,co(r),i);if(r.$$typeof===w)return g(e,t,n,Mi(t,r),i);ho(t,r)}return null}function y(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===A&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var v=u.key;null!==c;){if(c.key===v){if((v=u.type)===A){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===S&&ro(v)===c.type){n(l,c.sibling),uo(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===A?((h=Ur(u.props.children,l.mode,h,u.key)).return=l,l=h):(uo(h=Yr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return a(l);case m:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Wr(u,l.mode,h)).return=l,l=h}return a(l);case S:return y(l,c,u=ro(u),h)}if(M(u))return function(i,s,a,l){for(var c=null,u=null,h=s,p=s=0,m=null;null!==h&&p<a.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var A=f(i,h,a[p],l);if(null===A){null===h&&(h=m);break}e&&h&&null===A.alternate&&t(i,h),s=o(A,s,p),null===u?c=A:u.sibling=A,u=A,h=m}if(p===a.length)return n(i,h),hi&&ii(i,p),c;if(null===h){for(;p<a.length;p++)null!==(h=d(i,a[p],l))&&(s=o(h,s,p),null===u?c=h:u.sibling=h,u=h);return hi&&ii(i,p),c}for(h=r(h);p<a.length;p++)null!==(m=g(h,i,p,a[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),s=o(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),hi&&ii(i,p),c}(l,c,u,h);if(T(u)){if("function"!==typeof(v=T(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,h=null,p=a,m=a=0,A=null,y=l.next();null!==p&&!y.done;m++,y=l.next()){p.index>m?(A=p,p=null):A=p.sibling;var v=f(i,p,y.value,c);if(null===v){null===p&&(p=A);break}e&&p&&null===v.alternate&&t(i,p),a=o(v,a,m),null===h?u=v:h.sibling=v,h=v,p=A}if(y.done)return n(i,p),hi&&ii(i,m),u;if(null===p){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return hi&&ii(i,m),u}for(p=r(p);!y.done;m++,y=l.next())null!==(y=g(p,i,m,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&p.forEach(function(e){return t(i,e)}),hi&&ii(i,m),u}(l,c,u=v.call(u),h)}if("function"===typeof u.then)return y(l,c,co(u),h);if(u.$$typeof===w)return y(l,c,Mi(l,u),h);ho(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Gr(u,l.mode,h)).return=l,l=h),a(l)):n(l,c)}return function(e,t,n,r){try{lo=0;var i=y(e,t,n,r);return ao=null,i}catch(s){if(s===Ji||s===$i)throw s;var o=Lr(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var go=fo(!0),po=fo(!1),mo=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=jr(e),Fr(e,null,n),t}return Dr(e,r,t,n),jr(e)}function wo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Fe(e,n)}}function xo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Eo=!1;function _o(){if(Eo){if(null!==Gi)throw Gi}}function Co(e,t,n,r){Eo=!1;var i=e.updateQueue;mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=-536870913&a.lane,g=d!==a.lane;if(g?(mc&d)===d:(r&d)===d){0!==d&&d===Ui&&(Eo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var p=e,m=a;d=t;var A=n;switch(m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(A,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(A,h,d):p)||void 0===d)break e;h=f({},h,d);break e;case 2:mo=!0}}null!==(d=a.callback)&&(e.flags|=64,g&&(e.flags|=8192),null===(g=i.callbacks)?i.callbacks=[d]:g.push(d))}else g={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=g,l=h):u=u.next=g,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(g=a).next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),_c|=s,e.lanes=s,e.memoizedState=h}}function So(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ko(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)So(n[e],t)}var Bo=N(null),Io=N(0);function To(e,t){Q(Io,e=xc),Q(Bo,t),xc=e|t.baseLanes}function Do(){Q(Io,xc),Q(Bo,Bo.current)}function Oo(){xc=Io.current,z(Bo),z(Io)}var Mo=N(null),Fo=null;function jo(e){var t=e.alternate;Q(zo,1&zo.current),Q(Mo,e),null===Fo&&(null===t||null!==Bo.current||null!==t.memoizedState)&&(Fo=e)}function Po(e){Q(zo,zo.current),Q(Mo,e),null===Fo&&(Fo=e)}function Ro(e){22===e.tag?(Q(zo,zo.current),Q(Mo,e),null===Fo&&(Fo=e)):Lo()}function Lo(){Q(zo,zo.current),Q(Mo,Mo.current)}function No(e){z(Mo),Fo===e&&(Fo=null),z(zo)}var zo=N(0);function Qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Dh(n)||Oh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yo=0,Uo=null,Go=null,Ho=null,Wo=!1,Vo=!1,Ko=!1,qo=0,Xo=0,Jo=null,Zo=0;function $o(){throw Error(s(321))}function es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function ts(e,t,n,r,i,o){return Yo=o,Uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=null===e||null===e.memoizedState?ma:Aa,Ko=!1,o=n(r,i),Ko=!1,Vo&&(o=rs(t,n,r,i)),ns(e),o}function ns(e){F.H=pa;var t=null!==Go&&null!==Go.next;if(Yo=0,Ho=Go=Uo=null,Wo=!1,Xo=0,Jo=null,t)throw Error(s(300));null===e||Ma||null!==(e=e.dependencies)&&Ti(e)&&(Ma=!0)}function rs(e,t,n,r){Uo=e;var i=0;do{if(Vo&&(Jo=null),Xo=0,Vo=!1,25<=i)throw Error(s(301));if(i+=1,Ho=Go=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}F.H=ya,o=t(n,r)}while(Vo);return o}function is(){var e=F.H,t=e.useState()[0];return t="function"===typeof t.then?us(t):t,e=e.useState()[0],(null!==Go?Go.memoizedState:null)!==e&&(Uo.flags|=1024),t}function os(){var e=0!==qo;return qo=0,e}function ss(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function as(e){if(Wo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wo=!1}Yo=0,Ho=Go=Uo=null,Vo=!1,Xo=qo=0,Jo=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ho?Uo.memoizedState=Ho=e:Ho=Ho.next=e,Ho}function cs(){if(null===Go){var e=Uo.alternate;e=null!==e?e.memoizedState:null}else e=Go.next;var t=null===Ho?Uo.memoizedState:Ho.next;if(null!==t)Ho=t,Go=e;else{if(null===e){if(null===Uo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Go=e).memoizedState,baseState:Go.baseState,baseQueue:Go.baseQueue,queue:Go.queue,next:null},null===Ho?Uo.memoizedState=Ho=e:Ho=Ho.next=e}return Ho}function us(e){var t=Xo;return Xo+=1,null===Jo&&(Jo=[]),e=no(Jo,e,t),t=Uo,null===(null===Ho?t.memoizedState:Ho.next)&&(t=t.alternate,F.H=null===t||null===t.memoizedState?ma:Aa),e}function hs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return us(e);if(e.$$typeof===w)return Oi(e)}throw Error(s(438,String(e)))}function ds(e){var t=null,n=Uo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Uo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Uo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=B;return t.index++,n}function fs(e,t){return"function"===typeof t?t(e):t}function gs(e){return ps(cs(),Go,e)}function ps(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(mc&d)===d:(Yo&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Ui&&(h=!0);else{if((Yo&f)===f){u=u.next,f===Ui&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,a=o):c=c.next=d,Uo.lanes|=f,_c|=f}d=u.action,Ko&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=o):c=c.next=f,Uo.lanes|=d,_c|=d;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Zn(o,e.memoizedState)&&(Ma=!0,h&&null!==(n=Gi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ms(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Zn(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function As(e,t,n){var r=Uo,i=cs(),o=hi;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Zn((Go||i).memoizedState,n);if(a&&(i.memoizedState=n,Ma=!0),i=i.queue,Ys(bs.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Ho&&1&Ho.memoizedState.tag){if(r.flags|=2048,Rs(9,{destroy:void 0},vs.bind(null,r,i,n,t),null),null===gc)throw Error(s(349));o||0!==(127&Yo)||ys(r,t,n)}return n}function ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Uo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function vs(e,t,n,r){t.value=n,t.getSnapshot=r,ws(t)&&xs(e)}function bs(e,t,n){return n(function(){ws(t)&&xs(e)})}function ws(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function xs(e){var t=Mr(e,2);null!==t&&Kc(t,e,2)}function Es(e){var t=ls();if("function"===typeof e){var n=e;if(e=n(),Ko){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t}function _s(e,t,n,r){return e.baseState=n,ps(e,Go,"function"===typeof r?r:fs)}function Cs(e,t,n,r,i){if(da(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==F.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Ss(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ss(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=F.T,s={};F.T=s;try{var a=n(i,r),l=F.S;null!==l&&l(s,a),ks(e,t,a)}catch(c){Is(e,t,c)}finally{null!==o&&null!==s.types&&(o.types=s.types),F.T=o}}else try{ks(e,t,o=n(i,r))}catch(u){Is(e,t,u)}}function ks(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Bs(e,t,n)},function(n){return Is(e,t,n)}):Bs(e,t,n)}function Bs(e,t,n){t.status="fulfilled",t.value=n,Ts(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ss(e,n)))}function Is(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ts(t),t=t.next}while(t!==r)}e.action=null}function Ts(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ds(e,t){return t}function Os(e,t){if(hi){var n=gc.formState;if(null!==n){e:{var r=Uo;if(hi){if(ui){t:{for(var i=ui,o=fi;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Mh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ui=Mh(i.nextSibling),r="F!"===i.data;break e}}pi(r)}r=!1}r&&(t=n[0])}}return(n=ls()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:t},n.queue=r,n=ca.bind(null,Uo,r),r.dispatch=n,r=Es(!1),o=ha.bind(null,Uo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ls()).queue=i,n=Cs.bind(null,Uo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ms(e){return Fs(cs(),Go,e)}function Fs(e,t,n){if(t=ps(e,t,Ds)[0],e=gs(fs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=us(t)}catch(s){if(s===Ji)throw $i;throw s}else r=t;var i=(t=cs()).queue,o=i.dispatch;return n!==t.memoizedState&&(Uo.flags|=2048,Rs(9,{destroy:void 0},js.bind(null,i,n),null)),[r,o,e]}function js(e,t){e.action=t}function Ps(e){var t=cs(),n=Go;if(null!==n)return Fs(t,n,e);cs(),t=t.memoizedState;var r=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Rs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Uo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Uo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ls(){return cs().memoizedState}function Ns(e,t,n,r){var i=ls();Uo.flags|=e,i.memoizedState=Rs(1|t,{destroy:void 0},n,void 0===r?null:r)}function zs(e,t,n,r){var i=cs();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Go&&null!==r&&es(r,Go.memoizedState.deps)?i.memoizedState=Rs(t,o,n,r):(Uo.flags|=e,i.memoizedState=Rs(1|t,o,n,r))}function Qs(e,t){Ns(8390656,8,e,t)}function Ys(e,t){zs(2048,8,e,t)}function Us(e){var t=cs().memoizedState;return function(e){Uo.flags|=4;var t=Uo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Uo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Gs(e,t){return zs(4,2,e,t)}function Hs(e,t){return zs(4,4,e,t)}function Ws(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Vs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zs(4,4,Ws.bind(null,t,e),n)}function Ks(){}function qs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&es(t,r[1]))return r[0];if(r=e(),Ko){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function Js(e,t,n){return void 0===n||0!==(1073741824&Yo)&&0===(261930&mc)?e.memoizedState=t:(e.memoizedState=n,e=Vc(),Uo.lanes|=e,_c|=e,n)}function Zs(e,t,n,r){return Zn(n,t)?n:null!==Bo.current?(e=Js(e,n,r),Zn(e,t)||(Ma=!0),e):0===(42&Yo)||0!==(1073741824&Yo)&&0===(261930&mc)?(Ma=!0,e.memoizedState=n):(e=Vc(),Uo.lanes|=e,_c|=e,t)}function $s(e,t,n,r,i){var o=j.p;j.p=0!==o&&8>o?o:8;var s=F.T,a={};F.T=a,ha(e,!1,t,n);try{var l=i(),c=F.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Wc());else ua(e,t,r,Wc())}catch(u){ua(e,t,{then:function(){},status:"rejected",reason:u},Wc())}finally{j.p=o,null!==s&&null!==a.types&&(s.types=a.types),F.T=s}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=na(e).queue;$s(e,i,t,P,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:P},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},Wc())}function ia(){return Oi(ud)}function oa(){return cs().memoizedState}function sa(){return cs().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Wc(),r=bo(t,e=vo(n),n);return null!==r&&(Kc(r,t,n),wo(r,t,n)),t={cache:Ni()},void(e.payload=t)}t=t.return}}function la(e,t,n){var r=Wc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},da(e)?fa(t,n):null!==(n=Or(e,t,n,r))&&(Kc(n,e,r),ga(n,t,r))}function ca(e,t,n){ua(e,t,n,Wc())}function ua(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(da(e))fa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Zn(a,s))return Dr(e,t,i,0),null===gc&&Tr(),!1}catch(l){}if(null!==(n=Or(e,t,i,r)))return Kc(n,e,r),ga(n,t,r),!0}return!1}function ha(e,t,n,r){if(r={lane:2,revertLane:Yu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},da(e)){if(t)throw Error(s(479))}else null!==(t=Or(e,n,r,2))&&Kc(t,e,2)}function da(e){var t=e.alternate;return e===Uo||null!==t&&t===Uo}function fa(e,t){Vo=Wo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ga(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Fe(e,n)}}var pa={readContext:Oi,use:hs,useCallback:$o,useContext:$o,useEffect:$o,useImperativeHandle:$o,useLayoutEffect:$o,useInsertionEffect:$o,useMemo:$o,useReducer:$o,useRef:$o,useState:$o,useDebugValue:$o,useDeferredValue:$o,useTransition:$o,useSyncExternalStore:$o,useId:$o,useHostTransitionStatus:$o,useFormState:$o,useActionState:$o,useOptimistic:$o,useMemoCache:$o,useCacheRefresh:$o};pa.useEffectEvent=$o;var ma={readContext:Oi,use:hs,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:Oi,useEffect:Qs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4194308,4,Ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){Ns(4,2,e,t)},useMemo:function(e,t){var n=ls();t=void 0===t?null:t;var r=e();if(Ko){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ls();if(void 0!==n){var i=n(t);if(Ko){ve(!0);try{n(t)}finally{ve(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=la.bind(null,Uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var t=(e=Es(e)).queue,n=ca.bind(null,Uo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ks,useDeferredValue:function(e,t){return Js(ls(),e,t)},useTransition:function(){var e=Es(!1);return e=$s.bind(null,Uo,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Uo,i=ls();if(hi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===gc)throw Error(s(349));0!==(127&mc)||ys(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Qs(bs.bind(null,r,o,e),[e]),r.flags|=2048,Rs(9,{destroy:void 0},vs.bind(null,r,o,n,t),null),n},useId:function(){var e=ls(),t=gc.identifierPrefix;if(hi){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-be(ni)-1)).toString(32)+n),0<(n=qo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:Os,useActionState:Os,useOptimistic:function(e){var t=ls();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ha.bind(null,Uo,!0,n),n.dispatch=t,[e,t]},useMemoCache:ds,useCacheRefresh:function(){return ls().memoizedState=aa.bind(null,Uo)},useEffectEvent:function(e){var t=ls(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},Aa={readContext:Oi,use:hs,useCallback:qs,useContext:Oi,useEffect:Ys,useImperativeHandle:Vs,useInsertionEffect:Gs,useLayoutEffect:Hs,useMemo:Xs,useReducer:gs,useRef:Ls,useState:function(){return gs(fs)},useDebugValue:Ks,useDeferredValue:function(e,t){return Zs(cs(),Go.memoizedState,e,t)},useTransition:function(){var e=gs(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:As,useId:oa,useHostTransitionStatus:ia,useFormState:Ms,useActionState:Ms,useOptimistic:function(e,t){return _s(cs(),0,e,t)},useMemoCache:ds,useCacheRefresh:sa};Aa.useEffectEvent=Us;var ya={readContext:Oi,use:hs,useCallback:qs,useContext:Oi,useEffect:Ys,useImperativeHandle:Vs,useInsertionEffect:Gs,useLayoutEffect:Hs,useMemo:Xs,useReducer:ms,useRef:Ls,useState:function(){return ms(fs)},useDebugValue:Ks,useDeferredValue:function(e,t){var n=cs();return null===Go?Js(n,e,t):Zs(n,Go.memoizedState,e,t)},useTransition:function(){var e=ms(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:As,useId:oa,useHostTransitionStatus:ia,useFormState:Ps,useActionState:Ps,useOptimistic:function(e,t){var n=cs();return null!==Go?_s(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ds,useCacheRefresh:sa};function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ya.useEffectEvent=Us;var ba={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wc(),i=vo(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bo(e,i,r))&&(Kc(t,e,r),wo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wc(),i=vo(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bo(e,i,r))&&(Kc(t,e,r),wo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wc(),r=vo(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bo(e,r,n))&&(Kc(t,e,n),wo(t,e,n))}};function wa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(i,o))}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function Ea(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function _a(e){Sr(e)}function Ca(e){console.error(e)}function Sa(e){Sr(e)}function ka(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ba(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ia(e,t,n){return(n=vo(n)).tag=3,n.payload={element:null},n.callback=function(){ka(e,t)},n}function Ta(e){return(e=vo(e)).tag=3,e}function Da(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Ba(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Ba(t,n,r),"function"!==typeof i&&(null===Pc?Pc=new Set([this]):Pc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Oa=Error(s(461)),Ma=!1;function Fa(e,t,n,r){t.child=null===e?po(t,null,n,r):go(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Di(t),r=ts(e,t,n,s,o,i),a=os(),null===e||Ma?(hi&&a&&si(t),t.flags|=1,Fa(e,t,r,i),t.child):(ss(e,t,i),il(e,t,i))}function Pa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Nr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Yr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ra(e,t,o,r,i))}if(o=e.child,!ol(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(s,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=zr(o,r)).ref=t.ref,e.return=t,t.child=e}function Ra(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if($n(o,r)&&e.ref===t.ref){if(Ma=!1,t.pendingProps=r=o,!ol(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Ma=!0)}}return Ga(e,t,n,r,i)}function La(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return za(e,t,o,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,za(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==o?o.cachePool:null),null!==o?To(t,o):Do(),Ro(t)}else null!==o?(qi(0,o.cachePool),To(t,o),Lo(),t.memoizedState=null):(null!==e&&qi(0,null),Do(),Lo());return Fa(e,t,i,n),t.child}function Na(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function za(e,t,n,r,i){var o=Ki();return o=null===o?null:{parent:Li._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&qi(0,null),Do(),Ro(t),null!==e&&Ii(e,t,r,!0),t.childLanes=i,null}function Qa(e,t){return(t=$a({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ya(e,t,n){return go(t,e.child,null,n),(e=Qa(t,t.pendingProps)).flags|=2,No(t),t.memoizedState=null,e}function Ua(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ga(e,t,n,r,i){return Di(t),n=ts(e,t,n,r,void 0,i),r=os(),null===e||Ma?(hi&&r&&si(t),t.flags|=1,Fa(e,t,n,i),t.child):(ss(e,t,i),il(e,t,i))}function Ha(e,t,n,r,i,o){return Di(t),t.updateQueue=null,n=rs(t,r,n,i),ns(e),r=os(),null===e||Ma?(hi&&r&&si(t),t.flags|=1,Fa(e,t,n,o),t.child):(ss(e,t,o),il(e,t,o))}function Wa(e,t,n,r,i){if(Di(t),null===t.stateNode){var o=Pr,s=n.contextType;"object"===typeof s&&null!==s&&(o=Oi(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ba,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},Ao(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Oi(s):Pr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(va(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&ba.enqueueReplaceState(o,o.state,null),Co(t,r,o,i),_o(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=Ea(n,a);o.props=l;var c=o.context,u=n.contextType;s=Pr,"object"===typeof u&&null!==u&&(s=Oi(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&xa(t,o,r,s),mo=!1;var d=t.memoizedState;o.state=d,Co(t,r,o,i),_o(),c=t.memoizedState,a||d!==c||mo?("function"===typeof h&&(va(t,n,h,r),c=t.memoizedState),(l=mo||wa(t,n,l,r,d,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,yo(e,t),u=Ea(n,s=t.memoizedProps),o.props=u,h=t.pendingProps,d=o.context,c=n.contextType,l=Pr,"object"===typeof c&&null!==c&&(l=Oi(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==l)&&xa(t,o,r,l),mo=!1,d=t.memoizedState,o.state=d,Co(t,r,o,i),_o();var f=t.memoizedState;s!==h||d!==f||mo||null!==e&&null!==e.dependencies&&Ti(e.dependencies)?("function"===typeof a&&(va(t,n,a,r),f=t.memoizedState),(u=mo||wa(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Ti(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ua(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=go(t,e.child,null,i),t.child=go(t,null,n,i)):Fa(e,t,n,i),t.memoizedState=o.state,e=t.child):e=il(e,t,i),e}function Va(e,t,n,r){return vi(),t.flags|=256,Fa(e,t,n,r),t.child}var Ka={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qa(e){return{baseLanes:e,cachePool:Xi()}}function Xa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=kc),e}function Ja(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&zo.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(o?jo(t):Lo(),(e=ui)?null!==(e=null!==(e=Th(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw pi(t);return Oh(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,o?(Lo(),l=$a({mode:"hidden",children:l},o=t.mode),i=Ur(i,o,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=qa(n),i.childLanes=Xa(e,r,n),t.memoizedState=Ka,Na(null,i)):(jo(t),Za(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(a)256&t.flags?(jo(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Lo(),t.child=e.child,t.flags|=128,t=null):(Lo(),l=i.fallback,o=t.mode,i=$a({mode:"visible",children:i.children},o),(l=Ur(l,o,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,go(t,e.child,null,n),(i=t.child).memoizedState=qa(n),i.childLanes=Xa(e,r,n),t.memoizedState=Ka,t=Na(null,i));else if(jo(t),Oh(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Ma||Ii(e,t,n,!1),r=0!==(n&e.childLanes),Ma||r){if(null!==(r=gc)&&(0!==(i=je(r,n))&&i!==c.retryLane))throw c.retryLane=i,Mr(e,i),Kc(r,e,i),Oa;Dh(l)||su(),t=el(e,t,n)}else Dh(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Mh(l.nextSibling),ci=t,hi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=Za(t,i.children)).flags|=4096);return t}return o?(Lo(),l=i.fallback,o=t.mode,u=(c=e.child).sibling,(i=zr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=zr(u,l):(l=Ur(l,o,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Na(null,i),i=t.child,null===(l=e.child.memoizedState)?l=qa(n):(null!==(o=l.cachePool)?(c=Li._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Xi(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=Xa(e,r,n),t.memoizedState=Ka,Na(e.child,i)):(jo(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Za(e,t){return(t=$a({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $a(e,t){return(e=Lr(22,e,null,t)).lanes=0,e}function el(e,t,n){return go(t,e.child,null,n),(e=Za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ki(e.return,t,n)}function nl(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=o)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var s=zo.current,a=0!==(2&s);if(a?(s=1&s|2,t.flags|=128):s&=1,Q(zo,s),Fa(e,t,r,n),r=hi?Zr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Qo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Qo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,o,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ii(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ti(e))}function sl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ma=!0;else{if(!ol(e,n)&&0===(128&t.flags))return Ma=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Ci(0,Li,e.memoizedState.cache),vi();break;case 27:case 5:X(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Ci(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Po(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(jo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ja(e,t,n):(jo(t),null!==(e=il(e,t,n))?e.sibling:null);jo(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ii(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(zo,zo.current),r)break;return null;case 22:return t.lanes=0,La(e,t,n,t.pendingProps);case 24:Ci(0,Li,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Ma=0!==(131072&e.flags)}else Ma=!1,hi&&0!==(1048576&t.flags)&&oi(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ro(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===x){t.tag=11,t=ja(null,t,e,r,n);break e}if(i===C){t.tag=14,t=Pa(null,t,e,r,n);break e}}throw t=O(e)||e,Error(s(306,t,""))}Nr(e)?(r=Ea(e,r),t.tag=1,t=Wa(null,t,e,r,n)):(t.tag=0,t=Ga(null,t,e,r,n))}return t;case 0:return Ga(e,t,t.type,t.pendingProps,n);case 1:return Wa(e,t,r=t.type,i=Ea(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,yo(e,t),Co(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Ci(0,Li,r),r!==o.cache&&Bi(t,[Li],n,!0),_o(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Va(e,t,r,n);break e}if(r!==i){wi(i=Kr(Error(s(424)),t)),t=Va(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Mh(e.firstChild),ci=t,hi=!0,di=null,fi=!0,n=po(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(vi(),r===i){t=il(e,t,n);break e}Fa(e,t,r,n)}t=t.child}return t;case 26:return Ua(e,t),null===e?(n=Hh(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=mh(W.current).createElement(n))[Qe]=t,r[Ye]=e,dh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Hh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&hi&&(r=t.stateNode=Rh(t.type,t.pendingProps,W.current),ci=t,fi=!0,i=ui,Sh(t.type)?(Fh=i,ui=Mh(r.firstChild)):ui=i),Fa(e,t,t.pendingProps.children,n),Ua(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Mh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ci=t,ui=Mh(r.firstChild),fi=!1,i=!0):i=!1),i||pi(t)),X(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,vh(i,o)?r=null:null!==a&&vh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=ts(e,t,is,null,null,n),ud._currentValue=i),Ua(e,t),Fa(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Mh(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||pi(t)),null;case 13:return Ja(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=go(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return ja(e,t,t.type,t.pendingProps,n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ci(0,t.type,r.value),Fa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Di(t),r=r(i=Oi(i)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return Pa(e,t,t.type,t.pendingProps,n);case 15:return Ra(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=Qa(t,r),t.lanes=536870912,Na(null,e);if(Po(t),(e=ui)?null!==(e=null!==(e=Th(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw pi(t);return t.lanes=536870912,null}return Qa(t,r)}var o=e.memoizedState;if(null!==o){var a=o.dehydrated;if(Po(t),i)if(256&t.flags)t.flags&=-257,t=Ya(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Ma||Ii(e,t,n,!1),i=0!==(n&e.childLanes),Ma||i){if(null!==(r=gc)&&0!==(a=je(r,n))&&a!==o.retryLane)throw o.retryLane=a,Mr(e,a),Kc(r,e,a),Oa;su(),t=Ya(e,t,n)}else e=o.treeContext,ui=Mh(a.nextSibling),ci=t,hi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=Qa(t,r)).flags|=4096;return t}return(e=zr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return La(e,t,n,t.pendingProps);case 24:return Di(t),r=Oi(Li),null===e?(null===(i=Ki())&&(i=gc,o=Ni(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},Ao(t),Ci(0,Li,i)):(0!==(e.lanes&n)&&(yo(e,t),Co(t,null,null,n),_o()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ci(0,Li,r)):(r=o.cache,Ci(0,Li,r),r!==i.cache&&Bi(t,[Li],n,!0))),Fa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function al(e){e.flags|=4}function ll(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw io=eo,Zi;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!id(t)){if(!ru())throw io=eo,Zi;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,Bc|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return dl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Si(Li),q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(yi(t)?al(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,bi())),dl(t),null;case 26:var i=t.type,o=t.memoizedState;return null===e?(al(t),null!==o?(dl(t),cl(t,o)):(dl(t),ll(t,i,0,0,n))):o?o!==e.memoizedState?(al(t),dl(t),cl(t,o)):(dl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&al(t),dl(t),ll(t,i,0,0,n)),null;case 27:if(J(t),n=W.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return dl(t),null}e=G.current,yi(t)?mi(t):(e=Rh(i,r,n),t.stateNode=e,al(t))}return dl(t),null;case 5:if(J(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return dl(t),null}if(o=G.current,yi(t))mi(t);else{var a=mh(W.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(o=a.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Qe]=t,o[Ye]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)o.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(dh(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&al(t)}}return dl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=W.current,yi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Qe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ch(e.nodeValue,n)))||pi(t,!0)}else(e=mh(e).createTextNode(r))[Qe]=t,t.stateNode=e}return dl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=yi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Qe]=t}else vi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),e=!1}else n=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(No(t),t):(No(t),null);if(0!==(128&t.flags))throw Error(s(558))}return dl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=yi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Qe]=t}else vi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),i=!1}else i=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(No(t),t):(No(t),null)}return No(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),dl(t),null);case 4:return q(),null===e&&$u(t.stateNode.containerInfo),dl(t),null;case 10:return Si(t.type),dl(t),null;case 19:if(z(zo),null===(r=t.memoizedState))return dl(t),null;if(i=0!==(128&t.flags),null===(o=r.rendering))if(i)hl(r,!1);else{if(0!==Ec||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Qo(e))){for(t.flags|=128,hl(r,!1),e=o.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Qr(n,e),n=n.sibling;return Q(zo,1&zo.current|2),hi&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Fc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Qo(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!hi)return dl(t),null}else 2*le()-r.renderingStartTime>Fc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=zo.current,Q(zo,i?1&n|2:1&n),hi&&ii(t,r.treeForkCount),e):(dl(t),null);case 22:case 23:return No(t),Oo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(dl(t),6&t.subtreeFlags&&(t.flags|=8192)):dl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Vi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Si(Li),dl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function gl(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Si(Li),q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(No(t),null===t.alternate)throw Error(s(340));vi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(No(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));vi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(zo),null;case 4:return q(),null;case 10:return Si(t.type),null;case 22:case 23:return No(t),Oo(),null!==e&&z(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Si(Li),null;default:return null}}function pl(e,t){switch(ai(t),t.tag){case 3:Si(Li),q();break;case 26:case 27:case 5:J(t);break;case 4:q();break;case 31:null!==t.memoizedState&&No(t);break;case 13:No(t);break;case 19:z(zo);break;case 10:Si(t.type);break;case 22:case 23:No(t),Oo(),null!==e&&z(Vi);break;case 24:Si(Li)}}function ml(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){Eu(t,t.return,a)}}function Al(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){Eu(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){Eu(t,t.return,u)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ko(t,n)}catch(r){Eu(e,e.return,r)}}}function vl(e,t,n){n.props=Ea(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Eu(e,t,r)}}function bl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Eu(e,t,i)}}function wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Eu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){Eu(e,t,o)}else n.current=null}function xl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Eu(e,e.return,i)}}function El(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,h=null;for(g in n){var d=n[g];if(n.hasOwnProperty(g)&&null!=d)switch(g){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(g)||uh(e,t,g,null,r,d)}}for(var f in r){var g=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=g||null!=d))switch(f){case"type":o=g;break;case"name":i=g;break;case"checked":u=g;break;case"defaultChecked":h=g;break;case"value":a=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(null!=g)throw Error(s(137,t));break;default:g!==d&&uh(e,t,f,g,r,d)}}return void yt(e,a,l,c,u,h,o,i);case"select":for(o in g=a=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":g=c;default:r.hasOwnProperty(o)||uh(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&uh(e,t,i,o,r,c)}return t=l,n=a,r=g,void(null!=f?wt(e,!!n,f,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in g=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:uh(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&uh(e,t,a,i,r,o)}return void xt(e,f,g);case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&null!=f&&!r.hasOwnProperty(p))if("selected"===p)e.selected=!1;else uh(e,t,p,null,r,f);for(c in r)if(f=r[c],g=n[c],r.hasOwnProperty(c)&&f!==g&&(null!=f||null!=g))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else uh(e,t,c,f,r,g);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&uh(e,t,m,null,r,f);for(u in r)if(f=r[u],g=n[u],r.hasOwnProperty(u)&&f!==g&&(null!=f||null!=g))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:uh(e,t,u,f,r,g)}return;default:if(Bt(t)){for(var A in n)f=n[A],n.hasOwnProperty(A)&&void 0!==f&&!r.hasOwnProperty(A)&&hh(e,t,A,void 0,r,f);for(h in r)f=r[h],g=n[h],!r.hasOwnProperty(h)||f===g||void 0===f&&void 0===g||hh(e,t,h,f,r,g);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&uh(e,t,y,null,r,f);for(d in r)f=r[d],g=n[d],!r.hasOwnProperty(d)||f===g||null==f&&null==g||uh(e,t,d,f,r,g)}(r,e.type,n,t),r[Ye]=t}catch(i){Eu(e,e.return,i)}}function _l(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Sh(e.type)||4===e.tag}function Cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_l(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Sh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ot));else if(4!==r&&(27===r&&Sh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Sl(e,t,n),e=e.sibling;null!==e;)Sl(e,t,n),e=e.sibling}function kl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Sh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(kl(e,t,n),e=e.sibling;null!==e;)kl(e,t,n),e=e.sibling}function Bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);dh(t,r,n),t[Qe]=e,t[Ye]=n}catch(o){Eu(e,e.return,o)}}var Il=!1,Tl=!1,Dl=!1,Ol="function"===typeof WeakSet?WeakSet:Set,Ml=null;function Fl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(e,n),4&r&&ml(5,n);break;case 1:if(Kl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){Eu(n,n.return,s)}else{var i=Ea(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Eu(n,n.return,a)}}64&r&&yl(n),512&r&&bl(n,n.return);break;case 3:if(Kl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ko(e,t)}catch(s){Eu(n,n.return,s)}}break;case 27:null===t&&4&r&&Bl(n);case 26:case 5:Kl(e,n),null===t&&4&r&&xl(n),512&r&&bl(n,n.return);break;case 12:Kl(e,n);break;case 31:Kl(e,n),4&r&&zl(e,n);break;case 13:Kl(e,n),4&r&&Ql(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=ku.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Tl,i=Il;var o=Tl;Il=r,(Tl=t)&&!o?Xl(e,n,0!==(8772&n.subtreeFlags)):Kl(e,n),Il=i,Tl=o}break;case 30:break;default:Kl(e,n)}}function jl(e){var t=e.alternate;null!==t&&(e.alternate=null,jl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pl=null,Rl=!1;function Ll(e,t,n){for(n=n.child;null!==n;)Nl(e,t,n),n=n.sibling}function Nl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(Ae,n)}catch(o){}switch(n.tag){case 26:Tl||wl(n,t),Ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Tl||wl(n,t);var r=Pl,i=Rl;Sh(n.type)&&(Pl=n.stateNode,Rl=!1),Ll(e,t,n),Lh(n.stateNode),Pl=r,Rl=i;break;case 5:Tl||wl(n,t);case 6:if(r=Pl,i=Rl,Pl=null,Ll(e,t,n),Rl=i,null!==(Pl=r))if(Rl)try{(9===Pl.nodeType?Pl.body:"HTML"===Pl.nodeName?Pl.ownerDocument.body:Pl).removeChild(n.stateNode)}catch(s){Eu(n,t,s)}else try{Pl.removeChild(n.stateNode)}catch(s){Eu(n,t,s)}break;case 18:null!==Pl&&(Rl?(kh(9===(e=Pl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Gd(e)):kh(Pl,n.stateNode));break;case 4:r=Pl,i=Rl,Pl=n.stateNode.containerInfo,Rl=!0,Ll(e,t,n),Pl=r,Rl=i;break;case 0:case 11:case 14:case 15:Al(2,n,t),Tl||Al(4,n,t),Ll(e,t,n);break;case 1:Tl||(wl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&vl(n,t,r)),Ll(e,t,n);break;case 21:Ll(e,t,n);break;case 22:Tl=(r=Tl)||null!==n.memoizedState,Ll(e,t,n),Tl=r;break;default:Ll(e,t,n)}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Gd(e)}catch(n){Eu(t,t.return,n)}}}function Ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Gd(e)}catch(n){Eu(t,t.return,n)}}function Yl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ol),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ol),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Bu.bind(null,e,t);t.then(r,r)}})}function Ul(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Sh(l.type)){Pl=l.stateNode,Rl=!1;break e}break;case 5:Pl=l.stateNode,Rl=!1;break e;case 3:case 4:Pl=l.stateNode.containerInfo,Rl=!0;break e}l=l.return}if(null===Pl)throw Error(s(160));Nl(o,a,i),Pl=null,Rl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Hl(t,e),t=t.sibling}var Gl=null;function Hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ul(t,e),Wl(e),4&r&&(Al(3,e,e.return),ml(3,e),Al(5,e,e.return));break;case 1:Ul(t,e),Wl(e),512&r&&(Tl||null===n||wl(n,n.return)),64&r&&Il&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Gl;if(Ul(t,e),Wl(e),512&r&&(Tl||null===n||wl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Ke]||o[Qe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),dh(o,r,n),o[Qe]=e,et(o),r=o;break e;case"link":var a=nd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}dh(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=nd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}dh(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Qe]=e,et(o),r=o}e.stateNode=r}else rd(i,e.type,e.stateNode);else e.stateNode=Jh(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?rd(i,e.type,e.stateNode):Jh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&El(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ul(t,e),Wl(e),512&r&&(Tl||null===n||wl(n,n.return)),null!==n&&4&r&&El(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ul(t,e),Wl(e),512&r&&(Tl||null===n||wl(n,n.return)),32&e.flags){i=e.stateNode;try{_t(i,"")}catch(p){Eu(e,e.return,p)}}4&r&&null!=e.stateNode&&El(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Dl=!0);break;case 6:if(Ul(t,e),Wl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){Eu(e,e.return,p)}}break;case 3:if(td=null,i=Gl,Gl=Qh(t.containerInfo),Ul(t,e),Gl=i,Wl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gd(t.containerInfo)}catch(p){Eu(e,e.return,p)}Dl&&(Dl=!1,Vl(e));break;case 4:r=Gl,Gl=Qh(e.stateNode.containerInfo),Ul(t,e),Wl(e),Gl=r;break;case 12:default:Ul(t,e),Wl(e);break;case 31:case 19:Ul(t,e),Wl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Yl(e,r)));break;case 13:Ul(t,e),Wl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Oc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Yl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Il,h=Tl;if(Il=u||i,Tl=h||c,Ul(t,e),Tl=h,Il=u,Wl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Il||Tl||ql(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){Eu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){Eu(c,c.return,p)}}}else if(18===t.tag){if(null===n){c=t;try{var g=c.stateNode;i?Bh(g,!0):Bh(c.stateNode,!1)}catch(p){Eu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Yl(e,n))));case 30:case 21:}}function Wl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(_l(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;kl(e,Cl(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(_t(o,""),n.flags&=-33),kl(e,Cl(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;Sl(e,Cl(e),a);break;default:throw Error(s(161))}}catch(l){Eu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Vl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Vl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Fl(e,t.alternate,t),t=t.sibling}function ql(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Al(4,t,t.return),ql(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&vl(t,t.return,n),ql(t);break;case 27:Lh(t.stateNode);case 26:case 5:wl(t,t.return),ql(t);break;case 22:null===t.memoizedState&&ql(t);break;default:ql(t)}e=e.sibling}}function Xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Xl(i,o,n),ml(4,o);break;case 1:if(Xl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Eu(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)So(l[i],a)}catch(c){Eu(r,r.return,c)}}n&&64&s&&yl(o),bl(o,o.return);break;case 27:Bl(o);case 26:case 5:Xl(i,o,n),n&&null===r&&4&s&&xl(o),bl(o,o.return);break;case 12:Xl(i,o,n);break;case 31:Xl(i,o,n),n&&4&s&&zl(i,o);break;case 13:Xl(i,o,n),n&&4&s&&Ql(i,o);break;case 22:null===o.memoizedState&&Xl(i,o,n),bl(o,o.return);break;case 30:break;default:Xl(i,o,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function $l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,r),2048&i&&ml(9,t);break;case 1:case 31:case 13:default:$l(e,t,n,r);break;case 3:$l(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){$l(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Eu(t,t.return,l)}}else $l(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?$l(e,t,n,r):nc(e,t):2&o._visibility?$l(e,t,n,r):(o._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(s,t);break;case 24:$l(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function tc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(o,s,a,l,i),ml(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?tc(o,s,a,l,i):nc(o,s):(u._visibility|=2,tc(o,s,a,l,i)),i&&2048&c&&Jl(s.alternate,s);break;case 24:tc(o,s,a,l,i),i&&2048&c&&Zl(s.alternate,s);break;default:tc(o,s,a,l,i)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nc(n,r),2048&i&&Jl(r.alternate,r);break;case 24:nc(n,r),2048&i&&Zl(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ic(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Wh(r.href),o=t.querySelector(Vh(i));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sd.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,r=Kh(r),(i=Nh.get(i))&&$h(r,i),et(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),dh(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sd.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Gl,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=Gl;Gl=Qh(e.stateNode.containerInfo),ic(e,t,n),Gl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ic(e,t,n),rc=r):ic(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ac(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ml=r,uc(r,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:ac(e),2048&e.flags&&Al(9,e,e.return);break;case 3:case 12:default:ac(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ac(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ml=r,uc(r,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Al(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Ml;){var n=Ml;switch(n.tag){case 0:case 11:case 15:Al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ml=r;else e:for(n=e;null!==Ml;){var i=(r=Ml).sibling,o=r.return;if(jl(r),r===n){Ml=null;break e}if(null!==i){i.return=o,Ml=i;break e}Ml=o}}}var hc={getCacheForType:function(e){var t=Oi(Li),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Oi(Li).controller.signal}},dc="function"===typeof WeakMap?WeakMap:Map,fc=0,gc=null,pc=null,mc=0,Ac=0,yc=null,vc=!1,bc=!1,wc=!1,xc=0,Ec=0,_c=0,Cc=0,Sc=0,kc=0,Bc=0,Ic=null,Tc=null,Dc=!1,Oc=0,Mc=0,Fc=1/0,jc=null,Pc=null,Rc=0,Lc=null,Nc=null,zc=0,Qc=0,Yc=null,Uc=null,Gc=0,Hc=null;function Wc(){return 0!==(2&fc)&&0!==mc?mc&-mc:null!==F.T?Yu():Le()}function Vc(){if(0===kc)if(0===(536870912&mc)||hi){var e=_e;0===(3932160&(_e<<=1))&&(_e=262144),kc=e}else kc=536870912;return null!==(e=Mo.current)&&(e.flags|=32),kc}function Kc(e,t,n){(e!==gc||2!==Ac&&9!==Ac)&&null===e.cancelPendingCommit||(tu(e,0),Zc(e,mc,kc,!1)),Oe(e,n),0!==(2&fc)&&e===gc||(e===gc&&(0===(2&fc)&&(Cc|=n),4===Ec&&Zc(e,mc,kc,!1)),ju(e))}function qc(e,t,n){if(0!==(6&fc))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Be(e,t),i=r?function(e,t){var n=fc;fc|=2;var r=iu(),i=ou();gc!==e||mc!==t?(jc=null,Fc=le()+500,tu(e,t)):bc=Be(e,t);e:for(;;)try{if(0!==Ac&&null!==pc){t=pc;var o=yc;t:switch(Ac){case 1:Ac=0,yc=null,du(e,t,o,1);break;case 2:case 9:if(to(o)){Ac=0,yc=null,hu(t);break}t=function(){2!==Ac&&9!==Ac||gc!==e||(Ac=7),ju(e)},o.then(t,t);break e;case 3:Ac=7;break e;case 4:Ac=5;break e;case 7:to(o)?(Ac=0,yc=null,hu(t)):(Ac=0,yc=null,du(e,t,o,7));break;case 5:var a=null;switch(pc.tag){case 26:a=pc.memoizedState;case 5:case 27:var l=pc;if(a?id(a):l.stateNode.complete){Ac=0,yc=null;var c=l.sibling;if(null!==c)pc=c;else{var u=l.return;null!==u?(pc=u,fu(u)):pc=null}break t}}Ac=0,yc=null,du(e,t,o,5);break;case 6:Ac=0,yc=null,du(e,t,o,6);break;case 8:eu(),Ec=6;break e;default:throw Error(s(462))}}cu();break}catch(h){nu(e,h)}return _i=Ei=null,F.H=r,F.A=i,fc=n,null!==pc?0:(gc=null,mc=0,Tr(),Ec)}(e,t):au(e,t,!0),o=r;;){if(0===i){bc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!o||Jc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,a).flags|=256),2!==(a=au(l,a,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=o,Cc|=o,i=4;break e}o=Tc,Tc=i,null!==o&&(null===Tc?Tc=o:Tc.push.apply(Tc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){tu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,kc,!vc);break e;case 2:Tc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Oc+300-le())){if(Zc(r,t,kc,!vc),0!==ke(r,0,!0))break e;zc=t,r.timeoutHandle=wh(Xc.bind(null,r,n,Tc,jc,Dc,t,kc,Cc,Bc,vc,o,"Throttled",-0,0),i)}else Xc(r,n,Tc,jc,Dc,t,kc,Cc,Bc,vc,o,null,-0,0)}break}i=au(e,t,!1),o=!1}ju(e)}function Xc(e,t,n,r,i,o,s,a,l,c,u,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){oc(t,o,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ot});var g=(62914560&o)===o?Oc-le():(4194048&o)===o?Mc-le():0;if(null!==(g=function(e,t){return e.stylesheets&&0===e.count&&ld(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===od&&(od=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,s=i.initiatorType,a=i.duration;if(o&&a&&fh(s)){for(s=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>a)break;var u=l.transferSize,h=l.initiatorType;u&&fh(h)&&(s+=u*((l=l.responseEnd)<a?1:(a-c)/(l-c)))}if(--r,t+=8*(o+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>od?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,g)))return zc=o,e.cancelPendingCommit=g(pu.bind(null,e,t,o,n,r,i,s,a,l,u,h,null,d,f)),void Zc(e,o,s,!c)}pu(e,t,o,n,r,i,s,a,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Zn(o(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Sc,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-be(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Me(e,n,t)}function $c(){return 0!==(6&fc)||(Pu(0,!1),!1)}function eu(){if(null!==pc){if(0===Ac)var e=pc.return;else _i=Ei=null,as(e=pc),ao=null,lo=0,e=pc;for(;null!==e;)pl(e.alternate,e),e=e.return;pc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc=0,eu(),gc=e,pc=n=zr(e.current,null),mc=t,Ac=0,yc=null,vc=!1,bc=Be(e,t),wc=!1,Bc=kc=Sc=Cc=_c=Ec=0,Tc=Ic=null,Dc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),o=1<<i;t|=e[i],r&=~o}return xc=t,Tr(),n}function nu(e,t){Uo=null,F.H=pa,t===Ji||t===$i?(t=oo(),Ac=3):t===Zi?(t=oo(),Ac=4):Ac=t===Oa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===pc&&(Ec=1,ka(e,Kr(t,e.current)))}function ru(){var e=Mo.current;return null===e||((4194048&mc)===mc?null===Fo:((62914560&mc)===mc||0!==(536870912&mc))&&e===Fo)}function iu(){var e=F.H;return F.H=pa,null===e?pa:e}function ou(){var e=F.A;return F.A=hc,e}function su(){Ec=4,vc||(4194048&mc)!==mc&&null!==Mo.current||(bc=!0),0===(134217727&_c)&&0===(134217727&Cc)||null===gc||Zc(gc,mc,kc,!1)}function au(e,t,n){var r=fc;fc|=2;var i=iu(),o=ou();gc===e&&mc===t||(jc=null,tu(e,t)),t=!1;var s=Ec;e:for(;;)try{if(0!==Ac&&null!==pc){var a=pc,l=yc;switch(Ac){case 8:eu(),s=6;break e;case 3:case 2:case 9:case 6:null===Mo.current&&(t=!0);var c=Ac;if(Ac=0,yc=null,du(e,a,l,c),n&&bc){s=0;break e}break;default:c=Ac,Ac=0,yc=null,du(e,a,l,c)}}lu(),s=Ec;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,_i=Ei=null,fc=r,F.H=i,F.A=o,null===pc&&(gc=null,mc=0,Tr()),s}function lu(){for(;null!==pc;)uu(pc)}function cu(){for(;null!==pc&&!se();)uu(pc)}function uu(e){var t=sl(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===t?fu(e):pc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ha(n,t,t.pendingProps,t.type,void 0,mc);break;case 11:t=Ha(n,t,t.pendingProps,t.type.render,t.ref,mc);break;case 5:as(t);default:pl(n,t),t=sl(n,t=pc=Qr(t,xc),xc)}e.memoizedProps=e.pendingProps,null===t?fu(e):pc=t}function du(e,t,n,r){_i=Ei=null,as(t),ao=null,lo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ii(t,n,i,!0),null!==(n=Mo.current)){switch(n.tag){case 31:case 13:return null===Fo?su():null===n.alternate&&0===Ec&&(Ec=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),_u(e,r,i)),!1;case 22:return n.flags|=65536,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),_u(e,r,i)),!1}throw Error(s(435,n.tag))}return _u(e,r,i),su(),!1}if(hi)return null!==(t=Mo.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==gi&&wi(Kr(e=Error(s(422),{cause:r}),n))):(r!==gi&&wi(Kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Kr(r,n),xo(e,i=Ia(e.stateNode,r,i)),4!==Ec&&(Ec=2)),!1;var o=Error(s(520),{cause:r});if(o=Kr(o,n),null===Ic?Ic=[o]:Ic.push(o),4!==Ec&&(Ec=2),null===t)return!0;r=Kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,xo(n,e=Ia(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Pc||!Pc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Da(i=Ta(i),e,n,r),xo(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,mc))return Ec=1,ka(e,Kr(n,e.current)),void(pc=null)}catch(o){if(null!==i)throw pc=i,o;return Ec=1,ka(e,Kr(n,e.current)),void(pc=null)}32768&t.flags?(hi||1===r?e=!0:bc||0!==(536870912&mc)?e=!1:(vc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Mo.current)&&13===r.tag&&(r.flags|=16384))),gu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void gu(t,vc);e=t.return;var n=fl(t.alternate,t,xc);if(null!==n)return void(pc=n);if(null!==(t=t.sibling))return void(pc=t);pc=t=e}while(null!==t);0===Ec&&(Ec=5)}function gu(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(pc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(pc=e);pc=e=n}while(null!==e);Ec=6,pc=null}function pu(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{bu()}while(0!==Rc);if(0!==(6&fc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-be(n),h=1<<u;a[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Me(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Ir,a,l,c),e===gc&&(pc=gc=null,mc=0),Nc=t,Lc=e,zc=n,Qc=o,Yc=i,Uc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=F.T,F.T=null,i=j.p,j.p=2,a=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,gh=vd,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var g;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(g=d.firstChild);)f=d,d=g;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(g=d.nextSibling))break;f=(d=f).parentNode}d=g}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ph={focusedElem:e,selectionRange:n},vd=!1,Ml=t;null!==Ml;)if(e=(t=Ml).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ml=e;else for(;null!==Ml;){switch(o=(t=Ml).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var p=Ea(n.type,i);e=r.getSnapshotBeforeUpdate(p,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(A){Eu(n,n.return,A)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ih(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ih(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Ml=e;break}Ml=t.return}}(e,t)}finally{fc=a,j.p=i,F.T=r}}Rc=1,mu(),Au(),yu()}}function mu(){if(1===Rc){Rc=0;var e=Lc,t=Nc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=F.T,F.T=null;var r=j.p;j.p=2;var i=fc;fc|=4;try{Hl(t,e);var o=ph,s=rr(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==l&&ir(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),g=a.textContent.length,p=Math.min(l.start,g),m=void 0===l.end?p:Math.min(l.end,g);!f.extend&&p>m&&(s=m,m=p,p=s);var A=tr(a,p),y=tr(a,m);if(A&&y&&(1!==f.rangeCount||f.anchorNode!==A.node||f.anchorOffset!==A.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var v=h.createRange();v.setStart(A.node,A.offset),f.removeAllRanges(),p>m?(f.addRange(v),f.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),f.addRange(v))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var b=h[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}vd=!!gh,ph=gh=null}finally{fc=i,j.p=r,F.T=n}}e.current=t,Rc=2}}function Au(){if(2===Rc){Rc=0;var e=Lc,t=Nc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=F.T,F.T=null;var r=j.p;j.p=2;var i=fc;fc|=4;try{Fl(e,t.alternate,t)}finally{fc=i,j.p=r,F.T=n}}Rc=3}}function yu(){if(4===Rc||3===Rc){Rc=0,ae();var e=Lc,t=Nc,n=zc,r=Uc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Rc=5:(Rc=0,Nc=Lc=null,vu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Pc=null),Re(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(Ae,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=F.T,i=j.p,j.p=2,F.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{F.T=t,j.p=i}}0!==(3&zc)&&bu(),ju(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Hc?Gc++:(Gc=0,Hc=e):Gc=0,Pu(0,!1)}}function vu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function bu(){return mu(),Au(),yu(),wu()}function wu(){if(5!==Rc)return!1;var e=Lc,t=Qc;Qc=0;var n=Re(zc),r=F.T,i=j.p;try{j.p=32>n?32:n,F.T=null,n=Yc,Yc=null;var o=Lc,a=zc;if(Rc=0,Nc=Lc=null,zc=0,0!==(6&fc))throw Error(s(331));var l=fc;if(fc|=4,lc(o.current),ec(o,o.current,a,n),fc=l,Pu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(Ae,o)}catch(c){}return!0}finally{j.p=i,F.T=r,vu(e,t)}}function xu(e,t,n){t=Kr(n,t),null!==(e=bo(e,t=Ia(e.stateNode,t,2),2))&&(Oe(e,2),ju(e))}function Eu(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Pc||!Pc.has(r))){e=Kr(n,e),null!==(r=bo(t,n=Ta(2),2))&&(Da(n,r,t,e),Oe(r,2),ju(r));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(wc=!0,i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(mc&n)===n&&(4===Ec||3===Ec&&(62914560&mc)===mc&&300>le()-Oc?0===(2&fc)&&tu(e,0):Sc|=n,Bc===mc&&(Bc=0)),ju(e)}function Su(e,t){0===t&&(t=Te()),null!==(e=Mr(e,t))&&(Oe(e,t),ju(e))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Bu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Su(e,n)}var Iu=null,Tu=null,Du=!1,Ou=!1,Mu=!1,Fu=0;function ju(e){e!==Tu&&null===e.next&&(null===Tu?Iu=Tu=e:Tu=Tu.next=e),Ou=!0,Du||(Du=!0,_h(function(){0!==(6&fc)?ie(ue,Ru):Lu()}))}function Pu(e,t){if(!Mu&&Ou){Mu=!0;do{for(var n=!1,r=Iu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-be(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Qu(r,o))}else o=mc,0===(3&(o=ke(r,r===gc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Be(r,o)||(n=!0,Qu(r,o));r=r.next}}while(n);Mu=!1}}function Ru(){Lu()}function Lu(){Ou=Du=!1;var e=0;0!==Fu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bh&&(bh=e,!0);return bh=null,!1}()&&(e=Fu);for(var t=le(),n=null,r=Iu;null!==r;){var i=r.next,o=Nu(r,t);0===o?(r.next=null,null===n?Iu=i:n.next=i,null===i&&(Tu=n)):(n=r,(0!==e||0!==(3&o))&&(Ou=!0)),r=i}0!==Rc&&5!==Rc||Pu(e,!1),0!==Fu&&(Fu=0)}function Nu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-be(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=Ie(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=mc,n=ke(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===Ac||9===Ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Re(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=ge}return r=zu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function zu(e,t){if(0!==Rc&&5!==Rc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=mc;return 0===(r=ke(e,e===gc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(qc(e,r,t),Nu(e,le()),null!=e.callbackNode&&e.callbackNode===n?zu.bind(null,e):null)}function Qu(e,t){if(bu())return null;qc(e,t,!0)}function Yu(){if(0===Fu){var e=Ui;0===e&&(e=Ee,0===(261888&(Ee<<=1))&&(Ee=256)),Fu=e}return Fu}function Uu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dt(""+e)}function Gu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Hu=0;Hu<_r.length;Hu++){var Wu=_r[Hu];Cr(Wu.toLowerCase(),"on"+(Wu[0].toUpperCase()+Wu.slice(1)))}Cr(mr,"onAnimationEnd"),Cr(Ar,"onAnimationIteration"),Cr(yr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(vr,"onTransitionRun"),Cr(br,"onTransitionStart"),Cr(wr,"onTransitionCancel"),Cr(xr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function qu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){Sr(u)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){Sr(u)}i.currentTarget=null,o=l}}}}function Xu(e,t){var n=t[Ge];void 0===n&&(n=t[Ge]=new Set);var r=e+"__bubble";n.has(r)||(eh(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),eh(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Ju("selectionchange",!1,t))}}function eh(e,t,n,r){switch(Sd(t)){case 2:var i=bd;break;case 8:i=wd;break;default:i=xd}n=i.bind(null,t,n,e),i=void 0,!Yt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function th(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Xe(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Nt(function(){var r=o,i=Ft(n),s=[];e:{var a=Er.get(e);if(void 0!==a){var c=nn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case mr:case Ar:case yr:c=un;break;case xr:c=wn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=vn;break;case"toggle":case"beforetoggle":c=En}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var g,p=r;null!==p;){var m=p;if(g=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===g||null===f||null!=(m=zt(p,f))&&h.push(nh(p,m,g)),d)break;p=p.return}0<h.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Mt||!(u=n.relatedTarget||n.fromElement)||!Xe(u)&&!u[Ue])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Xe(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=an,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(h=vn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?a:Ze(c),g=null==u?a:Ze(u),(a=new h(m,p+"leave",c,n,i)).target=d,a.relatedTarget=g,m=null,Xe(i)===r&&((h=new h(f,p+"enter",u,n,i)).target=g,h.relatedTarget=d,m=h),d=m,c&&u)e:{for(h=ih,p=u,g=0,m=f=c;m;m=h(m))g++;m=0;for(var A=p;A;A=h(A))m++;for(;0<g-m;)f=h(f),g--;for(;0<m-g;)p=h(p),m--;for(;g--;){if(f===p||null!==p&&f===p.alternate){h=f;break e}f=h(f),p=h(p)}h=null}else h=null;null!==c&&oh(s,a,c,h,!1),null!==u&&null!==d&&oh(s,d,u,h,!0)}if("select"===(c=(a=r?Ze(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=Qn;else if(jn(a))if(Yn)y=Jn;else{y=qn;var v=Kn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Bt(r.elementType)&&(y=Qn):y=Xn;switch(y&&(y=y(e,r))?Pn(s,y,n,i):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&bt(a,"number",a.value)),v=r?Ze(r):window,e){case"focusin":(jn(v)||"true"===v.contentEditable)&&(sr=v,ar=r,lr=null);break;case"focusout":lr=ar=sr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(s,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":ur(s,n,i)}var b;if(Cn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Mn?Dn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Bn&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Mn&&(b=Vt()):(Ht="value"in(Gt=i)?Gt.value:Gt.textContent,Mn=!0)),0<(v=rh(r,w)).length&&(w=new dn(w,e,null,n,i),s.push({event:w,listeners:v}),b?w.data=b:null!==(b=On(n))&&(w.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Tn=!0,In);case"textInput":return(e=t.data)===In&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!Cn&&Dn(e,t)?(e=Vt(),Wt=Ht=Gt=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=rh(r,"onBeforeInput")).length&&(v=new dn("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Uu((i[Ye]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ye]||null)?Uu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Fu){var e=s?Gu(i,s):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Gu(i,s):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}qu(s,t)})}function nh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rh(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=zt(e,n))&&r.unshift(nh(e,i,o)),null!=(i=zt(e,t))&&r.push(nh(e,i,o))),3===e.tag)return r;e=e.return}return[]}function ih(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function oh(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=zt(n,o))&&s.unshift(nh(n,c,l)):i||null!=(c=zt(n,o))&&s.push(nh(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var sh=/\r\n?/g,ah=/\u0000|\uFFFD/g;function lh(e){return("string"===typeof e?e:""+e).replace(sh,"\n").replace(ah,"")}function ch(e,t){return t=lh(t),lh(e)===t}function uh(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":kt(e,r,o);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&uh(e,t,"name",i.name,i,null),uh(e,t,"formEncType",i.formEncType,i,null),uh(e,t,"formMethod",i.formMethod,i,null),uh(e,t,"formTarget",i.formTarget,i,null)):(uh(e,t,"encType",i.encType,i,null),uh(e,t,"method",i.method,i,null),uh(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Dt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Xu("beforetoggle",e),Xu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=It.get(n)||n,r)}}function hh(e,t,n,r,i,o){switch(n){case"style":kt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ye]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function dh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xu("error",e),Xu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:uh(e,t,r,a,n,null)}}return o&&uh(e,t,"srcSet",n.srcSet,n,null),void(i&&uh(e,t,"src",n.src,n,null));case"input":Xu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":o=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:uh(e,t,i,h,n,null)}}return void vt(e,r,l,c,u,a,o,!1);case"select":for(o in Xu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:uh(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(a in Xu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:uh(e,t,a,l,n,null)}return void Et(e,i,o,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else uh(e,t,c,i,n,null);return;case"dialog":Xu("beforetoggle",e),Xu("toggle",e),Xu("cancel",e),Xu("close",e);break;case"iframe":case"object":Xu("load",e);break;case"video":case"audio":for(i=0;i<Vu.length;i++)Xu(Vu[i],e);break;case"image":Xu("error",e),Xu("load",e);break;case"details":Xu("toggle",e);break;case"embed":case"source":case"link":Xu("error",e),Xu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:uh(e,t,u,i,n,null)}return;default:if(Bt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&hh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&uh(e,t,l,i,n,null))}function fh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gh=null,ph=null;function mh(e){return 9===e.nodeType?e:e.ownerDocument}function Ah(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function vh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bh=null;var wh="function"===typeof setTimeout?setTimeout:void 0,xh="function"===typeof clearTimeout?clearTimeout:void 0,Eh="function"===typeof Promise?Promise:void 0,_h="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Eh?function(e){return Eh.resolve(null).then(e).catch(Ch)}:wh;function Ch(e){setTimeout(function(){throw e})}function Sh(e){return"head"===e}function kh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Gd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Lh(e.ownerDocument.documentElement);else if("head"===n){Lh(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var s=o.nextSibling,a=o.nodeName;o[Ke]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}else"body"===n&&Lh(e.ownerDocument.body);n=i}while(n);Gd(t)}function Bh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ih(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ih(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Th(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Mh(e.nextSibling)))return null}return e}function Dh(e){return"$?"===e.data||"$~"===e.data}function Oh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Mh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Fh=null;function jh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Mh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ph(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Rh(e,t,n){switch(t=mh(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Lh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var Nh=new Map,zh=new Set;function Qh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Yh=j.d;j.d={f:function(){var e=Yh.f(),t=$c();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Yh.r(e)},D:function(e){Yh.D(e),Gh("dns-prefetch",e,null)},C:function(e,t){Yh.C(e,t),Gh("preconnect",e,t)},L:function(e,t,n){Yh.L(e,t,n);var r=Uh;if(r&&e&&t){var i='link[rel="preload"][as="'+At(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+At(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+At(n.imageSizes)+'"]')):i+='[href="'+At(e)+'"]';var o=i;switch(t){case"style":o=Wh(e);break;case"script":o=qh(e)}Nh.has(o)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Nh.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Vh(o))||"script"===t&&r.querySelector(Xh(o))||(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Yh.m(e,t);var n=Uh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+At(r)+'"][href="'+At(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=qh(e)}if(!Nh.has(o)&&(e=f({rel:"modulepreload",href:e},t),Nh.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xh(o)))return}dh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Yh.X(e,t);var n=Uh;if(n&&e){var r=$e(n).hoistableScripts,i=qh(e),o=r.get(i);o||((o=n.querySelector(Xh(i)))||(e=f({src:e,async:!0},t),(t=Nh.get(i))&&ed(e,t),et(o=n.createElement("script")),dh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Yh.S(e,t,n);var r=Uh;if(r&&e){var i=$e(r).hoistableStyles,o=Wh(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Vh(o)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nh.get(o))&&$h(e,n);var l=s=r.createElement("link");et(l),dh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Zh(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Yh.M(e,t);var n=Uh;if(n&&e){var r=$e(n).hoistableScripts,i=qh(e),o=r.get(i);o||((o=n.querySelector(Xh(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Nh.get(i))&&ed(e,t),et(o=n.createElement("script")),dh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Uh="undefined"===typeof document?null:document;function Gh(e,t,n){var r=Uh;if(r&&"string"===typeof t&&t){var i=At(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),zh.has(i)||(zh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Hh(e,t,n,r){var i,o,a,l,c=(c=W.current)?Qh(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Wh(n.href),(r=(n=$e(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Wh(n.href);var u=$e(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Vh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Nh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nh.set(e,n),u||(i=c,o=e,a=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),dh(o,"link",a),et(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return h}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=qh(n),(r=(n=$e(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Wh(e){return'href="'+At(e)+'"'}function Vh(e){return'link[rel="stylesheet"]['+e+"]"}function Kh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function qh(e){return'[src="'+At(e)+'"]'}function Xh(e){return"script[async]"+e}function Jh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+At(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),dh(r,"style",i),Zh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Wh(n.href);var o=e.querySelector(Vh(i));if(o)return t.state.loading|=4,t.instance=o,et(o),o;r=Kh(n),(i=Nh.get(i))&&$h(r,i),et(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),dh(o,"link",r),t.state.loading|=4,Zh(o,n.precedence,e),t.instance=o;case"script":return o=qh(n.src),(i=e.querySelector(Xh(o)))?(t.instance=i,et(i),i):(r=n,(i=Nh.get(o))&&ed(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),dh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zh(r,n.precedence,e));return t.instance}function Zh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function $h(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var td=null;function nd(e,t,n){if(null===td){var r=new Map,i=td=new Map;i.set(n,r)}else(r=(i=td).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Ke]||o[Qe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function rd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function id(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var od=0;function sd(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ad=null;function ld(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ad=new Map,t.forEach(cd,e),ad=null,sd.call(e))}function cd(e,t){if(!(4&t.state.loading)){var n=ad.get(e);if(n)var r=n.get(null);else{n=new Map,ad.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=sd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var ud={$$typeof:w,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function hd(e,t,n,r,i,o,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function dd(e,t,n,r,i,o,s,a,l,c,u,h){return e=new hd(e,t,n,s,l,c,u,h,a),t=1,!0===o&&(t|=24),o=Lr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ni()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},Ao(o),e}function fd(e){return e?e=Pr:Pr}function gd(e,t,n,r,i,o){i=fd(i),null===r.context?r.context=i:r.pendingContext=i,(r=vo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=bo(e,r,t))&&(Kc(n,0,t),wo(n,e,t))}function pd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function md(e,t){pd(e,t),(e=e.alternate)&&pd(e,t)}function Ad(e){if(13===e.tag||31===e.tag){var t=Mr(e,67108864);null!==t&&Kc(t,0,67108864),md(e,67108864)}}function yd(e){if(13===e.tag||31===e.tag){var t=Wc(),n=Mr(e,t=Pe(t));null!==n&&Kc(n,0,t),md(e,t)}}var vd=!0;function bd(e,t,n,r){var i=F.T;F.T=null;var o=j.p;try{j.p=2,xd(e,t,n,r)}finally{j.p=o,F.T=i}}function wd(e,t,n,r){var i=F.T;F.T=null;var o=j.p;try{j.p=8,xd(e,t,n,r)}finally{j.p=o,F.T=i}}function xd(e,t,n,r){if(vd){var i=Ed(r);if(null===i)th(e,t,r,_d,n),jd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Bd=Pd(Bd,e,t,n,r,i),!0;case"dragenter":return Id=Pd(Id,e,t,n,r,i),!0;case"mouseover":return Td=Pd(Td,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dd.set(o,Pd(Dd.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Od.set(o,Pd(Od.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jd(e,r),4&t&&-1<Fd.indexOf(e)){for(;null!==i;){var o=Je(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Se(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-be(s);a.entanglements[1]|=l,s&=~l}ju(o),0===(6&fc)&&(Fc=le()+500,Pu(0,!1))}}break;case 31:case 13:null!==(a=Mr(o,2))&&Kc(a,0,2),$c(),md(o,2)}if(null===(o=Ed(r))&&th(e,t,r,_d,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else th(e,t,r,null,n)}}function Ed(e){return Cd(e=Ft(e))}var _d=null;function Cd(e){if(_d=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _d=e,null}function Sd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case he:return 8;case de:case fe:return 32;case ge:return 268435456;default:return 32}default:return 32}}var kd=!1,Bd=null,Id=null,Td=null,Dd=new Map,Od=new Map,Md=[],Fd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jd(e,t){switch(e){case"focusin":case"focusout":Bd=null;break;case"dragenter":case"dragleave":Id=null;break;case"mouseover":case"mouseout":Td=null;break;case"pointerover":case"pointerout":Dd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Od.delete(t.pointerId)}}function Pd(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Je(t))&&Ad(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rd(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ne(e.priority,function(){yd(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ne(e.priority,function(){yd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ld(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ed(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&Ad(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Mt=r,n.target.dispatchEvent(r),Mt=null,t.shift()}return!0}function Nd(e,t,n){Ld(e)&&n.delete(t)}function zd(){kd=!1,null!==Bd&&Ld(Bd)&&(Bd=null),null!==Id&&Ld(Id)&&(Id=null),null!==Td&&Ld(Td)&&(Td=null),Dd.forEach(Nd),Od.forEach(Nd)}function Qd(e,t){e.blockedOn===t&&(e.blockedOn=null,kd||(kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zd)))}var Yd=null;function Ud(e){Yd!==e&&(Yd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yd===e&&(Yd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Cd(r||n))continue;break}var o=Je(n);null!==o&&(e.splice(t,3),t-=3,ta(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Gd(e){function t(t){return Qd(t,e)}null!==Bd&&Qd(Bd,e),null!==Id&&Qd(Id,e),null!==Td&&Qd(Td,e),Dd.forEach(t),Od.forEach(t);for(var n=0;n<Md.length;n++){var r=Md[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Md.length&&null===(n=Md[0]).blockedOn;)Rd(n),null===n.blockedOn&&Md.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Ye]||null;if("function"===typeof o)s||Ud(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Ye]||null)a=s.formAction;else if(null!==Cd(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Ud(n)}}}function Hd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Wd(e){this._internalRoot=e}function Vd(e){this._internalRoot=e}Vd.prototype.render=Wd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));gd(t.current,Wc(),e,t,null,null)},Vd.prototype.unmount=Wd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gd(e.current,2,null,e,null,null),$c(),t[Ue]=null}},Vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Md.length&&0!==t&&t<Md[n].priority;n++);Md.splice(n,0,e),0===n&&Rd(e)}};var Kd=i.version;if("19.2.3"!==Kd)throw Error(s(527,Kd,"19.2.3"));j.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return h(i),e;if(o===r)return h(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var qd={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{Ae=Xd.inject(qd),ye=Xd}catch(Zd){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=_a,o=Ca,l=Sa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=dd(e,1,!1,null,0,n,r,null,i,o,l,Hd),e[Ue]=t.current,$u(e),new Wd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=_a,l=Ca,c=Sa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=dd(e,1,!0,t,0,r,i,u,o,l,c,Hd)).context=fd(null),n=t.current,(i=vo(r=Pe(r=Wc()))).callback=null,bo(n,i,r),n=r,t.current.lanes=n,Oe(t,n),ju(t),e[Ue]=t.current,$u(e),new Vd(t)},t.version="19.2.3"},43(e,t,n){"use strict";e.exports=n(288)},224(e,t,n){e.exports=function(){function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){return i(t[s][1][e]||e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){(function(t){(function(){"use strict";let r=e("./interlace"),i=[function(){},function(e,t,n,r){if(r===t.length)throw new Error("Ran out of data");let i=t[r];e[n]=i,e[n+1]=i,e[n+2]=i,e[n+3]=255},function(e,t,n,r){if(r+1>=t.length)throw new Error("Ran out of data");let i=t[r];e[n]=i,e[n+1]=i,e[n+2]=i,e[n+3]=t[r+1]},function(e,t,n,r){if(r+2>=t.length)throw new Error("Ran out of data");e[n]=t[r],e[n+1]=t[r+1],e[n+2]=t[r+2],e[n+3]=255},function(e,t,n,r){if(r+3>=t.length)throw new Error("Ran out of data");e[n]=t[r],e[n+1]=t[r+1],e[n+2]=t[r+2],e[n+3]=t[r+3]}],o=[function(){},function(e,t,n,r){let i=t[0];e[n]=i,e[n+1]=i,e[n+2]=i,e[n+3]=r},function(e,t,n){let r=t[0];e[n]=r,e[n+1]=r,e[n+2]=r,e[n+3]=t[1]},function(e,t,n,r){e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=r},function(e,t,n){e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3]}];function s(e,t){let n=[],r=0;function i(){if(r===e.length)throw new Error("Ran out of data");let i,o,s,a,l,c,u,h,d=e[r];switch(r++,t){default:throw new Error("unrecognised depth");case 16:u=e[r],r++,n.push((d<<8)+u);break;case 4:u=15&d,h=d>>4,n.push(h,u);break;case 2:l=3&d,c=d>>2&3,u=d>>4&3,h=d>>6&3,n.push(h,u,c,l);break;case 1:i=1&d,o=d>>1&1,s=d>>2&1,a=d>>3&1,l=d>>4&1,c=d>>5&1,u=d>>6&1,h=d>>7&1,n.push(h,u,c,l,a,s,o,i)}}return{get:function(e){for(;n.length<e;)i();let t=n.slice(0,e);return n=n.slice(e),t},resetAfterLine:function(){n.length=0},end:function(){if(r!==e.length)throw new Error("extra data found")}}}function a(e,t,n,r,o,s){let a=e.width,l=e.height,c=e.index;for(let u=0;u<l;u++)for(let e=0;e<a;e++){let a=n(e,u,c);i[r](t,o,a,s),s+=r}return s}function l(e,t,n,r,i,s){let a=e.width,l=e.height,c=e.index;for(let u=0;u<l;u++){for(let e=0;e<a;e++){let a=i.get(r),l=n(e,u,c);o[r](t,a,l,s)}i.resetAfterLine()}}n.dataToBitMap=function(e,n){let i,o,c=n.width,u=n.height,h=n.depth,d=n.bpp,f=n.interlace;8!==h&&(i=s(e,h)),o=h<=8?t.alloc(c*u*4):new Uint16Array(c*u*4);let g,p,m=Math.pow(2,h)-1,A=0;if(f)g=r.getImagePasses(c,u),p=r.getInterlaceIterator(c,u);else{let e=0;p=function(){let t=e;return e+=4,t},g=[{width:c,height:u}]}for(let t=0;t<g.length;t++)8===h?A=a(g[t],o,p,d,e,A):l(g[t],o,p,d,i,m);if(8===h){if(A!==e.length)throw new Error("extra data found")}else i.end();return o}}).call(this)}).call(this,e("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(e,t,n){(function(n){(function(){"use strict";let r=e("./constants");t.exports=function(e,t,i,o){let s=-1!==[r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(o.colorType);if(o.colorType===o.inputColorType){let t=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256!==new Int16Array(e)[0]}();if(8===o.bitDepth||16===o.bitDepth&&t)return e}let a=16!==o.bitDepth?e:new Uint16Array(e.buffer),l=255,c=r.COLORTYPE_TO_BPP_MAP[o.inputColorType];4!==c||o.inputHasAlpha||(c=3);let u=r.COLORTYPE_TO_BPP_MAP[o.colorType];16===o.bitDepth&&(l=65535,u*=2);let h=n.alloc(t*i*u),d=0,f=0,g=o.bgColor||{};function p(){let e,t,n,i=l;switch(o.inputColorType){case r.COLORTYPE_COLOR_ALPHA:i=a[d+3],e=a[d],t=a[d+1],n=a[d+2];break;case r.COLORTYPE_COLOR:e=a[d],t=a[d+1],n=a[d+2];break;case r.COLORTYPE_ALPHA:i=a[d+1],e=a[d],t=e,n=e;break;case r.COLORTYPE_GRAYSCALE:e=a[d],t=e,n=e;break;default:throw new Error("input color type:"+o.inputColorType+" is not supported at present")}return o.inputHasAlpha&&(s||(i/=l,e=Math.min(Math.max(Math.round((1-i)*g.red+i*e),0),l),t=Math.min(Math.max(Math.round((1-i)*g.green+i*t),0),l),n=Math.min(Math.max(Math.round((1-i)*g.blue+i*n),0),l))),{red:e,green:t,blue:n,alpha:i}}void 0===g.red&&(g.red=l),void 0===g.green&&(g.green=l),void 0===g.blue&&(g.blue=l);for(let n=0;n<i;n++)for(let e=0;e<t;e++){let e=p(a,d);switch(o.colorType){case r.COLORTYPE_COLOR_ALPHA:case r.COLORTYPE_COLOR:8===o.bitDepth?(h[f]=e.red,h[f+1]=e.green,h[f+2]=e.blue,s&&(h[f+3]=e.alpha)):(h.writeUInt16BE(e.red,f),h.writeUInt16BE(e.green,f+2),h.writeUInt16BE(e.blue,f+4),s&&h.writeUInt16BE(e.alpha,f+6));break;case r.COLORTYPE_ALPHA:case r.COLORTYPE_GRAYSCALE:{let t=(e.red+e.green+e.blue)/3;8===o.bitDepth?(h[f]=t,s&&(h[f+1]=e.alpha)):(h.writeUInt16BE(t,f),s&&h.writeUInt16BE(e.alpha,f+2));break}default:throw new Error("unrecognised color Type "+o.colorType)}d+=c,f+=u}return h}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(e,t,n){(function(n,r){(function(){"use strict";let i=e("util"),o=e("stream"),s=t.exports=function(){o.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};i.inherits(s,o),s.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),n.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},s.prototype.write=function(e,t){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let n;return n=r.isBuffer(e)?e:r.from(e,t||this._encoding),this._buffers.push(n),this._buffered+=n.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused},s.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},s.prototype.destroySoon=s.prototype.end,s.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},s.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},s.prototype._processReadAllowingLess=function(e){this._reads.shift();let t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},s.prototype._processRead=function(e){this._reads.shift();let t=0,n=0,i=r.alloc(e.length);for(;t<e.length;){let r=this._buffers[n++],o=Math.min(r.length,e.length-t);r.copy(i,t,0,o),t+=o,o!==r.length&&(this._buffers[--n]=r.slice(o))}n>0&&this._buffers.splice(0,n),this._buffered-=e.length,e.func.call(this,i)},s.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else{if(!(this._buffered>=e.length))break;this._processRead(e)}}this._buffers&&!this.writable&&this._end()}catch(e){this.emit("error",e)}}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(e,t,n){"use strict";t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(e,t,n){"use strict";let r=[];!function(){for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;r[e]=t}}();let i=t.exports=function(){this._crc=-1};i.prototype.write=function(e){for(let t=0;t<e.length;t++)this._crc=r[255&(this._crc^e[t])]^this._crc>>>8;return!0},i.prototype.crc32=function(){return-1^this._crc},i.crc32=function(e){let t=-1;for(let n=0;n<e.length;n++)t=r[255&(t^e[n])]^t>>>8;return-1^t}},{}],6:[function(e,t,n){(function(n){(function(){"use strict";let r=e("./paeth-predictor");function i(e,t,n,r,i){for(let o=0;o<n;o++)r[i+o]=e[t+o]}function o(e,t,n){let r=0,i=t+n;for(let o=t;o<i;o++)r+=Math.abs(e[o]);return r}function s(e,t,n,r,i,o){for(let s=0;s<n;s++){let n=s>=o?e[t+s-o]:0,a=e[t+s]-n;r[i+s]=a}}function a(e,t,n,r){let i=0;for(let o=0;o<n;o++){let n=o>=r?e[t+o-r]:0,s=e[t+o]-n;i+=Math.abs(s)}return i}function l(e,t,n,r,i){for(let o=0;o<n;o++){let s=t>0?e[t+o-n]:0,a=e[t+o]-s;r[i+o]=a}}function c(e,t,n){let r=0,i=t+n;for(let o=t;o<i;o++){let i=t>0?e[o-n]:0,s=e[o]-i;r+=Math.abs(s)}return r}function u(e,t,n,r,i,o){for(let s=0;s<n;s++){let a=s>=o?e[t+s-o]:0,l=t>0?e[t+s-n]:0,c=e[t+s]-(a+l>>1);r[i+s]=c}}function h(e,t,n,r){let i=0;for(let o=0;o<n;o++){let s=o>=r?e[t+o-r]:0,a=t>0?e[t+o-n]:0,l=e[t+o]-(s+a>>1);i+=Math.abs(l)}return i}function d(e,t,n,i,o,s){for(let a=0;a<n;a++){let l=a>=s?e[t+a-s]:0,c=t>0?e[t+a-n]:0,u=t>0&&a>=s?e[t+a-(n+s)]:0,h=e[t+a]-r(l,c,u);i[o+a]=h}}function f(e,t,n,i){let o=0;for(let s=0;s<n;s++){let a=s>=i?e[t+s-i]:0,l=t>0?e[t+s-n]:0,c=t>0&&s>=i?e[t+s-(n+i)]:0,u=e[t+s]-r(a,l,c);o+=Math.abs(u)}return o}let g={0:i,1:s,2:l,3:u,4:d},p={0:o,1:a,2:c,3:h,4:f};t.exports=function(e,t,r,i,o){let s;if("filterType"in i&&-1!==i.filterType){if("number"!==typeof i.filterType)throw new Error("unrecognised filter types");s=[i.filterType]}else s=[0,1,2,3,4];16===i.bitDepth&&(o*=2);let a=t*o,l=0,c=0,u=n.alloc((a+1)*r),h=s[0];for(let n=0;n<r;n++){if(s.length>1){let t=1/0;for(let n=0;n<s.length;n++){let r=p[s[n]](e,c,a,o);r<t&&(h=s[n],t=r)}}u[l]=h,l++,g[h](e,c,a,u,l,o),l+=a,c+=a}return u}}).call(this)}).call(this,e("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(e,t,n){(function(n){(function(){"use strict";let r=e("util"),i=e("./chunkstream"),o=e("./filter-parse"),s=t.exports=function(e){i.call(this);let t=[],r=this;this._filter=new o(e,{read:this.read.bind(this),write:function(e){t.push(e)},complete:function(){r.emit("complete",n.concat(t))}}),this._filter.start()};r.inherits(s,i)}).call(this)}).call(this,e("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(e,t,n){(function(t){(function(){"use strict";let r=e("./sync-reader"),i=e("./filter-parse");n.process=function(e,n){let o=[],s=new r(e);return new i(n,{read:s.read.bind(s),write:function(e){o.push(e)},complete:function(){}}).start(),s.process(),t.concat(o)}}).call(this)}).call(this,e("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(e,t,n){(function(n){(function(){"use strict";let r=e("./interlace"),i=e("./paeth-predictor");function o(e,t,n){let r=e*t;return 8!==n&&(r=Math.ceil(r/(8/n))),r}let s=t.exports=function(e,t){let n=e.width,i=e.height,s=e.interlace,a=e.bpp,l=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],s){let e=r.getImagePasses(n,i);for(let t=0;t<e.length;t++)this._images.push({byteWidth:o(e[t].width,a,l),height:e[t].height,lineIndex:0})}else this._images.push({byteWidth:o(n,a,l),height:i,lineIndex:0});this._xComparison=8===l?a:16===l?2*a:1};s.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},s.prototype._unFilterType1=function(e,t,n){let r=this._xComparison,i=r-1;for(let o=0;o<n;o++){let n=e[1+o],s=o>i?t[o-r]:0;t[o]=n+s}},s.prototype._unFilterType2=function(e,t,n){let r=this._lastLine;for(let i=0;i<n;i++){let n=e[1+i],o=r?r[i]:0;t[i]=n+o}},s.prototype._unFilterType3=function(e,t,n){let r=this._xComparison,i=r-1,o=this._lastLine;for(let s=0;s<n;s++){let n=e[1+s],a=o?o[s]:0,l=s>i?t[s-r]:0,c=Math.floor((l+a)/2);t[s]=n+c}},s.prototype._unFilterType4=function(e,t,n){let r=this._xComparison,o=r-1,s=this._lastLine;for(let a=0;a<n;a++){let n=e[1+a],l=s?s[a]:0,c=a>o?t[a-r]:0,u=a>o&&s?s[a-r]:0,h=i(c,l,u);t[a]=n+h}},s.prototype._reverseFilterLine=function(e){let t,r=e[0],i=this._images[this._imageIndex],o=i.byteWidth;if(0===r)t=e.slice(1,o+1);else switch(t=n.alloc(o),r){case 1:this._unFilterType1(e,t,o);break;case 2:this._unFilterType2(e,t,o);break;case 3:this._unFilterType3(e,t,o);break;case 4:this._unFilterType4(e,t,o);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(t),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=t,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,e("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(e,t,n){(function(e){(function(){"use strict";function n(e,t,n,r,i){let o=0;for(let s=0;s<r;s++)for(let r=0;r<n;r++){let n=i[e[o]];if(!n)throw new Error("index "+e[o]+" not in palette");for(let e=0;e<4;e++)t[o+e]=n[e];o+=4}}function r(e,t,n,r,i){let o=0;for(let s=0;s<r;s++)for(let r=0;r<n;r++){let n=!1;if(1===i.length?i[0]===e[o]&&(n=!0):i[0]===e[o]&&i[1]===e[o+1]&&i[2]===e[o+2]&&(n=!0),n)for(let e=0;e<4;e++)t[o+e]=0;o+=4}}function i(e,t,n,r,i){let o=255,s=Math.pow(2,i)-1,a=0;for(let l=0;l<r;l++)for(let r=0;r<n;r++){for(let n=0;n<4;n++)t[a+n]=Math.floor(e[a+n]*o/s+.5);a+=4}}t.exports=function(t,o){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=o.depth,l=o.width,c=o.height,u=o.colorType,h=o.transColor,d=o.palette,f=t;return 3===u?n(t,f,l,c,d):(h&&r(t,f,l,c,h),8===a||s||(16===a&&(f=e.alloc(l*c*4)),i(t,f,l,c,a))),f}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:32}],11:[function(e,t,n){"use strict";let r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];n.getImagePasses=function(e,t){let n=[],i=e%8,o=t%8,s=(e-i)/8,a=(t-o)/8;for(let l=0;l<r.length;l++){let e=r[l],t=s*e.x.length,c=a*e.y.length;for(let n=0;n<e.x.length&&e.x[n]<i;n++)t++;for(let n=0;n<e.y.length&&e.y[n]<o;n++)c++;t>0&&c>0&&n.push({width:t,height:c,index:l})}return n},n.getInterlaceIterator=function(e){return function(t,n,i){let o=t%r[i].x.length,s=(t-o)/r[i].x.length*8+r[i].x[o],a=n%r[i].y.length;return 4*s+((n-a)/r[i].y.length*8+r[i].y[a])*e*4}}},{}],12:[function(e,t,n){(function(n){(function(){"use strict";let r=e("util"),i=e("stream"),o=e("./constants"),s=e("./packer"),a=t.exports=function(e){i.call(this);let t=e||{};this._packer=new s(t),this._deflate=this._packer.createDeflate(),this.readable=!0};r.inherits(a,i),a.prototype.pack=function(e,t,r,i){this.emit("data",n.from(o.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),i&&this.emit("data",this._packer.packGAMA(i));let s=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(e){this.emit("data",this._packer.packIDAT(e))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(s)}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(e,t,n){(function(n){(function(){"use strict";let r=!0,i=e("zlib");i.deflateSync||(r=!1);let o=e("./constants"),s=e("./packer");t.exports=function(e,t){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let a=new s(t||{}),l=[];l.push(n.from(o.PNG_SIGNATURE)),l.push(a.packIHDR(e.width,e.height)),e.gamma&&l.push(a.packGAMA(e.gamma));let c=a.filterData(e.data,e.width,e.height),u=i.deflateSync(c,a.getDeflateOptions());if(c=null,!u||!u.length)throw new Error("bad png - invalid compressed data response");return l.push(a.packIDAT(u)),l.push(a.packIEND()),n.concat(l)}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(e,t,n){(function(n){(function(){"use strict";let r=e("./constants"),i=e("./crc"),o=e("./bitpacker"),s=e("./filter-pack"),a=e("zlib"),l=t.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null==e.inputHasAlpha||e.inputHasAlpha,e.deflateFactory=e.deflateFactory||a.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType="number"===typeof e.colorType?e.colorType:r.COLORTYPE_COLOR_ALPHA,e.inputColorType="number"===typeof e.inputColorType?e.inputColorType:r.COLORTYPE_COLOR_ALPHA,-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.colorType))throw new Error("option color type:"+e.colorType+" is not supported at present");if(-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.inputColorType))throw new Error("option input color type:"+e.inputColorType+" is not supported at present");if(8!==e.bitDepth&&16!==e.bitDepth)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};l.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},l.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},l.prototype.filterData=function(e,t,n){let i=o(e,t,n,this._options),a=r.COLORTYPE_TO_BPP_MAP[this._options.colorType];return s(i,t,n,this._options,a)},l.prototype._packChunk=function(e,t){let r=t?t.length:0,o=n.alloc(r+12);return o.writeUInt32BE(r,0),o.writeUInt32BE(e,4),t&&t.copy(o,8),o.writeInt32BE(i.crc32(o.slice(4,o.length-4)),o.length-4),o},l.prototype.packGAMA=function(e){let t=n.alloc(4);return t.writeUInt32BE(Math.floor(e*r.GAMMA_DIVISION),0),this._packChunk(r.TYPE_gAMA,t)},l.prototype.packIHDR=function(e,t){let i=n.alloc(13);return i.writeUInt32BE(e,0),i.writeUInt32BE(t,4),i[8]=this._options.bitDepth,i[9]=this._options.colorType,i[10]=0,i[11]=0,i[12]=0,this._packChunk(r.TYPE_IHDR,i)},l.prototype.packIDAT=function(e){return this._packChunk(r.TYPE_IDAT,e)},l.prototype.packIEND=function(){return this._packChunk(r.TYPE_IEND,null)}}).call(this)}).call(this,e("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(e,t,n){"use strict";t.exports=function(e,t,n){let r=e+t-n,i=Math.abs(r-e),o=Math.abs(r-t),s=Math.abs(r-n);return i<=o&&i<=s?e:o<=s?t:n}},{}],16:[function(e,t,n){"use strict";let r=e("util"),i=e("zlib"),o=e("./chunkstream"),s=e("./filter-parse-async"),a=e("./parser"),l=e("./bitmapper"),c=e("./format-normaliser"),u=t.exports=function(e){o.call(this),this._parser=new a(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};r.inherits(u,o),u.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},u.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let e=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,t=Math.max(e,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:t});let n=e,r=this.emit.bind(this,"error");this._inflate.on("error",function(e){n&&r(e)}),this._filter.on("complete",this._complete.bind(this));let o=this._filter.write.bind(this._filter);this._inflate.on("data",function(e){n&&(e.length>n&&(e=e.slice(0,n)),n-=e.length,o(e))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},u.prototype._handleMetaData=function(e){this._metaData=e,this._bitmapInfo=Object.create(e),this._filter=new s(this._bitmapInfo)},u.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},u.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},u.prototype._simpleTransparency=function(){this._metaData.alpha=!0},u.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},u.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},u.prototype._complete=function(e){if(this.errord)return;let t;try{let n=l.dataToBitMap(e,this._bitmapInfo);t=c(n,this._bitmapInfo,this._options.skipRescale),n=null}catch(n){return void this._handleError(n)}this.emit("parsed",t)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(e,t,n){(function(n){(function(){"use strict";let r=!0,i=e("zlib"),o=e("./sync-inflate");i.deflateSync||(r=!1);let s=e("./sync-reader"),a=e("./filter-parse-sync"),l=e("./parser"),c=e("./bitmapper"),u=e("./format-normaliser");t.exports=function(e,t){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let h,d,f;function g(e){h=e}function p(e){d=e}function m(e){d.transColor=e}function A(e){d.palette=e}function y(){d.alpha=!0}function v(e){f=e}let b=[];function w(e){b.push(e)}let x=new s(e);if(new l(t,{read:x.read.bind(x),error:g,metadata:p,gamma:v,palette:A,transColor:m,inflateData:w,simpleTransparency:y}).start(),x.process(),h)throw h;let E,_=n.concat(b);if(b.length=0,d.interlace)E=i.inflateSync(_);else{let e=(1+(d.width*d.bpp*d.depth+7>>3))*d.height;E=o(_,{chunkSize:e,maxLength:e})}if(_=null,!E||!E.length)throw new Error("bad png - invalid inflate data response");let C=a.process(E,d);_=null;let S=c.dataToBitMap(C,d);C=null;let k=u(S,d,t.skipRescale);return d.data=k,d.gamma=f||0,d}}).call(this)}).call(this,e("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(e,t,n){(function(n){(function(){"use strict";let r=e("./constants"),i=e("./crc"),o=t.exports=function(e,t){this._options=e,e.checkCRC=!1!==e.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[r.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[r.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[r.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[r.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[r.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[r.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished,this.simpleTransparency=t.simpleTransparency,this.headersFinished=t.headersFinished||function(){}};o.prototype.start=function(){this.read(r.PNG_SIGNATURE.length,this._parseSignature.bind(this))},o.prototype._parseSignature=function(e){let t=r.PNG_SIGNATURE;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},o.prototype._parseChunkBegin=function(e){let t=e.readUInt32BE(0),o=e.readUInt32BE(4),s="";for(let n=4;n<8;n++)s+=String.fromCharCode(e[n]);let a=Boolean(32&e[4]);if(this._hasIHDR||o===r.TYPE_IHDR){if(this._crc=new i,this._crc.write(n.from(s)),this._chunks[o])return this._chunks[o](t);a?this.read(t+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+s))}else this.error(new Error("Expected IHDR on beggining"))},o.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},o.prototype._parseChunkEnd=function(e){let t=e.readInt32BE(0),n=this._crc.crc32();this._options.checkCRC&&n!==t?this.error(new Error("Crc error - "+t+" - "+n)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},o.prototype._parseIHDR=function(e){this._crc.write(e);let t=e.readUInt32BE(0),n=e.readUInt32BE(4),i=e[8],o=e[9],s=e[10],a=e[11],l=e[12];if(8!==i&&4!==i&&2!==i&&1!==i&&16!==i)return void this.error(new Error("Unsupported bit depth "+i));if(!(o in r.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(0!==s)return void this.error(new Error("Unsupported compression method"));if(0!==a)return void this.error(new Error("Unsupported filter method"));if(0!==l&&1!==l)return void this.error(new Error("Unsupported interlace method"));this._colorType=o;let c=r.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:n,depth:i,interlace:Boolean(l),palette:Boolean(o&r.COLORTYPE_PALETTE),color:Boolean(o&r.COLORTYPE_COLOR),alpha:Boolean(o&r.COLORTYPE_ALPHA),bpp:c,colorType:o}),this._handleChunkEnd()},o.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},o.prototype._parsePLTE=function(e){this._crc.write(e);let t=Math.floor(e.length/3);for(let n=0;n<t;n++)this._palette.push([e[3*n],e[3*n+1],e[3*n+2],255]);this.palette(this._palette),this._handleChunkEnd()},o.prototype._handleTRNS=function(e){this.simpleTransparency(),this.read(e,this._parseTRNS.bind(this))},o.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===r.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(e.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===r.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===r.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()},o.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},o.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/r.GAMMA_DIVISION),this._handleChunkEnd()},o.prototype._handleIDAT=function(e){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-e,this._parseIDAT.bind(this,e))},o.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===r.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(t);let n=e-t.length;n>0?this._handleIDAT(n):this._handleChunkEnd()},o.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},o.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(e,t,n){"use strict";let r=e("./parser-sync"),i=e("./packer-sync");n.read=function(e,t){return r(e,t||{})},n.write=function(e,t){return i(e,t)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(e,t,n){(function(t,r){(function(){"use strict";let i=e("util"),o=e("stream"),s=e("./parser-async"),a=e("./packer-async"),l=e("./png-sync"),c=n.PNG=function(e){o.call(this),e=e||{},this.width=0|e.width,this.height=0|e.height,this.data=this.width>0&&this.height>0?r.alloc(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new s(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new a(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};i.inherits(c,o),c.sync=l,c.prototype.pack=function(){return this.data&&this.data.length?(t.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},c.prototype.parse=function(e,t){if(t){let e,n;e=function(e){this.removeListener("error",n),this.data=e,t(null,this)}.bind(this),n=function(n){this.removeListener("parsed",e),t(n,null)}.bind(this),this.once("parsed",e),this.once("error",n)}return this.end(e),this},c.prototype.write=function(e){return this._parser.write(e),!0},c.prototype.end=function(e){this._parser.end(e)},c.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},c.prototype._gamma=function(e){this.gamma=e},c.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},c.bitblt=function(e,t,n,r,i,o,s,a){if(r|=0,i|=0,o|=0,s|=0,a|=0,(n|=0)>e.width||r>e.height||n+i>e.width||r+o>e.height)throw new Error("bitblt reading outside image");if(s>t.width||a>t.height||s+i>t.width||a+o>t.height)throw new Error("bitblt writing outside image");for(let l=0;l<o;l++)e.data.copy(t.data,(a+l)*t.width+s<<2,(r+l)*e.width+n<<2,(r+l)*e.width+n+i<<2)},c.prototype.bitblt=function(e,t,n,r,i,o,s){return c.bitblt(this,e,t,n,r,i,o,s),this},c.adjustGamma=function(e){if(e.gamma){for(let t=0;t<e.height;t++)for(let n=0;n<e.width;n++){let r=e.width*t+n<<2;for(let t=0;t<3;t++){let n=e.data[r+t]/255;n=Math.pow(n,1/2.2/e.gamma),e.data[r+t]=Math.round(255*n)}}e.gamma=0}},c.prototype.adjustGamma=function(){c.adjustGamma(this)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(e,t,n){(function(r,i){(function(){"use strict";let o=e("assert").ok,s=e("zlib"),a=e("util"),l=e("buffer").kMaxLength;function c(e){if(!(this instanceof c))return new c(e);e&&e.chunkSize<s.Z_MIN_CHUNK&&(e.chunkSize=s.Z_MIN_CHUNK),s.Inflate.call(this,e),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&null!=e.maxLength&&(this._maxLength=e.maxLength)}function u(e){return new c(e)}function h(e,t){t&&r.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function d(e,t){if("string"===typeof t&&(t=i.from(t)),!(t instanceof i))throw new TypeError("Not a string or buffer");let n=e._finishFlushFlag;return null==n&&(n=s.Z_FINISH),e._processChunk(t,n)}function f(e,t){return d(new c(t),e)}c.prototype._processChunk=function(e,t,n){if("function"===typeof n)return s.Inflate._processChunk.call(this,e,t,n);let r,a,c=this,u=e&&e.length,d=this._chunkSize-this._offset,f=this._maxLength,g=0,p=[],m=0;function A(e,t){if(c._hadError)return;let n=d-t;if(o(n>=0,"have should not go down"),n>0){let e=c._buffer.slice(c._offset,c._offset+n);if(c._offset+=n,e.length>f&&(e=e.slice(0,f)),p.push(e),m+=e.length,f-=e.length,0===f)return!1}return(0===t||c._offset>=c._chunkSize)&&(d=c._chunkSize,c._offset=0,c._buffer=i.allocUnsafe(c._chunkSize)),0===t&&(g+=u-e,u=e,!0)}this.on("error",function(e){r=e}),o(this._handle,"zlib binding closed");do{a=this._handle.writeSync(t,e,g,u,this._buffer,this._offset,d),a=a||this._writeState}while(!this._hadError&&A(a[0],a[1]));if(this._hadError)throw r;if(m>=l)throw h(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes");let y=i.concat(p,m);return h(this),y},a.inherits(c,s.Inflate),t.exports=n=f,n.Inflate=c,n.createInflate=u,n.inflateSync=f}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(e,t,n){"use strict";let r=t.exports=function(e){this._buffer=e,this._reads=[]};r.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},r.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;{this._reads.shift();let t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(e,t,r){(function(n){(function(){"use strict";var r=e("object-assign");function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return n.Buffer&&"function"===typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=e("util/"),a=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function h(e){return!o(e)&&"function"===typeof n.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=t.exports=v,f=/\s*function\s+([^\(\s]*)\s*/;function g(e){if(s.isFunction(e)){if(c)return e.name;var t=e.toString().match(f);return t&&t[1]}}function p(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(c||!s.isFunction(e))return s.inspect(e);var t=g(e);return"[Function"+(t?": "+t:"")+"]"}function A(e){return p(m(e.actual),128)+" "+e.operator+" "+p(m(e.expected),128)}function y(e,t,n,r,i){throw new d.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function v(e,t){e||y(e,!0,t,"==",d.ok)}function b(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(h(e)&&h(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),x(e,t,n,r))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function x(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),o=w(t);if(i&&!o||!i&&o)return!1;if(i)return b(e=l.call(e),t=l.call(t),n);var a,c,u=B(e),h=B(t);if(u.length!==h.length)return!1;for(u.sort(),h.sort(),c=u.length-1;c>=0;c--)if(u[c]!==h[c])return!1;for(c=u.length-1;c>=0;c--)if(!b(e[a=u[c]],t[a],n,r))return!1;return!0}function E(e,t,n){b(e,t,!0)&&y(e,t,n,"notDeepStrictEqual",E)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function C(e){var t;try{e()}catch(n){t=n}return t}function S(e,t,n,r){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(r=n,n=null),i=C(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&y(i,n,"Missing expected exception"+r);var o="string"===typeof r,a=!e&&i&&!n;if((!e&&s.isError(i)&&o&&_(i,n)||a)&&y(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}function k(e,t){e||y(e,!0,t,"==",k)}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=A(this),this.generatedMessage=!0);var t=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=g(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},s.inherits(d.AssertionError,Error),d.fail=y,d.ok=v,d.equal=function(e,t,n){e!=t&&y(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&y(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){b(e,t,!1)||y(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){b(e,t,!0)||y(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){b(e,t,!1)&&y(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=E,d.strictEqual=function(e,t,n){e!==t&&y(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&y(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){S(!0,e,t,n)},d.doesNotThrow=function(e,t,n){S(!1,e,t,n)},d.ifError=function(e){if(e)throw e},d.strict=r(k,d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var B=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this)}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"object-assign":51,"util/":26}],24:[function(e,t,n){"function"===typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],25:[function(e,t,n){t.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},{}],26:[function(e,t,r){(function(t,n){(function(){var i=/%[sdj%]/g;r.format=function(e){if(!x(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),l=r[n];n<o;l=r[++n])v(l)||!S(l)?s+=" "+l:s+=" "+a(l);return s},r.deprecate=function(e,i){if(_(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;function s(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}return s};var o,s={};function a(e,t){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&r._extend(n,t),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),h(n,e,n.depth)}function l(e,t){var n=a.styles[t];return n?"\x1b["+a.colors[n][0]+"m"+e+"\x1b["+a.colors[n][1]+"m":e}function c(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function h(e,t,n){if(e.customInspect&&t&&I(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return x(i)||(i=h(e,i,n)),i}var o=d(e,t);if(o)return o;var s=Object.keys(t),a=u(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),B(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(t);if(0===s.length){if(I(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(C(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(k(t))return e.stylize(Date.prototype.toString.call(t),"date");if(B(t))return f(t)}var c,y="",v=!1,b=["{","}"];return A(t)&&(v=!0,b=["[","]"]),I(t)&&(y=" [Function"+(t.name?": "+t.name:"")+"]"),C(t)&&(y=" "+RegExp.prototype.toString.call(t)),k(t)&&(y=" "+Date.prototype.toUTCString.call(t)),B(t)&&(y=" "+f(t)),0!==s.length||v&&0!=t.length?n<0?C(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=v?g(e,t,n,a,s):s.map(function(r){return p(e,t,n,a,r,v)}),e.seen.pop(),m(c,y,b)):b[0]+y+b[1]}function d(e,t){if(_(t))return e.stylize("undefined","undefined");if(x(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return w(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)j(t,String(s))?o.push(p(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}function p(e,t,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),j(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=v(n)?h(e,l.value,null):h(e,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function m(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function A(e){return Array.isArray(e)}function y(e){return"boolean"===typeof e}function v(e){return null===e}function b(e){return null==e}function w(e){return"number"===typeof e}function x(e){return"string"===typeof e}function E(e){return"symbol"===typeof e}function _(e){return void 0===e}function C(e){return S(e)&&"[object RegExp]"===D(e)}function S(e){return"object"===typeof e&&null!==e}function k(e){return S(e)&&"[object Date]"===D(e)}function B(e){return S(e)&&("[object Error]"===D(e)||e instanceof Error)}function I(e){return"function"===typeof e}function T(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function D(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(_(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=t.pid;s[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else s[e]=function(){};return s[e]},r.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=A,r.isBoolean=y,r.isNull=v,r.isNullOrUndefined=b,r.isNumber=w,r.isString=x,r.isSymbol=E,r.isUndefined=_,r.isRegExp=C,r.isObject=S,r.isDate=k,r.isError=B,r.isFunction=I,r.isPrimitive=T,r.isBuffer=e("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",F(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this)}).call(this,e("_process"),"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(e,t,r){(function(e){(function(){"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],r="undefined"===typeof globalThis?e:globalThis;t.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"===typeof r[n[t]]&&(e[e.length]=n[t]);return e}}).call(this)}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],28:[function(e,t,n){"use strict";n.byteLength=u,n.toByteArray=d,n.fromByteArray=p;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function h(e,t,n){return 3*(t+n)/4-n}function d(e){var t,n,r=c(e),s=r[0],a=r[1],l=new o(h(e,s,a)),u=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l}function f(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function g(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(f(r));return i.join("")}function p(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,l=n-i;a<l;a+=s)o.push(g(e,a,a+s>l?l:a+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],29:[function(e,t,n){},{}],30:[function(e,t,n){(function(t,r){(function(){"use strict";var i=e("assert"),o=e("pako/lib/zlib/zstream"),s=e("pako/lib/zlib/deflate.js"),a=e("pako/lib/zlib/inflate.js"),l=e("pako/lib/zlib/constants");for(var c in l)n[c]=l[c];n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7;var u=31,h=139;function d(e){if("number"!==typeof e||e<n.DEFLATE||e>n.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}d.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=n.UNZIP),this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==n.INFLATE&&this.mode!==n.GUNZIP&&this.mode!==n.INFLATERAW&&this.mode!==n.UNZIP||a.inflateEnd(this.strm),this.mode=n.NONE,this.dictionary=null)},d.prototype.write=function(e,t,n,r,i,o,s){return this._write(!0,e,t,n,r,i,o,s)},d.prototype.writeSync=function(e,t,n,r,i,o,s){return this._write(!1,e,t,n,r,i,o,s)},d.prototype._write=function(e,o,s,a,l,c,u,h){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==n.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==n.Z_NO_FLUSH&&o!==n.Z_PARTIAL_FLUSH&&o!==n.Z_SYNC_FLUSH&&o!==n.Z_FULL_FLUSH&&o!==n.Z_FINISH&&o!==n.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=r.alloc(0),l=0,a=0),this.strm.avail_in=l,this.strm.input=s,this.strm.next_in=a,this.strm.avail_out=h,this.strm.output=c,this.strm.next_out=u,this.flush=o,!e)return this._process(),this._checkError()?this._afterSync():void 0;var d=this;return t.nextTick(function(){d._process(),d._after()}),this},d.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},d.prototype._process=function(){var e=null;switch(this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case n.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(this.strm.input[e]!==u){this.mode=n.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;this.strm.input[e]===h?(this.gzip_id_bytes_read=2,this.mode=n.GUNZIP):this.mode=n.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===n.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===n.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===n.Z_DATA_ERROR&&(this.err=n.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===n.GUNZIP&&this.err===n.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},d.prototype._checkError=function(){switch(this.err){case n.Z_OK:case n.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===n.Z_FINISH)return this._error("unexpected end of file"),!1;break;case n.Z_STREAM_END:break;case n.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},d.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},d.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},d.prototype.init=function(e,t,r,o,s){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(t>=-1&&t<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(o===n.Z_FILTERED||o===n.Z_HUFFMAN_ONLY||o===n.Z_RLE||o===n.Z_FIXED||o===n.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(t,e,r,o,s),this._setDictionary()},d.prototype.params=function(){throw new Error("deflateParams Not supported")},d.prototype.reset=function(){this._reset(),this._setDictionary()},d.prototype._init=function(e,t,r,i,l){switch(this.level=e,this.windowBits=t,this.memLevel=r,this.strategy=i,this.flush=n.Z_NO_FLUSH,this.err=n.Z_OK,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==n.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},d.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==n.Z_OK&&this._error("Failed to set dictionary")}},d.prototype._reset=function(){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:case n.GZIP:this.err=s.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:case n.GUNZIP:this.err=a.inflateReset(this.strm)}this.err!==n.Z_OK&&this._error("Failed to reset stream")},n.Zlib=d}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(e,t,n){(function(t){(function(){"use strict";var r=e("buffer").Buffer,i=e("stream").Transform,o=e("./binding"),s=e("util"),a=e("assert").ok,l=e("buffer").kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(o),h=0;h<u.length;h++){var d=u[h];d.match(/^Z/)&&Object.defineProperty(n,d,{enumerable:!0,value:o[d],writable:!1})}for(var f={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},g=Object.keys(f),p=0;p<g.length;p++){var m=g[p];f[f[m]]=m}function A(e,t,n){var i=[],o=0;function s(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",s)}function a(t){e.removeListener("end",u),e.removeListener("readable",s),n(t)}function u(){var t,s=null;o>=l?s=new RangeError(c):t=r.concat(i,o),i=[],e.close(),n(s,t)}e.on("error",a),e.on("end",u),e.end(t),s()}function y(e,t){if("string"===typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function v(e){if(!(this instanceof v))return new v(e);k.call(this,e,o.DEFLATE)}function b(e){if(!(this instanceof b))return new b(e);k.call(this,e,o.INFLATE)}function w(e){if(!(this instanceof w))return new w(e);k.call(this,e,o.GZIP)}function x(e){if(!(this instanceof x))return new x(e);k.call(this,e,o.GUNZIP)}function E(e){if(!(this instanceof E))return new E(e);k.call(this,e,o.DEFLATERAW)}function _(e){if(!(this instanceof _))return new _(e);k.call(this,e,o.INFLATERAW)}function C(e){if(!(this instanceof C))return new C(e);k.call(this,e,o.UNZIP)}function S(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function k(e,t){var s=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||n.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!S(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!S(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag="undefined"!==typeof e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<n.Z_MIN_CHUNK||e.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<n.Z_MIN_WINDOWBITS||e.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<n.Z_MIN_LEVEL||e.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<n.Z_MIN_MEMLEVEL||e.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=n.Z_FILTERED&&e.strategy!=n.Z_HUFFMAN_ONLY&&e.strategy!=n.Z_RLE&&e.strategy!=n.Z_FIXED&&e.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(t);var a=this;this._hadError=!1,this._handle.onerror=function(e,t){B(a),a._hadError=!0;var r=new Error(e);r.errno=t,r.code=n.codes[t],a.emit("error",r)};var l=n.Z_DEFAULT_COMPRESSION;"number"===typeof e.level&&(l=e.level);var c=n.Z_DEFAULT_STRATEGY;"number"===typeof e.strategy&&(c=e.strategy),this._handle.init(e.windowBits||n.Z_DEFAULT_WINDOWBITS,l,e.memLevel||n.Z_DEFAULT_MEMLEVEL,c,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!s._handle},configurable:!0,enumerable:!0})}function B(e,n){n&&t.nextTick(n),e._handle&&(e._handle.close(),e._handle=null)}function I(e){e.emit("close")}Object.defineProperty(n,"codes",{enumerable:!0,value:Object.freeze(f),writable:!1}),n.Deflate=v,n.Inflate=b,n.Gzip=w,n.Gunzip=x,n.DeflateRaw=E,n.InflateRaw=_,n.Unzip=C,n.createDeflate=function(e){return new v(e)},n.createInflate=function(e){return new b(e)},n.createDeflateRaw=function(e){return new E(e)},n.createInflateRaw=function(e){return new _(e)},n.createGzip=function(e){return new w(e)},n.createGunzip=function(e){return new x(e)},n.createUnzip=function(e){return new C(e)},n.deflate=function(e,t,n){return"function"===typeof t&&(n=t,t={}),A(new v(t),e,n)},n.deflateSync=function(e,t){return y(new v(t),e)},n.gzip=function(e,t,n){return"function"===typeof t&&(n=t,t={}),A(new w(t),e,n)},n.gzipSync=function(e,t){return y(new w(t),e)},n.deflateRaw=function(e,t,n){return"function"===typeof t&&(n=t,t={}),A(new E(t),e,n)},n.deflateRawSync=function(e,t){return y(new E(t),e)},n.unzip=function(e,t,n){return"function"===typeof t&&(n=t,t={}),A(new C(t),e,n)},n.unzipSync=function(e,t){return y(new C(t),e)},n.inflate=function(e,t,n){return"function"===typeof t&&(n=t,t={}),A(new b(t),e,n)},n.inflateSync=function(e,t){return y(new b(t),e)},n.gunzip=function(e,t,n){return"function"===typeof t&&(n=t,t={}),A(new x(t),e,n)},n.gunzipSync=function(e,t){return y(new x(t),e)},n.inflateRaw=function(e,t,n){return"function"===typeof t&&(n=t,t={}),A(new _(t),e,n)},n.inflateRawSync=function(e,t){return y(new _(t),e)},s.inherits(k,i),k.prototype.params=function(e,r,i){if(e<n.Z_MIN_LEVEL||e>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(r!=n.Z_FILTERED&&r!=n.Z_HUFFMAN_ONLY&&r!=n.Z_RLE&&r!=n.Z_FIXED&&r!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==e||this._strategy!==r){var s=this;this.flush(o.Z_SYNC_FLUSH,function(){a(s._handle,"zlib binding closed"),s._handle.params(e,r),s._hadError||(s._level=e,s._strategy=r,i&&i())})}else t.nextTick(i)},k.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},k.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},k.prototype.flush=function(e,n){var i=this,s=this._writableState;("function"===typeof e||void 0===e&&!n)&&(n=e,e=o.Z_FULL_FLUSH),s.ended?n&&t.nextTick(n):s.ending?n&&this.once("end",n):s.needDrain?n&&this.once("drain",function(){return i.flush(e,n)}):(this._flushFlag=e,this.write(r.alloc(0),"",n))},k.prototype.close=function(e){B(this,e),t.nextTick(I,this)},k.prototype._transform=function(e,t,n){var i,s=this._writableState,a=(s.ending||s.ended)&&(!e||s.length===e.length);return null===e||r.isBuffer(e)?this._handle?(a?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=s.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},k.prototype._processChunk=function(e,t,n){var i=e&&e.length,o=this._chunkSize-this._offset,s=0,u=this,h="function"===typeof n;if(!h){var d,f=[],g=0;this.on("error",function(e){d=e}),a(this._handle,"zlib binding closed");do{var p=this._handle.writeSync(t,e,s,i,this._buffer,this._offset,o)}while(!this._hadError&&y(p[0],p[1]));if(this._hadError)throw d;if(g>=l)throw B(this),new RangeError(c);var m=r.concat(f,g);return B(this),m}a(this._handle,"zlib binding closed");var A=this._handle.write(t,e,s,i,this._buffer,this._offset,o);function y(l,c){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var d=o-c;if(a(d>=0,"have should not go down"),d>0){var p=u._buffer.slice(u._offset,u._offset+d);u._offset+=d,h?u.push(p):(f.push(p),g+=p.length)}if((0===c||u._offset>=u._chunkSize)&&(o=u._chunkSize,u._offset=0,u._buffer=r.allocUnsafe(u._chunkSize)),0===c){if(s+=i-l,i=l,!h)return!0;var m=u._handle.write(t,e,s,i,u._buffer,u._offset,u._chunkSize);return m.callback=y,void(m.buffer=e)}if(!h)return!1;n()}}A.buffer=e,A.callback=y},s.inherits(v,k),s.inherits(b,k),s.inherits(w,k),s.inherits(x,k),s.inherits(E,k),s.inherits(_,k),s.inherits(C,k)}).call(this)}).call(this,e("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(e,t,n){(function(t){(function(){"use strict";var t=e("base64-js"),r=e("ieee754");n.Buffer=a,n.SlowBuffer=A,n.INSPECT_MAX_BYTES=50;var i=2147483647;function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=a.prototype,t}function a(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return l(e,t,n)}function l(e,t,n){if("string"===typeof e)return d(e,t);if(ArrayBuffer.isView(e))return f(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return g(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);var i=p(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e,t,n){return c(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}function h(e){return c(e),s(e<0?0:0|m(e))}function d(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|y(e,t),r=s(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function f(e){for(var t=e.length<0?0:0|m(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function g(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=a.prototype,r}function p(e){if(a.isBuffer(e)){var t=0|m(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!==typeof e.length||J(e.length)?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}function m(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function A(e){return+e!=e&&(e=0),a.alloc(+e)}function y(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(i)return r?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return F(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:x(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){h=!1;break}if(h)return o}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(J(a))return s;e[n+s]=a}return s}function _(e,t,n,r){return q(H(t,e.length-n),e,n,r)}function C(e,t,n,r){return q(W(t),e,n,r)}function S(e,t,n,r){return C(e,t,n,r)}function k(e,t,n,r){return q(K(t),e,n,r)}function B(e,t,n,r){return q(V(t,e.length-n),e,n,r)}function I(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128===(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return O(r)}n.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),a.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!==typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,n){return l(e,t,n)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,n){return u(e,t,n)},a.allocUnsafe=function(e){return h(e)},a.allocUnsafeSlow=function(e){return h(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(X(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(X(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):v.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,i){if(X(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),l=Math.min(o,s),c=this.slice(r,i),u=e.slice(t,n),h=0;h<l;++h)if(c[h]!==u[h]){o=c[h],s=u[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function O(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=D));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function F(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=G(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,i,o){return t=+t,n>>>=0,o||N(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function Q(e,t,n,i,o){return t=+t,n>>>=0,o||N(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}a.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=a.prototype,r},a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return Q(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return Q(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},a.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%l]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function U(e){if((e=(e=e.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function V(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}function K(e){return t.toByteArray(U(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(e,t,n){"use strict";var r=e("get-intrinsic"),i=e("./"),o=i(r("String.prototype.indexOf"));t.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i(n):n}},{"./":34,"get-intrinsic":39}],34:[function(e,t,n){"use strict";var r=e("function-bind"),i=e("get-intrinsic"),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),l=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),u=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(d){c=null}t.exports=function(e){var t=a(r,s,arguments);return l&&c&&l(t,"length").configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))}),t};var h=function(){return a(r,o,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h},{"function-bind":38,"get-intrinsic":39}],35:[function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function s(e){console&&console.warn&&console.warn(e)}r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function l(){l.init.call(this)}t.exports=l,t.exports.once=b,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,o,a;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=h(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s(l)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?v(i):A(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function A(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function v(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function b(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}x(e,t,o,{once:!0}),"error"!==t&&w(e,i,{once:!0})})}function w(e,t,n){"function"===typeof e.on&&x(e,"error",t,n)}function x(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=i[e];if(void 0===l)return!1;if("function"===typeof l)o(l,this,t);else{var c=l.length,u=A(l,c);for(n=0;n<c;++n)o(u[n],this,t)}return!0},l.prototype.addListener=function(e,t){return d(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return d(this,e,t,!0)},l.prototype.once=function(e,t){return u(t),this.on(e,g(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,g(this,e,t)),this},l.prototype.removeListener=function(e,t){var n,r,i,o,s;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():y(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},l.prototype.listeners=function(e){return p(this,e,!0)},l.prototype.rawListeners=function(e){return p(this,e,!1)},l.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},l.prototype.listenerCount=m,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],36:[function(e,t,n){"use strict";var r=e("is-callable"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,s=function(e,t,n){for(var r=0,i=e.length;r<i;r++)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},a=function(e,t,n){for(var r=0,i=e.length;r<i;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},l=function(e,t,n){for(var r in e)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},c=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===i.call(e)?s(e,t,o):"string"===typeof e?a(e,t,o):l(e,t,o)};t.exports=c},{"is-callable":48}],37:[function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,s="[object Function]";t.exports=function(e){var t=this;if("function"!==typeof t||o.call(t)!==s)throw new TypeError(r+t);for(var n,a=i.call(arguments,1),l=function(){if(this instanceof n){var r=t.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(i.call(arguments)))},c=Math.max(0,t.length-a.length),u=[],h=0;h<c;h++)u.push("$"+h);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var d=function(){};d.prototype=t.prototype,n.prototype=new d,d.prototype=null}return n}},{}],38:[function(e,t,n){"use strict";var r=e("./implementation");t.exports=Function.prototype.bind||r},{"./implementation":37}],39:[function(e,t,n){"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(T){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(t){return c}}}():c,h=e("has-symbols")(),d=Object.getPrototypeOf||function(e){return e.__proto__},f={},g="undefined"===typeof Uint8Array?r:d(Uint8Array),p={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":h?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?d(d([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&h?d((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&h?d((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?d(""[Symbol.iterator]()):r,"%Symbol%":h?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":u,"%TypedArray%":g,"%TypeError%":s,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet};try{null.error}catch(T){var m=d(d(T));p["%Error.prototype%"]=m}var A=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=d(i.prototype))}return p[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=e("function-bind"),b=e("has"),w=v.call(Function.call,Array.prototype.concat),x=v.call(Function.apply,Array.prototype.splice),E=v.call(Function.call,String.prototype.replace),_=v.call(Function.call,String.prototype.slice),C=v.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,B=function(e){var t=_(e,0,1),n=_(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return E(e,S,function(e,t,n,i){r[r.length]=n?E(i,k,"$1"):t||e}),r},I=function(e,t){var n,r=e;if(b(y,r)&&(r="%"+(n=y[r])[0]+"%"),b(p,r)){var o=p[r];if(o===f&&(o=A(r)),"undefined"===typeof o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=B(e),r=n.length>0?n[0]:"",o=I("%"+r+"%",t),a=o.name,c=o.value,u=!1,h=o.alias;h&&(r=h[0],x(n,w([0,1],h)));for(var d=1,f=!0;d<n.length;d+=1){var g=n[d],m=_(g,0,1),A=_(g,-1);if(('"'===m||"'"===m||"`"===m||'"'===A||"'"===A||"`"===A)&&m!==A)throw new i("property names with quotes must have matching quotes");if("constructor"!==g&&f||(u=!0),b(p,a="%"+(r+="."+g)+"%"))c=p[a];else if(null!=c){if(!(g in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=n.length){var y=l(c,g);c=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[g]}else f=b(c,g),c=c[g];f&&!u&&(p[a]=c)}}return c}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(e,t,n){"use strict";var r=e("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(i){r=null}t.exports=r},{"get-intrinsic":39}],41:[function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=e("./shams");t.exports=function(){return"function"===typeof r&&"function"===typeof Symbol&&"symbol"===typeof r("foo")&&"symbol"===typeof Symbol("bar")&&i()}},{"./shams":42}],42:[function(e,t,n){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(t in e[t]=r,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==r||!0!==o.enumerable)return!1}return!0}},{}],43:[function(e,t,n){"use strict";var r=e("has-symbols/shams");t.exports=function(){return r()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(e,t,n){"use strict";var r=e("function-bind");t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=c}return(f?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,g=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=g,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+f]=255&s,f+=g,s/=256,c-=8);e[n+f-g]|=128*p}},{}],46:[function(e,t,n){"function"===typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],47:[function(e,t,n){"use strict";var r=e("has-tostringtag/shams")(),i=e("call-bind/callBound")("Object.prototype.toString"),o=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!o(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(e,t,n){"use strict";var r,i,o=Function.prototype.toString,s="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof s&&"function"===typeof Object.defineProperty)try{r=Object.defineProperty({},"length",{get:function(){throw i}}),i={},s(function(){throw 42},null,r)}catch(w){w!==i&&(s=null)}else s=null;var a=/^\s*class\b/,l=function(e){try{var t=o.call(e);return a.test(t)}catch(n){return!1}},c=function(e){try{return!l(e)&&(o.call(e),!0)}catch(t){return!1}},u=Object.prototype.toString,h="[object Object]",d="[object Function]",f="[object GeneratorFunction]",g="[object HTMLAllCollection]",p="[object HTML document.all class]",m="[object HTMLCollection]",A="function"===typeof Symbol&&!!Symbol.toStringTag,y=!(0 in[,]),v=function(){return!1};if("object"===typeof document){var b=document.all;u.call(b)===u.call(document.all)&&(v=function(e){if((y||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=u.call(e);return(t===g||t===p||t===m||t===h)&&null==e("")}catch(n){}return!1})}t.exports=s?function(e){if(v(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;try{s(e,null,r)}catch(t){if(t!==i)return!1}return!l(e)&&c(e)}:function(e){if(v(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(A)return c(e);if(l(e))return!1;var t=u.call(e);return!(t!==d&&t!==f&&!/^\[object HTML/.test(t))&&c(e)}},{}],49:[function(e,t,n){"use strict";var r,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=e("has-tostringtag/shams")(),l=Object.getPrototypeOf,c=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}};t.exports=function(e){if("function"!==typeof e)return!1;if(s.test(o.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(e);if(!l)return!1;if("undefined"===typeof r){var t=c();r=!!t&&l(t)}return l(e)===r}},{"has-tostringtag/shams":43}],50:[function(e,t,r){(function(n){(function(){"use strict";var r=e("for-each"),i=e("available-typed-arrays"),o=e("call-bind/callBound"),s=o("Object.prototype.toString"),a=e("has-tostringtag/shams")(),l=e("gopd"),c="undefined"===typeof globalThis?n:globalThis,u=i(),h=o("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},d=o("String.prototype.slice"),f={},g=Object.getPrototypeOf;a&&l&&g&&r(u,function(e){var t=new c[e];if(Symbol.toStringTag in t){var n=g(t),r=l(n,Symbol.toStringTag);if(!r){var i=g(n);r=l(i,Symbol.toStringTag)}f[e]=r.get}});var p=function(e){var t=!1;return r(f,function(n,r){if(!t)try{t=n.call(e)===r}catch(i){}}),t};t.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!a||!(Symbol.toStringTag in e)){var t=d(s(e),8,-1);return h(u,t)>-1}return!!l&&p(e)}}).call(this)}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}t.exports=a()?Object.assign:function(e,t){for(var n,a,l=s(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(l[a[h]]=n[a[h]])}}return l}},{}],52:[function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},s={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],53:[function(e,t,n){"use strict";function r(e,t,n,r){for(var i=65535&e,o=e>>>16&65535,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16}t.exports=r},{}],54:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var i=r();function o(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}t.exports=o},{}],56:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=0,u=1,h=3,d=4,f=5,g=0,p=1,m=-2,A=-3,y=-5,v=-1,b=1,w=2,x=3,E=4,_=0,C=2,S=8,k=9,B=15,I=8,T=286,D=30,O=19,M=2*T+1,F=15,j=3,P=258,R=P+j+1,L=32,N=42,z=69,Q=73,Y=91,U=103,G=113,H=666,W=1,V=2,K=3,q=4,X=3;function J(e,t){return e.msg=l[t],t}function Z(e){return(e<<1)-(e>4?9:0)}function $(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ie(e,t,n,r){var o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,i.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=s(e.adler,t,o,n):2===e.state.wrap&&(e.adler=a(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function oe(e,t){var n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-R?e.strstart-(e.w_size-R):0,c=e.window,u=e.w_mask,h=e.prev,d=e.strstart+P,f=c[o+s-1],g=c[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+s]===g&&c[n+s-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=P-(d-o),o=d-P,r>s){if(e.match_start=t,s=r,r>=a)break;f=c[o+s-1],g=c[o+s]}}}while((t=h[t&u])>l&&0!==--i);return s<=e.lookahead?s:e.lookahead}function se(e){var t,n,r,o,s,a=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-R)){i.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);o+=a}if(0===e.strm.avail_in)break;if(n=ie(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=j)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+j-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<j)););}while(e.lookahead<R&&0!==e.strm.avail_in)}function ae(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(se(e),0===e.lookahead&&t===c)return W;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out))return W;if(e.strstart-e.block_start>=e.w_size-R&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?K:q):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),W)}function le(e,t){for(var n,r;;){if(e.lookahead<R){if(se(e),e.lookahead<R&&t===c)return W;if(0===e.lookahead)break}if(n=0,e.lookahead>=j&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-R&&(e.match_length=oe(e,n)),e.match_length>=j)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-j),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=j){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=e.strstart<j-1?e.strstart:j-1,t===d?(te(e,!0),0===e.strm.avail_out?K:q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:V}function ce(e,t){for(var n,r,i;;){if(e.lookahead<R){if(se(e),e.lookahead<R&&t===c)return W;if(0===e.lookahead)break}if(n=0,e.lookahead>=j&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=j-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-R&&(e.match_length=oe(e,n),e.match_length<=5&&(e.strategy===b||e.match_length===j&&e.strstart-e.match_start>4096)&&(e.match_length=j-1)),e.prev_length>=j&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-j,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-j),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=j-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return W}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return W}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<j-1?e.strstart:j-1,t===d?(te(e,!0),0===e.strm.avail_out?K:q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:V}function ue(e,t){for(var n,r,i,s,a=e.window;;){if(e.lookahead<=P){if(se(e),e.lookahead<=P&&t===c)return W;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=j&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=e.strstart+P;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=P-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=j?(n=o._tr_tally(e,1,e.match_length-j),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?K:q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:V}function he(e,t){for(var n;;){if(0===e.lookahead&&(se(e),0===e.lookahead)){if(t===c)return W;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?K:q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:V}function de(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function fe(e){e.window_size=2*e.w_size,$(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=j-1,e.match_available=0,e.ins_h=0}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*M),this.dyn_dtree=new i.Buf16(2*(2*D+1)),this.bl_tree=new i.Buf16(2*(2*O+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(F+1),this.heap=new i.Buf16(2*T+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*T+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pe(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=C,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?N:G,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),g):J(e,m)}function me(e){var t=pe(e);return t===g&&fe(e.state),t}function Ae(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,g):m}function ye(e,t,n,r,o,s){if(!e)return m;var a=1;if(t===v&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>k||n!==S||r<8||r>15||t<0||t>9||s<0||s>E)return J(e,m);8===r&&(r=9);var l=new ge;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+j-1)/j),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,me(e)}function ve(e,t){return ye(e,t,S,B,I,_)}function be(e,t){var n,i,s,l;if(!e||!e.state||t>f||t<0)return e?J(e,m):m;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===H&&t!==d)return J(e,0===e.avail_out?y:m);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===N)if(2===i.wrap)e.adler=0,ne(i,31),ne(i,139),ne(i,8),i.gzhead?(ne(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ne(i,255&i.gzhead.time),ne(i,i.gzhead.time>>8&255),ne(i,i.gzhead.time>>16&255),ne(i,i.gzhead.time>>24&255),ne(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),ne(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(ne(i,255&i.gzhead.extra.length),ne(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=z):(ne(i,0),ne(i,0),ne(i,0),ne(i,0),ne(i,0),ne(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),ne(i,X),i.status=G);else{var A=S+(i.w_bits-8<<4)<<8;A|=(i.strategy>=w||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(A|=L),A+=31-A%31,i.status=G,re(i,A),0!==i.strstart&&(re(i,e.adler>>>16),re(i,65535&e.adler)),e.adler=1}if(i.status===z)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending!==i.pending_buf_size));)ne(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Q)}else i.status=Q;if(i.status===Q)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,ne(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.gzindex=0,i.status=Y)}else i.status=Y;if(i.status===Y)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,ne(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.status=U)}else i.status=U;if(i.status===U&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ee(e),i.pending+2<=i.pending_buf_size&&(ne(i,255&e.adler),ne(i,e.adler>>8&255),e.adler=0,i.status=G)):i.status=G),0!==i.pending){if(ee(e),0===e.avail_out)return i.last_flush=-1,g}else if(0===e.avail_in&&Z(t)<=Z(n)&&t!==d)return J(e,y);if(i.status===H&&0!==e.avail_in)return J(e,y);if(0!==e.avail_in||0!==i.lookahead||t!==c&&i.status!==H){var v=i.strategy===w?he(i,t):i.strategy===x?ue(i,t):r[i.level].func(i,t);if(v!==K&&v!==q||(i.status=H),v===W||v===K)return 0===e.avail_out&&(i.last_flush=-1),g;if(v===V&&(t===u?o._tr_align(i):t!==f&&(o._tr_stored_block(i,0,0,!1),t===h&&($(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ee(e),0===e.avail_out))return i.last_flush=-1,g}return t!==d?g:i.wrap<=0?p:(2===i.wrap?(ne(i,255&e.adler),ne(i,e.adler>>8&255),ne(i,e.adler>>16&255),ne(i,e.adler>>24&255),ne(i,255&e.total_in),ne(i,e.total_in>>8&255),ne(i,e.total_in>>16&255),ne(i,e.total_in>>24&255)):(re(i,e.adler>>>16),re(i,65535&e.adler)),ee(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?g:p)}function we(e){var t;return e&&e.state?(t=e.state.status)!==N&&t!==z&&t!==Q&&t!==Y&&t!==U&&t!==G&&t!==H?J(e,m):(e.state=null,t===G?J(e,A):g):m}function xe(e,t){var n,r,o,a,l,c,u,h,d=t.length;if(!e||!e.state)return m;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==N||n.lookahead)return m;for(1===a&&(e.adler=s(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&($(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,d-n.w_size,n.w_size,0),t=h,d=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,se(n);n.lookahead>=j;){r=n.strstart,o=n.lookahead-(j-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+j-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=j-1,se(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=j-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=a,g}r=[new de(0,0,0,0,ae),new de(4,4,8,4,le),new de(4,5,16,8,le),new de(4,6,32,32,le),new de(4,4,16,16,ce),new de(8,16,32,32,ce),new de(8,16,128,128,ce),new de(8,32,128,256,ce),new de(32,128,258,1024,ce),new de(32,258,258,4096,ce)],n.deflateInit=ve,n.deflateInit2=ye,n.deflateReset=me,n.deflateResetKeep=pe,n.deflateSetHeader=Ae,n.deflate=be,n.deflateEnd=we,n.deflateSetDictionary=xe,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(e,t,n){"use strict";var r=30,i=12;t.exports=function(e,t){var n,o,s,a,l,c,u,h,d,f,g,p,m,A,y,v,b,w,x,E,_,C,S,k,B;n=e.state,o=e.next_in,k=e.input,s=o+(e.avail_in-5),a=e.next_out,B=e.output,l=a-(t-e.avail_out),c=a+(e.avail_out-257),u=n.dmax,h=n.wsize,d=n.whave,f=n.wnext,g=n.window,p=n.hold,m=n.bits,A=n.lencode,y=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{m<15&&(p+=k[o++]<<m,m+=8,p+=k[o++]<<m,m+=8),w=A[p&v];t:for(;;){if(p>>>=x=w>>>24,m-=x,0===(x=w>>>16&255))B[a++]=65535&w;else{if(!(16&x)){if(0===(64&x)){w=A[(65535&w)+(p&(1<<x)-1)];continue t}if(32&x){n.mode=i;break e}e.msg="invalid literal/length code",n.mode=r;break e}E=65535&w,(x&=15)&&(m<x&&(p+=k[o++]<<m,m+=8),E+=p&(1<<x)-1,p>>>=x,m-=x),m<15&&(p+=k[o++]<<m,m+=8,p+=k[o++]<<m,m+=8),w=y[p&b];n:for(;;){if(p>>>=x=w>>>24,m-=x,!(16&(x=w>>>16&255))){if(0===(64&x)){w=y[(65535&w)+(p&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=r;break e}if(_=65535&w,m<(x&=15)&&(p+=k[o++]<<m,(m+=8)<x&&(p+=k[o++]<<m,m+=8)),(_+=p&(1<<x)-1)>u){e.msg="invalid distance too far back",n.mode=r;break e}if(p>>>=x,m-=x,_>(x=a-l)){if((x=_-x)>d&&n.sane){e.msg="invalid distance too far back",n.mode=r;break e}if(C=0,S=g,0===f){if(C+=h-x,x<E){E-=x;do{B[a++]=g[C++]}while(--x);C=a-_,S=B}}else if(f<x){if(C+=h+f-x,(x-=f)<E){E-=x;do{B[a++]=g[C++]}while(--x);if(C=0,f<E){E-=x=f;do{B[a++]=g[C++]}while(--x);C=a-_,S=B}}}else if(C+=f-x,x<E){E-=x;do{B[a++]=g[C++]}while(--x);C=a-_,S=B}for(;E>2;)B[a++]=S[C++],B[a++]=S[C++],B[a++]=S[C++],E-=3;E&&(B[a++]=S[C++],E>1&&(B[a++]=S[C++]))}else{C=a-_;do{B[a++]=B[C++],B[a++]=B[C++],B[a++]=B[C++],E-=3}while(E>2);E&&(B[a++]=B[C++],E>1&&(B[a++]=B[C++]))}break}}break}}while(o<s&&a<c);o-=E=m>>3,p&=(1<<(m-=E<<3))-1,e.next_in=o,e.next_out=a,e.avail_in=o<s?s-o+5:5-(o-s),e.avail_out=a<c?c-a+257:257-(a-c),n.hold=p,n.bits=m}},{}],58:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),l=0,c=1,u=2,h=4,d=5,f=6,g=0,p=1,m=2,A=-2,y=-3,v=-4,b=-5,w=8,x=1,E=2,_=3,C=4,S=5,k=6,B=7,I=8,T=9,D=10,O=11,M=12,F=13,j=14,P=15,R=16,L=17,N=18,z=19,Q=20,Y=21,U=22,G=23,H=24,W=25,V=26,K=27,q=28,X=29,J=30,Z=31,$=852,ee=592,te=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function re(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32($),t.distcode=t.distdyn=new r.Buf32(ee),t.sane=1,t.back=-1,g):A}function oe(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ie(e)):A}function se(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?A:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,oe(e))):A}function ae(e,t){var n,r;return e?(r=new re,e.state=r,r.window=null,(n=se(e,t))!==g&&(e.state=null),n):A}function le(e){return ae(e,te)}var ce,ue,he=!0;function de(e){if(he){var t;for(ce=new r.Buf32(512),ue=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(c,e.lens,0,288,ce,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(u,e.lens,0,32,ue,0,e.work,{bits:5}),he=!1}e.lencode=ce,e.lenbits=9,e.distcode=ue,e.distbits=5}function fe(e,t,n,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),r.arraySet(s.window,t,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,t,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}function ge(e,t){var n,$,ee,te,re,ie,oe,se,ae,le,ce,ue,he,ge,pe,me,Ae,ye,ve,be,we,xe,Ee,_e,Ce=0,Se=new r.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return A;(n=e.state).mode===M&&(n.mode=F),re=e.next_out,ee=e.output,oe=e.avail_out,te=e.next_in,$=e.input,ie=e.avail_in,se=n.hold,ae=n.bits,le=ie,ce=oe,xe=g;e:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=F;break}for(;ae<16;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}if(2&n.wrap&&35615===se){n.check=0,Se[0]=255&se,Se[1]=se>>>8&255,n.check=o(n.check,Se,2,0),se=0,ae=0,n.mode=E;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=J;break}if((15&se)!==w){e.msg="unknown compression method",n.mode=J;break}if(ae-=4,we=8+(15&(se>>>=4)),0===n.wbits)n.wbits=we;else if(we>n.wbits){e.msg="invalid window size",n.mode=J;break}n.dmax=1<<we,e.adler=n.check=1,n.mode=512&se?D:M,se=0,ae=0;break;case E:for(;ae<16;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}if(n.flags=se,(255&n.flags)!==w){e.msg="unknown compression method",n.mode=J;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=J;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Se[0]=255&se,Se[1]=se>>>8&255,n.check=o(n.check,Se,2,0)),se=0,ae=0,n.mode=_;case _:for(;ae<32;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}n.head&&(n.head.time=se),512&n.flags&&(Se[0]=255&se,Se[1]=se>>>8&255,Se[2]=se>>>16&255,Se[3]=se>>>24&255,n.check=o(n.check,Se,4,0)),se=0,ae=0,n.mode=C;case C:for(;ae<16;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Se[0]=255&se,Se[1]=se>>>8&255,n.check=o(n.check,Se,2,0)),se=0,ae=0,n.mode=S;case S:if(1024&n.flags){for(;ae<16;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Se[0]=255&se,Se[1]=se>>>8&255,n.check=o(n.check,Se,2,0)),se=0,ae=0}else n.head&&(n.head.extra=null);n.mode=k;case k:if(1024&n.flags&&((ue=n.length)>ie&&(ue=ie),ue&&(n.head&&(we=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,$,te,ue,we)),512&n.flags&&(n.check=o(n.check,$,ue,te)),ie-=ue,te+=ue,n.length-=ue),n.length))break e;n.length=0,n.mode=B;case B:if(2048&n.flags){if(0===ie)break e;ue=0;do{we=$[te+ue++],n.head&&we&&n.length<65536&&(n.head.name+=String.fromCharCode(we))}while(we&&ue<ie);if(512&n.flags&&(n.check=o(n.check,$,ue,te)),ie-=ue,te+=ue,we)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=I;case I:if(4096&n.flags){if(0===ie)break e;ue=0;do{we=$[te+ue++],n.head&&we&&n.length<65536&&(n.head.comment+=String.fromCharCode(we))}while(we&&ue<ie);if(512&n.flags&&(n.check=o(n.check,$,ue,te)),ie-=ue,te+=ue,we)break e}else n.head&&(n.head.comment=null);n.mode=T;case T:if(512&n.flags){for(;ae<16;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=J;break}se=0,ae=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=M;break;case D:for(;ae<32;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}e.adler=n.check=ne(se),se=0,ae=0,n.mode=O;case O:if(0===n.havedict)return e.next_out=re,e.avail_out=oe,e.next_in=te,e.avail_in=ie,n.hold=se,n.bits=ae,m;e.adler=n.check=1,n.mode=M;case M:if(t===d||t===f)break e;case F:if(n.last){se>>>=7&ae,ae-=7&ae,n.mode=K;break}for(;ae<3;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}switch(n.last=1&se,ae-=1,3&(se>>>=1)){case 0:n.mode=j;break;case 1:if(de(n),n.mode=Q,t===f){se>>>=2,ae-=2;break e}break;case 2:n.mode=L;break;case 3:e.msg="invalid block type",n.mode=J}se>>>=2,ae-=2;break;case j:for(se>>>=7&ae,ae-=7&ae;ae<32;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}if((65535&se)!==(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=J;break}if(n.length=65535&se,se=0,ae=0,n.mode=P,t===f)break e;case P:n.mode=R;case R:if(ue=n.length){if(ue>ie&&(ue=ie),ue>oe&&(ue=oe),0===ue)break e;r.arraySet(ee,$,te,ue,re),ie-=ue,te+=ue,oe-=ue,re+=ue,n.length-=ue;break}n.mode=M;break;case L:for(;ae<14;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}if(n.nlen=257+(31&se),se>>>=5,ae-=5,n.ndist=1+(31&se),se>>>=5,ae-=5,n.ncode=4+(15&se),se>>>=4,ae-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=J;break}n.have=0,n.mode=N;case N:for(;n.have<n.ncode;){for(;ae<3;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}n.lens[ke[n.have++]]=7&se,se>>>=3,ae-=3}for(;n.have<19;)n.lens[ke[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ee={bits:n.lenbits},xe=a(l,n.lens,0,19,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,xe){e.msg="invalid code lengths set",n.mode=J;break}n.have=0,n.mode=z;case z:for(;n.have<n.nlen+n.ndist;){for(;me=(Ce=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,Ae=65535&Ce,!((pe=Ce>>>24)<=ae);){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}if(Ae<16)se>>>=pe,ae-=pe,n.lens[n.have++]=Ae;else{if(16===Ae){for(_e=pe+2;ae<_e;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}if(se>>>=pe,ae-=pe,0===n.have){e.msg="invalid bit length repeat",n.mode=J;break}we=n.lens[n.have-1],ue=3+(3&se),se>>>=2,ae-=2}else if(17===Ae){for(_e=pe+3;ae<_e;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}ae-=pe,we=0,ue=3+(7&(se>>>=pe)),se>>>=3,ae-=3}else{for(_e=pe+7;ae<_e;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}ae-=pe,we=0,ue=11+(127&(se>>>=pe)),se>>>=7,ae-=7}if(n.have+ue>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=J;break}for(;ue--;)n.lens[n.have++]=we}}if(n.mode===J)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=J;break}if(n.lenbits=9,Ee={bits:n.lenbits},xe=a(c,n.lens,0,n.nlen,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,xe){e.msg="invalid literal/lengths set",n.mode=J;break}if(n.distbits=6,n.distcode=n.distdyn,Ee={bits:n.distbits},xe=a(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ee),n.distbits=Ee.bits,xe){e.msg="invalid distances set",n.mode=J;break}if(n.mode=Q,t===f)break e;case Q:n.mode=Y;case Y:if(ie>=6&&oe>=258){e.next_out=re,e.avail_out=oe,e.next_in=te,e.avail_in=ie,n.hold=se,n.bits=ae,s(e,ce),re=e.next_out,ee=e.output,oe=e.avail_out,te=e.next_in,$=e.input,ie=e.avail_in,se=n.hold,ae=n.bits,n.mode===M&&(n.back=-1);break}for(n.back=0;me=(Ce=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,Ae=65535&Ce,!((pe=Ce>>>24)<=ae);){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}if(me&&0===(240&me)){for(ye=pe,ve=me,be=Ae;me=(Ce=n.lencode[be+((se&(1<<ye+ve)-1)>>ye)])>>>16&255,Ae=65535&Ce,!(ye+(pe=Ce>>>24)<=ae);){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}se>>>=ye,ae-=ye,n.back+=ye}if(se>>>=pe,ae-=pe,n.back+=pe,n.length=Ae,0===me){n.mode=V;break}if(32&me){n.back=-1,n.mode=M;break}if(64&me){e.msg="invalid literal/length code",n.mode=J;break}n.extra=15&me,n.mode=U;case U:if(n.extra){for(_e=n.extra;ae<_e;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,ae-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=G;case G:for(;me=(Ce=n.distcode[se&(1<<n.distbits)-1])>>>16&255,Ae=65535&Ce,!((pe=Ce>>>24)<=ae);){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}if(0===(240&me)){for(ye=pe,ve=me,be=Ae;me=(Ce=n.distcode[be+((se&(1<<ye+ve)-1)>>ye)])>>>16&255,Ae=65535&Ce,!(ye+(pe=Ce>>>24)<=ae);){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}se>>>=ye,ae-=ye,n.back+=ye}if(se>>>=pe,ae-=pe,n.back+=pe,64&me){e.msg="invalid distance code",n.mode=J;break}n.offset=Ae,n.extra=15&me,n.mode=H;case H:if(n.extra){for(_e=n.extra;ae<_e;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,ae-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=J;break}n.mode=W;case W:if(0===oe)break e;if(ue=ce-oe,n.offset>ue){if((ue=n.offset-ue)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=J;break}ue>n.wnext?(ue-=n.wnext,he=n.wsize-ue):he=n.wnext-ue,ue>n.length&&(ue=n.length),ge=n.window}else ge=ee,he=re-n.offset,ue=n.length;ue>oe&&(ue=oe),oe-=ue,n.length-=ue;do{ee[re++]=ge[he++]}while(--ue);0===n.length&&(n.mode=Y);break;case V:if(0===oe)break e;ee[re++]=n.length,oe--,n.mode=Y;break;case K:if(n.wrap){for(;ae<32;){if(0===ie)break e;ie--,se|=$[te++]<<ae,ae+=8}if(ce-=oe,e.total_out+=ce,n.total+=ce,ce&&(e.adler=n.check=n.flags?o(n.check,ee,ce,re-ce):i(n.check,ee,ce,re-ce)),ce=oe,(n.flags?se:ne(se))!==n.check){e.msg="incorrect data check",n.mode=J;break}se=0,ae=0}n.mode=q;case q:if(n.wrap&&n.flags){for(;ae<32;){if(0===ie)break e;ie--,se+=$[te++]<<ae,ae+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=J;break}se=0,ae=0}n.mode=X;case X:xe=p;break e;case J:xe=y;break e;case Z:return v;default:return A}return e.next_out=re,e.avail_out=oe,e.next_in=te,e.avail_in=ie,n.hold=se,n.bits=ae,(n.wsize||ce!==e.avail_out&&n.mode<J&&(n.mode<K||t!==h))&&fe(e,e.output,e.next_out,ce-e.avail_out)?(n.mode=Z,v):(le-=e.avail_in,ce-=e.avail_out,e.total_in+=le,e.total_out+=ce,n.total+=ce,n.wrap&&ce&&(e.adler=n.check=n.flags?o(n.check,ee,ce,e.next_out-ce):i(n.check,ee,ce,e.next_out-ce)),e.data_type=n.bits+(n.last?64:0)+(n.mode===M?128:0)+(n.mode===Q||n.mode===P?256:0),(0===le&&0===ce||t===h)&&xe===g&&(xe=b),xe)}function pe(e){if(!e||!e.state)return A;var t=e.state;return t.window&&(t.window=null),e.state=null,g}function me(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?A:(n.head=t,t.done=!1,g):A}function Ae(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==O?A:n.mode===O&&i(1,t,r,0)!==n.check?y:fe(e,t,r,r)?(n.mode=Z,v):(n.havedict=1,g):A}n.inflateReset=oe,n.inflateReset2=se,n.inflateResetKeep=ie,n.inflateInit=le,n.inflateInit2=ae,n.inflate=ge,n.inflateEnd=pe,n.inflateGetHeader=me,n.inflateSetDictionary=Ae,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(e,t,n){"use strict";var r=e("../utils/common"),i=15,o=852,s=592,a=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,g,p,m,A,y){var v,b,w,x,E,_,C,S,k,B=y.bits,I=0,T=0,D=0,O=0,M=0,F=0,j=0,P=0,R=0,L=0,N=null,z=0,Q=new r.Buf16(i+1),Y=new r.Buf16(i+1),U=null,G=0;for(I=0;I<=i;I++)Q[I]=0;for(T=0;T<g;T++)Q[t[n+T]]++;for(M=B,O=i;O>=1&&0===Q[O];O--);if(M>O&&(M=O),0===O)return p[m++]=20971520,p[m++]=20971520,y.bits=1,0;for(D=1;D<O&&0===Q[D];D++);for(M<D&&(M=D),P=1,I=1;I<=i;I++)if(P<<=1,(P-=Q[I])<0)return-1;if(P>0&&(e===a||1!==O))return-1;for(Y[1]=0,I=1;I<i;I++)Y[I+1]=Y[I]+Q[I];for(T=0;T<g;T++)0!==t[n+T]&&(A[Y[t[n+T]]++]=T);if(e===a?(N=U=A,_=19):e===l?(N=u,z-=257,U=h,G-=257,_=256):(N=d,U=f,_=-1),L=0,T=0,I=D,E=m,F=M,j=0,w=-1,x=(R=1<<M)-1,e===l&&R>o||e===c&&R>s)return 1;for(;;){C=I-j,A[T]<_?(S=0,k=A[T]):A[T]>_?(S=U[G+A[T]],k=N[z+A[T]]):(S=96,k=0),v=1<<I-j,D=b=1<<F;do{p[E+(L>>j)+(b-=v)]=C<<24|S<<16|k}while(0!==b);for(v=1<<I-1;L&v;)v>>=1;if(0!==v?(L&=v-1,L+=v):L=0,T++,0===--Q[I]){if(I===O)break;I=t[n+A[T]]}if(I>M&&(L&x)!==w){for(0===j&&(j=M),E+=D,P=1<<(F=I-j);F+j<O&&!((P-=Q[F+j])<=0);)F++,P<<=1;if(R+=1<<F,e===l&&R>o||e===c&&R>s)return 1;p[w=L&x]=M<<24|F<<16|E-m}}return 0!==L&&(p[E+L]=I-j<<24|64<<16),y.bits=M,0}},{"../utils/common":52}],60:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(e,t,n){"use strict";var r=e("../utils/common"),i=4,o=0,s=1,a=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,u=1,h=2,d=3,f=258,g=29,p=256,m=p+1+g,A=30,y=19,v=2*m+1,b=15,w=16,x=7,E=256,_=16,C=17,S=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=512,O=new Array(2*(m+2));l(O);var M=new Array(2*A);l(M);var F=new Array(D);l(F);var j=new Array(f-d+1);l(j);var P=new Array(g);l(P);var R,L,N,z=new Array(A);function Q(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function Y(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function U(e){return e<256?F[e]:F[256+(e>>>7)]}function G(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function H(e,t,n){e.bi_valid>w-n?(e.bi_buf|=t<<e.bi_valid&65535,G(e,e.bi_buf),e.bi_buf=t>>w-e.bi_valid,e.bi_valid+=n-w):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function W(e,t,n){H(e,n[2*t],n[2*t+1])}function V(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function K(e){16===e.bi_valid?(G(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function q(e,t){var n,r,i,o,s,a,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,g=t.stat_desc.max_length,p=0;for(o=0;o<=b;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<v;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>g&&(o=g,p++),l[2*r+1]=o,r>c||(e.bl_count[o]++,s=0,r>=f&&(s=d[r-f]),a=l[2*r],e.opt_len+=a*(o+s),h&&(e.static_len+=a*(u[2*r+1]+s)));if(0!==p){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,p-=2}while(p>0);for(o=g;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>c||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}function X(e,t,n){var r,i,o=new Array(b+1),s=0;for(r=1;r<=b;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=V(o[a]++,a))}}function J(){var e,t,n,r,i,o=new Array(b+1);for(n=0,r=0;r<g-1;r++)for(P[r]=n,e=0;e<1<<k[r];e++)j[n++]=r;for(j[n-1]=r,i=0,r=0;r<16;r++)for(z[r]=i,e=0;e<1<<B[r];e++)F[i++]=r;for(i>>=7;r<A;r++)for(z[r]=i<<7,e=0;e<1<<B[r]-7;e++)F[256+i++]=r;for(t=0;t<=b;t++)o[t]=0;for(e=0;e<=143;)O[2*e+1]=8,e++,o[8]++;for(;e<=255;)O[2*e+1]=9,e++,o[9]++;for(;e<=279;)O[2*e+1]=7,e++,o[7]++;for(;e<=287;)O[2*e+1]=8,e++,o[8]++;for(X(O,m+1,o),e=0;e<A;e++)M[2*e+1]=5,M[2*e]=V(e,5);R=new Q(O,k,p+1,m,b),L=new Q(M,B,0,A,b),N=new Q(new Array(0),I,0,y,x)}function Z(e){var t;for(t=0;t<m;t++)e.dyn_ltree[2*t]=0;for(t=0;t<A;t++)e.dyn_dtree[2*t]=0;for(t=0;t<y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*E]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function $(e){e.bi_valid>8?G(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,i){$(e),i&&(G(e,n),G(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function ne(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!te(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function re(e,t,n){var r,i,o,s,a=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===r?W(e,i,t):(W(e,(o=j[i])+p+1,t),0!==(s=k[o])&&H(e,i-=P[o],s),W(e,o=U(--r),n),0!==(s=B[o])&&H(e,r-=z[o],s))}while(a<e.last_lit);W(e,E,t)}function ie(e,t){var n,r,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=v,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)ne(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,ne(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],q(e,t),X(o,c,e.bl_count)}function oe(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<l&&i===s||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*_]++):a<=10?e.bl_tree[2*C]++:e.bl_tree[2*S]++,a=0,o=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4))}function se(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<l&&i===s)){if(a<c)do{W(e,i,e.bl_tree)}while(0!==--a);else 0!==i?(i!==o&&(W(e,i,e.bl_tree),a--),W(e,_,e.bl_tree),H(e,a-3,2)):a<=10?(W(e,C,e.bl_tree),H(e,a-3,3)):(W(e,S,e.bl_tree),H(e,a-11,7));a=0,o=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4)}}function ae(e){var t;for(oe(e,e.dyn_ltree,e.l_desc.max_code),oe(e,e.dyn_dtree,e.d_desc.max_code),ie(e,e.bl_desc),t=y-1;t>=3&&0===e.bl_tree[2*T[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function le(e,t,n,r){var i;for(H(e,t-257,5),H(e,n-1,5),H(e,r-4,4),i=0;i<r;i++)H(e,e.bl_tree[2*T[i]+1],3);se(e,e.dyn_ltree,t-1),se(e,e.dyn_dtree,n-1)}function ce(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<p;t++)if(0!==e.dyn_ltree[2*t])return s;return o}l(z);var ue=!1;function he(e){ue||(J(),ue=!0),e.l_desc=new Y(e.dyn_ltree,R),e.d_desc=new Y(e.dyn_dtree,L),e.bl_desc=new Y(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,Z(e)}function de(e,t,n,r){H(e,(c<<1)+(r?1:0),3),ee(e,t,n,!0)}function fe(e){H(e,u<<1,3),W(e,E,O),K(e)}function ge(e,t,n,r){var o,s,l=0;e.level>0?(e.strm.data_type===a&&(e.strm.data_type=ce(e)),ie(e,e.l_desc),ie(e,e.d_desc),l=ae(e),o=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=o&&(o=s)):o=s=n+5,n+4<=o&&-1!==t?de(e,t,n,r):e.strategy===i||s===o?(H(e,(u<<1)+(r?1:0),3),re(e,O,M)):(H(e,(h<<1)+(r?1:0),3),le(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),re(e,e.dyn_ltree,e.dyn_dtree)),Z(e),r&&$(e)}function pe(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(j[n]+p+1)]++,e.dyn_dtree[2*U(t)]++),e.last_lit===e.lit_bufsize-1}n._tr_init=he,n._tr_stored_block=de,n._tr_flush_block=ge,n._tr_tally=pe,n._tr_align=fe},{"../utils/common":52}],62:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],63:[function(e,t,n){var r,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,h=[],d=!1,f=-1;function g(){d&&u&&(d=!1,u.length?h=u.concat(h):f=-1,h.length&&p())}function p(){if(!d){var e=l(g);d=!0;for(var t=h.length;t;){for(u=h,h=[];++f<t;)u&&u[f].run();f=-1,t=h.length}u=null,d=!1,c(e)}}function m(e,t){this.fun=e,this.array=t}function A(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new m(e,t)),1!==h.length||d||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=A,o.addListener=A,o.once=A,o.off=A,o.removeListener=A,o.removeAllListeners=A,o.emit=A,o.prependListener=A,o.prependOnceListener=A,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],64:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:32}],65:[function(e,t,n){t.exports=i;var r=e("events").EventEmitter;function i(){r.call(this)}e("inherits")(i,r),i.Readable=e("readable-stream/lib/_stream_readable.js"),i.Writable=e("readable-stream/lib/_stream_writable.js"),i.Duplex=e("readable-stream/lib/_stream_duplex.js"),i.Transform=e("readable-stream/lib/_stream_transform.js"),i.PassThrough=e("readable-stream/lib/_stream_passthrough.js"),i.finished=e("readable-stream/lib/internal/streams/end-of-stream.js"),i.pipeline=e("readable-stream/lib/internal/streams/pipeline.js"),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",l));var s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i={};function o(e,t,n){function o(e,n,r){return"string"===typeof t?t:t(e,n,r)}n||(n=Error);var s=function(e){function t(t,n,r){return e.call(this,o(t,n,r))||this}return r(t,e),t}(n);s.prototype.name=n.name,s.prototype.code=e,i[e]=s}function s(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function a(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function l(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function c(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}o("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(e,t,n){var r,i;if("string"===typeof t&&a(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",l(e," argument"))i="The ".concat(e," ").concat(r," ").concat(s(t,"type"));else{var o=c(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(r," ").concat(s(t,"type"))}return i+=". Received type ".concat(typeof n)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],67:[function(e,t,n){(function(n){(function(){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=c;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(c,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var l=s[a];c.prototype[l]||(c.prototype[l]=o.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":70,inherits:46}],69:[function(e,t,r){(function(n,r){(function(){"use strict";var i;t.exports=B,B.ReadableState=k,e("events").EventEmitter;var o=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),a=e("buffer").Buffer,l=r.Uint8Array||function(){};function c(e){return a.from(e)}function u(e){return a.isBuffer(e)||e instanceof l}var h,d=e("util");h=d&&d.debuglog?d.debuglog("stream"):function(){};var f,g,p,m=e("./internal/streams/buffer_list"),A=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,v=e("../errors").codes,b=v.ERR_INVALID_ARG_TYPE,w=v.ERR_STREAM_PUSH_AFTER_EOF,x=v.ERR_METHOD_NOT_IMPLEMENTED,E=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(B,s);var _=A.errorOrDestroy,C=["error","close","destroy","pause","resume"];function S(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function k(t,n,r){i=i||e("./_stream_duplex"),t=t||{},"boolean"!==typeof r&&(r=n instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=y(this,t,"readableHighWaterMark",r),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=e("string_decoder/").StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function B(t){if(i=i||e("./_stream_duplex"),!(this instanceof B))return new B(t);var n=this instanceof i;this._readableState=new k(t,this,n),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function I(e,t,n,r,i){h("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,j(e,s);else if(i||(o=D(s,t)),o)_(e,o);else if(s.objectMode||t&&t.length>0)if("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=c(t)),r)s.endEmitted?_(e,new E):T(e,s,t,!0);else if(s.ended)_(e,new w);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?T(e,s,t,!1):L(e,s)):T(e,s,t,!1)}else r||(s.reading=!1,L(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&P(e)),L(e,t)}function D(e,t){var n;return u(t)||"string"===typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),B.prototype.destroy=A.destroy,B.prototype._undestroy=A.undestroy,B.prototype._destroy=function(e,t){t(e)},B.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),I(this,e,t,!1,n)},B.prototype.unshift=function(e){return I(this,e,null,!0,!1)},B.prototype.isPaused=function(){return!1===this._readableState.flowing},B.prototype.setEncoding=function(t){f||(f=e("string_decoder/").StringDecoder);var n=new f(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var O=1073741824;function M(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function F(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=M(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function j(e,t){if(h("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}}function P(e){var t=e._readableState;h("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(R,e))}function R(e){var t=e._readableState;h("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,H(e)}function L(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(h("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function z(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,H(e))}}function Q(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function Y(e){h("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(G,e,t))}function G(e,t){h("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),H(e),t.flowing&&!t.reading&&e.read(0)}function H(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function W(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function V(e){var t=e._readableState;h("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(K,t,e))}function K(e,t){if(h("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function q(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}B.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?V(this):P(this),null;if(0===(e=F(e,t))&&t.ended)return 0===t.length&&V(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=F(n,t))),null===(r=e>0?W(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&V(this)),null!==r&&this.emit("data",r),r},B.prototype._read=function(e){_(this,new x("_read()"))},B.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===n.stdout||e===n.stderr?A:l;function a(e,t){h("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function l(){h("onend"),e.end()}i.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",a);var c=z(r);e.on("drain",c);var u=!1;function d(){h("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",g),e.removeListener("unpipe",a),r.removeListener("end",l),r.removeListener("end",A),r.removeListener("data",f),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function f(t){h("ondata");var n=e.write(t);h("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==q(i.pipes,e))&&!u&&(h("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function g(t){h("onerror",t),A(),e.removeListener("error",g),0===o(e,"error")&&_(e,t)}function p(){e.removeListener("finish",m),A()}function m(){h("onfinish"),e.removeListener("close",p),A()}function A(){h("unpipe"),r.unpipe(e)}return r.on("data",f),S(e,"error",g),e.once("close",p),e.once("finish",m),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},B.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=q(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},B.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,h("on readable",i.length,i.reading),i.length?P(this):i.reading||n.nextTick(Y,this))),r},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(Q,this),r},B.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(Q,this),t},B.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!e.readableListening,U(this,e)),e.paused=!1,this},B.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},B.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<C.length;o++)e.on(C[o],this.emit.bind(this,C[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(B.prototype[Symbol.asyncIterator]=function(){return void 0===g&&(g=e("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),B._fromList=W,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(B.from=function(t,n){return void 0===p&&(p=e("./internal/streams/from")),p(B,t,n)})}).call(this)}).call(this,e("_process"),"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(e,t,n){"use strict";t.exports=u;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,n){d(e,t,n)})}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e("inherits")(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(e,t,r){(function(n,r){(function(){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){G(t,e)}}var o;t.exports=k,k.WritableState=S;var s={deprecate:e("util-deprecate")},a=e("./internal/streams/stream"),l=e("buffer").Buffer,c=r.Uint8Array||function(){};function u(e){return l.from(e)}function h(e){return l.isBuffer(e)||e instanceof c}var d,f=e("./internal/streams/destroy"),g=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,m=p.ERR_INVALID_ARG_TYPE,A=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,x=p.ERR_STREAM_WRITE_AFTER_END,E=p.ERR_UNKNOWN_ENCODING,_=f.errorOrDestroy;function C(){}function S(t,n,r){o=o||e("./_stream_duplex"),t=t||{},"boolean"!==typeof r&&(r=n instanceof o),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=g(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){j(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function k(t){var n=this instanceof(o=o||e("./_stream_duplex"));if(!n&&!d.call(k,this))return new k(t);this._writableState=new S(t,this,n),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),a.call(this)}function B(e,t){var r=new x;_(e,r),n.nextTick(t,r)}function I(e,t,r,i){var o;return null===r?o=new w:"string"===typeof r||t.objectMode||(o=new m("chunk",["string","Buffer"],r)),!o||(_(e,o),n.nextTick(i,o),!1)}function T(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=l.from(t,n)),t}function D(e,t,n,r,i,o){if(!n){var s=T(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else O(e,t,!1,a,r,i,o);return l}function O(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function M(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(Y,e,t),e._writableState.errorEmitted=!0,_(e,i)):(o(i),e._writableState.errorEmitted=!0,_(e,i),Y(e,t))}function F(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function j(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!==typeof o)throw new y;if(F(r),t)M(e,r,i,t,o);else{var s=N(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||L(e,r),i?n.nextTick(P,e,r,s,o):P(e,r,s,o)}}function P(e,t,n,r){n||R(e,t),t.pendingcb--,r(),Y(e,t)}function R(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function L(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;)o[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;o.allBuffers=l,O(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,h=n.callback;if(O(e,t,!1,t.objectMode?1:c.length,c,u,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function N(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function z(e,t){e._final(function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),Y(e,t)})}function Q(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(z,e,t)))}function Y(e,t){var n=N(t);if(n&&(Q(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}function U(e,t,r){t.ending=!0,Y(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function G(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}e("inherits")(k,a),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===k&&e&&e._writableState instanceof S}})):d=function(e){return e instanceof this},k.prototype.pipe=function(){_(this,new v)},k.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!l.isBuffer(e)&&(e=u(e)),"function"===typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=C),r.ending?B(this,n):(o||I(this,r,e,n))&&(r.pendingcb++,i=D(this,r,o,e,t,n)),i},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||L(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,n){n(new A("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||U(this,r,n),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=f.destroy,k.prototype._undestroy=f.undestroy,k.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(e,t,n){(function(n){(function(){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=e("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var n=e[d].read();null!==n&&(e[u]=null,e[s]=null,e[a]=null,t(f(n,!1)))}}function p(e){n.nextTick(g,e)}function m(e,t){return function(n,r){e.then(function(){t[c]?n(f(void 0,!0)):t[h](n,r)},r)}}var A=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise(function(t,r){n.nextTick(function(){e[l]?r(e[l]):t(f(void 0,!0))})});var r,i=this[u];if(i)r=new Promise(m(i,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(f(o,!1));r=new Promise(this[h])}return this[u]=r,r}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var e=this;return new Promise(function(t,n){e[d].destroy(null,function(e){e?n(e):t(f(void 0,!0))})})}),r),A),v=function(e){var t,n=Object.create(y,(i(t={},d,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[d].read();r?(n[u]=null,n[s]=null,n[a]=null,e(f(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[u]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[u]=null,n[s]=null,n[a]=null,t(e)),void(n[l]=e)}var r=n[s];null!==r&&(n[u]=null,n[s]=null,n[a]=null,r(f(void 0,!0))),n[c]=!0}),e.on("readable",p.bind(null,n)),n};t.exports=v}).call(this)}).call(this,e("_process"))},{"./end-of-stream":75,_process:63}],73:[function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var c=e("buffer").Buffer,u=e("util").inspect,h=u&&u.custom||"inspect";function d(e,t,n){c.prototype.copy.call(e,t,n)}t.exports=function(){function e(){s(this,e),this.head=null,this.tail=null,this.length=0}return l(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t=c.allocUnsafe(e>>>0),n=this.head,r=0;n;)d(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:h,value:function(e,t){return u(this,i({},t,{depth:0,customInspect:!1}))}}]),e}()},{buffer:32,util:29}],74:[function(e,t,n){(function(e){(function(){"use strict";function n(t,n){var o=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(n?n(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(s,this,t)):e.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!n&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(i,o):(o._writableState.errorEmitted=!0,e.nextTick(r,o,t)):e.nextTick(r,o,t):n?(e.nextTick(i,o),n(t)):e.nextTick(i,o)}),this)}function r(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(e,t){e.emit("error",t)}function a(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}t.exports={destroy:n,undestroy:o,errorOrDestroy:a}}).call(this)}).call(this,e("_process"))},{_process:63}],75:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function o(){}function s(e){return e.setHeader&&"function"===typeof e.abort}function a(e,t,n){if("function"===typeof t)return a(e,null,t);t||(t={}),n=i(n||o);var l=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||d()},h=e._writableState&&e._writableState.finished,d=function(){c=!1,h=!0,l||n.call(e)},f=e._readableState&&e._readableState.endEmitted,g=function(){l=!1,f=!0,c||n.call(e)},p=function(t){n.call(e,t)},m=function(){var t;return l&&!f?(e._readableState&&e._readableState.ended||(t=new r),n.call(e,t)):c&&!h?(e._writableState&&e._writableState.ended||(t=new r),n.call(e,t)):void 0},A=function(){e.req.on("finish",d)};return s(e)?(e.on("complete",d),e.on("abort",m),e.req?A():e.on("request",A)):c&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",g),e.on("finish",d),!1!==t.error&&e.on("error",p),e.on("close",m),function(){e.removeListener("complete",d),e.removeListener("abort",m),e.removeListener("request",A),e.req&&e.req.removeListener("finish",d),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("end",g),e.removeListener("error",p),e.removeListener("close",m)}}t.exports=a},{"../../../errors":66}],76:[function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(e,t,n){"use strict";var r;function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var o=e("../../../errors").codes,s=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function l(e){if(e)throw e}function c(e){return e.setHeader&&"function"===typeof e.abort}function u(t,n,o,s){s=i(s);var l=!1;t.on("close",function(){l=!0}),void 0===r&&(r=e("./end-of-stream")),r(t,{readable:n,writable:o},function(e){if(e)return s(e);l=!0,s()});var u=!1;return function(e){if(!l&&!u)return u=!0,c(t)?t.abort():"function"===typeof t.destroy?t.destroy():void s(e||new a("pipe"))}}function h(e){e()}function d(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?l:e.pop():l}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map(function(e,n){var s=n<t.length-1;return u(e,s,n>0,function(e){r||(r=e),e&&o.forEach(h),s||(o.forEach(h),i(r))})});return t.reduce(d)}t.exports=g},{"../../../errors":66,"./end-of-stream":75}],78:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function i(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}function o(e,t,n,o){var s=i(t,o,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new r(o?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}t.exports={getHighWaterMark:o}},{"../../../errors":66}],79:[function(e,t,n){t.exports=e("events").EventEmitter},{events:35}],80:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function s(e){var t=o(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function a(e){var t;switch(this.encoding=s(e),this.encoding){case"utf16le":this.text=g,this.end=p,t=4;break;case"utf8":this.fillLast=h,t=4;break;case"base64":this.text=m,this.end=A,t=3;break;default:return this.write=y,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function l(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function c(e,t,n){var r=t.length-1;if(r<n)return 0;var i=l(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=l(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=l(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function u(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}function h(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function d(e,t){var n=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t}function g(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function p(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function m(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function A(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function y(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}n.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=f,a.prototype.text=d,a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":64}],81:[function(e,t,r){(function(e){(function(){function n(e,t){if(r("noDeprecation"))return e;var n=!1;function i(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return i}function r(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(this)}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],82:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],83:[function(e,t,n){"use strict";var r=e("is-arguments"),i=e("is-generator-function"),o=e("which-typed-array"),s=e("is-typed-array");function a(e){return e.call.bind(e)}var l="undefined"!==typeof BigInt,c="undefined"!==typeof Symbol,u=a(Object.prototype.toString),h=a(Number.prototype.valueOf),d=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(l)var g=a(BigInt.prototype.valueOf);if(c)var p=a(Symbol.prototype.valueOf);function m(e,t){if("object"!==typeof e)return!1;try{return t(e),!0}catch(n){return!1}}function A(e){return"undefined"!==typeof Promise&&e instanceof Promise||null!==e&&"object"===typeof e&&"function"===typeof e.then&&"function"===typeof e.catch}function y(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||Q(e)}function v(e){return"Uint8Array"===o(e)}function b(e){return"Uint8ClampedArray"===o(e)}function w(e){return"Uint16Array"===o(e)}function x(e){return"Uint32Array"===o(e)}function E(e){return"Int8Array"===o(e)}function _(e){return"Int16Array"===o(e)}function C(e){return"Int32Array"===o(e)}function S(e){return"Float32Array"===o(e)}function k(e){return"Float64Array"===o(e)}function B(e){return"BigInt64Array"===o(e)}function I(e){return"BigUint64Array"===o(e)}function T(e){return"[object Map]"===u(e)}function D(e){return"undefined"!==typeof Map&&(T.working?T(e):e instanceof Map)}function O(e){return"[object Set]"===u(e)}function M(e){return"undefined"!==typeof Set&&(O.working?O(e):e instanceof Set)}function F(e){return"[object WeakMap]"===u(e)}function j(e){return"undefined"!==typeof WeakMap&&(F.working?F(e):e instanceof WeakMap)}function P(e){return"[object WeakSet]"===u(e)}function R(e){return P(e)}function L(e){return"[object ArrayBuffer]"===u(e)}function N(e){return"undefined"!==typeof ArrayBuffer&&(L.working?L(e):e instanceof ArrayBuffer)}function z(e){return"[object DataView]"===u(e)}function Q(e){return"undefined"!==typeof DataView&&(z.working?z(e):e instanceof DataView)}n.isArgumentsObject=r,n.isGeneratorFunction=i,n.isTypedArray=s,n.isPromise=A,n.isArrayBufferView=y,n.isUint8Array=v,n.isUint8ClampedArray=b,n.isUint16Array=w,n.isUint32Array=x,n.isInt8Array=E,n.isInt16Array=_,n.isInt32Array=C,n.isFloat32Array=S,n.isFloat64Array=k,n.isBigInt64Array=B,n.isBigUint64Array=I,T.working="undefined"!==typeof Map&&T(new Map),n.isMap=D,O.working="undefined"!==typeof Set&&O(new Set),n.isSet=M,F.working="undefined"!==typeof WeakMap&&F(new WeakMap),n.isWeakMap=j,P.working="undefined"!==typeof WeakSet&&P(new WeakSet),n.isWeakSet=R,L.working="undefined"!==typeof ArrayBuffer&&L(new ArrayBuffer),n.isArrayBuffer=N,z.working="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView&&z(new DataView(new ArrayBuffer(1),0,1)),n.isDataView=Q;var Y="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function U(e){return"[object SharedArrayBuffer]"===u(e)}function G(e){return"undefined"!==typeof Y&&("undefined"===typeof U.working&&(U.working=U(new Y)),U.working?U(e):e instanceof Y)}function H(e){return"[object AsyncFunction]"===u(e)}function W(e){return"[object Map Iterator]"===u(e)}function V(e){return"[object Set Iterator]"===u(e)}function K(e){return"[object Generator]"===u(e)}function q(e){return"[object WebAssembly.Module]"===u(e)}function X(e){return m(e,h)}function J(e){return m(e,d)}function Z(e){return m(e,f)}function $(e){return l&&m(e,g)}function ee(e){return c&&m(e,p)}function te(e){return X(e)||J(e)||Z(e)||$(e)||ee(e)}function ne(e){return"undefined"!==typeof Uint8Array&&(N(e)||G(e))}n.isSharedArrayBuffer=G,n.isAsyncFunction=H,n.isMapIterator=W,n.isSetIterator=V,n.isGeneratorObject=K,n.isWebAssemblyCompiledModule=q,n.isNumberObject=X,n.isStringObject=J,n.isBooleanObject=Z,n.isBigIntObject=$,n.isSymbolObject=ee,n.isBoxedPrimitive=te,n.isAnyArrayBuffer=ne,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(n,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(e,t,n){(function(t){(function(){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;n.format=function(e){if(!E(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(l(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])b(a)||!k(a)?s+=" "+a:s+=" "+l(a);return s},n.deprecate=function(e,r){if("undefined"!==typeof t&&!0===t.noDeprecation)return e;if("undefined"===typeof t)return function(){return n.deprecate(e,r).apply(this,arguments)};var i=!1;function o(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}return o};var o={},s=/^$/;if(t.env.NODE_DEBUG){var a=t.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}function l(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(t)?r.showHidden=t:t&&n._extend(r,t),C(r.showHidden)&&(r.showHidden=!1),C(r.depth)&&(r.depth=2),C(r.colors)&&(r.colors=!1),C(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),d(r,e,r.depth)}function c(e,t){var n=l.styles[t];return n?"\x1b["+l.colors[n][0]+"m"+e+"\x1b["+l.colors[n][1]+"m":e}function u(e,t){return e}function h(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function d(e,t,r){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return E(i)||(i=d(e,i,r)),i}var o=f(e,t);if(o)return o;var s=Object.keys(t),a=h(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),I(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return g(t);if(0===s.length){if(T(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(S(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(B(t))return e.stylize(Date.prototype.toString.call(t),"date");if(I(t))return g(t)}var c,u="",v=!1,b=["{","}"];return y(t)&&(v=!0,b=["[","]"]),T(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),S(t)&&(u=" "+RegExp.prototype.toString.call(t)),B(t)&&(u=" "+Date.prototype.toUTCString.call(t)),I(t)&&(u=" "+g(t)),0!==s.length||v&&0!=t.length?r<0?S(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=v?p(e,t,r,a,s):s.map(function(n){return m(e,t,r,a,n,v)}),e.seen.pop(),A(c,u,b)):b[0]+u+b[1]}function f(e,t){if(C(t))return e.stylize("undefined","undefined");if(E(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return x(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function g(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)P(t,String(s))?o.push(m(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(m(e,t,n,r,i,!0))}),o}function m(e,t,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),P(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=b(n)?d(e,l.value,null):d(e,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").slice(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),C(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function A(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function y(e){return Array.isArray(e)}function v(e){return"boolean"===typeof e}function b(e){return null===e}function w(e){return null==e}function x(e){return"number"===typeof e}function E(e){return"string"===typeof e}function _(e){return"symbol"===typeof e}function C(e){return void 0===e}function S(e){return k(e)&&"[object RegExp]"===O(e)}function k(e){return"object"===typeof e&&null!==e}function B(e){return k(e)&&"[object Date]"===O(e)}function I(e){return k(e)&&("[object Error]"===O(e)||e instanceof Error)}function T(e){return"function"===typeof e}function D(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function O(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}n.debuglog=function(e){if(e=e.toUpperCase(),!o[e])if(s.test(e)){var r=t.pid;o[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},n.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.types=e("./support/types"),n.isArray=y,n.isBoolean=v,n.isNull=b,n.isNullOrUndefined=w,n.isNumber=x,n.isString=E,n.isSymbol=_,n.isUndefined=C,n.isRegExp=S,n.types.isRegExp=S,n.isObject=k,n.isDate=B,n.types.isDate=B,n.isError=I,n.types.isNativeError=I,n.isFunction=T,n.isPrimitive=D,n.isBuffer=e("./support/isBuffer");var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.log=function(){console.log("%s - %s",j(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var R="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function L(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function N(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(s.bind(null,null,e))},function(e){t.nextTick(L.bind(null,e,s))})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}n.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t;if("function"!==typeof(t=e[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(s){n(s)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},n.promisify.custom=R,n.callbackify=N}).call(this)}).call(this,e("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(e,t,r){(function(n){(function(){"use strict";var r=e("for-each"),i=e("available-typed-arrays"),o=e("call-bind/callBound"),s=e("gopd"),a=o("Object.prototype.toString"),l=e("has-tostringtag/shams")(),c="undefined"===typeof globalThis?n:globalThis,u=i(),h=o("String.prototype.slice"),d={},f=Object.getPrototypeOf;l&&s&&f&&r(u,function(e){if("function"===typeof c[e]){var t=new c[e];if(Symbol.toStringTag in t){var n=f(t),r=s(n,Symbol.toStringTag);if(!r){var i=f(n);r=s(i,Symbol.toStringTag)}d[e]=r.get}}});var g=function(e){var t=!1;return r(d,function(n,r){if(!t)try{var i=n.call(e);i===r&&(t=i)}catch(o){}}),t},p=e("is-typed-array");t.exports=function(e){return!!p(e)&&(l&&Symbol.toStringTag in e?g(e):h(a(e),8,-1))}}).call(this)}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20)},288(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),g=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,A={};function y(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray;function E(){}var _={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function S(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var B=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return T((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+I(e,0):o,x(s)?(i="",null!=u&&(i=u.replace(B,"$&/")+"/"),T(s,t,i,"",function(e){return e})):null!=s&&(k(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(B,"$&/")+"/")+u,s=S(l.type,c,l.props)),t.push(s)),1;u=0;var h,f=""===o?".":o+":";if(x(e))for(var p=0;p<e.length;p++)u+=T(o=e[p],t,i,a=f+I(o,p),s);else if("function"===typeof(p=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=g&&h[g]||h["@@iterator"])?h:null))for(e=p.call(e),p=0;!(o=e.next()).done;)u+=T(o=o.value,t,i,a=f+I(o,p++),s);else if("object"===a){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},F={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=F,t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)!C.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return S(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return S(e,o,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(E,M)}catch(o){M(o)}finally{null!==t&&null!==n.types&&(t.types=n.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.3"},391(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){"use strict";e.exports=n(799)},672(e,t,n){"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853(e,t,n){"use strict";e.exports=n(896)},896(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,g=!1,p=!1,m=!1,A=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(m=!1,w(e),!p)if(null!==r(c))p=!0,_||(_=!0,E());else{var t=r(u);null!==t&&O(x,t.startTime-e)}}var E,_=!1,C=-1,S=5,k=-1;function B(){return!!A||!(t.unstable_now()-k<S)}function I(){if(A=!1,_){var e=t.unstable_now();k=e;var n=!0;try{e:{p=!1,m&&(m=!1,v(C),C=-1),g=!0;var o=f;try{t:{for(w(e),d=r(c);null!==d&&!(d.expirationTime>e&&B());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,w(e),n=!0;break t}d===r(c)&&i(c),w(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&O(x,l.startTime-e),n=!1}}break e}finally{d=null,f=o,g=!1}n=void 0}}finally{n?E():_=!1}}}if("function"===typeof b)E=function(){b(I)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,D=T.port2;T.port1.onmessage=I,E=function(){D.postMessage(null)}}else E=function(){y(I,0)};function O(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(v(C),C=-1):m=!0,O(x,o-s))):(e.sortIndex=a,n(c,e),p||g||(p=!0,_||(_=!0,E()))),e},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},936(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},f.apply(this,arguments)}function g(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var p=function(e){return!(!e||!e.Window)&&e instanceof e.Window},m=void 0,A=void 0;function y(e){m=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(t)===t&&(e=e.wrap(e)),A=e}function v(e){return p(e)?e:(e.ownerDocument||e).defaultView||A.window}"undefined"!=typeof window&&window&&y(window);var b=function(e){return!!e&&"object"===r(e)},w=function(e){return"function"==typeof e},x={window:function(e){return e===A||p(e)},docFrag:function(e){return b(e)&&11===e.nodeType},object:b,func:w,number:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e},string:function(e){return"string"==typeof e},element:function(e){if(!e||"object"!==r(e))return!1;var t=v(e)||A;return/object|function/.test("undefined"==typeof Element?"undefined":r(Element))?e instanceof Element||e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName},plainObject:function(e){return b(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return b(e)&&void 0!==e.length&&w(e.splice)}};function E(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.prepared.axis;"x"===n?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):"y"===n&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function _(e){var t=e.iEvent,n=e.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var i="x"===r?"y":"x";t.page[i]=n.coords.start.page[i],t.client[i]=n.coords.start.client[i],t.delta[i]=0}}}var C={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.draggable=C.draggable,t.map.drag=C,t.methodDict.drag="draggable",r.actions.drag=C.defaults},listeners:{"interactions:before-action-move":E,"interactions:action-resume":E,"interactions:action-move":_,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.buttons,i=n.options.drag;if(i&&i.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(r&n.options.drag.mouseButtons)))return e.action={name:"drag",axis:"start"===i.lockAxis?i.startAxis:i.lockAxis},!1}},draggable:function(e){return x.object(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):x.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:E,move:_,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(e){return 0===e.search("drag")}},S=C,k={init:function(e){var t=e;k.document=t.document,k.DocumentFragment=t.DocumentFragment||B,k.SVGElement=t.SVGElement||B,k.SVGSVGElement=t.SVGSVGElement||B,k.SVGElementInstance=t.SVGElementInstance||B,k.Element=t.Element||B,k.HTMLElement=t.HTMLElement||k.Element,k.Event=t.Event,k.Touch=t.Touch||B,k.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function B(){}var I=k,T={init:function(e){var t=I.Element,n=e.navigator||{};T.supportsTouch="ontouchstart"in e||x.func(e.DocumentTouch)&&I.document instanceof e.DocumentTouch,T.supportsPointerEvent=!1!==n.pointerEnabled&&!!I.PointerEvent,T.isIOS=/iP(hone|od|ad)/.test(n.platform),T.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),T.isIe9=/MSIE 9/.test(n.userAgent),T.isOperaMobile="Opera"===n.appName&&T.supportsTouch&&/Presto/.test(n.userAgent),T.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",T.pEventTypes=T.supportsPointerEvent?I.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,T.wheelEvent=I.document&&"onmousewheel"in I.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},D=T;function O(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function M(e,t){for(;x.element(e);){if(j(e,t))return e;e=F(e)}return null}function F(e){var t=e.parentNode;if(x.docFrag(t)){for(;(t=t.host)&&x.docFrag(t););return t}return t}function j(e,t){return A!==m&&(t=t.replace(/\/deep\//g," ")),e[D.prefixedMatchesSelector](t)}var P=function(e){return e.parentNode||e.host};function R(e,t){for(var n,r=[],i=e;(n=P(i))&&i!==t&&n!==i.ownerDocument;)r.unshift(i),i=n;return r}function L(e,t,n){for(;x.element(e);){if(j(e,t))return!0;if((e=F(e))===n)return j(e,t)}return!1}function N(e){return e.correspondingUseElement||e}function z(e){var t=e instanceof I.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function Q(e){var t,n=z(e);if(!D.isIOS7&&n){var r={x:(t=(t=v(e))||A).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop};n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y}return n}function Y(e){for(var t=[];e;)t.push(e),e=F(e);return t}function U(e){return!!x.string(e)&&(I.document.querySelector(e),!0)}function G(e,t){for(var n in t)e[n]=t[n];return e}function H(e,t,n){return"parent"===e?F(n):"self"===e?t.getRect(n):M(n,e)}function W(e,t,n,r){var i=e;return x.string(i)?i=H(i,t,n):x.func(i)&&(i=i.apply(void 0,r)),x.element(i)&&(i=Q(i)),i}function V(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function K(e){return!e||"x"in e&&"y"in e||((e=G({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function q(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function X(e,t,n){var r=n&&e.options[n];return V(W(r&&r.origin||e.options.origin,e,t,[e&&t]))||{x:0,y:0}}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},r=arguments.length>3?arguments[3]:void 0;if(r=r||{},x.string(e)&&-1!==e.search(" ")&&(e=Z(e)),x.array(e))return e.forEach(function(e){return J(e,t,n,r)}),r;if(x.object(e)&&(t=e,e=""),x.func(t)&&n(e))r[e]=r[e]||[],r[e].push(t);else if(x.array(t))for(var i=0,o=t;i<o.length;i++){var s=o[i];J(e,s,n,r)}else if(x.object(t))for(var a in t)J(Z(a).map(function(t){return"".concat(e).concat(t)}),t[a],n,r);return r}function Z(e){return e.trim().split(/ +/)}var $=function(e,t){return Math.sqrt(e*e+t*t)},ee=["webkit","moz"];function te(e,t){e.__set||(e.__set={});var n=function(n){if(ee.some(function(e){return 0===n.indexOf(e)}))return 1;"function"!=typeof e[n]&&"__set"!==n&&Object.defineProperty(e,n,{get:function(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set:function(t){e.__set[n]=t},configurable:!0})};for(var r in t)n(r);return e}function ne(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function re(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function ie(e){return e instanceof I.Event||e instanceof I.Touch}function oe(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function se(e,t){return t=t||{x:0,y:0},D.isOperaMobile&&ie(e)?(oe("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):oe("page",e,t),t}function ae(e){return x.number(e.pointerId)?e.pointerId:e.identifier}function le(e,t,n){var r=t.length>1?ue(t):t[0];se(r,e.page),function(e,t){t=t||{},D.isOperaMobile&&ie(e)?oe("screen",e,t):oe("client",e,t)}(r,e.client),e.timeStamp=n}function ce(e){var t=[];return x.array(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function ue(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var i in t)t[i]+=r[i]}for(var o in t)t[o]/=e.length;return t}function he(e){if(!e.length)return null;var t=ce(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),o=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:i,bottom:o,width:i-n,height:o-r}}function de(e,t){var n=t+"X",r=t+"Y",i=ce(e),o=i[0][n]-i[1][n],s=i[0][r]-i[1][r];return $(o,s)}function fe(e,t){var n=t+"X",r=t+"Y",i=ce(e),o=i[1][n]-i[0][n],s=i[1][r]-i[0][r];return 180*Math.atan2(s,o)/Math.PI}function ge(e){return x.string(e.pointerType)?e.pointerType:x.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof I.Touch?"touch":"mouse"}function pe(e){var t=x.func(e.composedPath)?e.composedPath():e.path;return[N(t?t[0]:e.target),N(e.currentTarget)]}var me=function(){function e(t){i(this,e),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}return s(e,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),e}();Object.defineProperty(me.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Ae=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e},ye=function(e){return Ae([],e)},ve=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},be=function(e,t){return e[ve(e,t)]},we=function(e){l(n,e);var t=d(n);function n(e,r,o){var s;i(this,n),(s=t.call(this,r._interaction)).dropzone=void 0,s.dragEvent=void 0,s.relatedTarget=void 0,s.draggable=void 0,s.propagationStopped=!1,s.immediatePropagationStopped=!1;var a="dragleave"===o?e.prev:e.cur,l=a.element,c=a.dropzone;return s.type=o,s.target=l,s.currentTarget=l,s.dropzone=c,s.dragEvent=r,s.relatedTarget=r.target,s.draggable=r.interactable,s.timeStamp=r.timeStamp,s}return s(n,[{key:"reject",value:function(){var e=this,t=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&t.cur.dropzone===this.dropzone&&t.cur.element===this.target)if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var r=t.activeDrops,i=ve(r,function(t){var n=t.dropzone,r=t.element;return n===e.dropzone&&r===e.target});t.activeDrops.splice(i,1);var o=new n(t,this.dragEvent,"dropdeactivate");o.dropzone=this.dropzone,o.target=this.target,this.dropzone.fire(o)}else this.dropzone.fire(new n(t,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}(me);function xe(e,t){for(var n=0,r=e.slice();n<r.length;n++){var i=r[n],o=i.dropzone,s=i.element;t.dropzone=o,t.target=s,o.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function Ee(e,t){for(var n=function(e,t){for(var n=[],r=0,i=e.interactables.list;r<i.length;r++){var o=i[r];if(o.options.drop.enabled){var s=o.options.drop.accept;if(!(x.element(s)&&s!==t||x.string(s)&&!j(t,s)||x.func(s)&&!s({dropzone:o,draggableElement:t})))for(var a=0,l=o.getAllElements();a<l.length;a++){var c=l[a];c!==t&&n.push({dropzone:o,element:c,rect:o.getRect(c)})}}}return n}(e,t),r=0;r<n.length;r++){var i=n[r];i.rect=i.dropzone.getRect(i.element)}return n}function _e(e,t,n){for(var r=e.dropState,i=e.interactable,o=e.element,s=[],a=0,l=r.activeDrops;a<l.length;a++){var c=l[a],u=c.dropzone,h=c.element,d=c.rect,f=u.dropCheck(t,n,i,o,h,d);s.push(f?h:null)}var g=function(e){for(var t,n,r,i=[],o=0;o<e.length;o++){var s=e[o],a=e[t];if(s&&o!==t)if(a){var l=P(s),c=P(a);if(l!==s.ownerDocument)if(c!==s.ownerDocument)if(l!==c){i=i.length?i:R(a);var u=void 0;if(a instanceof I.HTMLElement&&s instanceof I.SVGElement&&!(s instanceof I.SVGSVGElement)){if(s===c)continue;u=s.ownerSVGElement}else u=s;for(var h=R(u,a.ownerDocument),d=0;h[d]&&h[d]===i[d];)d++;var f=[h[d-1],h[d],i[d]];if(f[0])for(var g=f[0].lastChild;g;){if(g===f[1]){t=o,i=h;break}if(g===f[2])break;g=g.previousSibling}}else r=a,(parseInt(v(n=s).getComputedStyle(n).zIndex,10)||0)>=(parseInt(v(r).getComputedStyle(r).zIndex,10)||0)&&(t=o);else t=o}else t=o}return t}(s);return r.activeDrops[g]||null}function Ce(e,t,n){var r=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(i.activate=new we(r,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===n.type&&(i.deactivate=new we(r,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(i.leave=new we(r,n,"dragleave"),n.dragLeave=i.leave.target=r.prev.element,n.prevDropzone=i.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(i.enter=new we(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(i.drop=new we(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(i.move=new we(r,n,"dropmove"),n.dropzone=r.cur.dropzone)),i}function Se(e,t){var n=e.dropState,r=n.activeDrops,i=n.cur,o=n.prev;t.leave&&o.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&xe(r,t.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function ke(e,t){var n=e.interaction,r=e.iEvent,i=e.event;if("dragmove"===r.type||"dragend"===r.type){var o=n.dropState;t.dynamicDrop&&(o.activeDrops=Ee(t,n.element));var s=r,a=_e(n,s,i);o.rejected=o.rejected&&!!a&&a.dropzone===o.cur.dropzone&&a.element===o.cur.element,o.cur.dropzone=a&&a.dropzone,o.cur.element=a&&a.element,o.events=Ce(n,0,s)}}var Be={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,r=e.Interactable,i=e.defaults;e.usePlugin(S),r.prototype.dropzone=function(e){return function(e,t){if(x.object(t)){if(e.options.drop.enabled=!1!==t.enabled,t.listeners){var n=J(t.listeners),r=Object.keys(n).reduce(function(e,t){return e[/^(enter|leave)/.test(t)?"drag".concat(t):/^(activate|deactivate|move)/.test(t)?"drop".concat(t):t]=n[t],e},{}),i=e.options.drop.listeners;i&&e.off(i),e.on(r),e.options.drop.listeners=r}return x.func(t.ondrop)&&e.on("drop",t.ondrop),x.func(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),x.func(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),x.func(t.ondragenter)&&e.on("dragenter",t.ondragenter),x.func(t.ondragleave)&&e.on("dragleave",t.ondragleave),x.func(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:x.number(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return x.bool(t)?(e.options.drop.enabled=t,e):e.options.drop}(this,e)},r.prototype.dropCheck=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){var a=!1;if(!(s=s||e.getRect(o)))return!!e.options.drop.checker&&e.options.drop.checker(t,n,a,e,o,r,i);var l=e.options.drop.overlap;if("pointer"===l){var c=X(r,i,"drag"),u=se(t);u.x+=c.x,u.y+=c.y;var h=u.x>s.left&&u.x<s.right,d=u.y>s.top&&u.y<s.bottom;a=h&&d}var f=r.getRect(i);if(f&&"center"===l){var g=f.left+f.width/2,p=f.top+f.height/2;a=g>=s.left&&g<=s.right&&p>=s.top&&p<=s.bottom}return f&&x.number(l)&&(a=Math.max(0,Math.min(s.right,f.right)-Math.max(s.left,f.left))*Math.max(0,Math.min(s.bottom,f.bottom)-Math.max(s.top,f.top))/(f.width*f.height)>=l),e.options.drop.checker&&(a=e.options.drop.checker(t,n,a,e,o,r,i)),a}(this,e,t,n,r,i,o)},n.dynamicDrop=function(t){return x.bool(t)?(e.dynamicDrop=t,n):e.dynamicDrop},G(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=Be.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;"drag"===t.prepared.name&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if("drag"===n.prepared.name){var i=n.dropState;i.activeDrops=[],i.events={},i.activeDrops=Ee(t,n.element),i.events=Ce(n,0,r),i.events.activate&&(xe(i.activeDrops,i.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":ke,"interactions:after-action-move":function(e,t){var n=e.interaction,r=e.iEvent;if("drag"===n.prepared.name){var i=n.dropState;Se(n,i.events),t.fire("actions/drop:move",{interaction:n,dragEvent:r}),i.events={}}},"interactions:action-end":function(e,t){if("drag"===e.interaction.prepared.name){var n=e.interaction,r=e.iEvent;ke(e,t),Se(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:Ee,getDrop:_e,getDropEvents:Ce,fireDropEvents:Se,filterEventType:function(e){return 0===e.search("drag")||0===e.search("drop")},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Ie=Be;function Te(e){var t=e.interaction,n=e.iEvent,r=e.phase;if("gesture"===t.prepared.name){var i=t.pointers.map(function(e){return e.pointer}),o="start"===r,s="end"===r,a=t.interactable.options.deltaSource;if(n.touches=[i[0],i[1]],o)n.distance=de(i,a),n.box=he(i),n.scale=1,n.ds=0,n.angle=fe(i,a),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(s||t.pointers.length<2){var l=t.prevEvent;n.distance=l.distance,n.box=l.box,n.scale=l.scale,n.ds=0,n.angle=l.angle,n.da=0}else n.distance=de(i,a),n.box=he(i),n.scale=n.distance/t.gesture.startDistance,n.angle=fe(i,a),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,x.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}var De={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(e){return x.object(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):x.bool(e)?(this.options.gesture.enabled=e,this):this.options.gesture},t.map.gesture=De,t.methodDict.gesture="gesturable",r.actions.gesture=De.defaults},listeners:{"interactions:action-start":Te,"interactions:action-move":Te,"interactions:action-end":Te,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(e){return 0===e.search("gesture")}},Oe=De;function Me(e,t,n,r,i,o,s){if(!t)return!1;if(!0===t){var a=x.number(o.width)?o.width:o.right-o.left,l=x.number(o.height)?o.height:o.bottom-o.top;if(s=Math.min(s,Math.abs(("left"===e||"right"===e?a:l)/2)),a<0&&("left"===e?e="right":"right"===e&&(e="left")),l<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e){var c=a>=0?o.left:o.right;return n.x<c+s}if("top"===e){var u=l>=0?o.top:o.bottom;return n.y<u+s}if("right"===e)return n.x>(a>=0?o.right:o.left)-s;if("bottom"===e)return n.y>(l>=0?o.bottom:o.top)-s}return!!x.element(r)&&(x.element(t)?t===r:L(r,t,i))}function Fe(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var r=t;n.interactable.options.resize.square?("y"===n.resizeAxes?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,"x"===n.resizeAxes?r.delta.y=0:"y"===n.resizeAxes&&(r.delta.x=0))}}var je,Pe,Re={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,i=e.defaults;Re.cursors=function(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Re.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(t){return function(e,t,n){return x.object(t)?(e.options.resize.enabled=!1!==t.enabled,e.setPerAction("resize",t),e.setOnEvents("resize",t),x.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:null===t.axis&&(e.options.resize.axis=n.defaults.actions.resize.axis),x.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:x.bool(t.square)&&(e.options.resize.square=t.square),e):x.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}(this,t,e)},t.map.resize=Re,t.methodDict.resize="resizable",i.actions.resize=Re.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,i=n.rect;n._rects={start:G({},i),corrected:G({},i),previous:G({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}}(e),Fe(e)},"interactions:action-move":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,i=n.interactable.options.resize.invert,o="reposition"===i||"negate"===i,s=n.rect,a=n._rects,l=a.start,c=a.corrected,u=a.delta,h=a.previous;if(G(h,c),o){if(G(c,s),"reposition"===i){if(c.top>c.bottom){var d=c.top;c.top=c.bottom,c.bottom=d}if(c.left>c.right){var f=c.left;c.left=c.right,c.right=f}}}else c.top=Math.min(s.top,l.bottom),c.bottom=Math.max(s.bottom,l.top),c.left=Math.min(s.left,l.right),c.right=Math.max(s.right,l.left);for(var g in c.width=c.right-c.left,c.height=c.bottom-c.top,c)u[g]=c[g]-h[g];r.edges=n.prepared.edges,r.rect=c,r.deltaRect=u}}(e),Fe(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.element,i=e.rect,o=e.buttons;if(i){var s=G({},t.coords.cur.page),a=n.options.resize;if(a&&a.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(o&a.mouseButtons))){if(x.object(a.edges)){var l={left:!1,right:!1,top:!1,bottom:!1};for(var c in l)l[c]=Me(c,a.edges[c],s,t._latestPointer.eventTarget,r,i,a.margin||Re.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(e.action={name:"resize",edges:l})}else{var u="y"!==a.axis&&s.x>i.right-Re.defaultMargin,h="x"!==a.axis&&s.y>i.bottom-Re.defaultMargin;(u||h)&&(e.action={name:"resize",axes:(u?"x":"")+(h?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,i=Re.cursors,o=null;if(n)o=i[r+n];else if(t){for(var s="",a=0,l=["top","bottom","left","right"];a<l.length;a++){var c=l[a];t[c]&&(s+=c)}o=i[s]}return o},filterEventType:function(e){return 0===e.search("resize")},defaultMargin:null},Le=Re,Ne={id:"actions",install:function(e){e.usePlugin(Oe),e.usePlugin(Le),e.usePlugin(S),e.usePlugin(Ie)}},ze=0,Qe={request:function(e){return je(e)},cancel:function(e){return Pe(e)},init:function(e){if(je=e.requestAnimationFrame,Pe=e.cancelAnimationFrame,!je)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];je=e["".concat(r,"RequestAnimationFrame")],Pe=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}je=je&&je.bind(e),Pe=Pe&&Pe.bind(e),je||(je=function(t){var n=Date.now(),r=Math.max(0,16-(n-ze)),i=e.setTimeout(function(){t(n+r)},r);return ze=n+r,i},Pe=function(e){return clearTimeout(e)})}},Ye={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){Ye.isScrolling=!0,Qe.cancel(Ye.i),e.autoScroll=Ye,Ye.interaction=e,Ye.prevTime=Ye.now(),Ye.i=Qe.request(Ye.scroll)},stop:function(){Ye.isScrolling=!1,Ye.interaction&&(Ye.interaction.autoScroll=null),Qe.cancel(Ye.i)},scroll:function(){var e=Ye.interaction,t=e.interactable,n=e.element,r=e.prepared.name,i=t.options[r].autoScroll,o=Ue(i.container,t,n),s=Ye.now(),a=(s-Ye.prevTime)/1e3,l=i.speed*a;if(l>=1){var c={x:Ye.x*l,y:Ye.y*l};if(c.x||c.y){var u=Ge(o);x.window(o)?o.scrollBy(c.x,c.y):o&&(o.scrollLeft+=c.x,o.scrollTop+=c.y);var h=Ge(o),d={x:h.x-u.x,y:h.y-u.y};(d.x||d.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:d,interaction:e,container:o})}Ye.prevTime=s}Ye.isScrolling&&(Qe.cancel(Ye.i),Ye.i=Qe.request(Ye.scroll))},check:function(e,t){var n;return null==(n=e.options[t].autoScroll)?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&Ye.check(t.interactable,t.prepared.name))if(t.simulation)Ye.x=Ye.y=0;else{var r,i,o,s,a=t.interactable,l=t.element,c=t.prepared.name,u=a.options[c].autoScroll,h=Ue(u.container,a,l);if(x.window(h))s=n.clientX<Ye.margin,r=n.clientY<Ye.margin,i=n.clientX>h.innerWidth-Ye.margin,o=n.clientY>h.innerHeight-Ye.margin;else{var d=z(h);s=n.clientX<d.left+Ye.margin,r=n.clientY<d.top+Ye.margin,i=n.clientX>d.right-Ye.margin,o=n.clientY>d.bottom-Ye.margin}Ye.x=i?1:s?-1:0,Ye.y=o?1:r?-1:0,Ye.isScrolling||(Ye.margin=u.margin,Ye.speed=u.speed,Ye.start(t))}}};function Ue(e,t,n){return(x.string(e)?H(e,t,n):e)||v(n)}function Ge(e){return x.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var He={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=Ye,Ye.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=Ye.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,Ye.stop(),Ye.interaction&&(Ye.interaction=null)},"interactions:stop":Ye.stop,"interactions:action-move":function(e){return Ye.onInteractionMove(e)}}},We=He;function Ve(e,t){var n=!1;return function(){return n||(A.console.warn(t),n=!0),e.apply(this,arguments)}}function Ke(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function qe(e){return x.bool(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function Xe(e){return x.func(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}var Je={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(t,n,r,i){var o=function(e,t,n,r,i){var o=e.getRect(r),s={action:null,interactable:e,interaction:n,element:r,rect:o,buttons:t.buttons||{0:1,1:4,3:8,4:16}[t.button]};return i.fire("auto-start:check",s),s.action}(this,n,r,i,e);return this.options.actionChecker?this.options.actionChecker(t,n,o,this,i,r):o},t.prototype.ignoreFrom=Ve(function(e){return this._backCompatOption("ignoreFrom",e)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=Ve(function(e){return this._backCompatOption("allowFrom",e)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Xe,t.prototype.styleCursor=qe}};function Ze(e,t,n,r,i){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&nt(t,n,e,i)?e:null}function $e(e,t,n,r,i,o,s){for(var a=0,l=r.length;a<l;a++){var c=r[a],u=i[a],h=c.getAction(t,n,e,u);if(h){var d=Ze(h,c,u,o,s);if(d)return{action:d,interactable:c,element:u}}}return{action:null,interactable:null,element:null}}function et(e,t,n,r,i){var o=[],s=[],a=r;function l(e){o.push(e),s.push(a)}for(;x.element(a);){o=[],s=[],i.interactables.forEachMatch(a,l);var c=$e(e,t,n,o,s,r,i);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;a=F(a)}return{action:null,interactable:null,element:null}}function tt(e,t,n){var r=t.action,i=t.interactable,o=t.element;r=r||{name:null},e.interactable=i,e.element=o,Ke(e.prepared,r),e.rect=i&&r.name?i.getRect(o):null,ot(e,n),n.fire("autoStart:prepared",{interaction:e})}function nt(e,t,n,r){var i=e.options,o=i[n.name].max,s=i[n.name].maxPerElement,a=r.autoStart.maxInteractions,l=0,c=0,u=0;if(!(o&&s&&a))return!1;for(var h=0,d=r.interactions.list;h<d.length;h++){var f=d[h],g=f.prepared.name;if(f.interacting()){if(++l>=a)return!1;if(f.interactable===e){if((c+=g===n.name?1:0)>=o)return!1;if(f.element===t&&(u++,g===n.name&&u>=s))return!1}}}return a>0}function rt(e,t){return x.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function it(e,t,n){var r=n.autoStart.cursorElement;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function ot(e,t){var n=e.interactable,r=e.element,i=e.prepared;if("mouse"===e.pointerType&&n&&n.options.styleCursor){var o="";if(i.name){var s=n.options[i.name].cursorChecker;o=x.func(s)?s(i,n,r,e._interacting):t.actions.map[i.name].getCursor(i)}it(e.element,o||"",t)}else t.autoStart.cursorElement&&it(t.autoStart.cursorElement,"",t)}var st={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(Je),n.base.actionChecker=null,n.base.styleCursor=!0,G(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(t){return rt(t,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:nt,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;n.interacting()||tt(n,et(n,r,i,o,t),t)},"interactions:move":function(e,t){!function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||tt(n,et(n,r,i,o,t),t)}(e,t),function(e,t){var n=e.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){t.fire("autoStart:before-start",e);var r=n.interactable,i=n.prepared.name;i&&r&&(r.options[i].manualStart||!nt(r,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,r,n.element),ot(n,t)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&it(n.element,"",t)}},maxInteractions:rt,withinInteractionLimit:nt,validateAction:Ze},at=st,lt={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,i=e.dx,o=e.dy;if("drag"===n.prepared.name){var s=Math.abs(i),a=Math.abs(o),l=n.interactable.options.drag,c=l.startAxis,u=s>a?"x":s<a?"y":"xy";if(n.prepared.axis="start"===l.lockAxis?u[0]:l.lockAxis,"xy"!==u&&"xy"!==c&&c!==u){n.prepared.name=null;for(var h=r,d=function(e){if(e!==n.interactable){var i=n.interactable.options.drag;if(!i.manualStart&&e.testIgnoreAllow(i,h,r)){var o=e.getAction(n.downPointer,n.downEvent,n,h);if(o&&"drag"===o.name&&function(e,t){if(!t)return!1;var n=t.options.drag.startAxis;return"xy"===e||"xy"===n||n===e}(u,e)&&at.validateAction(o,e,h,r,t))return e}}};x.element(h);){var f=t.interactables.forEachMatch(h,d);if(f){n.prepared.name="drag",n.interactable=f,n.element=h;break}h=F(h)}}}}}};function ct(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}var ut={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(at),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=ct(t);n>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;ct(t)>0&&(t.prepared.name=null)}},getHoldDuration:ct},ht=ut,dt={id:"auto-start",install:function(e){e.usePlugin(at),e.usePlugin(ht),e.usePlugin(lt)}},ft=function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):x.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault};function gt(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}var pt={id:"core/interactablePreventDefault",install:function(e){var t=e.Interactable;t.prototype.preventDefault=ft,t.prototype.checkAndPreventDefault=function(t){return function(e,t,n){var r=e.options.preventDefault;if("never"!==r)if("always"!==r){if(t.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){var i=v(n.target).document,o=t.getDocOptions(i);if(!o||!o.events||!1!==o.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||x.element(n.target)&&j(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}else n.preventDefault()}(this,e,t)},e.interactions.docEvents.push({type:"dragstart",listener:function(t){for(var n=0,r=e.interactions.list;n<r.length;n++){var i=r[n];if(i.element&&(i.element===t.target||O(i.element,t.target)))return void i.interactable.checkAndPreventDefault(t)}}})},listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=gt,e},{})};function mt(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(0===e.indexOf(n)&&e.substr(n.length)in t.phases)return!0;return!1}function At(e){var t={};for(var n in e){var r=e[n];x.plainObject(r)?t[n]=At(r):x.array(r)?t[n]=ye(r):t[n]=r}return t}var yt=function(){function e(t){i(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=vt(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return s(e,[{key:"start",value:function(e,t){var n,r,i=e.phase,o=this.interaction,s=function(e){var t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(e){var n=t[e];return n&&n.enabled&&{options:n,methods:n._methods}}).filter(function(e){return!!e})}(o);this.prepareStates(s),this.startEdges=G({},o.edges),this.edges=G({},this.startEdges),this.startOffset=(r=t,(n=o.rect)?{left:r.x-n.left,top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var a=this.fillArg({phase:i,pageCoords:t,preEnd:!1});return this.result=vt(),this.startAll(a),this.result=this.setAll(a)}},{key:"fillArg",value:function(e){var t=this.interaction;return e.interaction=t,e.interactable=t.interactable,e.element=t.element,e.rect||(e.rect=t.rect),e.edges||(e.edges=this.startEdges),e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var t=0,n=this.states;t<n.length;t++){var r=n[t];r.methods.start&&(e.state=r,r.methods.start(e))}}},{key:"setAll",value:function(e){var t=e.phase,n=e.preEnd,r=e.skipModifiers,i=e.rect,o=e.edges;e.coords=G({},e.pageCoords),e.rect=G({},i),e.edges=G({},o);for(var s=r?this.states.slice(r):this.states,a=vt(e.coords,e.rect),l=0;l<s.length;l++){var c,u=s[l],h=u.options,d=G({},e.coords),f=null;null!=(c=u.methods)&&c.set&&this.shouldDo(h,n,t)&&(e.state=u,f=u.methods.set(e),q(e.edges,e.rect,{x:e.coords.x-d.x,y:e.coords.y-d.y})),a.eventProps.push(f)}G(this.edges,e.edges),a.delta.x=e.coords.x-e.pageCoords.x,a.delta.y=e.coords.y-e.pageCoords.y,a.rectDelta.left=e.rect.left-i.left,a.rectDelta.right=e.rect.right-i.right,a.rectDelta.top=e.rect.top-i.top,a.rectDelta.bottom=e.rect.bottom-i.bottom;var g=this.result.coords,p=this.result.rect;if(g&&p){var m=a.rect.left!==p.left||a.rect.right!==p.right||a.rect.top!==p.top||a.rect.bottom!==p.bottom;a.changed=m||g.x!==a.coords.x||g.y!==a.coords.y}return a}},{key:"applyToInteraction",value:function(e){var t=this.interaction,n=e.phase,r=t.coords.cur,i=t.coords.start,o=this.result,s=this.startDelta,a=o.delta;"start"===n&&G(this.startDelta,o.delta);for(var l=0,c=[[i,s],[r,a]];l<c.length;l++){var u=c[l],h=u[0],d=u[1];h.page.x+=d.x,h.page.y+=d.y,h.client.x+=d.x,h.client.y+=d.y}var f=this.result.rectDelta,g=e.rect||t.rect;g.left+=f.left,g.right+=f.right,g.top+=f.top,g.bottom+=f.bottom,g.width=g.right-g.left,g.height=g.bottom-g.top}},{key:"setAndApply",value:function(e){var t=this.interaction,n=e.phase,r=e.preEnd,i=e.skipModifiers,o=this.setAll(this.fillArg({preEnd:r,phase:n,pageCoords:e.modifiedCoords||t.coords.cur.page}));if(this.result=o,!o.changed&&(!i||i<this.states.length)&&t.interacting())return!1;if(e.modifiedCoords){var s=t.coords.cur.page,a={x:e.modifiedCoords.x-s.x,y:e.modifiedCoords.y-s.y};o.coords.x+=a.x,o.coords.y+=a.y,o.delta.x+=a.x,o.delta.y+=a.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var t=e.interaction,n=e.event,r=this.states;if(r&&r.length){for(var i=!1,o=0;o<r.length;o++){var s=r[o];e.state=s;var a=s.options,l=s.methods,c=l.beforeEnd&&l.beforeEnd(e);if(c)return this.endResult=c,!1;i=i||!i&&this.shouldDo(a,!0,e.phase,!0)}i&&t.move({event:n,preEnd:!0})}}},{key:"stop",value:function(e){var t=e.interaction;if(this.states&&this.states.length){var n=G({states:this.states,interactable:t.interactable,element:t.element,rect:null},e);this.fillArg(n);for(var r=0,i=this.states;r<i.length;r++){var o=i[r];n.state=o,o.methods.stop&&o.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.options,i=n.methods,o=n.name;this.states.push({options:r,methods:i,index:t,name:o})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var t=e.interaction,n=t.coords,r=t.rect,i=t.modification;if(i.result){for(var o=i.startDelta,s=i.result,a=s.delta,l=s.rectDelta,c=0,u=[[n.start,o],[n.cur,a]];c<u.length;c++){var h=u[c],d=h[0],f=h[1];d.page.x-=f.x,d.page.y-=f.y,d.client.x-=f.x,d.client.y-=f.y}r.left-=l.left,r.right-=l.right,r.top-=l.top,r.bottom-=l.bottom}}},{key:"shouldDo",value:function(e,t,n,r){return!(!e||!1===e.enabled||r&&!e.endOnly||e.endOnly&&!t||"start"===n&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.startEdges=e.startEdges,this.edges=e.edges,this.states=e.states.map(function(e){return At(e)}),this.result=vt(G({},e.result.coords),G({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}]),e}();function vt(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function bt(e,t){var n=e.defaults,r={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=function(e){var i=e||{};for(var o in i.enabled=!1!==i.enabled,n)o in i||(i[o]=n[o]);var s={options:i,methods:r,name:t,enable:function(){return i.enabled=!0,s},disable:function(){return i.enabled=!1,s}};return s};return t&&"string"==typeof t&&(i._defaults=n,i._methods=r),i}function wt(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}var xt={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new yt(t)},"interactions:before-action-start":function(e){var t=e.interaction,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":function(e){var t=e.interaction,n=t.modification,r=n.setAndApply(e);return t.edges=n.edges,r},"interactions:before-action-end":function(e){var t=e.interaction,n=t.modification,r=n.beforeEnd(e);return t.edges=n.startEdges,r},"interactions:action-start":wt,"interactions:action-move":wt,"interactions:action-end":wt,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},Et=xt,_t={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Ct=function(e){l(n,e);var t=d(n);function n(e,r,o,s,a,l,c){var u;i(this,n),(u=t.call(this,e)).relatedTarget=null,u.screenX=void 0,u.screenY=void 0,u.button=void 0,u.buttons=void 0,u.ctrlKey=void 0,u.shiftKey=void 0,u.altKey=void 0,u.metaKey=void 0,u.page=void 0,u.client=void 0,u.delta=void 0,u.rect=void 0,u.x0=void 0,u.y0=void 0,u.t0=void 0,u.dt=void 0,u.duration=void 0,u.clientX0=void 0,u.clientY0=void 0,u.velocity=void 0,u.speed=void 0,u.swipe=void 0,u.axes=void 0,u.preEnd=void 0,a=a||e.element;var d=e.interactable,f=(d&&d.options||_t).deltaSource,g=X(d,a,o),p="start"===s,m="end"===s,A=p?h(u):e.prevEvent,y=p?e.coords.start:m?{page:A.page,client:A.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return u.page=G({},y.page),u.client=G({},y.client),u.rect=G({},e.rect),u.timeStamp=y.timeStamp,m||(u.page.x-=g.x,u.page.y-=g.y,u.client.x-=g.x,u.client.y-=g.y),u.ctrlKey=r.ctrlKey,u.altKey=r.altKey,u.shiftKey=r.shiftKey,u.metaKey=r.metaKey,u.button=r.button,u.buttons=r.buttons,u.target=a,u.currentTarget=a,u.preEnd=l,u.type=c||o+(s||""),u.interactable=d,u.t0=p?e.pointers[e.pointers.length-1].downTime:A.t0,u.x0=e.coords.start.page.x-g.x,u.y0=e.coords.start.page.y-g.y,u.clientX0=e.coords.start.client.x-g.x,u.clientY0=e.coords.start.client.y-g.y,u.delta=p||m?{x:0,y:0}:{x:u[f].x-A[f].x,y:u[f].y-A[f].y},u.dt=e.coords.delta.timeStamp,u.duration=u.timeStamp-u.t0,u.velocity=G({},e.coords.velocity[f]),u.speed=$(u.velocity.x,u.velocity.y),u.swipe=m||"inertiastart"===s?u.getSwipe():null,u}return s(n,[{key:"getSwipe",value:function(){var e=this._interaction;if(e.prevEvent.speed<600||this.timeStamp-e.prevEvent.timeStamp>150)return null;var t=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;t<0&&(t+=360);var n=112.5<=t&&t<247.5,r=202.5<=t&&t<337.5;return{up:r,down:!r&&22.5<=t&&t<157.5,left:n,right:!n&&(292.5<=t||t<67.5),angle:t,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),n}(me);Object.defineProperties(Ct.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var St=s(function e(t,n,r,o,s){i(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=r,this.downTime=o,this.downTarget=s}),kt=function(e){return e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy="",e}({}),Bt=function(e){return e.start="",e.move="",e.end="",e.stop="",e.interacting="",e}({}),It=0,Tt=function(){function e(t){var n=this,r=t.pointerType,o=t.scopeFire;i(this,e),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Ve(function(e){this.move(e)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=It++,this._scopeFire=o,this.pointerType=r;var s=this;this._proxy={};var a=function(e){Object.defineProperty(n._proxy,e,{get:function(){return s[e]}})};for(var l in kt)a(l);var c=function(e){Object.defineProperty(n._proxy,e,{value:function(){return s[e].apply(s,arguments)}})};for(var u in Bt)c(u);this._scopeFire("interactions:new",{interaction:this})}return s(e,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,t,n){var r=this.updatePointer(e,t,n,!0),i=this.pointers[r];this._scopeFire("interactions:down",{pointer:e,event:t,eventTarget:n,pointerIndex:r,pointerInfo:i,type:"down",interaction:this})}},{key:"start",value:function(e,t,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===e.name?2:1)||!t.options[e.name].enabled)&&(Ke(this.prepared,e),this.interactable=t,this.element=n,this.rect=t.getRect(n),this.edges=this.prepared.edges?G({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,t,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,t,n,!1);var r,i,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=$(r,i)>this.pointerMoveTolerance);var s,a,l,c=this.getPointerIndex(e),u={pointer:e,pointerIndex:c,pointerInfo:this.pointers[c],event:t,type:"move",eventTarget:n,dx:r,dy:i,duplicate:o,interaction:this};o||(s=this.coords.velocity,a=this.coords.delta,l=Math.max(a.timeStamp/1e3,.001),s.page.x=a.page.x/l,s.page.y=a.page.y/l,s.client.x=a.client.x/l,s.client.y=a.client.y/l,s.timeStamp=l),this._scopeFire("interactions:move",u),o||this.simulation||(this.interacting()&&(u.type=null,this.move(u)),this.pointerWasMoved&&ne(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||re(this.coords.delta),(e=G({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,t,n,r){var i=this.getPointerIndex(e);-1===i&&(i=this.updatePointer(e,t,n,!1));var o=/cancel$/i.test(t.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:e,pointerIndex:i,pointerInfo:this.pointers[i],event:t,eventTarget:n,type:o,curEventTarget:r,interaction:this}),this.simulation||this.end(t),this.removePointer(e,t)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var t;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(t=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,!0===t&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var t=ae(e);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:ve(this.pointers,function(e){return e.id===t})}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,t,n,r){var i,o,s,a=ae(e),l=this.getPointerIndex(e),c=this.pointers[l];return r=!1!==r&&(r||/(down|start)$/i.test(t.type)),c?c.pointer=e:(c=new St(a,e,t,null,null),l=this.pointers.length,this.pointers.push(c)),le(this.coords.cur,this.pointers.map(function(e){return e.pointer}),this._now()),i=this.coords.delta,o=this.coords.prev,s=this.coords.cur,i.page.x=s.page.x-o.page.x,i.page.y=s.page.y-o.page.y,i.client.x=s.client.x-o.client.x,i.client.y=s.client.y-o.client.y,i.timeStamp=s.timeStamp-o.timeStamp,r&&(this.pointerIsDown=!0,c.downTime=this.coords.cur.timeStamp,c.downTarget=n,te(this.downPointer,e),this.interacting()||(ne(this.coords.start,this.coords.cur),ne(this.coords.prev,this.coords.cur),this.downEvent=t,this.pointerWasMoved=!1)),this._updateLatestPointer(e,t,n),this._scopeFire("interactions:update-pointer",{pointer:e,event:t,eventTarget:n,down:r,pointerInfo:c,pointerIndex:l,interaction:this}),l}},{key:"removePointer",value:function(e,t){var n=this.getPointerIndex(e);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:e,event:t,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,t,n){this._latestPointer.pointer=e,this._latestPointer.event=t,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,t,n,r){return new Ct(this,e,this.prepared.name,t,this.element,n,r)}},{key:"_fireEvent",value:function(e){var t;null==(t=this.interactable)||t.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var t=e.event,n=e.phase,r=e.preEnd,i=e.type,o=this.rect;if(o&&"move"===n&&(q(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire("interactions:before-action-".concat(n),e))return!1;var s=e.iEvent=this._createPreparedEvent(t,n,r,i);return this._scopeFire("interactions:action-".concat(n),e),"start"===n&&(this.prevEvent=s),this._fireEvent(s),this._scopeFire("interactions:after-action-".concat(n),e),!0}},{key:"_now",value:function(){return Date.now()}}]),e}();function Dt(e){Ot(e.interaction)}function Ot(e){if(!function(e){return!(!e.offset.pending.x&&!e.offset.pending.y)}(e))return!1;var t=e.offset.pending;return Ft(e.coords.cur,t),Ft(e.coords.delta,t),q(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Mt(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function Ft(e,t){var n=e.page,r=e.client,i=t.x,o=t.y;n.x+=i,n.y+=o,r.x+=i,r.y+=o}Bt.offsetBy="";var jt={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Mt},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return function(e){e.pointerIsDown&&(Ft(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}(e.interaction)},"interactions:before-action-start":Dt,"interactions:before-action-move":Dt,"interactions:before-action-end":function(e){var t=e.interaction;if(Ot(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},Pt=jt,Rt=function(){function e(t){i(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=t}return s(e,[{key:"start",value:function(e){var t=this.interaction,n=Lt(t);if(!n||!n.enabled)return!1;var r=t.coords.velocity.client,i=$(r.x,r.y),o=this.modification||(this.modification=new yt(t));if(o.copyFrom(t.modification),this.t0=t._now(),this.allowResume=n.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=t.coords.cur.page,this.modifierArg=o.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-t.coords.cur.timeStamp<50&&i>n.minSpeed&&i>n.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return t.modification.result.rect=null,t.offsetBy(this.targetOffset),t._doPhase({interaction:t,event:e,phase:"inertiastart"}),t.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),t.modification.result.rect=null,this.active=!0,t.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,t=this.interaction.coords.velocity.client,n=Lt(this.interaction),r=n.resistance,i=-Math.log(n.endSpeed/this.v0)/r;this.targetOffset={x:(t.x-i)/r,y:(t.y-i)/r},this.te=i,this.lambda_v0=r/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var o=this.modification,s=this.modifierArg;s.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(s),o.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.onNextFrame(function(){return e.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return e.smoothEndTick()})}},{key:"onNextFrame",value:function(e){var t=this;this.timeout=Qe.request(function(){t.active&&e()})}},{key:"inertiaTick",value:function(){var e,t,n,r,i,o,s,a=this,l=this.interaction,c=Lt(l).resistance,u=(l._now()-this.t0)/1e3;if(u<this.te){var h,d=1-(Math.exp(-c*u)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=0,t=0,n=this.targetOffset.x,r=this.targetOffset.y,i=this.modifiedOffset.x,o=this.modifiedOffset.y,h={x:zt(s=d,e,n,i),y:zt(s,t,r,o)}):h={x:this.targetOffset.x*d,y:this.targetOffset.y*d};var f={x:h.x-this.currentOffset.x,y:h.y-this.currentOffset.y};this.currentOffset.x+=f.x,this.currentOffset.y+=f.y,l.offsetBy(f),l.move(),this.onNextFrame(function(){return a.inertiaTick()})}else l.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,t=this.interaction,n=t._now()-this.t0,r=Lt(t).smoothEndDuration;if(n<r){var i={x:Qt(n,0,this.targetOffset.x,r),y:Qt(n,0,this.targetOffset.y,r)},o={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=o.x,this.currentOffset.y+=o.y,t.offsetBy(o),t.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return e.smoothEndTick()})}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var t=e.pointer,n=e.event,r=e.eventTarget,i=this.interaction;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(t,n,r,!0),i._doPhase({interaction:i,event:n,phase:"resume"}),ne(i.coords.prev,i.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Qe.cancel(this.timeout)}}]),e}();function Lt(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}var Nt={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Pt),e.usePlugin(Et),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new Rt(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,r=t.inertia;if(r.active)for(var i=n;x.element(i);){if(i===t.element){r.resume(e);break}i=F(i)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":wt,"interactions:action-inertiastart":wt,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function zt(e,t,n,r){var i=1-e;return i*i*t+2*i*e*n+e*e*r}function Qt(e,t,n,r){return-n*(e/=r)*(e-2)+t}var Yt=Nt;function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}var Gt=function(){function e(t){i(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=G({},t||{})}return s(e,[{key:"fire",value:function(e){var t,n=this.global;(t=this.types[e.type])&&Ut(e,t),!e.propagationStopped&&n&&(t=n[e.type])&&Ut(e,t)}},{key:"on",value:function(e,t){var n=J(e,t);for(e in n)this.types[e]=Ae(this.types[e]||[],n[e])}},{key:"off",value:function(e,t){var n=J(e,t);for(e in n){var r=this.types[e];if(r&&r.length)for(var i=0,o=n[e];i<o.length;i++){var s=o[i],a=r.indexOf(s);-1!==a&&r.splice(a,1)}}}},{key:"getRect",value:function(e){return null}}]),e}(),Ht=function(){function e(t){i(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,te(this,t)}return s(e,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),e}();function Wt(e){return x.object(e)?{capture:!!e.capture,passive:!!e.passive}:{capture:!!e,passive:!1}}function Vt(e,t){return e===t||("boolean"==typeof e?!!t.capture===e&&0==!!t.passive:!!e.capture==!!t.capture&&!!e.passive==!!t.passive)}var Kt={id:"events",install:function(e){var t,n=[],r={},i=[],o={add:s,remove:a,addDelegate:function(e,t,n,o,a){var u=Wt(a);if(!r[n]){r[n]=[];for(var h=0;h<i.length;h++){var d=i[h];s(d,n,l),s(d,n,c,!0)}}var f=r[n],g=be(f,function(n){return n.selector===e&&n.context===t});g||(g={selector:e,context:t,listeners:[]},f.push(g)),g.listeners.push({func:o,options:u})},removeDelegate:function(e,t,n,i,o){var s,u=Wt(o),h=r[n],d=!1;if(h)for(s=h.length-1;s>=0;s--){var f=h[s];if(f.selector===e&&f.context===t){for(var g=f.listeners,p=g.length-1;p>=0;p--){var m=g[p];if(m.func===i&&Vt(m.options,u)){g.splice(p,1),g.length||(h.splice(s,1),a(t,n,l),a(t,n,c,!0)),d=!0;break}}if(d)break}}},delegateListener:l,delegateUseCapture:c,delegatedEvents:r,documents:i,targets:n,supportsOptions:!1,supportsPassive:!1};function s(e,t,r,i){if(e.addEventListener){var s=Wt(i),a=be(n,function(t){return t.eventTarget===e});a||(a={eventTarget:e,events:{}},n.push(a)),a.events[t]||(a.events[t]=[]),be(a.events[t],function(e){return e.func===r&&Vt(e.options,s)})||(e.addEventListener(t,r,o.supportsOptions?s:s.capture),a.events[t].push({func:r,options:s}))}}function a(e,t,r,i){if(e.addEventListener&&e.removeEventListener){var s=ve(n,function(t){return t.eventTarget===e}),l=n[s];if(l&&l.events)if("all"!==t){var c=!1,u=l.events[t];if(u){if("all"===r){for(var h=u.length-1;h>=0;h--){var d=u[h];a(e,t,d.func,d.options)}return}for(var f=Wt(i),g=0;g<u.length;g++){var p=u[g];if(p.func===r&&Vt(p.options,f)){e.removeEventListener(t,r,o.supportsOptions?f:f.capture),u.splice(g,1),0===u.length&&(delete l.events[t],c=!0);break}}}c&&!Object.keys(l.events).length&&n.splice(s,1)}else for(t in l.events)l.events.hasOwnProperty(t)&&a(e,t,"all")}}function l(e,t){for(var n=Wt(t),i=new Ht(e),o=r[e.type],s=pe(e)[0],a=s;x.element(a);){for(var l=0;l<o.length;l++){var c=o[l],u=c.selector,h=c.context;if(j(a,u)&&O(h,s)&&O(h,a)){var d=c.listeners;i.currentTarget=a;for(var f=0;f<d.length;f++){var g=d[f];Vt(g.options,n)&&g.func(i)}}}a=F(a)}}function c(e){return l(e,!0)}return null==(t=e.document)||t.createElement("div").addEventListener("test",null,{get capture(){return o.supportsOptions=!0},get passive(){return o.supportsPassive=!0}}),e.events=o,o}},qt={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0,n=qt.methodOrder;t<n.length;t++){var r=n[t],i=qt[r](e);if(i)return i}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,i=e.scope;if(!/down|start/i.test(n))return null;for(var o=0,s=i.interactions.list;o<s.length;o++){var a=s[o],l=r;if(a.simulation&&a.simulation.allowResume&&a.pointerType===t)for(;l;){if(l===a.element)return a;l=F(l)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,i=e.eventType,o=e.scope;if("mouse"!==r&&"pen"!==r)return null;for(var s=0,a=o.interactions.list;s<a.length;s++){var l=a[s];if(l.pointerType===r){if(l.simulation&&!Xt(l,n))continue;if(l.interacting())return l;t||(t=l)}}if(t)return t;for(var c=0,u=o.interactions.list;c<u.length;c++){var h=u[c];if(!(h.pointerType!==r||/down/i.test(i)&&h.simulation))return h}return null},hasPointer:function(e){for(var t=e.pointerId,n=0,r=e.scope.interactions.list;n<r.length;n++){var i=r[n];if(Xt(i,t))return i}return null},idle:function(e){for(var t=e.pointerType,n=0,r=e.scope.interactions.list;n<r.length;n++){var i=r[n];if(1===i.pointers.length){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function Xt(e,t){return e.pointers.some(function(e){return e.id===t})}var Jt=qt,Zt=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function $t(e,t){return function(n){var r=t.interactions.list,i=ge(n),o=pe(n),s=o[0],a=o[1],l=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var c=0,u=n.changedTouches;c<u.length;c++){var h=u[c],d={pointer:h,pointerId:ae(h),pointerType:i,eventType:n.type,eventTarget:s,curEventTarget:a,scope:t},f=en(d);l.push([d.pointer,d.eventTarget,d.curEventTarget,f])}}else{var g=!1;if(!D.supportsPointerEvent&&/mouse/.test(n.type)){for(var p=0;p<r.length&&!g;p++)g="mouse"!==r[p].pointerType&&r[p].pointerIsDown;g=g||t.now()-t.prevTouchTime<500||0===n.timeStamp}if(!g){var m={pointer:n,pointerId:ae(n),pointerType:i,eventType:n.type,curEventTarget:a,eventTarget:s,scope:t},A=en(m);l.push([m.pointer,m.eventTarget,m.curEventTarget,A])}}for(var y=0;y<l.length;y++){var v=l[y],b=v[0],w=v[1],x=v[2];v[3][e](b,n,w,x)}}}function en(e){var t=e.pointerType,n=e.scope,r={interaction:Jt.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function tn(e,t){var n=e.doc,r=e.scope,i=e.options,o=r.interactions.docEvents,s=r.events,a=s[t];for(var l in r.browser.isIOS&&!i.events&&(i.events={passive:!1}),s.delegatedEvents)a(n,l,s.delegateListener),a(n,l,s.delegateUseCapture,!0);for(var c=i&&i.events,u=0;u<o.length;u++){var h=o[u];a(n,h.type,h.listener,c)}}var nn={id:"core/interactions",install:function(e){for(var t={},n=0;n<Zt.length;n++){var r=Zt[n];t[r]=$t(r,e)}var o,a=D.pEventTypes;function c(){for(var t=0,n=e.interactions.list;t<n.length;t++){var r=n[t];if(r.pointerIsDown&&"touch"===r.pointerType&&!r._interacting)for(var i=function(){var t=s[o];e.documents.some(function(e){return O(e.doc,t.downTarget)})||r.removePointer(t.pointer,t.event)},o=0,s=r.pointers;o<s.length;o++)i()}}(o=I.PointerEvent?[{type:a.down,listener:c},{type:a.down,listener:t.pointerDown},{type:a.move,listener:t.pointerMove},{type:a.up,listener:t.pointerUp},{type:a.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:c},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(t){for(var n=0,r=e.interactions.list;n<r.length;n++)r[n].documentBlur(t)}}),e.prevTouchTime=0,e.Interaction=function(t){l(r,t);var n=d(r);function r(){return i(this,r),n.apply(this,arguments)}return s(r,[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(t){e.interactions.pointerMoveTolerance=t}},{key:"_now",value:function(){return e.now()}}]),r}(Tt),e.interactions={list:[],new:function(t){t.scopeFire=function(t,n){return e.fire(t,n)};var n=new e.Interaction(t);return e.interactions.list.push(n),n},listeners:t,docEvents:o,pointerMoveTolerance:1},e.usePlugin(pt)},listeners:{"scope:add-document":function(e){return tn(e,"add")},"scope:remove-document":function(e){return tn(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,r=t.interactions.list.length-1;r>=0;r--){var i=t.interactions.list[r];i.interactable===n&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:tn,doOnInteractions:$t,methodNames:Zt},rn=nn,on=function(e){return e[e.On=0]="On",e[e.Off=1]="Off",e}(on||{}),sn=function(){function e(t,n,r,o){i(this,e),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Gt,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=t,this._context=n.context||r,this._win=v(U(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}return s(e,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,t){return x.func(t.onstart)&&this.on("".concat(e,"start"),t.onstart),x.func(t.onmove)&&this.on("".concat(e,"move"),t.onmove),x.func(t.onend)&&this.on("".concat(e,"end"),t.onend),x.func(t.oninertiastart)&&this.on("".concat(e,"inertiastart"),t.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,t,n){var r,i=this,o=null==(r=this._actions.map[e])?void 0:r.filterEventType,s=function(e){return(null==o||o(e))&&mt(e,i._actions)};(x.array(t)||x.object(t))&&this._onOff(on.Off,e,t,void 0,s),(x.array(n)||x.object(n))&&this._onOff(on.On,e,n,void 0,s)}},{key:"setPerAction",value:function(e,t){var n=this._defaults;for(var r in t){var i=r,o=this.options[e],s=t[i];"listeners"===i&&this.updatePerActionListeners(e,o.listeners,s),x.array(s)?o[i]=ye(s):x.plainObject(s)?(o[i]=G(o[i]||{},At(s)),x.object(n.perAction[i])&&"enabled"in n.perAction[i]&&(o[i].enabled=!1!==s.enabled)):x.bool(s)&&x.object(n.perAction[i])?o[i].enabled=s:o[i]=s}}},{key:"getRect",value:function(e){return e=e||(x.element(this.target)?this.target:null),x.string(this.target)&&(e=e||this._context.querySelector(this.target)),Q(e)}},{key:"rectChecker",value:function(e){var t=this;return x.func(e)?(this.getRect=function(n){var r=G({},e.apply(t,n));return"width"in r||(r.width=r.right-r.left,r.height=r.bottom-r.top),r},this):null===e?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,t){if(U(t)||x.object(t)){for(var n in this.options[e]=t,this._actions.map)this.options[n][e]=t;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var e=this.target;return x.string(e)?Array.from(this._context.querySelectorAll(e)):x.func(e)&&e.getAllElements?e.getAllElements():x.element(e)?[e]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||O(this._context,e)}},{key:"testIgnoreAllow",value:function(e,t,n){return!this.testIgnore(e.ignoreFrom,t,n)&&this.testAllow(e.allowFrom,t,n)}},{key:"testAllow",value:function(e,t,n){return!e||!!x.element(n)&&(x.string(e)?L(n,e,t):!!x.element(e)&&O(e,n))}},{key:"testIgnore",value:function(e,t,n){return!(!e||!x.element(n))&&(x.string(e)?L(n,e,t):!!x.element(e)&&O(e,n))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,t,n,r,i){x.object(t)&&!x.array(t)&&(r=n,n=null);var o=J(t,n,i);for(var s in o){"wheel"===s&&(s=D.wheelEvent);for(var a=0,l=o[s];a<l.length;a++){var c=l[a];mt(s,this._actions)?this.events[e===on.On?"on":"off"](s,c):x.string(this.target)?this._scopeEvents[e===on.On?"addDelegate":"removeDelegate"](this.target,this._context,s,c,r):this._scopeEvents[e===on.On?"add":"remove"](this.target,s,c,r)}}return this}},{key:"on",value:function(e,t,n){return this._onOff(on.On,e,t,n)}},{key:"off",value:function(e,t,n){return this._onOff(on.Off,e,t,n)}},{key:"set",value:function(e){var t=this._defaults;for(var n in x.object(e)||(e={}),this.options=At(t.base),this._actions.methodDict){var r=n,i=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,G(G({},t.perAction),t.actions[r])),this[i](e[r])}for(var o in e)"getRect"!==o?x.func(this[o])&&this[o](e[o]):this.rectChecker(e.getRect);return this}},{key:"unset",value:function(){if(x.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var t=this._scopeEvents.delegatedEvents[e],n=t.length-1;n>=0;n--){var r=t[n],i=r.selector,o=r.context,s=r.listeners;i===this.target&&o===this._context&&t.splice(n,1);for(var a=s.length-1;a>=0;a--)this._scopeEvents.removeDelegate(this.target,this._context,e,s[a][0],s[a][1])}else this._scopeEvents.remove(this.target,"all")}}]),e}(),an=function(){function e(t){var n=this;i(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":function(e){var t=e.interactable,r=t.target,i=x.string(r)?n.selectorMap[r]:r[n.scope.id],o=ve(i,function(e){return e===t});i.splice(o,1)}})}return s(e,[{key:"new",value:function(e,t){t=G(t||{},{actions:this.scope.actions});var n=new this.scope.Interactable(e,t,this.scope.document,this.scope.events);return this.scope.addDocument(n._doc),this.list.push(n),x.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(n)):(n.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(n)),this.scope.fire("interactable:new",{target:e,options:t,interactable:n,win:this.scope._win}),n}},{key:"getExisting",value:function(e,t){var n=t&&t.context||this.scope.document,r=x.string(e),i=r?this.selectorMap[e]:e[this.scope.id];if(i)return be(i,function(t){return t._context===n&&(r||t.inContext(e))})}},{key:"forEachMatch",value:function(e,t){for(var n=0,r=this.list;n<r.length;n++){var i=r[n],o=void 0;if((x.string(i.target)?x.element(e)&&j(e,i.target):e===i.target)&&i.inContext(e)&&(o=t(i)),void 0!==o)return o}}}]),e}(),ln=function(){function e(){var t=this;i(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=D,this.defaults=At(_t),this.Eventable=Gt,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(e){var t=function t(n,r){var i=e.interactables.getExisting(n,r);return i||((i=e.interactables.new(n,r)).events.global=t.globalEvents),i};return t.getPointerAverage=ue,t.getTouchBBox=he,t.getTouchDistance=de,t.getTouchAngle=fe,t.getElementRect=Q,t.getElementClientRect=z,t.matchesSelector=j,t.closest=M,t.globalEvents={},t.version="1.10.27",t.scope=e,t.use=function(e,t){return this.scope.usePlugin(e,t),this},t.isSet=function(e,t){return!!this.scope.interactables.get(e,t&&t.context)},t.on=Ve(function(e,t,n){if(x.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),x.array(e)){for(var r=0,i=e;r<i.length;r++){var o=i[r];this.on(o,t,n)}return this}if(x.object(e)){for(var s in e)this.on(s,e[s],t);return this}return mt(e,this.scope.actions)?this.globalEvents[e]?this.globalEvents[e].push(t):this.globalEvents[e]=[t]:this.scope.events.add(this.scope.document,e,t,{options:n}),this},"The interact.on() method is being deprecated"),t.off=Ve(function(e,t,n){if(x.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),x.array(e)){for(var r=0,i=e;r<i.length;r++){var o=i[r];this.off(o,t,n)}return this}if(x.object(e)){for(var s in e)this.off(s,e[s],t);return this}var a;return mt(e,this.scope.actions)?e in this.globalEvents&&-1!==(a=this.globalEvents[e].indexOf(t))&&this.globalEvents[e].splice(a,1):this.scope.events.remove(this.scope.document,e,t,n),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return D.supportsTouch},t.supportsPointerEvent=function(){return D.supportsPointerEvent},t.stop=function(){for(var e=0,t=this.scope.interactions.list;e<t.length;e++)t[e].stop();return this},t.pointerMoveTolerance=function(e){return x.number(e)?(this.scope.interactions.pointerMoveTolerance=e,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(e,t){this.scope.addDocument(e,t)},t.removeDocument=function(e){this.scope.removeDocument(e)},t}(this),this.InteractEvent=Ct,this.Interactable=void 0,this.interactables=new an(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(e){return t.removeDocument(e.target)};var n=this;this.Interactable=function(e){l(r,e);var t=d(r);function r(){return i(this,r),t.apply(this,arguments)}return s(r,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(e){return f(c(r.prototype),"set",this).call(this,e),n.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){f(c(r.prototype),"unset",this).call(this);var e=n.interactables.list.indexOf(this);e<0||(n.interactables.list.splice(e,1),n.fire("interactable:unset",{interactable:this}))}}]),r}(sn)}return s(e,[{key:"addListeners",value:function(e,t){this.listenerMaps.push({id:t,map:e})}},{key:"fire",value:function(e,t){for(var n=0,r=this.listenerMaps;n<r.length;n++){var i=r[n].map[e];if(i&&!1===i(t,this,e))return!1}}},{key:"init",value:function(e){return this.isInitialized?this:function(e,t){return e.isInitialized=!0,x.window(t)&&y(t),I.init(t),D.init(t),Qe.init(t),e.window=t,e.document=t.document,e.usePlugin(rn),e.usePlugin(Kt),e}(this,e)}},{key:"pluginIsInstalled",value:function(e){var t=e.id;return t?!!this._plugins.map[t]:-1!==this._plugins.list.indexOf(e)}},{key:"usePlugin",value:function(e,t){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,t),e.listeners&&e.before){for(var n=0,r=this.listenerMaps.length,i=e.before.reduce(function(e,t){return e[t]=!0,e[cn(t)]=!0,e},{});n<r;n++){var o=this.listenerMaps[n].id;if(o&&(i[o]||i[cn(o)]))break}this.listenerMaps.splice(n,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,t){if(-1!==this.getDocIndex(e))return!1;var n=v(e);t=t?G({},t):{},this.documents.push({doc:e,options:t}),this.events.documents.push(e),e!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:n,scope:this,options:t})}},{key:"removeDocument",value:function(e){var t=this.getDocIndex(e),n=v(e),r=this.documents[t].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(t,1),this.events.documents.splice(t,1),this.fire("scope:remove-document",{doc:e,window:n,scope:this,options:r})}},{key:"getDocIndex",value:function(e){for(var t=0;t<this.documents.length;t++)if(this.documents[t].doc===e)return t;return-1}},{key:"getDocOptions",value:function(e){var t=this.getDocIndex(e);return-1===t?null:this.documents[t].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function cn(e){return e&&e.replace(/\/.*$/,"")}var un=new ln,hn=un.interactStatic,dn="undefined"!=typeof globalThis?globalThis:window;un.init(dn);var fn=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(t){var n=t[0],r=t[1];return n in e||r in e}),n=function(n,r){for(var i=e.range,o=e.limits,s=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,a=e.offset,l=void 0===a?{x:0,y:0}:a,c={range:i,grid:e,x:null,y:null},u=0;u<t.length;u++){var h=t[u],d=h[0],f=h[1],g=Math.round((n-l.x)/e[d]),p=Math.round((r-l.y)/e[f]);c[d]=Math.max(s.left,Math.min(s.right,g*e[d]+l.x)),c[f]=Math.max(s.top,Math.min(s.bottom,p*e[f]+l.y))}return c};return n.grid=e,n.coordFields=t,n}}),gn={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=G(t.snappers||{},fn),t.createSnapGrid=t.snappers.grid}},pn=gn,mn={start:function(e){var t=e.state,r=e.rect,i=e.edges,o=e.pageCoords,s=t.options,a=s.ratio,l=s.enabled,c=t.options,u=c.equalDelta,h=c.modifiers;"preserve"===a&&(a=r.width/r.height),t.startCoords=G({},o),t.startRect=G({},r),t.ratio=a,t.equalDelta=u;var d=t.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(t.xIsPrimaryAxis=!(!i.left&&!i.right),t.equalDelta){var f=(d.left?1:-1)*(d.top?1:-1);t.edgeSign={x:f,y:f}}else t.edgeSign={x:d.left?-1:1,y:d.top?-1:1};if(!1!==l&&G(i,d),null!=h&&h.length){var g=new yt(e.interaction);g.copyFrom(e.interaction.modification),g.prepareStates(h),t.subModification=g,g.startAll(n({},e))}},set:function(e){var t=e.state,r=e.rect,i=e.coords,o=t.linkedEdges,s=G({},i),a=t.equalDelta?An:yn;if(G(e.edges,o),a(t,t.xIsPrimaryAxis,i,r),!t.subModification)return null;var l=G({},r);q(o,l,{x:i.x-s.x,y:i.y-s.y});var c=t.subModification.setAll(n(n({},e),{},{rect:l,edges:o,pageCoords:i,prevCoords:i,prevRect:l})),u=c.delta;return c.changed&&(a(t,Math.abs(u.x)>Math.abs(u.y),c.coords,c.rect),G(i,c.coords)),c.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function An(e,t,n){var r=e.startCoords,i=e.edgeSign;t?n.y=r.y+(n.x-r.x)*i.y:n.x=r.x+(n.y-r.y)*i.x}function yn(e,t,n,r){var i=e.startRect,o=e.startCoords,s=e.ratio,a=e.edgeSign;if(t){var l=r.width/s;n.y=o.y+(l-i.height)*a.y}else{var c=r.height*s;n.x=o.x+(c-i.width)*a.x}}var vn=bt(mn,"aspectRatio"),bn=function(){};bn._defaults={};var wn=bn;function xn(e,t,n){return x.func(e)?W(e,t.interactable,t.element,[n.x,n.y,t]):W(e,t.interactable,t.element)}var En={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,i=e.interaction,o=e.pageCoords,s=r.options,a=s.elementRect,l=G({left:0,top:0,right:0,bottom:0},s.offset||{});if(t&&a){var c=xn(s.restriction,i,o);if(c){var u=c.right-c.left-t.width,h=c.bottom-c.top-t.height;u<0&&(l.left+=u,l.right+=u),h<0&&(l.top+=h,l.bottom+=h)}l.left+=n.left-t.width*a.left,l.top+=n.top-t.height*a.top,l.right+=n.right-t.width*(1-a.right),l.bottom+=n.bottom-t.height*(1-a.bottom)}r.offset=l},set:function(e){var t=e.coords,n=e.interaction,r=e.state,i=r.options,o=r.offset,s=xn(i.restriction,n,t);if(s){var a=function(e){return!e||"left"in e&&"top"in e||((e=G({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e}(s);t.x=Math.max(Math.min(a.right-o.right,t.x),a.left+o.left),t.y=Math.max(Math.min(a.bottom-o.bottom,t.y),a.top+o.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},_n=bt(En,"restrict"),Cn={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Sn={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function kn(e,t){for(var n=0,r=["top","left","bottom","right"];n<r.length;n++){var i=r[n];i in e||(e[i]=t[i])}return e}var Bn={noInner:Cn,noOuter:Sn,start:function(e){var t,n=e.interaction,r=e.startOffset,i=e.state,o=i.options;o&&(t=V(xn(o.offset,n,n.coords.start.page))),t=t||{x:0,y:0},i.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(e){var t=e.coords,n=e.edges,r=e.interaction,i=e.state,o=i.offset,s=i.options;if(n){var a=G({},t),l=xn(s.inner,r,a)||{},c=xn(s.outer,r,a)||{};kn(l,Cn),kn(c,Sn),n.top?t.y=Math.min(Math.max(c.top+o.top,a.y),l.top+o.top):n.bottom&&(t.y=Math.max(Math.min(c.bottom+o.bottom,a.y),l.bottom+o.bottom)),n.left?t.x=Math.min(Math.max(c.left+o.left,a.x),l.left+o.left):n.right&&(t.x=Math.max(Math.min(c.right+o.right,a.x),l.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},In=bt(Bn,"restrictEdges"),Tn=G({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},En.defaults),Dn=bt({start:En.start,set:En.set,defaults:Tn},"restrictRect"),On={width:-1/0,height:-1/0},Mn={width:1/0,height:1/0},Fn=bt({start:function(e){return Bn.start(e)},set:function(e){var t=e.interaction,n=e.state,r=e.rect,i=e.edges,o=n.options;if(i){var s=K(xn(o.min,t,e.coords))||On,a=K(xn(o.max,t,e.coords))||Mn;n.options={endOnly:o.endOnly,inner:G({},Bn.noInner),outer:G({},Bn.noOuter)},i.top?(n.options.inner.top=r.bottom-s.height,n.options.outer.top=r.bottom-a.height):i.bottom&&(n.options.inner.bottom=r.top+s.height,n.options.outer.bottom=r.top+a.height),i.left?(n.options.inner.left=r.right-s.width,n.options.outer.left=r.right-a.width):i.right&&(n.options.inner.right=r.left+s.width,n.options.outer.right=r.left+a.width),Bn.set(e),n.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),jn={start:function(e){var t,n=e.interaction,r=e.interactable,i=e.element,o=e.rect,s=e.state,a=e.startOffset,l=s.options,c=l.offsetWithOrigin?function(e){var t=e.interaction.element;return V(W(e.state.options.origin,null,null,[t]))||X(e.interactable,t,e.interaction.prepared.name)}(e):{x:0,y:0};if("startCoords"===l.offset)t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var u=W(l.offset,r,i,[n]);(t=V(u)||{x:0,y:0}).x+=c.x,t.y+=c.y}var h=l.relativePoints;s.offsets=o&&h&&h.length?h.map(function(e,n){return{index:n,relativePoint:e,x:a.left-o.width*e.x+t.x,y:a.top-o.height*e.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,r=e.state,i=r.options,o=r.offsets,s=X(t.interactable,t.element,t.prepared.name),a=G({},n),l=[];i.offsetWithOrigin||(a.x-=s.x,a.y-=s.y);for(var c=0,u=o;c<u.length;c++)for(var h=u[c],d=a.x-h.x,f=a.y-h.y,g=0,p=i.targets.length;g<p;g++){var m=i.targets[g],A=void 0;(A=x.func(m)?m(d,f,t._proxy,h,g):m)&&l.push({x:(x.number(A.x)?A.x:d)+h.x,y:(x.number(A.y)?A.y:f)+h.y,range:x.number(A.range)?A.range:i.range,source:m,index:g,offset:h})}for(var y={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},v=0;v<l.length;v++){var b=l[v],w=b.range,E=b.x-a.x,_=b.y-a.y,C=$(E,_),S=C<=w;w===1/0&&y.inRange&&y.range!==1/0&&(S=!1),y.target&&!(S?y.inRange&&w!==1/0?C/w<y.distance/y.range:w===1/0&&y.range!==1/0||C<y.distance:!y.inRange&&C<y.distance)||(y.target=b,y.distance=C,y.range=w,y.inRange=S,y.delta.x=E,y.delta.y=_)}return y.inRange&&(n.x=y.target.x,n.y=y.target.y),r.closest=y,y},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Pn=bt(jn,"snap"),Rn={start:function(e){var t=e.state,n=e.edges,r=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],jn.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t=e.interaction,n=e.state,r=e.coords,i=n.options,o=n.offsets,s={x:r.x-o[0].x,y:r.y-o[0].y};n.options=G({},i),n.options.targets=[];for(var a=0,l=i.targets||[];a<l.length;a++){var c=l[a],u=void 0;if(u=x.func(c)?c(s.x,s.y,t):c){for(var h=0,d=n.targetFields;h<d.length;h++){var f=d[h],g=f[0],p=f[1];if(g in u||p in u){u.x=u[g],u.y=u[p];break}}n.options.targets.push(u)}}var m=jn.set(e);return n.options=i,m},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Ln=bt(Rn,"snapSize"),Nn={aspectRatio:vn,restrictEdges:In,restrict:_n,restrictRect:Dn,restrictSize:Fn,snapEdges:bt({start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Rn.start(e)):null},set:Rn.set,defaults:G(At(Rn.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Pn,snapSize:Ln,spring:wn,avoid:wn,transform:wn,rubberband:wn},zn={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(Et),e.usePlugin(pn),t.modifiers=Nn,Nn){var r=Nn[n],i=r._defaults,o=r._methods;i._methods=o,e.defaults.perAction[n]=i}}},Qn=zn,Yn=function(e){l(n,e);var t=d(n);function n(e,r,o,s,a,l){var c;if(i(this,n),te(h(c=t.call(this,a)),o),o!==r&&te(h(c),r),c.timeStamp=l,c.originalEvent=o,c.type=e,c.pointerId=ae(r),c.pointerType=ge(r),c.target=s,c.currentTarget=null,"tap"===e){var u=a.getPointerIndex(r);c.dt=c.timeStamp-a.pointers[u].downTime;var d=c.timeStamp-a.tapTime;c.double=!!a.prevTap&&"doubletap"!==a.prevTap.type&&a.prevTap.target===c.target&&d<500}else"doubletap"===e&&(c.dt=r.timeStamp-a.tapTime,c.double=!0);return c}return s(n,[{key:"_subtractOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX-=t,this.pageY-=n,this.clientX-=t,this.clientY-=n,this}},{key:"_addOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX+=t,this.pageY+=n,this.clientX+=t,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),n}(me),Un={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Un,e.defaults.actions.pointerEvents=Un.defaults,G(e.actions.phaselessTypes,Un.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Wn(e),Gn({interaction:n,pointer:r,event:i,eventTarget:o,type:"move"},t))},"interactions:down":function(e,t){!function(e,t){for(var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,s=e.pointerIndex,a=n.pointers[s].hold,l=Y(o),c={interaction:n,pointer:r,event:i,eventTarget:o,type:"hold",targets:[],path:l,node:null},u=0;u<l.length;u++){var h=l[u];c.node=h,t.fire("pointerEvents:collect-targets",c)}if(c.targets.length){for(var d=1/0,f=0,g=c.targets;f<g.length;f++){var p=g[f].eventable.options.holdDuration;p<d&&(d=p)}a.duration=d,a.timeout=setTimeout(function(){Gn({interaction:n,eventTarget:o,pointer:r,event:i,type:"hold"},t)},d)}}(e,t),Gn(e,t)},"interactions:up":function(e,t){Wn(e),Gn(e,t),function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;n.pointerWasMoved||Gn({interaction:n,eventTarget:o,pointer:r,event:i,type:"tap"},t)}(e,t)},"interactions:cancel":function(e,t){Wn(e),Gn(e,t)}},PointerEvent:Yn,fire:Gn,collectEventTargets:Hn,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Gn(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,s=e.type,a=e.targets,l=void 0===a?Hn(e,t):a,c=new Yn(s,r,i,o,n,t.now());t.fire("pointerEvents:new",{pointerEvent:c});for(var u={interaction:n,pointer:r,event:i,eventTarget:o,targets:l,type:s,pointerEvent:c},h=0;h<l.length;h++){var d=l[h];for(var f in d.props||{})c[f]=d.props[f];var g=X(d.eventable,d.node);if(c._subtractOrigin(g),c.eventable=d.eventable,c.currentTarget=d.node,d.eventable.fire(c),c._addOrigin(g),c.immediatePropagationStopped||c.propagationStopped&&h+1<l.length&&l[h+1].node!==c.currentTarget)break}if(t.fire("pointerEvents:fired",u),"tap"===s){var p=c.double?Gn({interaction:n,pointer:r,event:i,eventTarget:o,type:"doubletap"},t):c;n.prevTap=p,n.tapTime=p.timeStamp}return c}function Hn(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,s=e.type,a=n.getPointerIndex(r),l=n.pointers[a];if("tap"===s&&(n.pointerWasMoved||!l||l.downTarget!==o))return[];for(var c=Y(o),u={interaction:n,pointer:r,event:i,eventTarget:o,type:s,path:c,targets:[],node:null},h=0;h<c.length;h++){var d=c[h];u.node=d,t.fire("pointerEvents:collect-targets",u)}return"hold"===s&&(u.targets=u.targets.filter(function(e){var t,r;return e.eventable.options.holdDuration===(null==(t=n.pointers[a])||null==(r=t.hold)?void 0:r.duration)})),u.targets}function Wn(e){var t=e.interaction,n=e.pointerIndex,r=t.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var Vn=Object.freeze({__proto__:null,default:Un});function Kn(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}var qn={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(Un);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=Kn,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;"hold"===t.type&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,i=e.eventTarget,o=e.targets;if("hold"===r.type&&o.length){var s=o[0].eventable.options.holdRepeatInterval;s<=0||(n.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:n,eventTarget:i,type:"hold",pointer:r,event:r},t)},s))}}})},Xn=qn,Jn={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=function(e){return G(this.events.options,e),this};var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(e,t){var r=n.call(this,e,t);return r===this&&(this.events.options[e]=t),r}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,i=e.type,o=e.eventTarget;t.interactables.forEachMatch(r,function(e){var t=e.events,s=t.options;t.types[i]&&t.types[i].length&&e.testIgnoreAllow(s,r,o)&&n.push({node:r,eventable:t,props:{interactable:e}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(e){return t.getRect(e)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;G(n.events.options,t.pointerEvents.defaults),G(n.events.options,r.pointerEvents||{})}}},Zn=Jn,$n={id:"pointer-events",install:function(e){e.usePlugin(Vn),e.usePlugin(Xn),e.usePlugin(Zn)}},er=$n,tr={id:"reflow",install:function(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(t){return function(e,t,n){for(var r=e.getAllElements(),i=n.window.Promise,o=i?[]:null,s=function(){var s=r[a],l=e.getRect(s);if(!l)return 1;var c,u=be(n.interactions.list,function(n){return n.interacting()&&n.interactable===e&&n.element===s&&n.prepared.name===t.name});if(u)u.move(),o&&(c=u._reflowPromise||new i(function(e){u._reflowResolve=e}));else{var h=K(l),d=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:h.x,y:h.y},client:{x:h.x,y:h.y},timeStamp:n.now()});c=function(e,t,n,r,i){var o=e.interactions.new({pointerType:"reflow"}),s={interaction:o,event:i,pointer:i,eventTarget:n,phase:"reflow"};o.interactable=t,o.element=n,o.prevEvent=i,o.updatePointer(i,i,n,!0),re(o.coords.delta),Ke(o.prepared,r),o._doPhase(s);var a=e.window.Promise,l=a?new a(function(e){o._reflowResolve=e}):void 0;return o._reflowPromise=l,o.start(r,t,n),o._interacting?(o.move(s),o.end(i)):(o.stop(),o._reflowResolve()),o.removePointer(i,i),l}(n,e,s,t,d)}o&&o.push(c)},a=0;a<r.length&&!s();a++);return o&&i.all(o).then(function(){return e})}(this,t,e)}},listeners:{"interactions:stop":function(e,t){var n=e.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),function(e,t){e.splice(e.indexOf(t),1)}(t.interactions.list,n))}}},nr=tr;if(hn.use(pt),hn.use(Pt),hn.use(er),hn.use(Yt),hn.use(Qn),hn.use(dt),hn.use(Ne),hn.use(We),hn.use(nr),hn.default=hn,"object"===r(e)&&e)try{e.exports=hn}catch(t){}return hn.default=hn,hn}()},950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=n(43),t=n(391);function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function f(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}var w=function(){},x={},E={},_=null,C={mark:w,measure:w};try{"undefined"!==typeof window&&(x=window),"undefined"!==typeof document&&(E=document),"undefined"!==typeof MutationObserver&&(_=MutationObserver),"undefined"!==typeof performance&&(C=performance)}catch(J){}var S,k,B=(x.navigator||{}).userAgent,I=void 0===B?"":B,T=x,D=E,O=_,M=C,F=(T.document,!!D.documentElement&&!!D.head&&"function"===typeof D.addEventListener&&"function"===typeof D.createElement),j=~I.indexOf("MSIE")||~I.indexOf("Trident/"),P={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},R=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],L="classic",N="duotone",z="sharp",Q="sharp-duotone",Y="chisel",U="etch",G="jelly",H="jelly-duo",W="jelly-fill",V="notdog",K="notdog-duo",q="slab",X="slab-press",J="thumbprint",Z="utility",$="utility-duo",ee="utility-fill",te="whiteboard",ne=[L,N,z,Q,Y,U,G,H,W,V,K,q,X,J,Z,$,ee,te],re=(f(f(f(f(f(f(f(f(f(f(S={},L,"Classic"),N,"Duotone"),z,"Sharp"),Q,"Sharp Duotone"),Y,"Chisel"),U,"Etch"),G,"Jelly"),H,"Jelly Duo"),W,"Jelly Fill"),V,"Notdog"),f(f(f(f(f(f(f(f(S,K,"Notdog Duo"),q,"Slab"),X,"Slab Press"),J,"Thumbprint"),Z,"Utility"),$,"Utility Duo"),ee,"Utility Fill"),te,"Whiteboard"),new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]])),ie=["fak","fa-kit","fakd","fa-kit-duotone"],oe={fak:"kit","fa-kit":"kit"},se={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},ae=(f(f({},"kit","Kit"),"kit-duotone","Kit Duotone"),{kit:"fak"}),le={"kit-duotone":"fakd"},ce="duotone-group",ue="swap-opacity",he="primary",de="secondary",fe=(f(f(f(f(f(f(f(f(f(f(k={},"classic","Classic"),"duotone","Duotone"),"sharp","Sharp"),"sharp-duotone","Sharp Duotone"),"chisel","Chisel"),"etch","Etch"),"jelly","Jelly"),"jelly-duo","Jelly Duo"),"jelly-fill","Jelly Fill"),"notdog","Notdog"),f(f(f(f(f(f(f(f(k,"notdog-duo","Notdog Duo"),"slab","Slab"),"slab-press","Slab Press"),"thumbprint","Thumbprint"),"utility","Utility"),"utility-duo","Utility Duo"),"utility-fill","Utility Fill"),"whiteboard","Whiteboard"),f(f({},"kit","Kit"),"kit-duotone","Kit Duotone"),{classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}}),ge=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"]),pe=[1,2,3,4,5,6,7,8,9,10],me=pe.concat([11,12,13,14,15,16,17,18,19,20]),Ae=[].concat(A(Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]})),["solid","regular","light","thin","duotone","brands","semibold"],["aw","fw","pull-left","pull-right"],["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",ce,ue,he,de]).concat(pe.map(function(e){return"".concat(e,"x")})).concat(me.map(function(e){return"w-".concat(e)})),ye="___FONT_AWESOME___",ve="svg-inline--fa",be="data-fa-i2svg",we="data-fa-pseudo-element",xe="data-prefix",Ee="data-icon",_e="fontawesome-i2svg",Ce=["HTML","HEAD","STYLE","SCRIPT"],Se=["::before","::after",":before",":after"],ke=function(){try{return!0}catch(e){return!1}}();function Be(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[L]}})}var Ie=p({},P);Ie[L]=p(p(p(p({},{"fa-duotone":"duotone"}),P[L]),oe),se);var Te=Be(Ie),De=p({},{chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}});De[L]=p(p(p(p({},{duotone:"fad"}),De[L]),ae),le);var Oe=Be(De),Me=p({},fe);Me[L]=p(p({},Me[L]),{fak:"fa-kit"});var Fe=Be(Me),je=p({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}});je[L]=p(p({},je[L]),{"fa-kit":"fak"});Be(je);var Pe=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Re="fa-layers-text",Le=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,Ne=(Be(p({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),ze={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Qe=[].concat(A(["kit"]),A(Ae)),Ye=T.FontAwesomeConfig||{};if(D&&"function"===typeof D.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=m(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=D.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(Ye[r]=i)})}var Ue={styleDefault:"solid",familyDefault:L,cssPrefix:"fa",replacementClass:ve,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ye.familyPrefix&&(Ye.cssPrefix=Ye.familyPrefix);var Ge=p(p({},Ue),Ye);Ge.autoReplaceSvg||(Ge.observeMutations=!1);var He={};Object.keys(Ue).forEach(function(e){Object.defineProperty(He,e,{enumerable:!0,set:function(t){Ge[e]=t,We.forEach(function(e){return e(He)})},get:function(){return Ge[e]}})}),Object.defineProperty(He,"familyPrefix",{enumerable:!0,set:function(e){Ge.cssPrefix=e,We.forEach(function(e){return e(He)})},get:function(){return Ge.cssPrefix}}),T.FontAwesomeConfig=He;var We=[];var Ve=16,Ke={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function qe(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Xe(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Je(e){return e.classList?Xe(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(e){return e})}function Ze(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $e(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function et(e){return e.size!==Ke.size||e.x!==Ke.x||e.y!==Ke.y||e.rotate!==Ke.rotate||e.flipX||e.flipY}function tt(){var e="fa",t=ve,n=He.cssPrefix,r=He.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";\n  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";\n  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";\n  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";\n  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";\n  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";\n  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";\n  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";\n  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";\n  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";\n  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";\n  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";\n  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";\n  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";\n}\n\n.svg-inline--fa {\n  box-sizing: content-box;\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n  width: var(--fa-width, 1.25em);\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285714em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left,\n.svg-inline--fa .fa-pull-start {\n  float: inline-start;\n  margin-inline-end: var(--fa-pull-margin, 0.3em);\n}\n.svg-inline--fa.fa-pull-right,\n.svg-inline--fa .fa-pull-end {\n  float: inline-end;\n  margin-inline-start: var(--fa-pull-margin, 0.3em);\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));\n  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: var(--fa-width, 1.25em);\n}\n.fa-layers .svg-inline--fa {\n  inset: 0;\n  margin: auto;\n  position: absolute;\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-xs {\n  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-sm {\n  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-lg {\n  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-xl {\n  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-2xl {\n  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-width-auto {\n  --fa-width: auto;\n}\n\n.fa-fw,\n.fa-width-fixed {\n  --fa-width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-inline-start: var(--fa-li-margin, 2.5em);\n  padding-inline-start: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n/* Heads Up: Bordered Icons will not be supported in the future!\n  - This feature will be deprecated in the next major release of Font Awesome (v8)!\n  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.\n*/\n/* Notes:\n* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)\n* --@{v.$css-prefix}-border-padding =\n  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it\'s vertical alignment)\n  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)\n*/\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.0625em);\n  box-sizing: var(--fa-border-box-sizing, content-box);\n  padding: var(--fa-border-padding, 0.1875em 0.25em);\n}\n\n.fa-pull-left,\n.fa-pull-start {\n  float: inline-start;\n  margin-inline-end: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right,\n.fa-pull-end {\n  float: inline-end;\n  margin-inline-start: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n  .fa-bounce,\n  .fa-fade,\n  .fa-beat-fade,\n  .fa-flip,\n  .fa-pulse,\n  .fa-shake,\n  .fa-spin,\n  .fa-spin-pulse {\n    animation: none !important;\n    transition: none !important;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.svg-inline--fa.fa-inverse {\n  fill: var(--fa-inverse, #fff);\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  line-height: 2em;\n  position: relative;\n  vertical-align: middle;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  --fa-width: 1.25em;\n  height: 1em;\n  width: var(--fa-width);\n}\n.svg-inline--fa.fa-stack-2x {\n  --fa-width: 2.5em;\n  height: 2em;\n  width: var(--fa-width);\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  inset: 0;\n  margin: auto;\n  position: absolute;\n  z-index: var(--fa-stack-z-index, auto);\n}';if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var nt=!1;function rt(){He.autoAddCss&&!nt&&(!function(e){if(e&&F){var t=D.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=D.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}D.head.insertBefore(t,r)}}(tt()),nt=!0)}var it={mixout:function(){return{dom:{css:tt,insertCss:rt}}},hooks:function(){return{beforeDOMElementCreation:function(){rt()},beforeI2svg:function(){rt()}}}},ot=T||{};ot[ye]||(ot[ye]={}),ot[ye].styles||(ot[ye].styles={}),ot[ye].hooks||(ot[ye].hooks={}),ot[ye].shims||(ot[ye].shims=[]);var st=ot[ye],at=[],lt=function(){D.removeEventListener("DOMContentLoaded",lt),ct=1,at.map(function(e){return e()})},ct=!1;function ut(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"===typeof e?Ze(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(Ze(e[n]),'" ')},"").trim()}(r),">").concat(o.map(ut).join(""),"</").concat(t,">")}function ht(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}F&&((ct=(D.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(D.readyState))||D.addEventListener("DOMContentLoaded",lt));var dt=function(e,t,n,r){var i,o,s,a=Object.keys(e),l=a.length,c=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,s=e[a[0]]):(i=0,s=n);i<l;i++)s=c(s,e[o=a[i]],o,e);return s};function ft(e){return 1!==A(e).length?null:e.codePointAt(0).toString(16)}function gt(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function pt(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=gt(t);"function"!==typeof st.hooks.addPack||r?st.styles[e]=p(p({},st.styles[e]||{}),i):st.hooks.addPack(e,gt(t)),"fas"===e&&pt("fa",t)}var mt=st.styles,At=st.shims,yt=Object.keys(Fe),vt=yt.reduce(function(e,t){return e[t]=Object.keys(Fe[t]),e},{}),bt=null,wt={},xt={},Et={},_t={},Ct={};function St(e,t){var n,r=t.split("-"),i=r[0],o=r.slice(1).join("-");return i!==e||""===o||(n=o,~Qe.indexOf(n))?null:o}var kt,Bt=function(){var e=function(e){return dt(mt,function(t,n,r){return t[r]=dt(n,e,{}),t},{})};wt=e(function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter(function(e){return"number"===typeof e}).forEach(function(t){e[t.toString(16)]=n});return e}),xt=e(function(e,t,n){(e[n]=n,t[2])&&t[2].filter(function(e){return"string"===typeof e}).forEach(function(t){e[t]=n});return e}),Ct=e(function(e,t,n){var r=t[2];return e[n]=n,r.forEach(function(t){e[t]=n}),e});var t="far"in mt||He.autoFetchSvg,n=dt(At,function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:o}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:o}),e},{names:{},unicodes:{}});Et=n.names,_t=n.unicodes,bt=Mt(He.styleDefault,{family:He.familyDefault})};function It(e,t){return(wt[e]||{})[t]}function Tt(e,t){return(Ct[e]||{})[t]}function Dt(e){return Et[e]||{prefix:null,iconName:null}}function Ot(){return bt}kt=function(e){bt=Mt(e.styleDefault,{family:He.familyDefault})},We.push(kt),Bt();function Mt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?L:t,r=Te[n][e];if(n===N&&!e)return"fad";var i=Oe[n][e]||Oe[n][r],o=e in st.styles?e:null;return i||o||null}function Ft(e){return e.sort().filter(function(e,t,n){return n.indexOf(e)===t})}var jt=ge.concat(ie);function Pt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,n=void 0!==t&&t,r=null,i=Ft(e.filter(function(e){return jt.includes(e)})),o=Ft(e.filter(function(e){return!jt.includes(e)})),s=m(i.filter(function(e){return r=e,!R.includes(e)}),1)[0],a=void 0===s?null:s,l=function(e){var t=L,n=yt.reduce(function(e,t){return e[t]="".concat(He.cssPrefix,"-").concat(t),e},{});return ne.forEach(function(r){(e.includes(n[r])||e.some(function(e){return vt[r].includes(e)}))&&(t=r)}),t}(i),c=p(p({},function(e){var t=[],n=null;return e.forEach(function(e){var r=St(He.cssPrefix,e);r?n=r:e&&t.push(e)}),{iconName:n,rest:t}}(o)),{},{prefix:Mt(a,{family:l})});return p(p(p({},c),function(e){var t=e.values,n=e.family,r=e.canonical,i=e.givenPrefix,o=void 0===i?"":i,s=e.styles,a=void 0===s?{}:s,l=e.config,c=void 0===l?{}:l,u=n===N,h=t.includes("fa-duotone")||t.includes("fad"),d="duotone"===c.familyDefault,f="fad"===r.prefix||"fa-duotone"===r.prefix;!u&&(h||d||f)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&Rt.includes(n)){if(Object.keys(a).find(function(e){return Lt.includes(e)})||c.autoFetchSvg){var g=re.get(n).defaultShortPrefixId;r.prefix=g,r.iconName=Tt(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==o||(r.prefix=Ot()||"fas");return r}({values:e,family:l,styles:mt,config:He,canonical:c,givenPrefix:r})),function(e,t,n){var r=n.prefix,i=n.iconName;if(e||!r||!i)return{prefix:r,iconName:i};var o="fa"===t?Dt(i):{},s=Tt(r,i);i=o.iconName||s||i,r=o.prefix||r,"far"!==r||mt.far||!mt.fas||He.autoFetchSvg||(r="fas");return{prefix:r,iconName:i}}(n,r,c))}var Rt=ne.filter(function(e){return e!==L||e!==N}),Lt=Object.keys(fe).filter(function(e){return e!==L}).map(function(e){return Object.keys(fe[e])}).flat();var Nt=function(){return function(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}},[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(t){e.definitions[t]=p(p({},e.definitions[t]||{}),i[t]),pt(t,i[t]);var n=Fe[L][t];n&&pt(n,i[t]),Bt()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var r=n[t],i=r.prefix,o=r.iconName,s=r.icon,a=s[2];e[i]||(e[i]={}),a.length>0&&a.forEach(function(t){"string"===typeof t&&(e[i][t]=s)}),e[i][o]=s}),e}}])}(),zt=[],Qt={},Yt={},Ut=Object.keys(Yt);function Gt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Qt[e]||[]).forEach(function(e){t=e.apply(null,[t].concat(r))}),t}function Ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Qt[e]||[]).forEach(function(e){e.apply(null,n)})}function Wt(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Yt[e]?Yt[e].apply(null,t):void 0}function Vt(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Ot();if(t)return t=Tt(n,t)||t,ht(Kt.definitions,n,t)||ht(st.styles,n,t)}var Kt=new Nt,qt={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return F?(Ht("beforeI2svg",e),Wt("pseudoElements2svg",e),Wt("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===He.autoReplaceSvg&&(He.autoReplaceSvg=!0),He.observeMutations=!0,function(e){F&&(ct?setTimeout(e,0):at.push(e))}(function(){Zt({autoReplaceSvgRoot:t}),Ht("watch",e)})}},Xt={icon:function(e){if(null===e)return null;if("object"===v(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Tt(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Mt(e[0]);return{prefix:n,iconName:Tt(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(He.cssPrefix,"-"))>-1||e.match(Pe))){var r=Pt(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Ot(),iconName:Tt(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Ot();return{prefix:i,iconName:Tt(i,e)||e}}}},Jt={noAuto:function(){He.autoReplaceSvg=!1,He.observeMutations=!1,Ht("noAuto")},config:He,dom:qt,parse:Xt,library:Kt,findIconDefinition:Vt,toHtml:ut},Zt=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?D:e;(Object.keys(st.styles).length>0||He.autoFetchSvg)&&F&&He.autoReplaceSvg&&Jt.dom.i2svg({node:t})};function $t(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return ut(e)})}}),Object.defineProperty(e,"node",{get:function(){if(F){var t=D.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function en(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,s=e.transform,a=e.symbol,l=e.maskId,c=e.extra,u=e.watchable,h=void 0!==u&&u,d=r.found?r:n,f=d.width,g=d.height,m=[He.replacementClass,o?"".concat(He.cssPrefix,"-").concat(o):""].filter(function(e){return-1===c.classes.indexOf(e)}).filter(function(e){return""!==e||!!e}).concat(c.classes).join(" "),A={children:[],attributes:p(p({},c.attributes),{},{"data-prefix":i,"data-icon":o,class:m,role:c.attributes.role||"img",viewBox:"0 0 ".concat(f," ").concat(g)})};(function(e){return["aria-label","aria-labelledby","title","role"].some(function(t){return t in e})})(c.attributes)||c.attributes["aria-hidden"]||(A.attributes["aria-hidden"]="true"),h&&(A.attributes[be]="");var y=p(p({},A),{},{prefix:i,iconName:o,main:n,mask:r,maskId:l,transform:s,symbol:a,styles:p({},c.styles)}),v=r.found&&n.found?Wt("generateAbstractMask",y)||{children:[],attributes:{}}:Wt("generateAbstractIcon",y)||{children:[],attributes:{}},b=v.children,w=v.attributes;return y.children=b,y.attributes=w,a?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol,s=!0===o?"".concat(t,"-").concat(He.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:p(p({},i),{},{id:s}),children:r}]}]}(y):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,s=e.transform;if(et(s)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=$e(p(p({},o),{},{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(y)}function tn(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.extra,s=e.watchable,a=void 0!==s&&s,l=p(p({},o.attributes),{},{class:o.classes.join(" ")});a&&(l[be]="");var c=p({},o.styles);et(i)&&(c.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,o=void 0===i?16:i,s=e.startCentered,a=void 0!==s&&s,l="";return l+=a&&j?"translate(".concat(t.x/Ve-r/2,"em, ").concat(t.y/Ve-o/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/Ve,"em), calc(-50% + ").concat(t.y/Ve,"em)) "):"translate(".concat(t.x/Ve,"em, ").concat(t.y/Ve,"em) "),l+="scale(".concat(t.size/Ve*(t.flipX?-1:1),", ").concat(t.size/Ve*(t.flipY?-1:1),") "),l+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);var u=$e(c);u.length>0&&(l.style=u);var h=[];return h.push({tag:"span",attributes:l,children:[t]}),h}var nn=st.styles;function rn(e){var t=e[0],n=e[1],r=m(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(He.cssPrefix,"-").concat(ze.GROUP)},children:[{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(ze.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(ze.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var on={found:!1,width:512,height:512};function sn(e,t){var n=t;return"fa"===t&&null!==He.styleDefault&&(t=Ot()),new Promise(function(r,i){if("fa"===n){var o=Dt(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&nn[t]&&nn[t][e])return r(rn(nn[t][e]));!function(e,t){ke||He.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(p(p({},on),{},{icon:He.showMissingIcons&&e&&Wt("missingIconAbstract")||{}}))})}var an=function(){},ln=He.measurePerformance&&M&&M.mark&&M.measure?M:{mark:an,measure:an},cn='FA "7.1.0"',un=function(e){ln.mark("".concat(cn," ").concat(e," ends")),ln.measure("".concat(cn," ").concat(e),"".concat(cn," ").concat(e," begins"),"".concat(cn," ").concat(e," ends"))},hn=function(e){return ln.mark("".concat(cn," ").concat(e," begins")),function(){return un(e)}},dn=function(){};function fn(e){return"string"===typeof(e.getAttribute?e.getAttribute(be):null)}function gn(e){return D.createElementNS("http://www.w3.org/2000/svg",e)}function pn(e){return D.createElement(e)}function mn(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?gn:pn:t;if("string"===typeof e)return D.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(t){r.setAttribute(t,e.attributes[t])}),(e.children||[]).forEach(function(e){r.appendChild(mn(e,{ceFn:n}))}),r}var An={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(e){t.parentNode.insertBefore(mn(e),t)}),null===t.getAttribute(be)&&He.keepOriginalSource){var n=D.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~Je(t).indexOf(He.replacementClass))return An.replace(e);var r=new RegExp("".concat(He.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce(function(e,t){return t===He.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var o=n.map(function(e){return ut(e)}).join("\n");t.setAttribute(be,""),t.innerHTML=o}};function yn(e){e()}function vn(e,t){var n="function"===typeof t?t:dn;if(0===e.length)n();else{var r=yn;"async"===He.mutateApproach&&(r=T.requestAnimationFrame||yn),r(function(){var t=!0===He.autoReplaceSvg?An.replace:An[He.autoReplaceSvg]||An.replace,r=hn("mutate");e.map(t),r(),n()})}}var bn=!1;function wn(){bn=!0}function xn(){bn=!1}var En=null;function _n(e){if(O&&He.observeMutations){var t=e.treeCallback,n=void 0===t?dn:t,r=e.nodeCallback,i=void 0===r?dn:r,o=e.pseudoElementsCallback,s=void 0===o?dn:o,a=e.observeMutationsRoot,l=void 0===a?D:a;En=new O(function(e){if(!bn){var t=Ot();Xe(e).forEach(function(e){if("childList"===e.type&&e.addedNodes.length>0&&!fn(e.addedNodes[0])&&(He.searchPseudoElements&&s(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&He.searchPseudoElements&&s([e.target],!0),"attributes"===e.type&&fn(e.target)&&~Ne.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(xe):null,n=e.getAttribute?e.getAttribute(Ee):null;return t&&n}(e.target)){var r=Pt(Je(e.target)),o=r.prefix,a=r.iconName;e.target.setAttribute(xe,o||t),a&&e.target.setAttribute(Ee,a)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(He.replacementClass)&&i(e.target);var l})}}),F&&En.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Cn(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Pt(Je(e));return i.prefix||(i.prefix=Ot()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(xt[e]||{})[t]}(i.prefix,e.innerText)||It(i.prefix,ft(e.innerText))),!i.iconName&&He.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Cn(e),r=n.iconName,i=n.prefix,o=n.rest,s=function(e){return Xe(e.attributes).reduce(function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e},{})}(e),a=Gt("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e},{})),n}(e):[];return p({iconName:r,prefix:i,transform:Ke,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:l,attributes:s}},a)}var kn=st.styles;function Bn(e){var t="nest"===He.autoReplaceSvg?Sn(e,{styleParser:!1}):Sn(e);return~t.extra.classes.indexOf(Re)?Wt("generateLayersText",e,t):Wt("generateSvgReplacementMutation",e,t)}function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!F)return Promise.resolve();var n=D.documentElement.classList,r=function(e){return n.add("".concat(_e,"-").concat(e))},i=function(e){return n.remove("".concat(_e,"-").concat(e))},o=He.autoFetchSvg?[].concat(A(ie),A(ge)):R.concat(Object.keys(kn));o.includes("fa")||o.push("fa");var s=[".".concat(Re,":not([").concat(be,"])")].concat(o.map(function(e){return".".concat(e,":not([").concat(be,"])")})).join(", ");if(0===s.length)return Promise.resolve();var a=[];try{a=Xe(e.querySelectorAll(s))}catch(u){}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var l=hn("onTree"),c=a.reduce(function(e,t){try{var n=Bn(t);n&&e.push(n)}catch(u){ke||"MissingIcon"===u.name&&console.error(u)}return e},[]);return new Promise(function(e,n){Promise.all(c).then(function(n){vn(n,function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()})}).catch(function(e){l(),n(e)})})}function Tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Bn(e).then(function(e){e&&vn([e],t)})}var Dn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Ke:n,i=t.symbol,o=void 0!==i&&i,s=t.mask,a=void 0===s?null:s,l=t.maskId,c=void 0===l?null:l,u=t.classes,h=void 0===u?[]:u,d=t.attributes,f=void 0===d?{}:d,g=t.styles,m=void 0===g?{}:g;if(e){var A=e.prefix,y=e.iconName,v=e.icon;return $t(p({type:"icon"},e),function(){return Ht("beforeDOMElementCreation",{iconDefinition:e,params:t}),en({icons:{main:rn(v),mask:a?rn(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:A,iconName:y,transform:p(p({},Ke),r),symbol:o,maskId:c,extra:{attributes:f,styles:m,classes:h}})})}},On={mixout:function(){return{icon:(e=Dn,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:Vt(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Vt(i||{})),e(r,p(p({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=In,e.nodeCallback=Tn,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?D:t,r=e.callback;return In(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.prefix,i=t.transform,o=t.symbol,s=t.mask,a=t.maskId,l=t.extra;return new Promise(function(t,c){Promise.all([sn(n,r),s.iconName?sn(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(s){var c=m(s,2),u=c[0],h=c[1];t([e,en({icons:{main:u,mask:h},prefix:r,iconName:n,transform:i,symbol:o,maskId:a,extra:l,watchable:!0})])}).catch(c)})},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.transform,s=$e(e.styles);return s.length>0&&(r.style=s),et(o)&&(t=Wt("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Mn={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return $t({type:"layer"},function(){Ht("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e(function(e){Array.isArray(e)?e.map(function(e){n=n.concat(e.abstract)}):n=n.concat(e.abstract)}),[{tag:"span",attributes:{class:["".concat(He.cssPrefix,"-layers")].concat(A(r)).join(" ")},children:n}]})}}}},Fn={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,o=void 0===i?[]:i,s=t.attributes,a=void 0===s?{}:s,l=t.styles,c=void 0===l?{}:l;return $t({type:"counter",content:e},function(){return Ht("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.extra,r=p(p({},n.attributes),{},{class:n.classes.join(" ")}),i=$e(n.styles);i.length>0&&(r.style=i);var o=[];return o.push({tag:"span",attributes:r,children:[t]}),o}({content:e.toString(),title:r,extra:{attributes:a,styles:c,classes:["".concat(He.cssPrefix,"-layers-counter")].concat(A(o))}})})}}}},jn={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Ke:n,i=t.classes,o=void 0===i?[]:i,s=t.attributes,a=void 0===s?{}:s,l=t.styles,c=void 0===l?{}:l;return $t({type:"text",content:e},function(){return Ht("beforeDOMElementCreation",{content:e,params:t}),tn({content:e,transform:p(p({},Ke),r),extra:{attributes:a,styles:c,classes:["".concat(He.cssPrefix,"-layers-text")].concat(A(o))}})})}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.transform,r=t.extra,i=null,o=null;if(j){var s=parseInt(getComputedStyle(e).fontSize,10),a=e.getBoundingClientRect();i=a.width/s,o=a.height/s}return Promise.resolve([e,tn({content:e.innerHTML,width:i,height:o,transform:n,extra:r,watchable:!0})])}}},Pn=new RegExp('"',"ug"),Rn=[1105920,1112319],Ln=p(p(p(p({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),Nn=Object.keys(Ln).reduce(function(e,t){return e[t.toLowerCase()]=Ln[t],e},{}),zn=Object.keys(Nn).reduce(function(e,t){var n=Nn[t];return e[t]=n[900]||A(Object.entries(n))[0][1],e},{});function Qn(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(r,i){if(null!==e.getAttribute(n))return r();var o=Xe(e.children).filter(function(e){return e.getAttribute(we)===t})[0],s=T.getComputedStyle(e,t),a=s.getPropertyValue("font-family"),l=a.match(Le),c=s.getPropertyValue("font-weight"),u=s.getPropertyValue("content");if(o&&!l)return e.removeChild(o),r();if(l&&"none"!==u&&""!==u){var h=s.getPropertyValue("content"),d=function(e,t){var n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),i=isNaN(r)?"normal":r;return(Nn[n]||{})[i]||zn[n]}(a,c),f=function(e){return ft(A(e.replace(Pn,""))[0]||"")}(h),g=l[0].startsWith("FontAwesome"),m=function(e){var t=e.getPropertyValue("font-feature-settings").includes("ss01"),n=e.getPropertyValue("content").replace(Pn,""),r=n.codePointAt(0),i=r>=Rn[0]&&r<=Rn[1],o=2===n.length&&n[0]===n[1];return i||o||t}(s),y=It(d,f),v=y;if(g){var b=function(e){var t=_t[e],n=It("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(f);b.iconName&&b.prefix&&(y=b.iconName,d=b.prefix)}if(!y||m||o&&o.getAttribute(xe)===d&&o.getAttribute(Ee)===v)r();else{e.setAttribute(n,v),o&&e.removeChild(o);var w={iconName:null,prefix:null,transform:Ke,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},x=w.extra;x.attributes[we]=t,sn(y,d).then(function(i){var o=en(p(p({},w),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:d,iconName:v,extra:x,watchable:!0})),s=D.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(s,e.firstChild):e.appendChild(s),s.outerHTML=o.map(function(e){return ut(e)}).join("\n"),e.removeAttribute(n),r()}).catch(i)}}else r()})}function Yn(e){return Promise.all([Qn(e,"::before"),Qn(e,"::after")])}function Un(e){return e.parentNode!==document.head&&!~Ce.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(we)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}var Gn=function(e){return!!e&&Se.some(function(t){return e.includes(t)})},Hn=function(e){if(!e)return[];var t=new Set,n=e.split(/,(?![^()]*\))/).map(function(e){return e.trim()});n=n.flatMap(function(e){return e.includes("(")?e:e.split(",").map(function(e){return e.trim()})});var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(Gn(o)){var s=Se.reduce(function(e,t){return e.replace(t,"")},o);""!==s&&"*"!==s&&t.add(s)}}}catch(a){i.e(a)}finally{i.f()}return t};function Wn(e){if(F){var t;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])t=e;else if(He.searchPseudoElementsFullScan)t=e.querySelectorAll("*");else{var n,r=new Set,i=d(document.styleSheets);try{for(i.s();!(n=i.n()).done;){var o=n.value;try{var s,a=d(o.cssRules);try{for(a.s();!(s=a.n()).done;){var l,c=s.value,u=d(Hn(c.selectorText));try{for(u.s();!(l=u.n()).done;){var h=l.value;r.add(h)}}catch(g){u.e(g)}finally{u.f()}}}catch(g){a.e(g)}finally{a.f()}}catch(p){He.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(o.href," (").concat(p.message,')\nIf it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.'))}}}catch(g){i.e(g)}finally{i.f()}if(!r.size)return;var f=Array.from(r).join(", ");try{t=e.querySelectorAll(f)}catch(m){}}return new Promise(function(e,n){var r=Xe(t).filter(Un).map(Yn),i=hn("searchPseudoElements");wn(),Promise.all(r).then(function(){i(),xn(),e()}).catch(function(){i(),xn(),n()})})}}var Vn={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Wn,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?D:t;He.searchPseudoElements&&Wn(n)}}},Kn=!1,qn=function(e){return e.toLowerCase().split(" ").reduce(function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Xn={mixout:function(){return{parse:{transform:function(e){return qn(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=qn(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,o={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(32*n.x,", ").concat(32*n.y,") "),a="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:o,inner:{transform:"".concat(s," ").concat(a," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:p({},c.outer),children:[{tag:"g",attributes:p({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:p(p({},t.icon.attributes),c.path)}]}]}}}},Jn={x:0,y:0,width:"100%",height:"100%"};function Zn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var $n={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Pt(n.split(" ").map(function(e){return e.trim()})):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Ot()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,s=e.maskId,a=e.transform,l=i.width,c=i.icon,u=o.width,h=o.icon,d=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:a,containerWidth:u,iconWidth:l}),f={tag:"rect",attributes:p(p({},Jn),{},{fill:"white"})},g=c.children?{children:c.children.map(Zn)}:{},m={tag:"g",attributes:p({},d.inner),children:[Zn(p({tag:c.tag,attributes:p(p({},c.attributes),d.path)},g))]},A={tag:"g",attributes:p({},d.outer),children:[m]},y="mask-".concat(s||qe()),v="clip-".concat(s||qe()),b={tag:"mask",attributes:p(p({},Jn),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,A]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:(t=h,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:p({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(y,")")},Jn)}),{children:n,attributes:r}}}},er={provides:function(e){var t=!1;T.matchMedia&&(t=T.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:p(p({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=p(p({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:p(p({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:p(p({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:p(p({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:p(p({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:p(p({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:p(p({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:p(p({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;zt=e,Qt={},Object.keys(Yt).forEach(function(e){-1===Ut.indexOf(e)&&delete Yt[e]}),zt.forEach(function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach(function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===v(t[e])&&Object.keys(t[e]).forEach(function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]})}),e.hooks){var r=e.hooks();Object.keys(r).forEach(function(e){Qt[e]||(Qt[e]=[]),Qt[e].push(r[e])})}e.provides&&e.provides(Yt)})}([it,On,Mn,Fn,jn,Vn,{mixout:function(){return{dom:{unwatch:function(){wn(),Kn=!0}}}},hooks:function(){return{bootstrap:function(){_n(Gt("mutationObserverCallbacks",{}))},noAuto:function(){En&&En.disconnect()},watch:function(e){var t=e.observeMutationsRoot;Kn?xn():_n(Gt("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Xn,$n,er,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:Jt});var tr,nr=Jt.config,rr=Jt.parse,ir=Jt.icon,or=n(579);const sr=["style","role","aria-label"];function ar(e){return t=e,(t-=0)===t?e:(e=e.replace(/[_-]+(.)?/g,(e,t)=>t?t.toUpperCase():"")).charAt(0).toLowerCase()+e.slice(1);var t}function lr(e){return e.charAt(0).toUpperCase()+e.slice(1)}var cr=new Map;function ur(e){if(cr.has(e))return cr.get(e);const t={};let n=0;const r=e.length;for(;n<r;){const i=e.indexOf(";",n),o=-1===i?r:i,s=e.slice(n,o).trim();if(s){const e=s.indexOf(":");if(e>0){const n=s.slice(0,e).trim(),r=s.slice(e+1).trim();if(n&&r){const e=ar(n);t[e.startsWith("webkit")?lr(e):e]=r}}}n=o+1}if(1e3===cr.size){const e=cr.keys().next().value;e&&cr.delete(e)}return cr.set(e,t),t}var hr=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;const i=(n.children||[]).map(n=>e(t,n)),o=n.attributes||{},s={};for(const[l,c]of Object.entries(o))switch(!0){case"class"===l:s.className=c;break;case"style"===l:s.style=ur(String(c));break;case l.startsWith("aria-"):case l.startsWith("data-"):s[l.toLowerCase()]=c;break;default:s[ar(l)]=c}const{style:a,role:u,"aria-label":h}=r,d=c(r,sr);return a&&(s.style=s.style?l(l({},s.style),a):a),u&&(s.role=u),h&&(s["aria-label"]=h,s["aria-hidden"]="false"),t(n.tag,l(l({},d),s),...i)}.bind(null,e.createElement),dr=(t,n)=>{const r=(0,e.useId)();return t||(n?r:void 0)},fr="searchPseudoElementsFullScan"in nr?"7.0.0":"6.0.0",gr=Number.parseInt(fr)>=7,pr="fa",mr="fa-beat",Ar="fa-fade",yr="fa-beat-fade",vr="fa-bounce",br="fa-shake",wr="fa-spin",xr="fa-spin-pulse",Er="fa-spin-reverse",_r="fa-pulse",Cr={left:"fa-pull-left",right:"fa-pull-right"},Sr={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},kr={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},Br="fa-border",Ir="fa-fw",Tr="fa-flip",Dr="fa-flip-horizontal",Or="fa-flip-vertical",Mr="fa-inverse",Fr="fa-rotate-by",jr="fa-swap-opacity",Pr="fa-width-auto";function Rr(e){const t=nr.cssPrefix||nr.familyPrefix||pr;return t===pr?e:e.replace(new RegExp(String.raw(tr||(tr=r(["(?<=^|s)","-"],["(?<=^|\\s)","-"])),pr),"g"),"".concat(t,"-"))}function Lr(e){if(e)return(e=>"object"===typeof e&&"icon"in e&&!!e.icon)(e)?e:rr.icon(e)}var Nr=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"react-fontawesome";this.enabled=!1;let t=!1;try{t="undefined"!==typeof process&&!1}catch(n){}this.scope=e,this.enabled=t}log(){if(this.enabled){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("[".concat(this.scope,"]"),...t)}}warn(){if(this.enabled){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn("[".concat(this.scope,"]"),...t)}}error(){if(this.enabled){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("[".concat(this.scope,"]"),...t)}}}("FontAwesomeIcon"),zr={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},Qr=new Set(Object.keys(zr)),Yr=e.forwardRef((e,t)=>{const n=l(l({},zr),e),{icon:r,mask:i,symbol:o,title:s,titleId:a,maskId:c,transform:u}=n,h=dr(c,Boolean(i)),d=dr(a,Boolean(s)),f=Lr(r);if(!f)return Nr.error("Icon lookup is undefined",r),null;const g=function(e){const{beat:t,fade:n,beatFade:r,bounce:i,shake:o,spin:s,spinPulse:a,spinReverse:l,pulse:c,fixedWidth:u,inverse:h,border:d,flip:f,size:g,rotation:p,pull:m,swapOpacity:A,rotateBy:y,widthAuto:v,className:b}=e,w=[];return b&&w.push(...b.split(" ")),t&&w.push(mr),n&&w.push(Ar),r&&w.push(yr),i&&w.push(vr),o&&w.push(br),s&&w.push(wr),l&&w.push(Er),a&&w.push(xr),c&&w.push(_r),u&&w.push(Ir),h&&w.push(Mr),d&&w.push(Br),!0===f&&w.push(Tr),"horizontal"!==f&&"both"!==f||w.push(Dr),"vertical"!==f&&"both"!==f||w.push(Or),void 0!==g&&null!==g&&w.push(kr[g]),void 0!==p&&null!==p&&0!==p&&w.push(Sr[p]),void 0!==m&&null!==m&&w.push(Cr[m]),A&&w.push(jr),gr?(y&&w.push(Fr),v&&w.push(Pr),(nr.cssPrefix||nr.familyPrefix||pr)===pr?w:w.map(Rr)):w}(n),p="string"===typeof u?rr.transform(u):u,m=Lr(i),A=ir(f,l(l(l(l({},g.length>0&&{classes:g}),p&&{transform:p}),m&&{mask:m}),{},{symbol:o,title:s,titleId:d,maskId:h}));if(!A)return Nr.error("Could not find icon",f),null;const{abstract:y}=A,v={ref:t};for(const l of(b=n,Object.keys(b)))Qr.has(l)||(v[l]=n[l]);var b;return hr(y[0],v)});Yr.displayName="FontAwesomeIcon";"".concat("fa-layers"," ").concat(Ir);var Ur={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm32 96c0-17.7 14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},Gr={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Hr={prefix:"fas",iconName:"folder-open",icon:[576,512,[128194,128449,61717],"f07c","M56 225.6L32.4 296.2 32.4 96c0-35.3 28.7-64 64-64l138.7 0c13.8 0 27.3 4.5 38.4 12.8l38.4 28.8c5.5 4.2 12.3 6.4 19.2 6.4l117.3 0c35.3 0 64 28.7 64 64l0 16-365.4 0c-41.3 0-78 26.4-91.1 65.6zM477.8 448L99 448c-32.8 0-55.9-32.1-45.5-63.2l48-144C108 221.2 126.4 208 147 208l378.8 0c32.8 0 55.9 32.1 45.5 63.2l-48 144c-6.5 19.6-24.9 32.8-45.5 32.8z"]},Wr={prefix:"fas",iconName:"angles-down",icon:[384,512,["angle-double-down"],"f103","M214.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-160-160c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 402.7 329.4 265.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-160 160zm160-352l-160 160c-12.5 12.5-32.8 12.5-45.3 0l-160-160c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 210.7 329.4 73.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3z"]},Vr={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},Kr={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"]},qr={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},Xr={prefix:"fas",iconName:"circle-left",icon:[512,512,[61840,"arrow-alt-circle-left"],"f359","M512 256a256 256 0 1 0 -512 0 256 256 0 1 0 512 0zM124.7 244.7l104-104c4.6-4.6 11.5-5.9 17.4-3.5s9.9 8.3 9.9 14.8l0 56 96 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32l-96 0 0 56c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5l-104-104c-6.2-6.2-6.2-16.4 0-22.6z"]},Jr={prefix:"fas",iconName:"images",icon:[576,512,[],"f302","M96 96c0-35.3 28.7-64 64-64l320 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64l-320 0c-35.3 0-64-28.7-64-64L96 96zM24 128c13.3 0 24 10.7 24 24l0 296c0 8.8 7.2 16 16 16l360 0c13.3 0 24 10.7 24 24s-10.7 24-24 24L64 512c-35.3 0-64-28.7-64-64L0 152c0-13.3 10.7-24 24-24zm168 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm196.5 11.5c-4.4-7.1-12.1-11.5-20.5-11.5s-16.1 4.4-20.5 11.5l-56.3 92.1-24.5-30.6c-4.6-5.7-11.4-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4S174.8 352 184 352l272 0c8.7 0 16.7-4.7 20.9-12.3s4.1-16.8-.5-24.3l-88-144z"]},Zr={prefix:"fas",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M0 256a256 256 0 1 0 512 0 256 256 0 1 0 -512 0zm387.3 11.3l-104 104c-4.6 4.6-11.5 5.9-17.4 3.5S256 366.5 256 360l0-56-96 0c-17.7 0-32-14.3-32-32l0-32c0-17.7 14.3-32 32-32l96 0 0-56c0-6.5 3.9-12.3 9.9-14.8s12.9-1.1 17.4 3.5l104 104c6.2 6.2 6.2 16.4 0 22.6z"]},$r={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},ei={prefix:"fas",iconName:"download",icon:[448,512,[],"f019","M256 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 210.7-41.4-41.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 242.7 256 32zM64 320c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-46.9 0-56.6 56.6c-31.2 31.2-81.9 31.2-113.1 0L110.9 320 64 320zm304 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},ti={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},ni={prefix:"fas",iconName:"angles-up",icon:[384,512,["angle-double-up"],"f102","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 109.3 329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160zm160 352l-160-160c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 329.4 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3z"]},ri={prefix:"fas",iconName:"circle-minus",icon:[512,512,["minus-circle"],"f056","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM168 232l176 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-176 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]};const ii=t=>{let{onGearClick:n,onSelectLayoutClick:r,onDownloadPngClick:i,onDownloadAllAssetsClick:o}=t;const s=Object.freeze({LEFT:"LEFT",RIGHT:"RIGHT",CENTER:"CENTER",OPEN:"OPEN"}),[a,l]=(0,e.useState)(s.CENTER),[c,u]=(0,e.useState)(s.CENTER),h=()=>{a==s.LEFT||(a==s.CENTER?l(s.LEFT):(s.RIGHT,l(s.CENTER)))},d=()=>{a==s.LEFT?l(s.CENTER):a==s.CENTER?l(s.RIGHT):a==s.RIGHT||l(s.CENTER)},f=()=>{u(a),l(s.OPEN)};return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("div",{id:"center-settings-container",className:"".concat(a==s.CENTER||"hidden"," top-0 ml-auto mr-auto w-[5em] bg-gray-500 opacity-50 rounded-b-lg relative z-20 text-white hover:opacity-75"),children:[(0,or.jsx)("button",{onClick:h,className:"m-1 absolute left-0 text-xl opacity-75 hover:opacity-100",children:(0,or.jsx)(Yr,{icon:Xr})}),(0,or.jsx)("button",{onClick:d,className:"m-1 absolute right-0 text-xl opacity-75 hover:opacity-100",children:(0,or.jsx)(Yr,{icon:Zr})}),(0,or.jsx)("div",{className:"text-center",children:(0,or.jsx)("button",{onClick:f,className:"text-xl m-1 opacity-75 hover:opacity-100",children:(0,or.jsx)(Yr,{icon:Wr})})})]}),(0,or.jsxs)("div",{id:"left-settings-container",className:"".concat(a==s.LEFT||"hidden"," top-0 left-0 w-[4em] bg-gray-500 opacity-25 rounded-b-lg absolute z-20 text-white hover:opacity-75"),children:[(0,or.jsx)("button",{onClick:d,className:"m-1 absolute right-0 text-xl opacity-75 hover:opacity-100",children:(0,or.jsx)(Yr,{icon:Zr})}),(0,or.jsx)("div",{className:"text-left",children:(0,or.jsx)("button",{onClick:f,className:"text-xl m-1 opacity-75 hover:opacity-100",children:(0,or.jsx)(Yr,{icon:Wr})})})]}),(0,or.jsxs)("div",{id:"right-settings-container",className:"".concat(a==s.RIGHT||"hidden"," top-0 right-0 w-[4em] bg-gray-500 opacity-25 rounded-b-lg absolute z-20 text-white hover:opacity-75"),children:[(0,or.jsx)("button",{onClick:h,className:"m-1 absolute left-0 text-xl opacity-75 hover:opacity-100",children:(0,or.jsx)(Yr,{icon:Xr})}),(0,or.jsx)("div",{className:"text-right",children:(0,or.jsx)("button",{onClick:f,className:"text-xl m-1 opacity-75 hover:opacity-100",children:(0,or.jsx)(Yr,{icon:Wr})})})]}),(0,or.jsx)("div",{id:"settings-tray",className:"".concat(a==s.OPEN||"hidden"," text-center top-0 ml-auto mr-auto w-[45em] bg-gray-500 opacity-75 rounded-b-lg relative z-20 text-white"),children:(0,or.jsxs)("div",{className:"flex justify-around items-center w-full p-2",children:[(0,or.jsxs)("button",{className:"flex flex-col items-center ml-2 w-[12em]",onClick:n,children:[(0,or.jsx)(Yr,{className:"text-3xl",icon:Kr}),(0,or.jsx)("div",{children:"Configuration"})]}),(0,or.jsxs)("button",{className:"flex flex-col items-center w-[12em]",onClick:r,children:[(0,or.jsx)(Yr,{className:"text-3xl",icon:Gr}),(0,or.jsx)("div",{children:"Select Layout"})]}),(0,or.jsxs)("button",{className:"flex flex-col items-center mr-2 w-[12em]",children:[(0,or.jsx)(Yr,{className:"text-3xl",icon:ei,onClick:i}),(0,or.jsx)("div",{children:"Download Layout PNG"})]}),(0,or.jsxs)("button",{className:"flex flex-col items-center mr-2 w-[12em]",onClick:()=>{l(c)},children:[(0,or.jsx)(Yr,{className:"text-3xl",icon:ni}),(0,or.jsx)("div",{children:"Close Menu"})]})]})})]})},oi="w-full block rounded-lg border dark:border-none dark:bg-gray-800 py-[9px] px-3 text-sm focus:border-blue-400 focus:ring-1 focus:ring-blue-400 focus:outline-none";function si(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var ai=0;function li(e){return"__private_"+ai+++"_"+e}function ci(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ui(e,t,n){ci(e,t),t.set(e,n)}function hi(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function di(e,t){return e.get(hi(e,t))}function fi(e,t,n){return e.set(hi(e,t),n),n}class gi{static get CURRENT_VERSION(){return"1.0.0"}}s(gi,"ignoreScaleMisalignmentErrors",!1),s(gi,"suggestedMaximumTileSheetColorCount",8);class pi{constructor(e){if("string"==typeof e){/^#[0-9A-Fa-f]{6}/.test(e)?(e=e.replace(/^#/,""),this.r=parseInt(e.slice(0,2),16),this.g=parseInt(e.slice(2,4),16),this.b=parseInt(e.slice(4,6),16)):(this.r=0,this.g=0,this.b=0)}else!e||isNaN(e.r)||isNaN(e.g)||isNaN(e.b)?(this.r=0,this.g=0,this.b=0,this.a=255):(this.r=e.r,this.g=e.g,this.b=e.b,this.a=isNaN(e.a)?255:e.a)}toHexString(){return"#".concat(this.r.toString(16).padStart(2,"0")).concat(this.g.toString(16).padStart(2,"0")).concat(this.b.toString(16).padStart(2,"0"))}}class mi{constructor(e){!e||isNaN(e.x)||isNaN(e.y)?(this.x=0,this.y=0):(this.x=e.x,this.y=e.y)}}class Ai{constructor(e){e&&e.TL&&e.TR&&e.BL&&e.BR?(this.TL=new mi(e.TL),this.TR=new mi(e.TR),this.BL=new mi(e.BL),this.BR=new mi(e.BR)):(this.TL={x:0,y:0},this.TR={x:0,y:0},this.BL={x:0,y:0},this.BR={x:0,y:0})}}class yi{constructor(e){e&&e.T&&e.B&&e.L&&e.R?(this.T=e.T.map(e=>new mi(e)),this.B=e.B.map(e=>new mi(e)),this.L=e.L.map(e=>new mi(e)),this.R=e.R.map(e=>new mi(e))):(this.T=[{x:0,y:0}],this.B=[{x:0,y:0}],this.L=[{x:0,y:0}],this.R=[{x:0,y:0}])}}class vi{constructor(e){e&&e.sourceFileUrl&&!isNaN(e.tileSize)&&e.corners&&e.edges&&e.patternRows?(this.id=e.id||null,this.name=e.name||null,this.sourceFileUrl=String(e.sourceFileUrl),this.tileSize=Number(e.tileSize),this.corners=new Ai(e.corners),this.edges=new yi(e.edges),this.patternRows=e.patternRows.map(e=>e.map(e=>new mi(e))),e.substitutableColors&&(this.substitutableColors=e.substitutableColors.map(e=>new pi(e)))):(this.sourceFileUrl="",this.name="",this.tileSize=0,this.corners={TL:{y:0,x:0},TR:{y:0,x:0},BL:{y:0,x:0},BR:{y:0,x:0}},this.edges={T:[{y:0,x:0}],L:[{y:0,x:0}],R:[{y:0,x:0}],B:[{y:0,x:0}]},this.patternRows=[[{y:0,x:0}]],this.substitutableColors=[])}}var bi=new WeakMap,wi=new WeakMap,xi=new WeakMap,Ei=new WeakMap,_i=new WeakMap,Ci=new WeakMap,Si=new WeakMap,ki=new WeakMap,Bi=new WeakSet;class Ii{constructor(e,t,n,r,i,o,s){!function(e,t){ci(e,t),t.add(e)}(this,Bi),ui(this,bi,void 0),ui(this,wi,void 0),ui(this,xi,void 0),ui(this,Ei,void 0),ui(this,_i,void 0),ui(this,Ci,void 0),ui(this,Si,void 0),ui(this,ki,void 0),fi(bi,this,new Image),di(bi,this).src=e.sourceFileUrl,fi(wi,this,e),fi(xi,this,t),fi(Ei,this,n),fi(_i,this,r),fi(Ci,this,i),fi(Si,this,o),fi(ki,this,s||[]),1==gi.ignoreScaleMisalignmentErrors||di(Ci,this)%di(xi,this)==0&&di(Si,this)%di(xi,this)==0||console.warn("Scale misalignment: one or both window dimensions [".concat(di(Ci,this),", ").concat(di(Si,this),"] are not multiples of tile scale ").concat(t,". Artifacts may occur on the right and bottom edges as a result, especially if the sprite map includes transparency. To ignore this warning, set ChocoWinSettings.ignoreScaleMisalignmentErrors = true"))}isReady(){return new Promise(e=>{di(bi,this).onload=()=>{e()},di(bi,this).complete&&e()})}drawTo(e){const t=e.imageSmoothingEnabled;e.imageSmoothingEnabled=!1,hi(Bi,this,Di).call(this,e),e.imageSmoothingEnabled=t}substituteColor(e,t){return di(ki,this)[e]=new pi(t),this}hasColorSubstitutions(){return Object.keys(di(ki,this)).length>0&&di(ki,this).some(e=>null!=e)}}function Ti(e,t,n,r,i,o,s,a){var l;let c=t*di(xi,this),u=t*di(xi,this),h=t,d=t;const f=di(bi,this);if(1!=s&&i+c>di(Ci,this)-c){const e=di(Ci,this)-c-i,t=Math.ceil(e/di(xi,this));1!=gi.ignoreScaleMisalignmentErrors&&t!=Math.floor(e/di(xi,this))&&console.warn("Scale horizontal misalignment: cannot trim precisely at {".concat(i,", ").concat(o,"}; drawing desination tile size ").concat(c," will horizontally overrun right edge/corner tiles at x=").concat(di(Ci,this)-c,"; draw ").concat(t," source tile pixels where ").concat(e," destination pixels should be drawn.")),h=t,c=h*di(xi,this)}if(1!=a&&o+u>di(Si,this)-u){const e=di(Si,this)-u-o,t=Math.ceil(e/di(xi,this));1!=gi.ignoreScaleMisalignmentErrors&&t!=Math.floor(e/di(xi,this))&&console.warn("Scale vertical misalignment: cannot trim precisely at {".concat(i,", ").concat(o,"}; drawing desination tile size ").concat(u," will vertically overrun right edge/corner tiles at y=").concat(di(Si,this)-u,"; draw ").concat(t," source tile pixels where ").concat(e," destination pixels should be drawn.")),d=t,u=d*di(xi,this)}const g=di(Ei,this)+i;if(e.drawImage(f,n,r,h,d,g,di(_i,this)+o,c,u),this.hasColorSubstitutions()&&null!==(l=di(wi,this).substitutableColors)&&void 0!==l&&l.length){const t=e.getImageData(g,di(_i,this)+o,c,u),n=t.data;for(const e of Object.entries(di(ki,this))){const t=e[0],r=e[1];if(!r)continue;const i=di(wi,this).substitutableColors[t];if(!(t<0)&&!(t>=di(wi,this).substitutableColors.length))for(let e=0;e<n.length;e+=4){const t=(e,t,n,r,i,o)=>{const s=t-e,a=r-n,l=o-i;return Math.sqrt(.33*s*s+.33*a*a+.33*l*l)<2};t(n[e],i.r,n[e+1],i.g,n[e+2],i.b)&&(n[e]=r.r,n[e+1]=r.g,n[e+2]=r.b)}}e.putImageData(t,g,di(_i,this)+o)}}function Di(e){const t=di(wi,this),n=t.tileSize,r=n*di(xi,this);if(0!=n){for(let i=r,o=0;i<di(Si,this)-r;i+=r,o=(o+1)%t.patternRows.length){t.patternRows[o];for(let s=r,a=0;s<di(Ci,this)-r;s+=r,a=(a+1)%t.patternRows[o].length){let r=t.patternRows[o][a];hi(Bi,this,Ti).call(this,e,n,r.x,r.y,s,i)}}for(let i=r,o=0;i<di(Ci,this)-r;i+=r,o=(o+1)%t.edges.T.length){let r=t.edges.T[o];hi(Bi,this,Ti).call(this,e,n,r.x,r.y,i,0,!1,!1)}for(let i=r,o=0;i<di(Ci,this)-r;i+=r,o=(o+1)%t.edges.B.length){let s=t.edges.B[o];hi(Bi,this,Ti).call(this,e,n,s.x,s.y,i,di(Si,this)-r,!1,!0)}for(let i=r,o=0;i<di(Si,this)-r;i+=r,o=(o+1)%t.edges.L.length){let r=t.edges.L[o];hi(Bi,this,Ti).call(this,e,n,r.x,r.y,0,i,!1,!1)}for(let i=r,o=0;i<di(Si,this)-r;i+=r,o=(o+1)%t.edges.R.length){let s=t.edges.R[o];hi(Bi,this,Ti).call(this,e,n,s.x,s.y,di(Ci,this)-r,i,!0,!1)}hi(Bi,this,Ti).call(this,e,n,t.corners.TL.x,t.corners.TL.y,0,0,!1,!1),hi(Bi,this,Ti).call(this,e,n,t.corners.TR.x,t.corners.TR.y,di(Ci,this)-r,0,!0,!1),hi(Bi,this,Ti).call(this,e,n,t.corners.BL.x,t.corners.BL.y,0,di(Si,this)-r,!1,!0),hi(Bi,this,Ti).call(this,e,n,t.corners.BR.x,t.corners.BR.y,di(Ci,this)-r,di(Si,this)-r,!0,!0)}else console.error("tile size cannot be zero")}var Oi=li("map"),Mi=li("pngBase64DataUrlToBlob");class Fi{constructor(){Object.defineProperty(this,Oi,{writable:!0,value:void 0}),si(this,Oi)[Oi]=new Map}has(e){return si(this,Oi)[Oi].has(String(e))}get(e){var t;return null!==(t=si(this,Oi)[Oi].get(String(e)))&&void 0!==t?t:null}setBlob(e,t){const n=URL.createObjectURL(t);si(this,Oi)[Oi].set(e,n)}setDataUrl(e,t){const n=this.get(e);n&&URL.revokeObjectURL(n);const r=si(Fi,Mi)[Mi](t),i=URL.createObjectURL(r);si(this,Oi)[Oi].set(e,i)}}Object.defineProperty(Fi,Mi,{value:function(e){const[t,n,r,i]=e.split(/[:,;]/);if(!i||"base64"!=r||"image/png"!=n||"data"!=t)return console.warn("Got unexpected data url (truncated): ".concat(null===i||void 0===i?void 0:i.substring(0,30),":")),null;const o=atob(i),s=[];for(let a=0;a<o.length;a+=512){const e=o.slice(a,a+512),t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);const n=new Uint8Array(t);s.push(n)}return new Blob(s,{type:"image/png;base64"})}});class ji{constructor(e){e?(this.id=e.id,this.name=e.name,this.attribution=e.attribution,this.imageDataUrl=e.imageDataUrl):(this.id=crypto.randomUUID(),this.name="",this.attribution="",this.imageDataUrl=null)}}const Pi=Object.freeze({TOP_LEFT:"TOP_LEFT",TOP:"TOP",TOP_RIGHT:"TOP_RIGHT",LEFT:"LEFT",CENTER:"CENTER",RIGHT:"RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM:"BOTTOM",BOTTOM_RIGHT:"BOTTOM_RIGHT"});class Ri{constructor(e){e?(this.width=e.width,this.height=e.height,this.tileSheetPositions=e.tileSheetPositions.map(e=>e.map(e=>{var t,n;return{x:null!==(t=null===e||void 0===e?void 0:e.x)&&void 0!==t?t:null,y:null!==(n=null===e||void 0===e?void 0:e.y)&&void 0!==n?n:null}}))):(this.width=1,this.height=1,this.tileSheetPositions=[[{x:null,y:null}]])}}class Li{constructor(e){var t;e?(this.id=e.id,this.name=e.name,this.tileSheetId=e.tileSheetId,this.tileSize=e.tileSize,this.regions={},this.regions[Pi.TOP_LEFT]=new Ri(e.regions[Pi.TOP_LEFT]),this.regions[Pi.TOP]=new Ri(e.regions[Pi.TOP]),this.regions[Pi.TOP_RIGHT]=new Ri(e.regions[Pi.TOP_RIGHT]),this.regions[Pi.LEFT]=new Ri(e.regions[Pi.LEFT]),this.regions[Pi.CENTER]=new Ri(e.regions[Pi.CENTER]),this.regions[Pi.RIGHT]=new Ri(e.regions[Pi.RIGHT]),this.regions[Pi.BOTTOM_LEFT]=new Ri(e.regions[Pi.BOTTOM_LEFT]),this.regions[Pi.BOTTOM]=new Ri(e.regions[Pi.BOTTOM]),this.regions[Pi.BOTTOM_RIGHT]=new Ri(e.regions[Pi.BOTTOM_RIGHT]),this.defaultColors=null===e||void 0===e||null===(t=e.defaultColors)||void 0===t?void 0:t.map(e=>new pi(e))):(this.id=crypto.randomUUID(),this.name="",this.tileSheetId="",this.tileSize=8,this.regions={},this.defaultColors=[],this.regions[Pi.TOP_LEFT]=new Ri,this.regions[Pi.TOP]=new Ri,this.regions[Pi.TOP_RIGHT]=new Ri,this.regions[Pi.LEFT]=new Ri,this.regions[Pi.CENTER]=new Ri,this.regions[Pi.RIGHT]=new Ri,this.regions[Pi.BOTTOM_LEFT]=new Ri,this.regions[Pi.BOTTOM]=new Ri,this.regions[Pi.BOTTOM_RIGHT]=new Ri)}toChocoWinTileSet(e){var t,n;return new vi({id:"00000000-0000-0000-0000-000000000000",name:"Preview",sourceFileUrl:e,tileSize:this.tileSize,corners:{TL:{x:this.regions[Pi.TOP_LEFT].tileSheetPositions[0][0].x,y:this.regions[Pi.TOP_LEFT].tileSheetPositions[0][0].y},TR:{x:this.regions[Pi.TOP_RIGHT].tileSheetPositions[0][0].x,y:this.regions[Pi.TOP_RIGHT].tileSheetPositions[0][0].y},BL:{x:this.regions[Pi.BOTTOM_LEFT].tileSheetPositions[0][0].x,y:this.regions[Pi.BOTTOM_LEFT].tileSheetPositions[0][0].y},BR:{x:this.regions[Pi.BOTTOM_RIGHT].tileSheetPositions[0][0].x,y:this.regions[Pi.BOTTOM_RIGHT].tileSheetPositions[0][0].y}},edges:{T:this.regions[Pi.TOP].tileSheetPositions[0].map(e=>({x:e.x,y:e.y})),B:this.regions[Pi.BOTTOM].tileSheetPositions[0].map(e=>({x:e.x,y:e.y})),L:this.regions[Pi.LEFT].tileSheetPositions.map(e=>({x:e[0].x,y:e[0].y})),R:this.regions[Pi.RIGHT].tileSheetPositions.map(e=>({x:e[0].x,y:e[0].y}))},patternRows:this.regions[Pi.CENTER].tileSheetPositions.map(e=>e.map(e=>({x:e.x,y:e.y}))),substitutableColors:null!==(t=null===(n=this.defaultColors)||void 0===n?void 0:n.map(e=>new pi(e)))&&void 0!==t?t:[]})}}class Ni{constructor(e){var t;e?(this.name=e.name,this.id=e.id,this.tileSetDefinitionId=e.tileSetDefinitionId,this.tileScale=e.tileScale,this.substituteColors=(null===e||void 0===e||null===(t=e.substituteColors)||void 0===t?void 0:t.map(e=>e?new pi(e):null))||[]):(this.name="",this.id=String(crypto.randomUUID()),this.tileSetDefinitionId=null,this.tileScale=1,this.substituteColors=[])}}class zi{constructor(e){e?(this.name=e.name,this.id=e.id,this.windowIds=(e.windowIds||[]).slice()):(this.name="",this.id=String(crypto.randomUUID()),this.windowIds=[])}}class Qi{constructor(e){e?(this.name=e.name,this.id=e.id,this.presetId=e.presetId,this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h,this.singularPreset=e.singularPreset&&new Ni(e.singularPreset)):(this.name="",this.id=String(crypto.randomUUID()),this.presetId=null,this.x=40,this.y=30,this.h=480,this.w=640,this.singularPreset=null)}}class Yi{constructor(e){e?(this.name=e.name,this.id=e.id):(this.name="",this.id=String(crypto.randomUUID()))}}class Ui{constructor(e){this.version=gi.CURRENT_VERSION,e?(this.workspaceName=e.workspaceName,this.id=e.id,this.width=e.width,this.height=e.height,this.tileSheets=e.tileSheets.map(e=>new ji(e)),this.tileSetDefinitions=e.tileSetDefinitions.map(e=>new Li(e)),this.tileSets=e.tileSets.map(e=>new vi(e)),this.presets=e.presets.map(e=>new Ni(e)),this.layouts=e.layouts.map(e=>new zi(e)),this.windows=e.windows.map(e=>new Qi(e)),this.variables=e.variables.map(e=>new Yi(e))):(this.workspaceName="",this.id=String(crypto.randomUUID()),this.width=1920,this.height=1080,this.tileSheets=[],this.tileSetDefinitions=[],this.tileSets=[],this.presets=[],this.layouts=[],this.windows=[],this.variables=[])}}var Gi,Hi,Wi,Vi,Ki,qi,Xi,Ji,Zi,$i;const eo=["objects"],to=["translateX","translateY","scaleX","scaleY"],no=["startValue","endValue"],ro=["startValue","endValue"],io=["startValue","endValue","easing","onChange","onComplete","abort"],oo=["type"],so=["extraParam"],ao=["target","ex","ey","skewingSide"],lo=["left","top","width","height","visible"],co=["strategy"],uo=["target","strategy","bubbles","prevStrategy"],ho=["type","objects","layoutManager"],fo=["target","oldTarget","fireCanvas","e"],go=["type","source","patternTransform"],po=["path","left","top"],mo=["d"],Ao=["left","top","radius"],yo=["x1","y1","x2","y2"],vo=["x1","y1","x2","y2"],bo=["left","top"],wo=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],xo=["filters","resizeFilter","src","crossOrigin","type"],Eo=["type"],_o=["type"],Co=["type","image"];function So(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ko{constructor(){So(this,"browserShadowBlurConstant",1),So(this,"DPI",96),So(this,"devicePixelRatio","undefined"!=typeof window?window.devicePixelRatio:1),So(this,"perfLimitSizeTotal",2097152),So(this,"maxCacheSideLimit",4096),So(this,"minCacheSideLimit",256),So(this,"disableStyleCopyPaste",!1),So(this,"enableGLFiltering",!0),So(this,"textureSize",4096),So(this,"forceGLPutImageData",!1),So(this,"cachesBoundsOfCurve",!1),So(this,"fontPaths",{}),So(this,"NUM_FRACTION_DIGITS",4)}}const Bo=new class extends ko{constructor(e){super(),this.configure(e)}configure(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this,e)}addFonts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fontPaths=l(l({},this.fontPaths),e)}removeFonts(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(e=>{delete this.fontPaths[e]})}clearFonts(){this.fontPaths={}}restoreDefaults(e){const t=new ko,n=(null==e?void 0:e.reduce((e,n)=>(e[n]=t[n],e),{}))||t;this.configure(n)}},Io=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return console[e]("fabric",...n)};class To extends Error{constructor(e,t){super("fabric: ".concat(e),t)}}class Do extends To{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}}class Oo{}class Mo extends Oo{testPrecision(e,t){const n="precision ".concat(t," float;\nvoid main(){}"),r=e.createShader(e.FRAGMENT_SHADER);return!!r&&(e.shaderSource(r,n),e.compileShader(r),!!e.getShaderParameter(r,e.COMPILE_STATUS))}queryWebGL(e){const t=e.getContext("webgl");t&&(this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(e=>this.testPrecision(t,e)),t.getExtension("WEBGL_lose_context").loseContext(),Io("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}}const Fo={};let jo;const Po=()=>jo||(jo={document:document,window:window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Mo,dispose(){},copyPasteData:Fo}),Ro=()=>Po().document,Lo=()=>Po().window,No=()=>{var e;return Math.max(null!==(e=Bo.devicePixelRatio)&&void 0!==e?e:Lo().devicePixelRatio,1)},zo=new class{constructor(){So(this,"boundsOfCurveCache",{}),this.charWidthsCache=new Map}getFontCache(e){let{fontFamily:t,fontStyle:n,fontWeight:r}=e;t=t.toLowerCase();const i=this.charWidthsCache;i.has(t)||i.set(t,new Map);const o=i.get(t),s="".concat(n.toLowerCase(),"_").concat((r+"").toLowerCase());return o.has(s)||o.set(s,new Map),o.get(s)}clearFontCache(e){e?this.charWidthsCache.delete((e||"").toLowerCase()):this.charWidthsCache=new Map}limitDimsByArea(e){const{perfLimitSizeTotal:t}=Bo,n=Math.sqrt(t*e);return[Math.floor(n),Math.floor(t/n)]}},Qo="7.1.0";function Yo(){}const Uo=Math.PI/2,Go=Math.PI/4,Ho=2*Math.PI,Wo=Math.PI/180,Vo=Object.freeze([1,0,0,1,0,0]),Ko=16,qo=.4477152502,Xo="center",Jo="left",Zo="top",$o="bottom",es="right",ts="none",ns=/\r?\n/,rs="moving",is="scaling",os="rotating",ss="rotate",as="skewing",ls="resizing",cs="modifyPoly",us="modifyPath",hs="changed",ds="scale",fs="scaleX",gs="scaleY",ps="skewX",ms="skewY",As="fill",ys="stroke",vs="modified",bs="ltr",ws="rtl",xs="normal",Es="json",_s="svg",Cs=new class{constructor(){this[Es]=new Map,this[_s]=new Map}has(e){return this[Es].has(e)}getClass(e){const t=this[Es].get(e);if(!t)throw new To("No class registered for ".concat(e));return t}setClass(e,t){t?this[Es].set(t,e):(this[Es].set(e.type,e),this[Es].set(e.type.toLowerCase(),e))}getSVGClass(e){return this[_s].get(e)}setSVGClass(e,t){this[_s].set(null!=t?t:e.type.toLowerCase(),e)}},Ss=new class extends Array{remove(e){const t=this.indexOf(e);t>-1&&this.splice(t,1)}cancelAll(){const e=this.splice(0);return e.forEach(e=>e.abort()),e}cancelByCanvas(e){if(!e)return[];const t=this.filter(t=>{var n;return t.target===e||"object"==typeof t.target&&(null===(n=t.target)||void 0===n?void 0:n.canvas)===e});return t.forEach(e=>e.abort()),t}cancelByTarget(e){if(!e)return[];const t=this.filter(t=>t.target===e);return t.forEach(e=>e.abort()),t}};class ks{constructor(){So(this,"__eventListeners",{})}on(e,t){if(this.__eventListeners||(this.__eventListeners={}),"object"==typeof e)return Object.entries(e).forEach(e=>{let[t,n]=e;this.on(t,n)}),()=>this.off(e);if(t){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(t),()=>this.off(n,t)}return()=>!1}once(e,t){if("object"==typeof e){const t=[];return Object.entries(e).forEach(e=>{let[n,r]=e;t.push(this.once(n,r))}),()=>t.forEach(e=>e())}if(t){const n=this.on(e,function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.call(this,...r),n()});return n}return()=>!1}_removeEventListener(e,t){if(this.__eventListeners[e])if(t){const n=this.__eventListeners[e],r=n.indexOf(t);r>-1&&n.splice(r,1)}else this.__eventListeners[e]=[]}off(e,t){if(this.__eventListeners)if(void 0===e)for(const n in this.__eventListeners)this._removeEventListener(n);else"object"==typeof e?Object.entries(e).forEach(e=>{let[t,n]=e;this._removeEventListener(t,n)}):this._removeEventListener(e,t)}fire(e,t){var n;if(!this.__eventListeners)return;const r=null===(n=this.__eventListeners[e])||void 0===n?void 0:n.concat();if(r)for(let i=0;i<r.length;i++)r[i].call(this,t||{})}}const Bs=(e,t)=>{const n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},Is=e=>{if(0===e)return 1;switch(Math.abs(e)/Uo){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},Ts=e=>{if(0===e)return 0;const t=e/Uo,n=Math.sign(e);switch(t){case 1:return n;case 2:return 0;case 3:return-n}return Math.sin(e)};class Ds{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"object"==typeof e?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t)}add(e){return new Ds(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new Ds(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new Ds(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new Ds(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new Ds(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new Ds(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new Ds(this.x/e.x,this.y/e.y)}scalarDivide(e){return new Ds(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return t=Math.max(Math.min(1,t),0),new Ds(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)}distanceFrom(e){const t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new Ds(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new Ds(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,t){return this.x=e,this.y=t,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n}clone(){return new Ds(this.x,this.y)}rotate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Os;const n=Ts(e),r=Is(e),i=this.subtract(t);return new Ds(i.x*r-i.y*n,i.x*n+i.y*r).add(t)}transform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Ds(e[0]*this.x+e[2]*this.y+(t?0:e[4]),e[1]*this.x+e[3]*this.y+(t?0:e[5]))}}const Os=new Ds(0,0),Ms=e=>!!e&&Array.isArray(e._objects);function Fs(e){class t extends e{constructor(){super(...arguments),So(this,"_objects",[])}_onObjectAdded(e){}_onObjectRemoved(e){}_onStackOrderChanged(e){}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=this._objects.push(...t);return t.forEach(e=>this._onObjectAdded(e)),r}insertAt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._objects.splice(e,0,...n),n.forEach(e=>this._onObjectAdded(e)),this._objects.length}remove(){const e=this._objects,t=[];for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach(n=>{const r=e.indexOf(n);-1!==r&&(e.splice(r,1),t.push(n),this._onObjectRemoved(n))}),t}forEachObject(e){this.getObjects().forEach((t,n,r)=>e(t,n,r))}getObjects(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?[...this._objects]:this._objects.filter(e=>e.isType(...t))}item(e){return this._objects[e]}isEmpty(){return 0===this._objects.length}size(){return this._objects.length}contains(e,n){return!!this._objects.includes(e)||!!n&&this._objects.some(n=>n instanceof t&&n.contains(e,!0))}complexity(){return this._objects.reduce((e,t)=>e+(t.complexity?t.complexity():0),0)}sendObjectToBack(e){return!(!e||e===this._objects[0])&&(Bs(this._objects,e),this._objects.unshift(e),this._onStackOrderChanged(e),!0)}bringObjectToFront(e){return!(!e||e===this._objects[this._objects.length-1])&&(Bs(this._objects,e),this._objects.push(e),this._onStackOrderChanged(e),!0)}sendObjectBackwards(e,t){if(!e)return!1;const n=this._objects.indexOf(e);if(0!==n){const r=this.findNewLowerIndex(e,n,t);return Bs(this._objects,e),this._objects.splice(r,0,e),this._onStackOrderChanged(e),!0}return!1}bringObjectForward(e,t){if(!e)return!1;const n=this._objects.indexOf(e);if(n!==this._objects.length-1){const r=this.findNewUpperIndex(e,n,t);return Bs(this._objects,e),this._objects.splice(r,0,e),this._onStackOrderChanged(e),!0}return!1}moveObjectTo(e,t){return e!==this._objects[t]&&(Bs(this._objects,e),this._objects.splice(t,0,e),this._onStackOrderChanged(e),!0)}findNewLowerIndex(e,t,n){let r;if(n){r=t;for(let n=t-1;n>=0;--n)if(e.isOverlapping(this._objects[n])){r=n;break}}else r=t-1;return r}findNewUpperIndex(e,t,n){let r;if(n){r=t;for(let n=t+1;n<this._objects.length;++n)if(e.isOverlapping(this._objects[n])){r=n;break}}else r=t+1;return r}collectObjects(e){let{left:t,top:n,width:r,height:i}=e,{includeIntersecting:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[],a=new Ds(t,n),l=a.add(new Ds(r,i));for(let c=this._objects.length-1;c>=0;c--){const e=this._objects[c];e.selectable&&e.visible&&(o&&e.intersectsWithRect(a,l)||e.isContainedWithinRect(a,l)||o&&e.containsPoint(a)||o&&e.containsPoint(l))&&s.push(e)}return s}}return t}class js extends ks{_setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(const t in e)this.set(t,e[t])}_setObject(e){for(const t in e)this._set(t,e[t])}set(e,t){return"object"==typeof e?this._setObject(e):this._set(e,t),this}_set(e,t){this[e]=t}toggle(e){const t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this}get(e){return this[e]}}function Ps(e){return Lo().requestAnimationFrame(e)}function Rs(e){return Lo().cancelAnimationFrame(e)}let Ls=0;const Ns=()=>Ls++,zs=()=>{const e=Ro().createElement("canvas");if(!e||void 0===e.getContext)throw new To("Failed to create `canvas` element");return e},Qs=()=>Ro().createElement("img"),Ys=e=>{const t=zs();return t.width=e.width,t.height=e.height,t},Us=(e,t,n)=>e.toDataURL("image/".concat(t),n),Gs=(e,t,n)=>new Promise((r,i)=>{e.toBlob(r,"image/".concat(t),n)}),Hs=e=>e*Wo,Ws=e=>e/Wo,Vs=e=>e.every((e,t)=>e===Vo[t]),Ks=(e,t,n)=>new Ds(e).transform(t,n),qs=e=>{const t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0],0,0],{x:r,y:i}=new Ds(e[4],e[5]).transform(n,!0);return n[4]=-r,n[5]=-i,n},Xs=(e,t,n)=>[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]],Js=(e,t)=>e.reduceRight((e,n)=>n&&e?Xs(n,e,t):n||e,void 0)||Vo.concat(),Zs=e=>{let[t,n]=e;return Math.atan2(n,t)},$s=e=>{const t=Zs(e),n=Math.pow(e[0],2)+Math.pow(e[1],2),r=Math.sqrt(n),i=(e[0]*e[3]-e[2]*e[1])/r,o=Math.atan2(e[0]*e[2]+e[1]*e[3],n);return{angle:Ws(t),scaleX:r,scaleY:i,skewX:Ws(o),skewY:0,translateX:e[4]||0,translateY:e[5]||0}},ea=function(e){return[1,0,0,1,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]};function ta(){let{angle:e=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{x:t=0,y:n=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Hs(e),i=Is(r),o=Ts(r);return[i,o,-o,i,t?t-(i*t-o*n):0,n?n-(o*t+i*n):0]}const na=function(e){return[e,0,0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,0,0]},ra=e=>Math.tan(Hs(e)),ia=e=>[1,0,ra(e),1,0,0],oa=e=>[1,ra(e),0,1,0,0],sa=e=>{let{scaleX:t=1,scaleY:n=1,flipX:r=!1,flipY:i=!1,skewX:o=0,skewY:s=0}=e,a=na(r?-t:t,i?-n:n);return o&&(a=Xs(a,ia(o),!0)),s&&(a=Xs(a,oa(s),!0)),a},aa=e=>{const{translateX:t=0,translateY:n=0,angle:r=0}=e;let i=ea(t,n);r&&(i=Xs(i,ta({angle:r})));const o=sa(e);return Vs(o)||(i=Xs(i,o)),i},la=function(e){let{signal:t,crossOrigin:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r,i){if(t&&t.aborted)return i(new Do("loadImage"));const o=Qs();let s;t&&(s=function(e){o.src="",i(e)},t.addEventListener("abort",s,{once:!0}));const a=function(){o.onload=o.onerror=null,s&&(null==t||t.removeEventListener("abort",s)),r(o)};e?(o.onload=a,o.onerror=function(){s&&(null==t||t.removeEventListener("abort",s)),i(new To("Error loading ".concat(o.src)))},n&&(o.crossOrigin=n),o.src=e):a()})},ca=function(e){let{signal:t,reviver:n=Yo}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,i)=>{const o=[];t&&t.addEventListener("abort",i,{once:!0}),Promise.all(e.map(e=>Cs.getClass(e.type).fromObject(e,{signal:t}).then(t=>(n(e,t),o.push(t),t)))).then(r).catch(e=>{o.forEach(e=>{e.dispose&&e.dispose()}),i(e)}).finally(()=>{t&&t.removeEventListener("abort",i)})})},ua=function(e){let{signal:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((n,r)=>{const i=[];t&&t.addEventListener("abort",r,{once:!0});const o=Object.values(e).map(e=>e&&e.type&&Cs.has(e.type)?ca([e],{signal:t}).then(e=>{let[t]=e;return i.push(t),t}):e),s=Object.keys(e);Promise.all(o).then(e=>e.reduce((e,t,n)=>(e[s[n]]=t,e),{})).then(n).catch(e=>{i.forEach(e=>{e.dispose&&e.dispose()}),r(e)}).finally(()=>{t&&t.removeEventListener("abort",r)})})},ha=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce((t,n)=>(n in e&&(t[n]=e[n]),t),{})},da=(e,t)=>Object.keys(e).reduce((n,r)=>(t(e[r],r,e)&&(n[r]=e[r]),n),{}),fa=(e,t)=>parseFloat(Number(e).toFixed(t)),ga=e=>"matrix("+e.map(e=>fa(e,Bo.NUM_FRACTION_DIGITS)).join(" ")+")",pa=e=>!!e&&void 0!==e.toLive,ma=e=>!!e&&"function"==typeof e.toObject,Aa=e=>!!e&&void 0!==e.offsetX&&"source"in e,ya=e=>!!e&&"multiSelectionStacking"in e;function va(e){const t=e&&ba(e);let n=0,r=0;if(!e||!t)return{left:n,top:r};let i=e;const o=t.documentElement,s=t.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===t?(n=s.scrollLeft||o.scrollLeft||0,r=s.scrollTop||o.scrollTop||0):(n+=i.scrollLeft||0,r+=i.scrollTop||0),1!==i.nodeType||"fixed"!==i.style.position););return{left:n,top:r}}const ba=e=>e.ownerDocument||null,wa=e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null},xa=function(e,t,n){let{width:r,height:i}=n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e.width=r,e.height=i,o>1&&(e.setAttribute("width",(r*o).toString()),e.setAttribute("height",(i*o).toString()),t.scale(o,o))},Ea=(e,t)=>{let{width:n,height:r}=t;n&&(e.style.width="number"==typeof n?"".concat(n,"px"):n),r&&(e.style.height="number"==typeof r?"".concat(r,"px"):r)};function _a(e){return void 0!==e.onselectstart&&(e.onselectstart=()=>!1),e.style.userSelect=ts,e}class Ca{constructor(e){So(this,"_originalCanvasStyle",void 0),So(this,"lower",void 0);const t=this.createLowerCanvas(e);this.lower={el:t,ctx:t.getContext("2d")}}createLowerCanvas(e){const t=(n=e)&&void 0!==n.getContext?e:e&&Ro().getElementById(e)||zs();var n;if(t.hasAttribute("data-fabric"))throw new To("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=t.style.cssText,t.setAttribute("data-fabric","main"),t.classList.add("lower-canvas"),t}cleanupDOM(e){let{width:t,height:n}=e;const{el:r}=this.lower;r.classList.remove("lower-canvas"),r.removeAttribute("data-fabric"),r.setAttribute("width","".concat(t)),r.setAttribute("height","".concat(n)),r.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,t){const{el:n,ctx:r}=this.lower;xa(n,r,e,t)}setCSSDimensions(e){Ea(this.lower.el,e)}calcOffset(){return function(e){var t;const n=e&&ba(e),r={left:0,top:0};if(!n)return r;const i=(null===(t=wa(e))||void 0===t?void 0:t.getComputedStyle(e,null))||{};r.left+=parseInt(i.borderLeftWidth,10)||0,r.top+=parseInt(i.borderTopWidth,10)||0,r.left+=parseInt(i.paddingLeft,10)||0,r.top+=parseInt(i.paddingTop,10)||0;let o={left:0,top:0};const s=n.documentElement;void 0!==e.getBoundingClientRect&&(o=e.getBoundingClientRect());const a=va(e);return{left:o.left+a.left-(s.clientLeft||0)+r.left,top:o.top+a.top-(s.clientTop||0)+r.top}}(this.lower.el)}dispose(){Po().dispose(this.lower.el),delete this.lower}}const Sa={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Vo],patternQuality:"best"};class ka extends(Fs(js)){get lowerCanvasEl(){var e;return null===(e=this.elements.lower)||void 0===e?void 0:e.el}get contextContainer(){var e;return null===(e=this.elements.lower)||void 0===e?void 0:e.ctx}static getDefaults(){return ka.ownDefaults}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(t),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new Ca(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),i}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(Io("warn","Canvas is trying to add an object that belongs to a different canvas.\nResulting to default behavior: removing object from previous canvas and adding to new canvas"),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?No():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}_setDimensionsImpl(e){let{cssOnly:t=!1,backstoreOnly:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t){const t=l({width:this.width,height:this.height},e);this.elements.setDimensions(t,this.getRetinaScaling()),this.hasLostContext=!0,this.width=t.width,this.height=t.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,t){this._setDimensionsImpl(e,t),t&&t.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,t){const n=e,r=[...this.viewportTransform],i=Ks(e,qs(r));r[0]=t,r[3]=t;const o=Ks(i,r);r[4]+=n.x-o.x,r[5]+=n.y-o.y,this.setViewportTransform(r)}setZoom(e){this.zoomToPoint(new Ds(0,0),e)}absolutePan(e){const t=[...this.viewportTransform];return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)}relativePan(e){return this.absolutePan(new Ds(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Ps(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,t=this.height,n=qs(this.viewportTransform),r=Ks({x:0,y:0},n),i=Ks({x:e,y:t},n),o=r.min(i),s=r.max(i);return this.vptCoords={tl:o,tr:new Ds(s.x,o.y),bl:new Ds(o.x,s.y),br:s}}cancelRequestedRender(){this.nextRenderHandle&&(Rs(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,t){if(this.destroyed)return;const n=this.viewportTransform,r=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality=this.patternQuality,this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),r&&(r._set("canvas",this),r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,r)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,t){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}_renderObjects(e,t){for(let n=0,r=t.length;n<r;++n)t[n]&&t[n].render(e)}_renderBackgroundOrOverlay(e,t){const n=this["".concat(t,"Color")],r=this["".concat(t,"Image")],i=this.viewportTransform,o=this["".concat(t,"Vpt")];if(!n&&!r)return;const s=pa(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=s?n.toLive(e):n,o&&e.transform(...i),s){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const t=n.gradientTransform||n.patternTransform;t&&e.transform(...t)}e.fill(),e.restore()}if(r){e.save();const{skipOffscreen:t}=this;this.skipOffscreen=o,o&&e.transform(...i),r.render(e),this.skipOffscreen=t,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenterPoint(){return new Ds(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new Ds(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new Ds(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new Ds(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new Ds(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Ks(this.getCenterPoint(),qs(this.viewportTransform))}_centerObject(e,t){e.setXY(t,Xo,Xo),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,t){const n=this.clipPath,r=n&&!n.excludeFromExport?this._toObject(n,e,t):null;return l(l(l({version:Qo},ha(this,t)),{},{objects:this._objects.filter(e=>!e.excludeFromExport).map(n=>this._toObject(n,e,t))},this.__serializeBgOverlay(e,t)),r?{clipPath:r}:null)}_toObject(e,t,n){let r;this.includeDefaultValues||(r=e.includeDefaultValues,e.includeDefaultValues=!1);const i=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=!!r),i}__serializeBgOverlay(e,t){const n={},r=this.backgroundImage,i=this.overlayImage,o=this.backgroundColor,s=this.overlayColor;return pa(o)?o.excludeFromExport||(n.background=o.toObject(t)):o&&(n.background=o),pa(s)?s.excludeFromExport||(n.overlay=s.toObject(t)):s&&(n.overlay=s),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,e,t)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,e,t)),n}toSVG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.reviver=t;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,')" >\n')),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")}_setSVGPreamble(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')}_setSVGHeader(e,t){const n=t.width||"".concat(this.width),r=t.height||"".concat(this.height),i=Bo.NUM_FRACTION_DIGITS,o=t.viewBox;let s;if(o)s='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const e=this.viewportTransform;s='viewBox="'.concat(fa(-e[4]/e[0],i)," ").concat(fa(-e[5]/e[3],i)," ").concat(fa(this.width/e[0],i)," ").concat(fa(this.height/e[3],i),'" ')}else s='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',r,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",Qo,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")}createSVGClipPathMarkup(e){const t=this.clipPath;return t?(t.clipPathId="CLIPPATH_".concat(Ns()),'<clipPath id="'.concat(t.clipPathId,'" >\n').concat(t.toClipPathSVG(e.reviver),"</clipPath>\n")):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const t=this["".concat(e,"Color")];if(pa(t)){const n=this["".concat(e,"Vpt")],r=this.viewportTransform,i={isType:()=>!1,width:this.width/(n?r[0]:1),height:this.height/(n?r[3]:1)};return t.toSVG(i,{additionalTransform:n?ga(r):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],t={},n=Bo.fontPaths;this._objects.forEach(function t(n){e.push(n),Ms(n)&&n._objects.forEach(t)}),e.forEach(e=>{if(!(r=e)||"function"!=typeof r._renderText)return;var r;const{styles:i,fontFamily:o}=e;!t[o]&&n[o]&&(t[o]=!0,i&&Object.values(i).forEach(e=>{Object.values(e).forEach(e=>{let{fontFamily:r=""}=e;!t[r]&&n[r]&&(t[r]=!0)})}))});const r=Object.keys(t).map(e=>"\t\t@font-face {\n\t\t\tfont-family: '".concat(e,"';\n\t\t\tsrc: url('").concat(n[e],"');\n\t\t}\n")).join("");return r?'\t<style type="text/css"><![CDATA[\n'.concat(r,"]]></style>\n"):""}_setSVGObjects(e,t){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(e,n,t)})}_setSVGObject(e,t,n){e.push(t.toSVG(n))}_setSVGBgOverlayImage(e,t,n){const r=this[t];r&&!r.excludeFromExport&&r.toSVG&&e.push(r.toSVG(n))}_setSVGBgOverlayColor(e,t){const n=this["".concat(t,"Color")];if(n)if(pa(n)){const r=n.repeat||"",i=this.width,o=this.height,s=this["".concat(t,"Vpt")]?ga(qs(this.viewportTransform)):"";e.push('<rect transform="'.concat(s," translate(").concat(i/2,",").concat(o/2,')" x="').concat(n.offsetX-i/2,'" y="').concat(n.offsetY-o/2,'" width="').concat("repeat-y"!==r&&"no-repeat"!==r||!Aa(n)?i:n.source.width,'" height="').concat("repeat-x"!==r&&"no-repeat"!==r||!Aa(n)?o:n.source.height,'" fill="url(#SVGID_').concat(n.id,')"></rect>\n'))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")}loadFromJSON(e,t){let{signal:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return Promise.reject(new To("`json` is undefined"));const r="string"==typeof e?JSON.parse(e):e,{objects:i=[]}=r,o=c(r,eo),{backgroundImage:s,background:a,overlayImage:l,overlay:u,clipPath:h}=o,d=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([ca(i,{reviver:t,signal:n}),ua({backgroundImage:s,backgroundColor:a,overlayImage:l,overlayColor:u,clipPath:h},{signal:n})]).then(e=>{let[t,n]=e;return this.clear(),this.add(...t),this.set(o),this.set(n),this.renderOnAddRemove=d,this})}clone(e){const t=this.toObject(e);return this.cloneWithoutData().loadFromJSON(t)}cloneWithoutData(){const e=Ys(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{format:t="png",quality:n=1,multiplier:r=1,enableRetinaScaling:i=!1}=e,o=r*(i?this.getRetinaScaling():1);return Us(this.toCanvasElement(o,e),t,n)}toBlob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{format:t="png",quality:n=1,multiplier:r=1,enableRetinaScaling:i=!1}=e,o=r*(i?this.getRetinaScaling():1);return Gs(this.toCanvasElement(o,e),t,n)}toCanvasElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,{width:t,height:n,left:r,top:i,filter:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(t||this.width)*e,a=(n||this.height)*e,l=this.getZoom(),c=this.width,u=this.height,h=this.skipControlsDrawing,d=l*e,f=this.viewportTransform,g=[d,0,0,d,(f[4]-(r||0))*e,(f[5]-(i||0))*e],p=this.enableRetinaScaling,m=Ys({width:s,height:a}),A=o?this._objects.filter(e=>o(e)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=g,this.width=s,this.height=a,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(m.getContext("2d"),A),this.viewportTransform=f,this.width=c,this.height=u,this.calcViewportBoundaries(),this.enableRetinaScaling=p,this.skipControlsDrawing=h,m}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),Ss.cancelByCanvas(this),this.disposed=!0,new Promise((e,t)=>{const n=()=>{this.destroy(),e(!0)};n.kill=t,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}So(ka,"ownDefaults",Sa);const Ba=["touchstart","touchmove","touchend"],Ia=e=>{const t=va(e.target),n=function(e){const t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return new Ds(n.clientX+t.left,n.clientY+t.top)},Ta=e=>Ba.includes(e.type)||"touch"===e.pointerType,Da=e=>{e.preventDefault(),e.stopPropagation()},Oa=e=>{let t=0,n=0,r=0,i=0;for(let o=0,s=e.length;o<s;o++){const{x:s,y:a}=e[o];(s>r||!o)&&(r=s),(s<t||!o)&&(t=s),(a>i||!o)&&(i=a),(a<n||!o)&&(n=a)}return{left:t,top:n,width:r-t,height:i-n}},Ma=(e,t)=>Fa(e,Xs(t,e.calcOwnMatrix())),Fa=(e,t)=>{const n=$s(t),{translateX:r,translateY:i,scaleX:o,scaleY:s}=n,a=c(n,to),l=new Ds(r,i);e.flipX=!1,e.flipY=!1,Object.assign(e,a),e.set({scaleX:o,scaleY:s}),e.setPositionByOrigin(l,Xo,Xo)},ja=e=>{e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},Pa=e=>({scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}),Ra=(e,t,n)=>{const r=e/2,i=t/2,o=[new Ds(-r,-i),new Ds(r,-i),new Ds(-r,i),new Ds(r,i)].map(e=>e.transform(n)),s=Oa(o);return new Ds(s.width,s.height)},La=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vo;return Xs(qs(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vo),e)},Na=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vo,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vo;return e.transform(La(t,n))},za=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vo,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vo;return e.transform(La(t,n),!0)},Qa=(e,t,n)=>{const r=La(t,n);return Fa(e,Xs(r,e.calcOwnMatrix())),r},Ya={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Ua=e=>"string"==typeof e?Ya[e]:e-.5,Ga=new Ds(1,0),Ha=new Ds,Wa=(e,t)=>e.rotate(t),Va=(e,t)=>new Ds(t).subtract(e),Ka=e=>e.distanceFrom(Ha),qa=(e,t)=>Math.atan2($a(e,t),el(e,t)),Xa=e=>qa(Ga,e),Ja=e=>e.eq(Ha)?e:e.scalarDivide(Ka(e)),Za=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ja(new Ds(-e.y,e.x).scalarMultiply(t?1:-1))},$a=(e,t)=>e.x*t.y-e.y*t.x,el=(e,t)=>e.x*t.x+e.y*t.y,tl=(e,t,n)=>{if(e.eq(t)||e.eq(n))return!0;const r=$a(t,n),i=$a(t,e),o=$a(n,e);return r>=0?i>=0&&o<=0:!(i<=0&&o>=0)},nl="not-allowed";function rl(e){return Ua(e.originX)===Ua(Xo)&&Ua(e.originY)===Ua(Xo)}function il(e){return.5-Ua(e)}const ol=(e,t)=>e[t],sl=(e,t,n,r)=>({e:e,transform:t,pointer:new Ds(n,r)});function al(e,t,n){const r=n,i=Na(e.getCenterPoint(),e.canvas.viewportTransform,void 0),o=Xa(Va(i,r))+Ho;return Math.round(o%Ho/Go)}function ll(e,t,n,r,i){var o;let{target:s,corner:a}=e;const l=s.controls[a],c=(null===(o=s.canvas)||void 0===o?void 0:o.getZoom())||1,u=s.padding/c,h=function(e,t,n,r){const i=e.getRelativeCenterPoint(),o=void 0!==n&&void 0!==r?e.translateToGivenOrigin(i,Xo,Xo,n,r):new Ds(e.left,e.top);return(e.angle?t.rotate(-Hs(e.angle),i):t).subtract(o)}(s,new Ds(r,i),t,n);return h.x>=u&&(h.x-=u),h.x<=-u&&(h.x+=u),h.y>=u&&(h.y-=u),h.y<=u&&(h.y+=u),h.x-=l.offsetX,h.y-=l.offsetY,h}const cl=e=>e.replace(/\s+/g," "),ul={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},hl=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),dl=(e,t,n,r)=>{e/=255,t/=255,n/=255;const i=Math.max(e,t,n),o=Math.min(e,t,n);let s,a;const l=(i+o)/2;if(i===o)s=a=0;else{const r=i-o;switch(a=l>.5?r/(2-i-o):r/(i+o),i){case e:s=(t-n)/r+(t<n?6:0);break;case t:s=(n-e)/r+2;break;case n:s=(e-t)/r+4}s/=6}return[Math.round(360*s),Math.round(100*a),Math.round(100*l),r]},fl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";return parseFloat(e)/(e.endsWith("%")?100:1)},gl=e=>Math.min(Math.round(e),255).toString(16).toUpperCase().padStart(2,"0"),pl=e=>{let[t,n,r,i=1]=e;const o=Math.round(.3*t+.59*n+.11*r);return[o,o,o,i]};class ml{constructor(e){if(So(this,"isUnrecognised",!1),e)if(e instanceof ml)this.setSource([...e._source]);else if(Array.isArray(e)){const[t,n,r,i=1]=e;this.setSource([t,n,r,i])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in ul&&(e=ul[e]),"transparent"===e?[255,255,255,0]:ml.sourceFromHex(e)||ml.sourceFromRgb(e)||ml.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,t,n]=this.getSource();return"rgb(".concat(e,",").concat(t,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,t,n]=dl(...this.getSource());return"hsl(".concat(e,",").concat(t,"%,").concat(n,"%)")}toHsla(){const[e,t,n,r]=dl(...this.getSource());return"hsla(".concat(e,",").concat(t,"%,").concat(n,"%,").concat(r,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,t,n,r]=this.getSource();return"".concat(gl(e)).concat(gl(t)).concat(gl(n)).concat(gl(Math.round(255*r)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(pl(this.getSource())),this}toBlackWhite(e){const[t,,,n]=pl(this.getSource()),r=t<(e||127)?0:255;return this.setSource([r,r,r,n]),this}overlayWith(e){e instanceof ml||(e=new ml(e));const t=this.getSource(),n=e.getSource(),[r,i,o]=t.map((e,t)=>Math.round(.5*e+.5*n[t]));return this.setSource([r,i,o,t[3]]),this}static fromRgb(e){return ml.fromRgba(e)}static fromRgba(e){return new ml(ml.sourceFromRgb(e))}static sourceFromRgb(e){const t=cl(e).match(/^rgba?\(\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d{0,3}(?:\.\d+)?%?)\s?)?\)$/i);if(t){const[e,n,r]=t.slice(1,4).map(e=>{const t=parseFloat(e);return e.endsWith("%")?Math.round(2.55*t):t});return[e,n,r,fl(t[4])]}}static fromHsl(e){return ml.fromHsla(e)}static fromHsla(e){return new ml(ml.sourceFromHsl(e))}static sourceFromHsl(e){const t=cl(e).match(/^hsla?\(\s?([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d*(?:\.\d+)?%?)\s?)?\)$/i);if(!t)return;const n=(ml.parseAngletoDegrees(t[1])%360+360)%360/360,r=parseFloat(t[2])/100,i=parseFloat(t[3])/100;let o,s,a;if(0===r)o=s=a=i;else{const e=i<=.5?i*(r+1):i+r-i*r,t=2*i-e;o=hl(t,e,n+1/3),s=hl(t,e,n),a=hl(t,e,n-1/3)}return[Math.round(255*o),Math.round(255*s),Math.round(255*a),fl(t[4])]}static fromHex(e){return new ml(ml.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const t=e.slice(e.indexOf("#")+1);let n;n=t.length<=4?t.split("").map(e=>e+e):t.match(/.{2}/g);const[r,i,o,s=255]=n.map(e=>parseInt(e,16));return[r,i,o,s/255]}}static parseAngletoDegrees(e){const t=e.toLowerCase(),n=parseFloat(t);return t.includes("rad")?Ws(n):t.includes("turn")?360*n:n}}const Al=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ko;const n=/\D{0,2}$/.exec(e),r=parseFloat(e),i=Bo.DPI;switch(null==n?void 0:n[0]){case"mm":return r*i/25.4;case"cm":return r*i/2.54;case"in":return r*i;case"pt":return r*i/72;case"pc":return r*i/72*12;case"em":return r*t;default:return r}},yl=e=>{const[t,n]=e.trim().split(" "),[r,i]=(o=t)&&o!==ts?[o.slice(1,4),o.slice(5,8)]:o===ts?[o,o]:["Mid","Mid"];var o;return{meetOrSlice:n||"meet",alignX:r,alignY:i}},vl=function(e,t){let n,r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t)if(t.toLive)n="url(#SVGID_".concat(t.id,")");else{const e=new ml(t),i=e.getAlpha();n=e.toRgb(),1!==i&&(r=i.toString())}else n="none";return i?"".concat(e,": ").concat(n,"; ").concat(r?"".concat(e,"-opacity: ").concat(r,"; "):""):"".concat(e,'="').concat(n,'" ').concat(r?"".concat(e,'-opacity="').concat(r,'" '):"")};class bl{getSvgStyles(e){const t=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):ts,i=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",a=this.strokeMiterLimit?this.strokeMiterLimit:"4",l=void 0!==this.opacity?this.opacity:"1",c=this.visible?"":" visibility: hidden;",u=e?"":this.getSvgFilter(),h=vl(As,this.fill);return[vl(ys,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",a,"; ",h,"fill-rule: ",t,"; ","opacity: ",l,";",u,c].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix();return"".concat('transform="'.concat(ga(n)),t,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:t,additionalTransform:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),i=e.indexOf("COMMON_PARTS");return e[i]=r,t?t(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:t,reviver:n,withShadow:r,additionalTransform:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=t?"":'style="'.concat(this.getSvgStyles(),'" '),s=r?'style="'.concat(this.getSvgFilter(),'" '):"",a=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",c=a&&a.absolutePositioned,u=this.stroke,h=this.fill,d=this.shadow,f=[],g=e.indexOf("COMMON_PARTS");let p;a&&(a.clipPathId="CLIPPATH_".concat(Ns()),p='<clipPath id="'.concat(a.clipPathId,'" >\n').concat(a.toClipPathSVG(n),"</clipPath>\n")),c&&f.push("<g ",s,this.getSvgCommons()," >\n"),f.push("<g ",this.getSvgTransform(!1),c?"":s+this.getSvgCommons()," >\n");const m=[o,l,t?"":this.addPaintOrder()," ",i?'transform="'.concat(i,'" '):""].join("");return e[g]=m,pa(h)&&f.push(h.toSVG(this)),pa(u)&&f.push(u.toSVG(this)),d&&f.push(d.toSVG(this)),a&&f.push(p),f.push(e.join("")),f.push("</g>\n"),c&&f.push("</g>\n"),n?n(f.join("")):f.join("")}addPaintOrder(){return this.paintFirst!==As?' paint-order="'.concat(this.paintFirst,'" '):""}}function wl(e){return new RegExp("^("+e.join("|")+")\\b","i")}const xl="textDecorationThickness",El=["fontSize","fontWeight","fontFamily","fontStyle"],_l=["underline","overline","linethrough"],Cl=[...El,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],Sl=[...Cl,..._l,"textBackgroundColor","direction",xl],kl=[...El,..._l,ys,"strokeWidth",As,"deltaY","textBackgroundColor",xl],Bl={_reNewline:ns,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:xs,fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Jo,fontStyle:xs,lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Jo,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:bs,CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[xl]:66.667},Il="justify",Tl="justify-left",Dl="justify-right",Ol="justify-center",Ml=String.raw(Gi||(Gi=r(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),Fl=String.raw(Hi||(Hi=r(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),jl=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Ml+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Ml+"))?\\s+(.*)"),Pl={cx:Jo,x:Jo,r:"radius",cy:Zo,y:Zo,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":xl},Rl="font-size",Ll="clip-path",Nl=(wl(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),wl(["symbol","image","marker","pattern","view","svg"]),wl(["symbol","g","a","svg","clipPath","defs"])),zl=(new RegExp(String.raw(Wi||(Wi=r(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),Ml,Fl,Ml,Fl,Ml,Fl,Ml)),"(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?"),Ql=new RegExp("(?:\\s|^)"+zl+zl+"("+Ml+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Yl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t="string"==typeof e?Yl.parseShadow(e):e;Object.assign(this,Yl.ownDefaults,t),this.id=Ns()}static parseShadow(e){const t=e.trim(),[,n=0,r=0,i=0]=(Ql.exec(t)||[]).map(e=>parseFloat(e)||0);return{color:(t.replace(Ql,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:r,blur:i}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const t=Wa(new Ds(this.offsetX,this.offsetY),Hs(-e.angle)),n=new ml(this.color);let r=40,i=40;return e.width&&e.height&&(r=100*fa((Math.abs(t.x)+this.blur)/e.width,Bo.NUM_FRACTION_DIGITS)+20,i=100*fa((Math.abs(t.y)+this.blur)/e.height,Bo.NUM_FRACTION_DIGITS)+20),e.flipX&&(t.x*=-1),e.flipY&&(t.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(i,'%" height="').concat(100+2*i,'%" x="-').concat(r,'%" width="').concat(100+2*r,'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="').concat(fa(this.blur?this.blur/2:0,Bo.NUM_FRACTION_DIGITS),'"></feGaussianBlur>\n\t<feOffset dx="').concat(fa(t.x,Bo.NUM_FRACTION_DIGITS),'" dy="').concat(fa(t.y,Bo.NUM_FRACTION_DIGITS),'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="').concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n')}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},t=Yl.ownDefaults;return this.includeDefaultValues?e:da(e,(e,n)=>e!==t[n])}static async fromObject(e){return new this(e)}}So(Yl,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),So(Yl,"type","shadow"),Cs.setClass(Yl,"shadow");const Ul=(e,t,n)=>Math.max(e,Math.min(t,n)),Gl=[Zo,Jo,fs,gs,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",ps,ms],Hl=[As,ys,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],Wl={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Xo,originY:Xo,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:As,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},Vl=(e,t,n,r)=>(e<Math.abs(t)?(e=t,r=n/4):r=0===t&&0===e?n/Ho*Math.asin(1):n/Ho*Math.asin(t/e),{a:e,c:t,p:n,s:r}),Kl=(e,t,n,r,i)=>e*Math.pow(2,10*(r-=1))*Math.sin((r*i-t)*Ho/n),ql=(e,t,n,r)=>-n*Math.cos(e/r*Uo)+n+t,Xl=(e,t,n,r)=>(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,Jl=(e,t,n,r)=>n-Xl(r-e,0,n,r)+t;var Zl=Object.freeze({__proto__:null,defaultEasing:ql,easeInBack:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return n*(e/=r)*e*((i+1)*e-i)+t},easeInBounce:Jl,easeInCirc:(e,t,n,r)=>-n*(Math.sqrt(1-(e/=r)*e)-1)+t,easeInCubic:(e,t,n,r)=>n*(e/r)**3+t,easeInElastic:(e,t,n,r)=>{const i=n;let o=0;if(0===e)return t;if(1===(e/=r))return t+n;o||(o=.3*r);const{a:s,s:a,p:l}=Vl(i,n,o,1.70158);return-Kl(s,a,l,e,r)+t},easeInExpo:(e,t,n,r)=>0===e?t:n*2**(10*(e/r-1))+t,easeInOutBack:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInOutBounce:(e,t,n,r)=>e<r/2?.5*Jl(2*e,0,n,r)+t:.5*Xl(2*e-r,0,n,r)+.5*n+t,easeInOutCirc:(e,t,n,r)=>(e/=r/2)<1?-n/2*(Math.sqrt(1-e**2)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t,easeInOutCubic:(e,t,n,r)=>(e/=r/2)<1?n/2*e**3+t:n/2*((e-2)**3+2)+t,easeInOutElastic:(e,t,n,r)=>{const i=n;let o=0;if(0===e)return t;if(2===(e/=r/2))return t+n;o||(o=r*(.3*1.5));const{a:s,s:a,p:l,c:c}=Vl(i,n,o,1.70158);return e<1?-.5*Kl(s,a,l,e,r)+t:s*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*Ho/l)*.5+c+t},easeInOutExpo:(e,t,n,r)=>0===e?t:e===r?t+n:(e/=r/2)<1?n/2*2**(10*(e-1))+t:n/2*-(2**(-10*--e)+2)+t,easeInOutQuad:(e,t,n,r)=>(e/=r/2)<1?n/2*e**2+t:-n/2*(--e*(e-2)-1)+t,easeInOutQuart:(e,t,n,r)=>(e/=r/2)<1?n/2*e**4+t:-n/2*((e-=2)*e**3-2)+t,easeInOutQuint:(e,t,n,r)=>(e/=r/2)<1?n/2*e**5+t:n/2*((e-2)**5+2)+t,easeInOutSine:(e,t,n,r)=>-n/2*(Math.cos(Math.PI*e/r)-1)+t,easeInQuad:(e,t,n,r)=>n*(e/=r)*e+t,easeInQuart:(e,t,n,r)=>n*(e/=r)*e**3+t,easeInQuint:(e,t,n,r)=>n*(e/r)**5+t,easeInSine:(e,t,n,r)=>-n*Math.cos(e/r*Uo)+n+t,easeOutBack:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeOutBounce:Xl,easeOutCirc:(e,t,n,r)=>n*Math.sqrt(1-(e=e/r-1)*e)+t,easeOutCubic:(e,t,n,r)=>n*((e/r-1)**3+1)+t,easeOutElastic:(e,t,n,r)=>{const i=n;let o=0;if(0===e)return t;if(1===(e/=r))return t+n;o||(o=.3*r);const{a:s,s:a,p:l,c:c}=Vl(i,n,o,1.70158);return s*2**(-10*e)*Math.sin((e*r-a)*Ho/l)+c+t},easeOutExpo:(e,t,n,r)=>e===r?t+n:n*-(2**(-10*e/r)+1)+t,easeOutQuad:(e,t,n,r)=>-n*(e/=r)*(e-2)+t,easeOutQuart:(e,t,n,r)=>-n*((e=e/r-1)*e**3-1)+t,easeOutQuint:(e,t,n,r)=>n*((e/r-1)**5+1)+t,easeOutSine:(e,t,n,r)=>n*Math.sin(e/r*Uo)+t});const $l=()=>!1;class ec{constructor(e){let{startValue:t,byValue:n,duration:r=500,delay:i=0,easing:o=ql,onStart:s=Yo,onChange:a=Yo,onComplete:l=Yo,abort:c=$l,target:u}=e;So(this,"_state","pending"),So(this,"durationProgress",0),So(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=r,this.delay=i,this.easing=o,this._onStart=s,this._onChange=a,this._onComplete=l,this._abort=c,this.target=u,this.startValue=t,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return"aborted"===this._state||"completed"===this._state}start(){const e=e=>{"pending"===this._state&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>Ps(e),this.delay):Ps(e)}tick(e){const t=(e||+new Date)-this.startTime,n=Math.min(t,this.duration);this.durationProgress=n/this.duration;const{value:r,valueProgress:i}=this.calculate(n);this.value=Object.freeze(r),this.valueProgress=i,"aborted"!==this._state&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Ps(this.tick)))}register(){Ss.push(this)}unregister(){Ss.remove(this)}abort(){this._state="aborted",this.unregister()}}class tc extends ec{constructor(e){let{startValue:t=0,endValue:n=100}=e;super(l(l({},c(e,no)),{},{startValue:t,byValue:n-t}))}calculate(e){const t=this.easing(e,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}class nc extends ec{constructor(e){let{startValue:t=[0],endValue:n=[100]}=e;super(l(l({},c(e,ro)),{},{startValue:t,byValue:n.map((e,n)=>e-t[n])}))}calculate(e){const t=this.startValue.map((t,n)=>this.easing(e,t,this.byValue[n],this.duration,n));return{value:t,valueProgress:Math.abs((t[0]-this.startValue[0])/this.byValue[0])}}}const rc=(e,t,n,r)=>t+n*(1-Math.cos(e/r*Uo)),ic=e=>e&&((t,n,r)=>e(new ml(t).toRgba(),n,r));class oc extends ec{constructor(e){let{startValue:t,endValue:n,easing:r=rc,onChange:i,onComplete:o,abort:s}=e,a=c(e,io);const u=new ml(t).getSource(),h=new ml(n).getSource();super(l(l({},a),{},{startValue:u,byValue:h.map((e,t)=>e-u[t]),easing:r,onChange:ic(i),onComplete:ic(o),abort:ic(s)}))}calculate(e){const[t,n,r,i]=this.startValue.map((t,n)=>this.easing(e,t,this.byValue[n],this.duration,n)),o=[...[t,n,r].map(Math.round),Ul(0,i,1)];return{value:o,valueProgress:o.map((e,t)=>0!==this.byValue[t]?Math.abs((e-this.startValue[t])/this.byValue[t]):0).find(e=>0!==e)||0}}}function sc(e){const t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(e)?new nc(e):new tc(e);return t.start(),t}function ac(e){const t=new oc(e);return t.start(),t}class lc{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(t=>t.eq(e))}append(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.points=this.points.concat(t.filter(e=>!this.includes(e))),this}static isPointContained(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.eq(n))return e.eq(t);if(t.x===n.x)return e.x===t.x&&(r||e.y>=Math.min(t.y,n.y)&&e.y<=Math.max(t.y,n.y));if(t.y===n.y)return e.y===t.y&&(r||e.x>=Math.min(t.x,n.x)&&e.x<=Math.max(t.x,n.x));{const i=Va(t,n),o=Va(t,e).divide(i);return r?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,t){const n=new Ds(e).setX(Math.min(e.x-1,...t.map(e=>e.x)));let r=0;for(let i=0;i<t.length;i++){const o=this.intersectSegmentSegment(t[i],t[(i+1)%t.length],e,n);if(o.includes(e))return!0;r+=Number("Intersection"===o.status)}return r%2==1}static intersectLineLine(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const s=t.x-e.x,a=t.y-e.y,l=r.x-n.x,c=r.y-n.y,u=e.x-n.x,h=e.y-n.y,d=l*h-c*u,f=s*h-a*u,g=c*s-l*a;if(0!==g){const t=d/g,n=f/g;return(i||0<=t&&t<=1)&&(o||0<=n&&n<=1)?new lc("Intersection").append(new Ds(e.x+t*s,e.y+t*a)):new lc}if(0===d||0===f){const s=i||o||lc.isPointContained(e,n,r)||lc.isPointContained(t,n,r)||lc.isPointContained(n,e,t)||lc.isPointContained(r,e,t);return new lc(s?"Coincident":void 0)}return new lc("Parallel")}static intersectSegmentLine(e,t,n,r){return lc.intersectLineLine(e,t,n,r,!1,!0)}static intersectSegmentSegment(e,t,n,r){return lc.intersectLineLine(e,t,n,r,!1,!1)}static intersectLinePolygon(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=new lc,o=n.length;for(let s,a,l,c=0;c<o;c++){if(s=n[c],a=n[(c+1)%o],l=lc.intersectLineLine(e,t,s,a,r,!1),"Coincident"===l.status)return l;i.append(...l.points)}return i.points.length>0&&(i.status="Intersection"),i}static intersectSegmentPolygon(e,t,n){return lc.intersectLinePolygon(e,t,n,!1)}static intersectPolygonPolygon(e,t){const n=new lc,r=e.length,i=[];for(let o=0;o<r;o++){const s=e[o],a=e[(o+1)%r],l=lc.intersectSegmentPolygon(s,a,t);"Coincident"===l.status?(i.push(l),n.append(s,a)):n.append(...l.points)}return i.length>0&&i.length===e.length?new lc("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,t,n){const r=t.min(n),i=t.max(n),o=new Ds(i.x,r.y),s=new Ds(r.x,i.y);return lc.intersectPolygonPolygon(e,[r,o,i,s])}}class cc extends js{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Ks(e,this.group.calcTransformMatrix()):e}setXY(e,t,n){this.group&&(e=Ks(e,qs(this.group.calcTransformMatrix()))),this.setRelativeXY(e,t,n)}getRelativeXY(){return new Ds(this.left,this.top)}setRelativeXY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.originX,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.originY;this.setPositionByOrigin(e,t,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:t,br:n,bl:r}=this.aCoords||(this.aCoords=this.calcACoords()),i=[e,t,n,r];if(this.group){const e=this.group.calcTransformMatrix();return i.map(t=>Ks(t,e))}return i}intersectsWithRect(e,t){return"Intersection"===lc.intersectPolygonRectangle(this.getCoords(),e,t).status}intersectsWithObject(e){const t=lc.intersectPolygonPolygon(this.getCoords(),e.getCoords());return"Intersection"===t.status||"Coincident"===t.status||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(t=>e.containsPoint(t))}isContainedWithinRect(e,t){const{left:n,top:r,width:i,height:o}=this.getBoundingRect();return n>=e.x&&n+i<=t.x&&r>=e.y&&r+o<=t.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return lc.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=t.x&&n.x>=e.x&&n.y<=t.y&&n.y>=e.y)||!!this.intersectsWithRect(e,t)||this.containsPoint(e.midPointFrom(t))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.intersectsWithRect(e,t)||this.getCoords().every(n=>(n.x>=t.x||n.x<=e.x)&&(n.y>=t.y||n.y<=e.y))&&this.containsPoint(e.midPointFrom(t))}getBoundingRect(){return Oa(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(fs,e),this._set(gs,e),this.setCoords()}scaleToWidth(e){const t=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/t)}scaleToHeight(e){const t=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/t)}getCanvasRetinaScaling(){var e;return(null===(e=this.canvas)||void 0===e?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?Ws(Zs(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return(null===(e=this.canvas)||void 0===e?void 0:e.viewportTransform)||Vo.concat()}calcACoords(){const e=ta({angle:this.angle}),{x:t,y:n}=this.getRelativeCenterPoint(),r=ea(t,n),i=Xs(r,e),o=this._getTransformedDimensions(),s=o.x/2,a=o.y/2;return{tl:Ks({x:-s,y:-a},i),tr:Ks({x:s,y:-a},i),bl:Ks({x:-s,y:a},i),br:Ks({x:s,y:a},i)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return!e&&this.group&&(t=this.group.transformMatrixKey(e)),t.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Ua(this.originX),Ua(this.originY)),t}calcTransformMatrix(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.calcOwnMatrix();if(e||!this.group)return t;const n=this.transformMatrixKey(e),r=this.matrixCache;return r&&r.key.every((e,t)=>e===n[t])?r.value:(this.group&&(t=Xs(this.group.calcTransformMatrix(!1),t)),this.matrixCache={key:n,value:t},t)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),t=this.ownMatrixCache;if(t&&t.key.every((t,n)=>t===e[n]))return t.value;const n=this.getRelativeCenterPoint(),r={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},i=aa(r);return this.ownMatrixCache={key:e,value:i},i}_getNonTransformedDimensions(){return new Ds(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=l({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=t.strokeWidth;let r=n,i=0;this.strokeUniform&&(r=0,i=n);const o=t.width+r,s=t.height+r;let a;return a=0===t.skewX&&0===t.skewY?new Ds(o*t.scaleX,s*t.scaleY):Ra(o,s,sa(t)),a.scalarAdd(i)}translateToGivenOrigin(e,t,n,r,i){let o=e.x,s=e.y;const a=Ua(r)-Ua(t),l=Ua(i)-Ua(n);if(a||l){const e=this._getTransformedDimensions();o+=a*e.x,s+=l*e.y}return new Ds(o,s)}translateToCenterPoint(e,t,n){if(t===Xo&&n===Xo)return e;const r=this.translateToGivenOrigin(e,t,n,Xo,Xo);return this.angle?r.rotate(Hs(this.angle),e):r}translateToOriginPoint(e,t,n){const r=this.translateToGivenOrigin(e,Xo,Xo,t,n);return this.angle?r.rotate(Hs(this.angle),e):r}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Ks(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new Ds(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,t){return this.getPositionByOrigin(e,t)}getPositionByOrigin(e,t){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,t)}setPositionByOrigin(e,t,n){const r=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set({left:i.x,top:i.y})}_getLeftTopCoords(){return this.getPositionByOrigin(Jo,Zo)}positionByLeftTop(e){return this.setPositionByOrigin(e,Jo,Zo)}}let uc=class e extends cc{static getDefaults(){return e.ownDefaults}get type(){const e=this.constructor.type;return"FabricObject"===e?"object":e.toLowerCase()}set type(e){Io("warn","Setting type has no effect",e)}constructor(t){super(),So(this,"_cacheContext",null),Object.assign(this,e.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=zs(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const t=e.width,n=e.height,r=Bo.maxCacheSideLimit,i=Bo.minCacheSideLimit;if(t<=r&&n<=r&&t*n<=Bo.perfLimitSizeTotal)return t<i&&(e.width=i),n<i&&(e.height=i),e;const o=t/n,[s,a]=zo.limitDimsByArea(o),l=Ul(i,s,r),c=Ul(i,a,r);return t>l&&(e.zoomX/=t/l,e.width=l,e.capped=!0),n>c&&(e.zoomY/=n/c,e.height=c,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),t=this._getTransformedDimensions({skewX:0,skewY:0}),n=t.x*e.x/this.scaleX,r=t.y*e.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(r+2),zoomX:e.x,zoomY:e.y,x:n,y:r}}_updateCacheCanvas(){const e=this._cacheCanvas,t=this._cacheContext,{width:n,height:r,zoomX:i,zoomY:o,x:s,y:a}=this._limitCacheSize(this._getCacheCanvasDimensions()),l=n!==e.width||r!==e.height,c=this.zoomX!==i||this.zoomY!==o;if(!e||!t)return!1;if(l||c){n!==e.width||r!==e.height?(e.width=n,e.height=r):(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height));const l=s/2,c=a/2;return this.cacheTranslationX=Math.round(e.width/2-l)+l,this.cacheTranslationY=Math.round(e.height/2-c)+c,t.translate(this.cacheTranslationX,this.cacheTranslationY),t.scale(i,o),this.zoomX=i,this.zoomY=o,!0}return!1}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setOptions(e)}transform(e){const t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!t);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new Ds(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=$s(this.calcTransformMatrix());return new Ds(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const t=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(t*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e}_set(e,t){e!==fs&&e!==gs||(t=this._constrainScale(t)),e===fs&&t<0?(this.flipX=!this.flipX,t*=-1):"scaleY"===e&&t<0?(this.flipY=!this.flipY,t*=-1):"shadow"!==e||!t||t instanceof Yl||(t=new Yl(t));const n=this[e]!==t;return this[e]=t,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:t,zoomY:n,cacheTranslationX:r,cacheTranslationY:i}=this,{width:o,height:s}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:t,zoomY:n,cacheTranslationX:r,cacheTranslationY:i,width:o,height:s,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return!!this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth}hasFill(){return!!this.fill&&"transparent"!==this.fill}needsItsOwnCache(){return!!(this.paintFirst===ys&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)}drawClipPathOnCache(e,t,n){e.save(),t.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(n,0,0),e.restore()}drawObject(e,t,n){const r=this.fill,i=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,n),this.fill=r,this.stroke=i}createClipPathLayer(e,t){const n=Ys(t),r=n.getContext("2d");if(r.translate(t.cacheTranslationX,t.cacheTranslationY),r.scale(t.zoomX,t.zoomY),e._cacheCanvas=n,t.parentClipPaths.forEach(e=>{e.transform(r)}),t.parentClipPaths.push(e),e.absolutePositioned){const e=qs(this.calcTransformMatrix());r.transform(e[0],e[1],e[2],e[3],e[4],e[5])}return e.transform(r),e.drawObject(r,!0,t),n}_drawClipPath(e,t,n){if(!t)return;t._transformDone=!0;const r=this.createClipPathLayer(t,n);this.drawClipPathOnCache(e,t,r)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isNotVisible())return!1;const t=this._cacheCanvas,n=this._cacheContext;return!(!t||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,t){const n=t.stroke;n&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,pa(n)?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=t.stroke)}_setFillStyles(e,t){let{fill:n}=t;n&&(pa(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,t){t&&0!==t.length&&e.setLineDash(t)}_setShadow(e){if(!this.shadow)return;const t=this.shadow,n=this.canvas,r=this.getCanvasRetinaScaling(),[i,,,o]=(null==n?void 0:n.viewportTransform)||Vo,s=i*r,a=o*r,l=t.nonScaling?new Ds(1,1):this.getObjectScaling();e.shadowColor=t.color,e.shadowBlur=t.blur*Bo.browserShadowBlurConstant*(s+a)*(l.x+l.y)/4,e.shadowOffsetX=t.offsetX*s*l.x,e.shadowOffsetY=t.offsetY*a*l.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,t){if(!pa(t))return{offsetX:0,offsetY:0};const n=t.gradientTransform||t.patternTransform,r=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,r,i):e.transform(1,0,0,1,r,i),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:i}}_renderPaintInOrder(e){this.paintFirst===ys?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const t=this.getObjectScaling();e.scale(1/t.x,1/t.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,t){var n;const r=this._limitCacheSize(this._getCacheCanvasDimensions()),i=this.getCanvasRetinaScaling(),o=r.x/this.scaleX/i,s=r.y/this.scaleY/i,a=Ys({width:Math.ceil(o),height:Math.ceil(s)}),l=a.getContext("2d");l&&(l.beginPath(),l.moveTo(0,0),l.lineTo(o,0),l.lineTo(o,s),l.lineTo(0,s),l.closePath(),l.translate(o/2,s/2),l.scale(r.zoomX/this.scaleX/i,r.zoomY/this.scaleY/i),this._applyPatternGradientTransform(l,t),l.fillStyle=t.toLive(e),l.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(i*this.scaleX/r.zoomX,i*this.scaleY/r.zoomY),e.strokeStyle=null!==(n=l.createPattern(a,"no-repeat"))&&void 0!==n?n:"")}_findCenterFromElement(){return new Ds(this.left+this.width/2,this.top+this.height/2)}clone(e){const t=this.toObject(e);return this.constructor.fromObject(t)}cloneAsImage(e){const t=this.toCanvasElement(e);return new(Cs.getClass("image"))(t)}toCanvasElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Pa(this),n=this.group,r=this.shadow,i=Math.abs,o=e.enableRetinaScaling?No():1,s=(e.multiplier||1)*o,a=e.canvasProvider||(e=>new ka(e,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&ja(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&Qa(this,this.getViewportTransform()),this.setCoords();const l=zs(),c=this.getBoundingRect(),u=this.shadow,h=new Ds;if(u){const e=u.blur,t=u.nonScaling?new Ds(1,1):this.getObjectScaling();h.x=2*Math.round(i(u.offsetX)+e)*i(t.x),h.y=2*Math.round(i(u.offsetY)+e)*i(t.y)}const d=c.width+h.x,f=c.height+h.y;l.width=Math.ceil(d),l.height=Math.ceil(f);const g=a(l);"jpeg"===e.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new Ds(g.width/2,g.height/2),Xo,Xo);const p=this.canvas;g._objects=[this],this.set("canvas",g),this.setCoords();const m=g.toCanvasElement(s||1,e);return this.set("canvas",p),this.shadow=r,n&&(this.group=n),this.set(t),this.setCoords(),g._objects=[],g.destroy(),m}toDataURL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Us(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Gs(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(this.constructor.type)||t.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:t,originX:n,originY:r}=this;if(t){const{x:e,y:t}=this.getRelativeCenterPoint();this.originX=Xo,this.originY=Xo,this.left=e,this.top=t}if(this.set("angle",e),t){const{x:e,y:t}=this.getPositionByOrigin(n,r);this.left=e,this.top=t,this.originX=n,this.originY=r}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){Ss.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Po().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,t){return Object.entries(e).reduce((e,n)=>{let[r,i]=n;return e[r]=this._animate(r,i,t),e},{})}_animate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.split("."),i=this.constructor.colorProperties.includes(r[r.length-1]),{abort:o,startValue:s,onChange:a,onComplete:c}=n,u=l(l({},n),{},{target:this,startValue:null!=s?s:r.reduce((e,t)=>e[t],this),endValue:t,abort:null==o?void 0:o.bind(this),onChange:(e,t,n)=>{r.reduce((t,n,i)=>(i===r.length-1&&(t[n]=e),t[n]),this),a&&a(e,t,n)},onComplete:(e,t,n)=>{this.setCoords(),c&&c(e,t,n)}});return i?ac(u):sc(u)}isDescendantOf(e){const{parent:t,group:n}=this;return t===e||n===e||!!t&&t.isDescendantOf(e)||!!n&&n!==t&&n.isDescendantOf(e)}getAncestors(){const e=[];let t=this;do{t=t.parent,t&&e.push(t)}while(t);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const t=this.getAncestors(),n=e.getAncestors();if(0===t.length&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let r,i=0;i<t.length;i++){if(r=t[i],r===e)return{fork:[this,...t.slice(0,i)],otherFork:[],common:t.slice(i)};for(let o=0;o<n.length;o++){if(this===n[o])return{fork:[],otherFork:[e,...n.slice(0,o)],common:[this,...t]};if(r===n[o])return{fork:[this,...t.slice(0,i)],otherFork:[e,...n.slice(0,o)],common:t.slice(i)}}}return{fork:[this,...t],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const t=this.findCommonAncestors(e);return t&&!!t.common.length}isInFrontOf(e){if(this===e)return;const t=this.findCommonAncestors(e);if(t.fork.includes(e))return!0;if(t.otherFork.includes(this))return!1;const n=t.common[0]||this.canvas;if(!n)return;const r=t.fork.pop(),i=t.otherFork.pop(),o=n._objects.indexOf(r),s=n._objects.indexOf(i);return o>-1&&o>s}toObject(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).concat(e.customProperties,this.constructor.customProperties||[]);let n;const r=Bo.NUM_FRACTION_DIGITS,{clipPath:i,fill:o,stroke:s,shadow:a,strokeDashArray:c,left:u,top:h,originX:d,originY:f,width:g,height:p,strokeWidth:m,strokeLineCap:A,strokeDashOffset:y,strokeLineJoin:v,strokeUniform:b,strokeMiterLimit:w,scaleX:x,scaleY:E,angle:_,flipX:C,flipY:S,opacity:k,visible:B,backgroundColor:I,fillRule:T,paintFirst:D,globalCompositeOperation:O,skewX:M,skewY:F}=this;i&&!i.excludeFromExport&&(n=i.toObject(t.concat("inverted","absolutePositioned")));const j=e=>fa(e,r),P=l(l({},ha(this,t)),{},{type:this.constructor.type,version:Qo,originX:d,originY:f,left:j(u),top:j(h),width:j(g),height:j(p),fill:ma(o)?o.toObject():o,stroke:ma(s)?s.toObject():s,strokeWidth:j(m),strokeDashArray:c?c.concat():c,strokeLineCap:A,strokeDashOffset:y,strokeLineJoin:v,strokeUniform:b,strokeMiterLimit:j(w),scaleX:j(x),scaleY:j(E),angle:j(_),flipX:C,flipY:S,opacity:j(k),shadow:a?a.toObject():a,visible:B,backgroundColor:I,fillRule:T,paintFirst:D,globalCompositeOperation:O,skewX:j(M),skewY:j(F)},n?{clipPath:n}:null);return this.includeDefaultValues?P:this._removeDefaultValues(P)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const t=this.constructor.getDefaults(),n=Object.keys(t).length>0?t:Object.getPrototypeOf(this);return da(e,(e,t)=>{if(t===Jo||t===Zo||"type"===t)return!0;const r=n[t];return e!==r&&!(Array.isArray(e)&&Array.isArray(r)&&0===e.length&&0===r.length)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let{type:t}=e,n=c(e,oo),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{extraParam:i}=r,o=c(r,so);return ua(n,o).then(e=>i?(delete e[i],new this(n[i],e)):new this(e))}static fromObject(e,t){return this._fromObject(e,t)}};So(uc,"stateProperties",Gl),So(uc,"cacheProperties",Hl),So(uc,"ownDefaults",Wl),So(uc,"type","FabricObject"),So(uc,"colorProperties",[As,ys,"backgroundColor"]),So(uc,"customProperties",[]),Cs.setClass(uc),Cs.setClass(uc,"object");const hc=(e,t)=>{var n;const{transform:{target:r}}=t;null===(n=r.canvas)||void 0===n||n.fire("object:".concat(e),l(l({},t),{},{target:r})),r.fire(e,t)},dc=(e,t,n)=>(r,i,o,s)=>{const a=t(r,i,o,s);return a&&hc(e,l(l({},sl(r,i,o,s)),n)),a};function fc(e){return(t,n,r,i)=>{const{target:o,originX:s,originY:a}=n,l=o.getPositionByOrigin(s,a),c=e(t,n,r,i);return o.setPositionByOrigin(l,n.originX,n.originY),c}}const gc=(e,t,n,r)=>(i,o,s,a)=>{const l=ll(o,o.originX,o.originY,s,a)[n],c=Ua(o[t]);if(0===c||c>0&&l<0||c<0&&l>0){const{target:t}=o,n=t.strokeWidth/(t.strokeUniform?t[r]:1),i=rl(o)?2:1,s=t[e],a=Math.abs(l*i/t[r])-n;return t.set(e,Math.max(a,1)),s!==t[e]}return!1},pc=gc("width","originX","x","scaleX"),mc=gc("height","originY","y","scaleY"),Ac=dc(ls,fc(pc)),yc=dc(ls,fc(mc));function vc(e,t,n,r,i){e.save();const{stroke:o,xSize:s,ySize:a,opName:l}=this.commonRenderProps(e,t,n,i,r);let c=s;s>a?e.scale(1,a/s):a>s&&(c=a,e.scale(s/a,1)),e.beginPath(),e.arc(0,0,c/2,0,Ho,!1),e[l](),o&&e.stroke(),e.restore()}function bc(e,t,n,r,i){e.save();const{stroke:o,xSize:s,ySize:a,opName:l}=this.commonRenderProps(e,t,n,i,r),c=s/2,u=a/2;e["".concat(l,"Rect")](-c,-u,s,a),o&&e.strokeRect(-c,-u,s,a),e.restore()}class wc{constructor(e){So(this,"visible",!0),So(this,"actionName",ds),So(this,"angle",0),So(this,"x",0),So(this,"y",0),So(this,"offsetX",0),So(this,"offsetY",0),So(this,"sizeX",0),So(this,"sizeY",0),So(this,"touchSizeX",0),So(this,"touchSizeY",0),So(this,"cursorStyle","crosshair"),So(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,t,n,r){var i;let{tl:o,tr:s,br:a,bl:l}=r;return(null===(i=t.canvas)||void 0===i?void 0:i.getActiveObject())===t&&t.isControlVisible(e)&&lc.isPointInPolygon(n,[o,s,a,l])}getActionHandler(e,t,n){return this.actionHandler}getMouseDownHandler(e,t,n){return this.mouseDownHandler}getMouseUpHandler(e,t,n){return this.mouseUpHandler}cursorStyleHandler(e,t,n,r){return t.cursorStyle}getActionName(e,t,n){return t.actionName}getVisibility(e,t){var n,r;return null!==(n=null===(r=e._controlsVisibility)||void 0===r?void 0:r[t])&&void 0!==n?n:this.visible}setVisibility(e,t,n){this.visible=e}positionHandler(e,t,n,r){return new Ds(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(t)}calcCornerCoords(e,t,n,r,i,o){const s=Js([ea(n,r),ta({angle:e}),na((i?this.touchSizeX:this.sizeX)||t,(i?this.touchSizeY:this.sizeY)||t)]);return{tl:new Ds(-.5,-.5).transform(s),tr:new Ds(.5,-.5).transform(s),br:new Ds(.5,.5).transform(s),bl:new Ds(-.5,.5).transform(s)}}commonRenderProps(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{cornerSize:o,cornerColor:s,transparentCorners:a,cornerStrokeColor:l}=i,c=o||r.cornerSize,u=this.sizeX||c,h=this.sizeY||c,d=void 0!==a?a:r.transparentCorners,f=d?ys:As,g=l||r.cornerStrokeColor,p=!d&&!!g;return e.fillStyle=s||r.cornerColor||"",e.strokeStyle=g||"",e.translate(t,n),e.rotate(Hs(r.getTotalAngle())),{stroke:p,xSize:u,ySize:h,transparentCorners:d,opName:f}}render(e,t,n,r,i){"circle"===((r=r||{}).cornerStyle||i.cornerStyle)?vc.call(this,e,t,n,r,i):bc.call(this,e,t,n,r,i)}}const xc=(e,t,n)=>n.lockRotation?nl:t.cursorStyle,Ec=dc(os,fc((e,t,n,r)=>{let{target:i,ex:o,ey:s,theta:a,originX:l,originY:c}=t;const u=i.getPositionByOrigin(l,c);if(ol(i,"lockRotation"))return!1;const h=Math.atan2(s-u.y,o-u.x),d=Math.atan2(r-u.y,n-u.x);let f=Ws(d-h+a);if(i.snapAngle&&i.snapAngle>0){const e=i.snapAngle,t=i.snapThreshold||e,n=Math.ceil(f/e)*e,r=Math.floor(f/e)*e;Math.abs(f-r)<t?f=r:Math.abs(f-n)<t&&(f=n)}f<0&&(f=360+f),f%=360;const g=i.angle!==f;return i.angle=f,g}));function _c(e,t){const n=t.canvas,r=e[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function Cc(e,t,n){const r=ol(e,"lockScalingX"),i=ol(e,"lockScalingY");if(r&&i)return!0;if(!t&&(r||i)&&n)return!0;if(r&&"x"===t)return!0;if(i&&"y"===t)return!0;const{width:o,height:s,strokeWidth:a}=e;return 0===o&&0===a&&"y"!==t||0===s&&0===a&&"x"!==t}const Sc=["e","se","s","sw","w","nw","n","ne","e"],kc=(e,t,n,r)=>{const i=_c(e,n);if(Cc(n,0!==t.x&&0===t.y?"x":0===t.x&&0!==t.y?"y":"",i))return nl;const o=al(n,0,r);return"".concat(Sc[o],"-resize")};function Bc(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=t.target,s=i.by,a=_c(e,o);let l,c,u,h,d,f;if(Cc(o,s,a))return!1;if(t.gestureScale)c=t.scaleX*t.gestureScale,u=t.scaleY*t.gestureScale;else{if(l=ll(t,t.originX,t.originY,n,r),d="y"!==s?Math.sign(l.x||t.signX||1):1,f="x"!==s?Math.sign(l.y||t.signY||1):1,t.signX||(t.signX=d),t.signY||(t.signY=f),ol(o,"lockScalingFlip")&&(t.signX!==d||t.signY!==f))return!1;if(h=o._getTransformedDimensions(),a&&!s){const e=Math.abs(l.x)+Math.abs(l.y),{original:n}=t,r=e/(Math.abs(h.x*n.scaleX/o.scaleX)+Math.abs(h.y*n.scaleY/o.scaleY));c=n.scaleX*r,u=n.scaleY*r}else c=Math.abs(l.x*o.scaleX/h.x),u=Math.abs(l.y*o.scaleY/h.y);rl(t)&&(c*=2,u*=2),t.signX!==d&&"y"!==s&&(t.originX=il(t.originX),c*=-1,t.signX=d),t.signY!==f&&"x"!==s&&(t.originY=il(t.originY),u*=-1,t.signY=f)}const g=o.scaleX,p=o.scaleY;return s?("x"===s&&o.set(fs,c),"y"===s&&o.set(gs,u)):(!ol(o,"lockScalingX")&&o.set(fs,c),!ol(o,"lockScalingY")&&o.set(gs,u)),g!==o.scaleX||p!==o.scaleY}const Ic=dc(is,fc((e,t,n,r)=>Bc(e,t,n,r))),Tc=dc(is,fc((e,t,n,r)=>Bc(e,t,n,r,{by:"x"}))),Dc=dc(is,fc((e,t,n,r)=>Bc(e,t,n,r,{by:"y"}))),Oc={x:{counterAxis:"y",scale:fs,skew:ps,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:gs,skew:ms,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Mc=["ns","nesw","ew","nwse"],Fc=(e,t,n,r)=>{if(0!==t.x&&ol(n,"lockSkewingY"))return nl;if(0!==t.y&&ol(n,"lockSkewingX"))return nl;const i=al(n,0,r)%4;return"".concat(Mc[i],"-resize")};function jc(e,t,n,r,i){const{target:o}=n,{counterAxis:s,origin:a,lockSkewing:u,skew:h,flip:d}=Oc[e];if(ol(o,u))return!1;const{origin:f,flip:g}=Oc[s],p=Ua(n[f])*(o[g]?-1:1),m=-Math.sign(p)*(o[d]?-1:1),A=-(0===o[h]&&ll(n,Xo,Xo,r,i)[e]>0||o[h]>0?1:-1)*m*.5+.5,y=dc(as,fc((t,n,r,i)=>function(e,t,n){let{target:r,ex:i,ey:o,skewingSide:s}=t,a=c(t,ao);const{skew:l}=Oc[e],u=n.subtract(new Ds(i,o)).divide(new Ds(r.scaleX,r.scaleY))[e],h=r[l],d=a[l],f=Math.tan(Hs(d)),g="y"===e?r._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:r._getTransformedDimensions({scaleX:1,scaleY:1}).y,p=2*u*s/Math.max(g,1)+f,m=Ws(Math.atan(p));r.set(l,m);const A=h!==r[l];if(A&&"y"===e){const{skewX:e,scaleX:t}=r,n=r._getTransformedDimensions({skewY:h}),i=r._getTransformedDimensions(),o=0!==e?n.x/i.x:1;1!==o&&r.set(fs,o*t)}return A}(e,n,new Ds(r,i))));return y(t,l(l({},n),{},{[a]:A,skewingSide:m}),r,i)}const Pc=(e,t,n,r)=>jc("x",e,t,n,r),Rc=(e,t,n,r)=>jc("y",e,t,n,r);function Lc(e,t){return e[t.canvas.altActionKey]}const Nc=(e,t,n)=>{const r=Lc(e,n);return 0===t.x?r?ps:gs:0===t.y?r?ms:fs:""},zc=(e,t,n,r)=>Lc(e,n)?Fc(0,t,n,r):kc(e,t,n,r),Qc=(e,t,n,r)=>Lc(e,t.target)?Rc(e,t,n,r):Tc(e,t,n,r),Yc=(e,t,n,r)=>Lc(e,t.target)?Pc(e,t,n,r):Dc(e,t,n,r),Uc=()=>({ml:new wc({x:-.5,y:0,cursorStyleHandler:zc,actionHandler:Qc,getActionName:Nc}),mr:new wc({x:.5,y:0,cursorStyleHandler:zc,actionHandler:Qc,getActionName:Nc}),mb:new wc({x:0,y:.5,cursorStyleHandler:zc,actionHandler:Yc,getActionName:Nc}),mt:new wc({x:0,y:-.5,cursorStyleHandler:zc,actionHandler:Yc,getActionName:Nc}),tl:new wc({x:-.5,y:-.5,cursorStyleHandler:kc,actionHandler:Ic}),tr:new wc({x:.5,y:-.5,cursorStyleHandler:kc,actionHandler:Ic}),bl:new wc({x:-.5,y:.5,cursorStyleHandler:kc,actionHandler:Ic}),br:new wc({x:.5,y:.5,cursorStyleHandler:kc,actionHandler:Ic}),mtr:new wc({x:0,y:-.5,actionHandler:Ec,cursorStyleHandler:xc,offsetY:-40,withConnection:!0,actionName:ss})}),Gc=()=>({mr:new wc({x:.5,y:0,actionHandler:Ac,cursorStyleHandler:zc,actionName:ls}),ml:new wc({x:-.5,y:0,actionHandler:Ac,cursorStyleHandler:zc,actionName:ls})}),Hc=()=>l(l({},Uc()),Gc());class Wc extends uc{static getDefaults(){return l(l({},super.getDefaults()),Wc.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),Wc.ownDefaults),this.setOptions(e)}static createControls(){return{controls:Uc()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const t=e._currentTransform,n=t.target,r=t.action;if(this===n&&r&&r.startsWith(ds))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let r=n.length-1;r>=0;r--){const[i,o]=n[r],s=this.controls[i];if(s.shouldActivate(i,this,e,t?o.touchCorner:o.corner))return this.__corner=i,{key:i,control:s,coord:this.oCoords[i]}}}calcOCoords(){const e=this.getViewportTransform(),t=this.getCenterPoint(),n=ea(t.x,t.y),r=ta({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),i=Xs(n,r),o=Xs(e,i),s=Xs(o,[1/e[0],0,0,1/e[3],0,0]),a=this.group?$s(this.calcTransformMatrix()):void 0;a&&(a.scaleX=Math.abs(a.scaleX),a.scaleY=Math.abs(a.scaleY));const l=this._calculateCurrentDimensions(a),c={};return this.forEachControl((e,t)=>{const n=e.positionHandler(l,s,this,e);c[t]=Object.assign(n,this._calcCornerCoords(e,n))}),c}_calcCornerCoords(e,t){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,t.x,t.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,t.x,t.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const t in this.controls)e(this.controls[t],t,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const t=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),r=this.getViewportTransform();e.translate(t.x,t.y),e.scale(1/r[0],1/r[3]),e.rotate(Hs(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,t){e.strokeRect(-t.x/2,-t.y/2,t.x,t.y)}_drawBorders(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=l({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=r.borderColor,this._setLineDash(e,r.borderDashArray),this.strokeBorders(e,t),r.hasControls&&this.drawControlsConnectingLines(e,t),e.restore()}_renderControls(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{hasBorders:n,hasControls:r}=this,i=l({hasBorders:n,hasControls:r},t),o=this.getViewportTransform(),s=i.hasBorders,a=i.hasControls,c=Xs(o,this.calcTransformMatrix()),u=$s(c);e.save(),e.translate(u.translateX,u.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),e.rotate(Hs(this.group?u.angle:this.angle)),s&&this.drawBorders(e,u,t),a&&this.drawControls(e,t),e.restore()}drawBorders(e,t,n){let r;if(n&&n.forActiveSelection||this.group){const e=Ra(this.width,this.height,sa(t)),n=this.isStrokeAccountedForInDimensions()?Os:(this.strokeUniform?(new Ds).scalarAdd(this.canvas?this.canvas.getZoom():1):new Ds(t.scaleX,t.scaleY)).scalarMultiply(this.strokeWidth);r=e.add(n).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else r=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,r,n)}drawControlsConnectingLines(e,t){let n=!1;e.beginPath(),this.forEachControl((r,i)=>{r.withConnection&&r.getVisibility(this,i)&&(n=!0,e.moveTo(r.x*t.x,r.y*t.y),e.lineTo(r.x*t.x+r.offsetX,r.y*t.y+r.offsetY))}),n&&e.stroke()}drawControls(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:r,cornerDashArray:i,cornerColor:o}=this,s=l({cornerStrokeColor:r,cornerDashArray:i,cornerColor:o},t);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=s.cornerColor,this.transparentCorners||(e.strokeStyle=s.cornerStrokeColor),this._setLineDash(e,s.cornerDashArray),this.forEachControl((t,n)=>{if(t.getVisibility(this,n)){const r=this.oCoords[n];t.render(e,r.x,r.y,s,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,t){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t}setControlsVisibility(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(e).forEach(e=>{let[t,n]=e;return this.setControlVisible(t,n)})}clearContextTop(e){if(!this.canvas)return;const t=this.canvas.contextTop;if(!t)return;const n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t);const r=this.width+4,i=this.height+4;return t.clearRect(-r/2,-i/2,r,i),e||t.restore(),t}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function Vc(e,t){return t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(n=>{"constructor"!==n&&Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n)||Object.create(null))})}),e}So(Wc,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Kc extends Wc{}Vc(Kc,[bl]),Cs.setClass(Kc),Cs.setClass(Kc,"object");const qc=(e,t,n,r)=>{const i=2*(r=Math.round(r))+1,{data:o}=e.getImageData(t-r,n-r,i,i);for(let s=3;s<o.length;s+=4)if(o[s]>0)return!1;return!0};class Xc{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new Ds(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new Ds(1/this.options.scaleX,1/this.options.scaleY):new Ds(1,1)}createSideVector(e,t){const n=Va(e,t);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,t,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,t,n)))}isSkewed(){return 0!==this.options.skewX||0!==this.options.skewY}applySkew(e){const t=new Ds(e);return t.y+=t.x*Math.tan(Hs(this.options.skewY)),t.x+=t.y*Math.tan(Hs(this.options.skewX)),t}scaleUnitVector(e,t){return e.multiply(this.strokeUniformScalar).scalarMultiply(t)}}const Jc=new Ds;class Zc extends Xc{static getOrthogonalRotationFactor(e,t){const n=t?qa(e,t):Xa(e);return Math.abs(n)<Uo?-1:1}constructor(e,t,n,r){super(r),So(this,"AB",void 0),So(this,"AC",void 0),So(this,"alpha",void 0),So(this,"bisector",void 0),this.A=new Ds(e),this.B=new Ds(t),this.C=new Ds(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=qa(this.AB,this.AC),this.bisector=Ja(Wa(this.AB.eq(Jc)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude;const r=this.createSideVector(e,t),i=Za(r),o=Zc.getOrthogonalRotationFactor(i,this.bisector);return this.scaleUnitVector(i,n*o)}projectBevel(){const e=[];return(this.alpha%Ho===0?[this.B]:[this.B,this.C]).forEach(t=>{e.push(this.projectOrthogonally(this.A,t)),e.push(this.projectOrthogonally(this.A,t,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],t=Math.abs(this.alpha),n=1/Math.sin(t/2),r=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),i=this.options.strokeUniform?Ka(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return Ka(r)/this.strokeProjectionMagnitude<=i&&e.push(this.applySkew(this.A.add(r))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,t){const n=[],r=new Ds(Zc.getOrthogonalRotationFactor(this.bisector),Zc.getOrthogonalRotationFactor(new Ds(this.bisector.y,this.bisector.x)));return[new Ds(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r),new Ds(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r)].forEach(r=>{tl(r,e,t)&&n.push(this.A.add(r))}),n}projectRoundWithSkew(e,t){const n=[],{skewX:r,skewY:i,scaleX:o,scaleY:s,strokeUniform:a}=this.options,l=new Ds(Math.tan(Hs(r)),Math.tan(Hs(i))),c=this.strokeProjectionMagnitude,u=a?c/s/Math.sqrt(1/s**2+1/o**2*l.y**2):c/Math.sqrt(1+l.y**2),h=new Ds(Math.sqrt(Math.max(c**2-u**2,0)),u),d=a?c/Math.sqrt(1+l.x**2*(1/s)**2/(1/o+1/o*l.x*l.y)**2):c/Math.sqrt(1+l.x**2/(1+l.x*l.y)**2),f=new Ds(d,Math.sqrt(Math.max(c**2-d**2,0)));return[f,f.scalarMultiply(-1),h,h.scalarMultiply(-1)].map(e=>this.applySkew(a?e.multiply(this.strokeUniformScalar):e)).forEach(r=>{tl(r,e,t)&&n.push(this.applySkew(this.A).add(r))}),n}projectRound(){const e=[];e.push(...this.projectBevel());const t=this.alpha%Ho===0,n=this.applySkew(this.A),r=e[t?0:2].subtract(n),i=e[t?1:0].subtract(n),o=t?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),s=$a(r,o)>0,a=s?r:i,l=s?i:r;return this.isSkewed()?e.push(...this.projectRoundWithSkew(a,l)):e.push(...this.projectRoundNoSkew(a,l)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class $c extends Xc{constructor(e,t,n){super(n),this.A=new Ds(e),this.T=new Ds(t)}calcOrthogonalProjection(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude;const r=this.createSideVector(e,t);return this.scaleUnitVector(Za(r),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const t=new Ds(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))}else e.push(...new Zc(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const t=new Ds(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(t),this.A.subtract(t))}else{const t=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(Ja(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),r=this.A.add(n);e.push(r.add(t),r.subtract(t))}return e.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const eu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[];if(0===e.length)return r;const i=e.reduce((e,t)=>(e[e.length-1].eq(t)||e.push(new Ds(t)),e),[new Ds(e[0])]);if(1===i.length)n=!0;else if(!n){const e=i[0],t=((e,t)=>{for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1})(i,t=>!t.eq(e));i.splice(t+1)}return i.forEach((e,i,o)=>{let s,a;0===i?(a=o[1],s=n?e:o[o.length-1]):i===o.length-1?(s=o[i-1],a=n?e:o[0]):(s=o[i-1],a=o[i+1]),n&&1===o.length?r.push(...new $c(e,e,t).project()):!n||0!==i&&i!==o.length-1?r.push(...new Zc(e,s,a,t).project()):r.push(...new $c(e,0===i?a:s,t).project())}),r},tu=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]={},Object.keys(e[n]).forEach(r=>{t[n][r]=l({},e[n][r])})}),t},nu=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let ru;const iu=e=>{if(ru||ru||(ru="Intl"in Lo()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),ru){const t=ru.segment(e);return Array.from(t).map(e=>{let{segment:t}=e;return t})}return ou(e)},ou=e=>{const t=[];for(let n,r=0;r<e.length;r++)!1!==(n=su(e,r))&&t.push(n);return t},su=(e,t)=>{const n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";const n=e.charCodeAt(t+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";const r=e.charCodeAt(t-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1};var au=Object.freeze({__proto__:null,capitalize:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(e.charAt(0).toUpperCase()).concat(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:nu,graphemeSplit:iu});const lu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.textDecorationThickness!==t.textDecorationThickness||e.textBackgroundColor!==t.textBackgroundColor||e.deltaY!==t.deltaY||n&&(e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough)},cu=(e,t)=>{const n=t.split("\n"),r=[];let i=-1,o={};e=tu(e);for(let s=0;s<n.length;s++){const t=iu(n[s]);if(e[s])for(let n=0;n<t.length;n++){i++;const t=e[s][n];t&&Object.keys(t).length>0&&(lu(o,t,!0)?r.push({start:i,end:i+1,style:t}):r[r.length-1].end++),o=t||{}}else i+=t.length,o={}}return r},uu=(e,t)=>{if(!Array.isArray(e))return tu(e);const n=t.split(ns),r={};let i=-1,o=0;for(let s=0;s<n.length;s++){const t=iu(n[s]);for(let n=0;n<t.length;n++)i++,e[o]&&e[o].start<=i&&i<e[o].end&&(r[s]=r[s]||{},r[s][n]=l({},e[o].style),i===e[o].end-1&&o++)}return r},hu=["display","transform",As,"fill-opacity","fill-rule","opacity",ys,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function du(e,t){const n=e.nodeName,r=e.getAttribute("class"),i=e.getAttribute("id"),o="(?![a-zA-Z\\-]+)";let s;if(s=new RegExp("^"+n,"i"),t=t.replace(s,""),i&&t.length&&(s=new RegExp("#"+i+o,"i"),t=t.replace(s,"")),r&&t.length){const e=r.split(" ");for(let n=e.length;n--;)s=new RegExp("\\."+e[n]+o,"i"),t=t.replace(s,"")}return 0===t.length}function fu(e,t){let n=!0;const r=du(e,t.pop());return r&&t.length&&(n=function(e,t){let n,r=!0;for(;e.parentElement&&1===e.parentElement.nodeType&&t.length;)r&&(n=t.pop()),r=du(e=e.parentElement,n);return 0===t.length}(e,t)),r&&n&&0===t.length}const gu=e=>{var t;return null!==(t=Pl[e])&&void 0!==t?t:e},pu=new RegExp("(".concat(Ml,")"),"gi"),mu="(".concat(Ml,")"),Au=String.raw(Vi||(Vi=r(["(skewX)(",")"],["(skewX)\\(","\\)"])),mu),yu=String.raw(Ki||(Ki=r(["(skewY)(",")"],["(skewY)\\(","\\)"])),mu),vu=String.raw(qi||(qi=r(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),mu,mu,mu),bu=String.raw(Xi||(Xi=r(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),mu,mu),wu=String.raw(Ji||(Ji=r(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),mu,mu),xu="(?:".concat(String.raw(Zi||(Zi=r(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),mu,mu,mu,mu,mu,mu),"|").concat(wu,"|").concat(vu,"|").concat(bu,"|").concat(Au,"|").concat(yu,")"),Eu="(?:".concat(xu,"*)"),_u=String.raw($i||($i=r(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),Eu),Cu=new RegExp(_u),Su=new RegExp(xu),ku=new RegExp(xu,"g");function Bu(e){const t=[];if(!(e=(e=>cl(e.replace(pu," $1 ").replace(/,/gi," ")))(e).replace(/\s*([()])\s*/gi,"$1"))||e&&!Cu.test(e))return[...Vo];for(const n of e.matchAll(ku)){const e=Su.exec(n[0]);if(!e)continue;let r=Vo;const i=e.filter(e=>!!e),[,o,...s]=i,[a,l,c,u,h,d]=s.map(e=>parseFloat(e));switch(o){case"translate":r=ea(a,l);break;case ss:r=ta({angle:a},{x:l,y:c});break;case ds:r=na(a,l);break;case ps:r=ia(a);break;case ms:r=oa(a);break;case"matrix":r=[a,l,c,u,h,d]}t.push(r)}return Js(t)}function Iu(e,t,n,r){const i=Array.isArray(t);let o,s=t;if(e!==As&&e!==ys||t!==ts){if("strokeUniform"===e)return"non-scaling-stroke"===t;if("strokeDashArray"===e)s=t===ts?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)s=n&&n.transformMatrix?Xs(n.transformMatrix,Bu(t)):Bu(t);else if("visible"===e)s=t!==ts&&"hidden"!==t,n&&!1===n.visible&&(s=!1);else if("opacity"===e)s=parseFloat(t),n&&void 0!==n.opacity&&(s*=n.opacity);else if("textAnchor"===e)s="start"===t?Jo:"end"===t?es:Xo;else if("charSpacing"===e||e===xl)o=Al(t,r)/r*1e3;else if("paintFirst"===e){const e=t.indexOf(As),n=t.indexOf(ys);s=As,(e>-1&&n>-1&&n<e||-1===e&&n>-1)&&(s=ys)}else{if("href"===e||"xlink:href"===e||"font"===e||"id"===e)return t;if("imageSmoothing"===e)return"optimizeQuality"===t;o=i?t.map(Al):Al(t,r)}}else s="";return!i&&isNaN(o)?s:o}function Tu(e,t){e.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;const[n,r]=e.split(":");t[n.trim().toLowerCase()]=r.trim()})}const Du={stroke:"strokeOpacity",fill:"fillOpacity"};function Ou(e,t,n){if(!e)return{};let r,i={},o=Ko;e.parentNode&&Nl.test(e.parentNode.nodeName)&&(i=Ou(e.parentElement,t,n),i.fontSize&&(r=o=Al(i.fontSize)));const s=l(l(l({},t.reduce((t,n)=>{const r=e.getAttribute(n);return r&&(t[n]=r),t},{})),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};for(const r in t)fu(e,r.split(" "))&&(n=l(l({},n),t[r]));return n}(e,n)),function(e){const t={},n=e.getAttribute("style");return n?("string"==typeof n?Tu(n,t):function(e,t){Object.entries(e).forEach(e=>{let[n,r]=e;void 0!==r&&(t[n.toLowerCase()]=r)})}(n,t),t):t}(e));s[Ll]&&e.setAttribute(Ll,s[Ll]),s[Rl]&&(r=Al(s[Rl],o),s[Rl]="".concat(r));const a={};for(const l in s){const e=gu(l),t=Iu(e,s[l],i,r);a[e]=t}a&&a.font&&function(e,t){const n=e.match(jl);if(!n)return;const r=n[1],i=n[3],o=n[4],s=n[5],a=n[6];r&&(t.fontStyle=r),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),o&&(t.fontSize=Al(o)),a&&(t.fontFamily=a),s&&(t.lineHeight=s===xs?1:s)}(a.font,a);const c=l(l({},i),a);return Nl.test(e.nodeName)?c:function(e){const t=Kc.getDefaults();return Object.entries(Du).forEach(n=>{let[r,i]=n;if(void 0===e[i]||""===e[r])return;if(void 0===e[r]){if(!t[r])return;e[r]=t[r]}if(0===e[r].indexOf("url("))return;const o=new ml(e[r]);e[r]=o.setAlpha(fa(o.getAlpha()*e[i],2)).toRgba()}),e}(c)}const Mu=["rx","ry"];class Fu extends Kc{static getDefaults(){return l(l({},super.getDefaults()),Fu.ownDefaults)}constructor(e){super(),Object.assign(this,Fu.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:t}=this;e&&!t?this.ry=e:t&&!e&&(this.rx=t)}_render(e){const{width:t,height:n}=this,r=-t/2,i=-n/2,o=this.rx?Math.min(this.rx,t/2):0,s=this.ry?Math.min(this.ry,n/2):0,a=0!==o||0!==s;e.beginPath(),e.moveTo(r+o,i),e.lineTo(r+t-o,i),a&&e.bezierCurveTo(r+t-qo*o,i,r+t,i+qo*s,r+t,i+s),e.lineTo(r+t,i+n-s),a&&e.bezierCurveTo(r+t,i+n-qo*s,r+t-qo*o,i+n,r+t-o,i+n),e.lineTo(r+o,i+n),a&&e.bezierCurveTo(r+qo*o,i+n,r,i+n-qo*s,r,i+n-s),e.lineTo(r,i+s),a&&e.bezierCurveTo(r,i+qo*s,r+qo*o,i,r+o,i),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...Mu,...e])}_toSVG(){const{width:e,height:t,rx:n,ry:r}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-t/2,'" rx="').concat(n,'" ry="').concat(r,'" width="').concat(e,'" height="').concat(t,'" />\n')]}static async fromElement(e,t,n){const r=Ou(e,this.ATTRIBUTE_NAMES,n),{left:i=0,top:o=0,width:s=0,height:a=0,visible:u=!0}=r,h=c(r,lo);return new this(l(l(l({},t),h),{},{left:i,top:o,width:s,height:a,visible:Boolean(u&&s&&a)}))}}So(Fu,"type","Rect"),So(Fu,"cacheProperties",[...Hl,...Mu]),So(Fu,"ownDefaults",{rx:0,ry:0}),So(Fu,"ATTRIBUTE_NAMES",[...hu,"x","y","rx","ry","width","height"]),Cs.setClass(Fu),Cs.setSVGClass(Fu);const ju="initialization",Pu="added",Ru="removed",Lu="imperative",Nu=(e,t)=>{const{strokeUniform:n,strokeWidth:r,width:i,height:o,group:s}=t,a=s&&s!==e?La(s.calcTransformMatrix(),e.calcTransformMatrix()):null,l=a?t.getRelativeCenterPoint().transform(a):t.getRelativeCenterPoint(),c=!t.isStrokeAccountedForInDimensions(),u=n&&c?za(new Ds(r,r),void 0,e.calcTransformMatrix()):Os,h=!n&&c?r:0,d=Ra(i+h,o+h,Js([a,t.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[l.subtract(d),l.add(d)]};class zu{calcLayoutResult(e,t){if(this.shouldPerformLayout(e))return this.calcBoundingBox(t,e)}shouldPerformLayout(e){let{type:t,prevStrategy:n,strategy:r}=e;return t===ju||t===Lu||!!n&&r!==n}shouldLayoutClipPath(e){let{type:t,target:{clipPath:n}}=e;return t!==ju&&n&&!n.absolutePositioned}getInitialSize(e,t){return t.size}calcBoundingBox(e,t){const{type:n,target:r}=t;if(n===Lu&&t.overrides)return t.overrides;if(0===e.length)return;const{left:i,top:o,width:s,height:a}=Oa(e.map(e=>Nu(r,e)).reduce((e,t)=>e.concat(t),[])),l=new Ds(s,a),c=new Ds(i,o).add(l.scalarDivide(2));if(n===ju){const e=this.getInitialSize(t,{size:l,center:c});return{center:c,relativeCorrection:new Ds(0,0),size:e}}return{center:c.transform(r.calcOwnMatrix()),size:l}}}So(zu,"type","strategy");class Qu extends zu{shouldPerformLayout(e){return!0}}So(Qu,"type","fit-content"),Cs.setClass(Qu);const Yu="layoutManager";class Uu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qu;So(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const t=l(l({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(t);const n=this.getLayoutResult(t);n&&this.commitLayout(t,n),this.onAfterLayout(t,n),this._prevLayoutStrategy=t.strategy}attachHandlers(e,t){const{target:n}=t;return[vs,rs,ls,os,is,as,hs,cs,us].map(t=>e.on(t,e=>this.performLayout(t===vs?{type:"object_modified",trigger:t,e:e,target:n}:{type:"object_modifying",trigger:t,e:e,target:n})))}subscribe(e,t){this.unsubscribe(e,t);const n=this.attachHandlers(e,t);this._subscriptions.set(e,n)}unsubscribe(e,t){(this._subscriptions.get(e)||[]).forEach(e=>e()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(t=>this.unsubscribe(t,e))}subscribeTargets(e){e.targets.forEach(t=>this.subscribe(t,e))}onBeforeLayout(e){const{target:t,type:n}=e,{canvas:r}=t;if(n===ju||n===Pu?this.subscribeTargets(e):n===Ru&&this.unsubscribeTargets(e),t.fire("layout:before",{context:e}),r&&r.fire("object:layout:before",{target:t,context:e}),n===Lu&&e.deep){const{strategy:n}=e,r=c(e,co);t.forEachObject(e=>e.layoutManager&&e.layoutManager.performLayout(l(l({},r),{},{bubbles:!1,target:e})))}}getLayoutResult(e){const{target:t,strategy:n,type:r}=e,i=n.calcLayoutResult(e,t.getObjects());if(!i)return;const o=r===ju?new Ds:t.getRelativeCenterPoint(),{center:s,correction:a=new Ds,relativeCorrection:l=new Ds}=i,c=o.subtract(s).add(a).transform(r===ju?Vo:qs(t.calcOwnMatrix()),!0).add(l);return{result:i,prevCenter:o,nextCenter:s,offset:c}}commitLayout(e,t){const{target:n}=e,{result:{size:r},nextCenter:i}=t;var o,s;n.set({width:r.x,height:r.y}),this.layoutObjects(e,t),e.type===ju?n.set({left:null!==(o=e.x)&&void 0!==o?o:i.x+r.x*Ua(n.originX),top:null!==(s=e.y)&&void 0!==s?s:i.y+r.y*Ua(n.originY)}):(n.setPositionByOrigin(i,Xo,Xo),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,t){const{target:n}=e;n.forEachObject(r=>{r.group===n&&this.layoutObject(e,t,r)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,t,n.clipPath)}layoutObject(e,t,n){let{offset:r}=t;n.set({left:n.left+r.x,top:n.top+r.y})}onAfterLayout(e,t){const{target:n,strategy:r,bubbles:i,prevStrategy:o}=e,s=c(e,uo),{canvas:a}=n;n.fire("layout:after",{context:e,result:t}),a&&a.fire("object:layout:after",{context:e,result:t,target:n});const u=n.parent;i&&null!=u&&u.layoutManager&&((s.path||(s.path=[])).push(n),u.layoutManager.performLayout(l(l({},s),{},{target:u}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(e=>e.forEach(e=>e())),e.clear()}toObject(){return{type:Yu,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}Cs.setClass(Uu,Yu);class Gu extends Uu{performLayout(){}}class Hu extends(Fs(Kc)){static getDefaults(){return l(l({},super.getDefaults()),Hu.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),So(this,"_activeObjects",[]),So(this,"__objectSelectionTracker",void 0),So(this,"__objectSelectionDisposer",void 0),Object.assign(this,Hu.ownDefaults),this.setOptions(t),this.groupInit(e,t)}groupInit(e,t){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(e=>{this.enterGroup(e,!1)}),this.layoutManager=null!==(n=t.layoutManager)&&void 0!==n?n:new Uu,this.layoutManager.performLayout({type:ju,target:this,targets:[...e],x:t.left,y:t.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(Io("error","Group: circular object trees are not supported, this call has no effect"),!1):-1===this._objects.indexOf(e)||(Io("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((e,t,n)=>this.canEnterGroup(e)&&n.indexOf(e)===t)}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=this._filterObjectsBeforeEnteringGroup(t),i=super.add(...r);return this._onAfterObjectsChange(Pu,r),i}insertAt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=this._filterObjectsBeforeEnteringGroup(n),o=super.insertAt(e,...i);return this._onAfterObjectsChange(Pu,i),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(Ru,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,t){this.exitGroup(e,t),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,t){this.layoutManager.performLayout({type:e,targets:t,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,t){const n=this[e];return super._set(e,t),"canvas"===e&&n!==t&&(this._objects||[]).forEach(n=>{n._set(e,t)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,t){let{target:n}=t;const r=this._activeObjects;if(e)r.push(n),this._set("dirty",!0);else if(r.length>0){const e=r.indexOf(n);e>-1&&(r.splice(e,1),this._set("dirty",!0))}}_watchObject(e,t){e&&this._watchObject(!1,t),e?(t.on("selected",this.__objectSelectionTracker),t.on("deselected",this.__objectSelectionDisposer)):(t.off("selected",this.__objectSelectionTracker),t.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,t){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,t)}_enterGroup(e,t){t&&Fa(e,Xs(qs(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,t){this._exitGroup(e,t),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,t){e._set("group",void 0),t||(Fa(e,Xs(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=Kc.prototype.shouldCache.call(this);if(e)for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1;return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,t,n){this._renderBackground(e);for(let i=0;i<this._objects.length;i++){var r;const t=this._objects[i];null!==(r=this.canvas)&&void 0!==r&&r.preserveObjectStacking&&t.group!==this?(e.save(),e.transform(...qs(this.calcTransformMatrix())),t.render(e),e.restore()):t.group===this&&t.render(e)}this._drawClipPath(e,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.layoutManager.performLayout(l({target:this,type:Lu},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,t){const n=this.includeDefaultValues;return this._objects.filter(function(e){return!e.excludeFromExport}).map(function(r){const i=r.includeDefaultValues;r.includeDefaultValues=n;const o=r[e||"toObject"](t);return r.includeDefaultValues=i,o})}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.layoutManager.toObject();return l(l(l({},super.toObject(["subTargetCheck","interactive",...e])),"fit-content"!==t.strategy||this.includeDefaultValues?{layoutManager:t}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const t=Fu.prototype._toSVG.call(this),n=t.indexOf("COMMON_PARTS");t[n]='for="group" ';const r=t.join("");return e?e(r):r}_toSVG(e){const t=["<g ","COMMON_PARTS"," >\n"],n=this._createSVGBgRect(e);n&&t.push("\t\t",n);for(let r=0;r<this._objects.length;r++)t.push("\t\t",this._objects[r].toSVG(e));return t.push("</g>\n"),t}getSvgStyles(){const e=void 0!==this.opacity&&1!==this.opacity?"opacity: ".concat(this.opacity,";"):"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")}toClipPathSVG(e){const t=[],n=this._createSVGBgRect(e);n&&t.push("\t",n);for(let r=0;r<this._objects.length;r++)t.push("\t",this._objects[r].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}static fromObject(e,t){let{type:n,objects:r=[],layoutManager:i}=e,o=c(e,ho);return Promise.all([ca(r,t),ua(o,t)]).then(e=>{let[t,n]=e;const r=new this(t,l(l(l({},o),n),{},{layoutManager:new Gu}));if(i){const e=Cs.getClass(i.type),t=Cs.getClass(i.strategy);r.layoutManager=new e(new t)}else r.layoutManager=new Uu;return r.layoutManager.subscribeTargets({type:ju,target:r,targets:r.getObjects()}),r.setCoords(),r})}}So(Hu,"type","Group"),So(Hu,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),Cs.setClass(Hu);const Wu=(e,t)=>Math.min(t.width/e.width,t.height/e.height),Vu=(e,t)=>Math.max(t.width/e.width,t.height/e.height),Ku="\\s*,?\\s*",qu="".concat(Ku,"(").concat(Ml,")"),Xu="".concat(qu).concat(qu).concat(qu).concat(Ku,"([01])").concat(Ku,"([01])").concat(qu).concat(qu),Ju={m:"l",M:"L"},Zu=(e,t,n,r,i,o,s,a,l,c,u)=>{const h=Is(e),d=Ts(e),f=Is(t),g=Ts(t),p=n*i*f-r*o*g+s,m=r*i*f+n*o*g+a;return["C",c+l*(-n*i*d-r*o*h),u+l*(-r*i*d+n*o*h),p+l*(n*i*g+r*o*f),m+l*(r*i*g-n*o*f),p,m]},$u=(e,t,n,r)=>{const i=Math.atan2(t,e),o=Math.atan2(r,n);return o>=i?o-i:2*Math.PI-(i-o)};function eh(e,t,n,r,i,o,s,a){let l;if(Bo.cachesBoundsOfCurve&&(l=[...arguments].join(),zo.boundsOfCurveCache[l]))return zo.boundsOfCurveCache[l];const c=Math.sqrt,u=Math.abs,h=[],d=[[0,0],[0,0]];let f=6*e-12*n+6*i,g=-3*e+9*n-9*i+3*s,p=3*n-3*e;for(let b=0;b<2;++b){if(b>0&&(f=6*t-12*r+6*o,g=-3*t+9*r-9*o+3*a,p=3*r-3*t),u(g)<1e-12){if(u(f)<1e-12)continue;const e=-p/f;0<e&&e<1&&h.push(e);continue}const e=f*f-4*p*g;if(e<0)continue;const n=c(e),i=(-f+n)/(2*g);0<i&&i<1&&h.push(i);const s=(-f-n)/(2*g);0<s&&s<1&&h.push(s)}let m=h.length;const A=m,y=ih(e,t,n,r,i,o,s,a);for(;m--;){const{x:e,y:t}=y(h[m]);d[0][m]=e,d[1][m]=t}d[0][A]=e,d[1][A]=t,d[0][A+1]=s,d[1][A+1]=a;const v=[new Ds(Math.min(...d[0]),Math.min(...d[1])),new Ds(Math.max(...d[0]),Math.max(...d[1]))];return Bo.cachesBoundsOfCurve&&(zo.boundsOfCurveCache[l]=v),v}const th=(e,t,n)=>{let[r,i,o,s,a,l,c,u]=n;const h=((e,t,n,r,i,o,s)=>{if(0===n||0===r)return[];let a=0,l=0,c=0;const u=Math.PI,h=s*Wo,d=Ts(h),f=Is(h),g=.5*(-f*e-d*t),p=.5*(-f*t+d*e),m=n**2,A=r**2,y=p**2,v=g**2,b=m*A-m*y-A*v;let w=Math.abs(n),x=Math.abs(r);if(b<0){const e=Math.sqrt(1-b/(m*A));w*=e,x*=e}else c=(i===o?-1:1)*Math.sqrt(b/(m*y+A*v));const E=c*w*p/x,_=-c*x*g/w,C=f*E-d*_+.5*e,S=d*E+f*_+.5*t;let k=$u(1,0,(g-E)/w,(p-_)/x),B=$u((g-E)/w,(p-_)/x,(-g-E)/w,(-p-_)/x);0===o&&B>0?B-=2*u:1===o&&B<0&&(B+=2*u);const I=Math.ceil(Math.abs(B/u*2)),T=[],D=B/I,O=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2);let M=k+D;for(let F=0;F<I;F++)T[F]=Zu(k,M,f,d,w,x,C,S,O,a,l),a=T[F][5],l=T[F][6],k=M,M+=D;return T})(c-e,u-t,i,o,a,l,s);for(let d=0,f=h.length;d<f;d++)h[d][1]+=e,h[d][2]+=t,h[d][3]+=e,h[d][4]+=t,h[d][5]+=e,h[d][6]+=t;return h},nh=e=>{let t=0,n=0,r=0,i=0;const o=[];let s,a=0,l=0;for(const c of e){const e=[...c];let u;switch(e[0]){case"l":e[1]+=t,e[2]+=n;case"L":t=e[1],n=e[2],u=["L",t,n];break;case"h":e[1]+=t;case"H":t=e[1],u=["L",t,n];break;case"v":e[1]+=n;case"V":n=e[1],u=["L",t,n];break;case"m":e[1]+=t,e[2]+=n;case"M":t=e[1],n=e[2],r=e[1],i=e[2],u=["M",t,n];break;case"c":e[1]+=t,e[2]+=n,e[3]+=t,e[4]+=n,e[5]+=t,e[6]+=n;case"C":a=e[3],l=e[4],t=e[5],n=e[6],u=["C",e[1],e[2],a,l,t,n];break;case"s":e[1]+=t,e[2]+=n,e[3]+=t,e[4]+=n;case"S":"C"===s?(a=2*t-a,l=2*n-l):(a=t,l=n),t=e[3],n=e[4],u=["C",a,l,e[1],e[2],t,n],a=u[3],l=u[4];break;case"q":e[1]+=t,e[2]+=n,e[3]+=t,e[4]+=n;case"Q":a=e[1],l=e[2],t=e[3],n=e[4],u=["Q",a,l,t,n];break;case"t":e[1]+=t,e[2]+=n;case"T":"Q"===s?(a=2*t-a,l=2*n-l):(a=t,l=n),t=e[1],n=e[2],u=["Q",a,l,t,n];break;case"a":e[6]+=t,e[7]+=n;case"A":th(t,n,e).forEach(e=>o.push(e)),t=e[6],n=e[7];break;case"z":case"Z":t=r,n=i,u=["Z"]}u?(o.push(u),s=u[0]):s=""}return o},rh=(e,t,n,r)=>Math.sqrt((n-e)**2+(r-t)**2),ih=(e,t,n,r,i,o,s,a)=>l=>{const c=l**3,u=(e=>3*e**2*(1-e))(l),h=(e=>3*e*(1-e)**2)(l),d=(e=>(1-e)**3)(l);return new Ds(s*c+i*u+n*h+e*d,a*c+o*u+r*h+t*d)},oh=e=>e**2,sh=e=>2*e*(1-e),ah=e=>(1-e)**2,lh=(e,t,n,r,i,o,s,a)=>l=>{const c=oh(l),u=sh(l),h=ah(l),d=3*(h*(n-e)+u*(i-n)+c*(s-i)),f=3*(h*(r-t)+u*(o-r)+c*(a-o));return Math.atan2(f,d)},ch=(e,t,n,r,i,o)=>s=>{const a=oh(s),l=sh(s),c=ah(s);return new Ds(i*a+n*l+e*c,o*a+r*l+t*c)},uh=(e,t,n,r,i,o)=>s=>{const a=1-s,l=2*(a*(n-e)+s*(i-n)),c=2*(a*(r-t)+s*(o-r));return Math.atan2(c,l)},hh=(e,t,n)=>{let r=new Ds(t,n),i=0;for(let o=1;o<=100;o+=1){const t=e(o/100);i+=rh(r.x,r.y,t.x,t.y),r=t}return i},dh=e=>{let t,n,r=0,i=0,o=0,s=0,a=0;const l=[];for(const c of e){const e={x:i,y:o,command:c[0],length:0};switch(c[0]){case"M":n=e,n.x=s=i=c[1],n.y=a=o=c[2];break;case"L":n=e,n.length=rh(i,o,c[1],c[2]),i=c[1],o=c[2];break;case"C":t=ih(i,o,c[1],c[2],c[3],c[4],c[5],c[6]),n=e,n.iterator=t,n.angleFinder=lh(i,o,c[1],c[2],c[3],c[4],c[5],c[6]),n.length=hh(t,i,o),i=c[5],o=c[6];break;case"Q":t=ch(i,o,c[1],c[2],c[3],c[4]),n=e,n.iterator=t,n.angleFinder=uh(i,o,c[1],c[2],c[3],c[4]),n.length=hh(t,i,o),i=c[3],o=c[4];break;case"Z":n=e,n.destX=s,n.destY=a,n.length=rh(i,o,s,a),i=s,o=a}r+=n.length,l.push(n)}return l.push({length:r,x:i,y:o}),l},fh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dh(e),r=0;for(;t-n[r].length>0&&r<n.length-2;)t-=n[r].length,r++;const i=n[r],o=t/i.length,s=e[r];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return l(l({},new Ds(i.x,i.y).lerp(new Ds(i.destX,i.destY),o)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return l(l({},new Ds(i.x,i.y).lerp(new Ds(s[1],s[2]),o)),{},{angle:Math.atan2(s[2]-i.y,s[1]-i.x)});case"C":case"Q":return((e,t)=>{let n,r=0,i=0,o={x:e.x,y:e.y},s=l({},o),a=.01,c=0;const u=e.iterator,h=e.angleFinder;for(;i<t&&a>1e-4;)s=u(r),c=r,n=rh(o.x,o.y,s.x,s.y),n+i>t?(r-=a,a/=2):(o=s,r+=a,i+=n);return l(l({},s),{},{angle:h(c)})})(i,t)}},gh=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),ph=new RegExp(Xu,"g"),mh=new RegExp(Ml,"gi"),Ah={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},yh=e=>{var t;const n=[],r=null!==(t=e.match(gh))&&void 0!==t?t:[];for(const i of r){const e=i[0];if("z"===e||"Z"===e){n.push([e]);continue}const t=Ah[e.toLowerCase()];let r=[];if("a"===e||"A"===e){ph.lastIndex=0;for(let e=null;e=ph.exec(i);)r.push(...e.slice(1))}else r=i.match(mh)||[];for(let i=0;i<r.length;i+=t){const o=new Array(t),s=Ju[e];o[0]=i>0&&s?s:e;for(let e=0;e<t;e++)o[e+1]=parseFloat(r[i+e]);n.push(o)}}return n},vh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Ds(e[0]),r=new Ds(e[1]),i=1,o=0;const s=[],a=e.length,l=a>2;let c;for(l&&(i=e[2].x<r.x?-1:e[2].x===r.x?0:1,o=e[2].y<r.y?-1:e[2].y===r.y?0:1),s.push(["M",n.x-i*t,n.y-o*t]),c=1;c<a;c++){if(!n.eq(r)){const e=n.midPointFrom(r);s.push(["Q",n.x,n.y,e.x,e.y])}n=e[c],c+1<e.length&&(r=e[c+1])}return l&&(i=n.x>e[c-2].x?1:n.x===e[c-2].x?0:-1,o=n.y>e[c-2].y?1:n.y===e[c-2].y?0:-1),s.push(["L",n.x+i*t,n.y+o*t]),s},bh=(e,t)=>e.map(e=>e.map((e,n)=>0===n||void 0===t?e:fa(e,t)).join(" ")).join(" "),wh=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,xh=(e,t)=>{let n=e._findCenterFromElement();e.transformMatrix&&((e=>{if(e.transformMatrix){const{scaleX:t,scaleY:n,angle:r,skewX:i}=$s(e.transformMatrix);e.flipX=!1,e.flipY=!1,e.set(fs,t),e.set(gs,n),e.angle=r,e.skewX=i,e.skewY=0}})(e),n=n.transform(e.transformMatrix)),delete e.transformMatrix,t&&(e.scaleX*=t.scaleX,e.scaleY*=t.scaleY,e.cropX=t.cropX,e.cropY=t.cropY,n.x+=t.offsetLeft,n.y+=t.offsetTop,e.width=t.width,e.height=t.height),e.setPositionByOrigin(n,Xo,Xo)};Object.freeze({__proto__:null,addTransformToObject:Ma,animate:sc,animateColor:ac,applyTransformToObject:Fa,calcAngleBetweenVectors:qa,calcDimensionsMatrix:sa,calcPlaneChangeMatrix:La,calcVectorRotation:Xa,cancelAnimFrame:Rs,capValue:Ul,composeMatrix:aa,copyCanvasElement:e=>{var t;const n=Ys(e);return null===(t=n.getContext("2d"))||void 0===t||t.drawImage(e,0,0),n},cos:Is,createCanvasElement:zs,createImage:Qs,createRotateMatrix:ta,createScaleMatrix:na,createSkewXMatrix:ia,createSkewYMatrix:oa,createTranslateMatrix:ea,createVector:Va,crossProduct:$a,degreesToRadians:Hs,dotProduct:el,ease:Zl,enlivenObjectEnlivables:ua,enlivenObjects:ca,findScaleToCover:Vu,findScaleToFit:Wu,getBoundsOfCurve:eh,getOrthonormalVector:Za,getPathSegmentsInfo:dh,getPointOnPath:fh,getPointer:Ia,getRandomInt:wh,getRegularPolygonPath:(e,t)=>{const n=2*Math.PI/e;let r=-Uo;e%2==0&&(r+=n/2);const i=new Array(e+1);for(let o=0;o<e;o++){const e=o*n+r,{x:s,y:a}=new Ds(Is(e),Ts(e)).scalarMultiply(t);i[o]=[0===o?"M":"L",s,a]}return i[e]=["Z"],i},getSmoothPathFromPoints:vh,getSvgAttributes:e=>{const t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":return t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return t.concat(["offset","stop-color","stop-opacity"])}return t},getUnitVector:Ja,groupSVGElements:(e,t)=>e&&1===e.length?e[0]:new Hu(e,t),hasStyleChanged:lu,invertTransform:qs,isBetweenVectors:tl,isIdentityMatrix:Vs,isTouchEvent:Ta,isTransparent:qc,joinPath:bh,loadImage:la,magnitude:Ka,makeBoundingBoxFromPoints:Oa,makePathSimpler:nh,matrixToSVG:ga,mergeClipPaths:(e,t)=>{var n;let r=e,i=t;r.inverted&&!i.inverted&&(r=t,i=e),Qa(i,null===(n=i.group)||void 0===n?void 0:n.calcTransformMatrix(),r.calcTransformMatrix());const o=r.inverted&&i.inverted;return o&&(r.inverted=i.inverted=!1),new Hu([r],{clipPath:i,inverted:o})},multiplyTransformMatrices:Xs,multiplyTransformMatrixArray:Js,parsePath:yh,parsePreserveAspectRatioAttribute:yl,parseUnit:Al,pick:ha,projectStrokeOnPoints:eu,qrDecompose:$s,radiansToDegrees:Ws,removeFromArray:Bs,removeTransformFromObject:(e,t)=>{const n=qs(t),r=Xs(n,e.calcOwnMatrix());Fa(e,r)},removeTransformMatrixForSvgParsing:xh,requestAnimFrame:Ps,resetObjectTransform:ja,rotateVector:Wa,saveObjectTransform:Pa,sendObjectToPlane:Qa,sendPointToPlane:Na,sendVectorToPlane:za,sin:Ts,sizeAfterTransform:Ra,string:au,stylesFromArray:uu,stylesToArray:cu,toBlob:Gs,toDataURL:Us,toFixed:fa,transformPath:(e,t,n)=>(n&&(t=Xs(t,[1,0,0,1,-n.x,-n.y])),e.map(e=>{const n=[...e];for(let r=1;r<e.length-1;r+=2){const{x:i,y:o}=Ks({x:e[r],y:e[r+1]},t);n[r]=i,n[r+1]=o}return n})),transformPoint:Ks});function Eh(e,t){const n=e.style;n&&Object.entries(t).forEach(e=>{let[t,r]=e;return n.setProperty(t,r)})}class _h extends Ca{constructor(e){let{allowTouchScrolling:t=!1,containerClass:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),So(this,"upper",void 0),So(this,"container",void 0);const{el:r}=this.lower,i=this.createUpperCanvas();this.upper={el:i,ctx:i.getContext("2d")},this.applyCanvasStyle(r,{allowTouchScrolling:t}),this.applyCanvasStyle(i,{allowTouchScrolling:t,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(n),r.parentNode&&r.parentNode.replaceChild(o,r),o.append(r,i),this.container=o}createUpperCanvas(){const{el:e}=this.lower,t=zs();return t.className=e.className,t.classList.remove("lower-canvas"),t.classList.add("upper-canvas"),t.setAttribute("data-fabric","top"),t.style.cssText=e.style.cssText,t.setAttribute("draggable","true"),t}createContainerElement(){const e=Ro().createElement("div");return e.setAttribute("data-fabric","wrapper"),Eh(e,{position:"relative"}),_a(e),e}applyCanvasStyle(e,t){const{styles:n,allowTouchScrolling:r}=t;Eh(e,l(l({},n),{},{"touch-action":r?"manipulation":ts})),_a(e)}setDimensions(e,t){super.setDimensions(e,t);const{el:n,ctx:r}=this.upper;xa(n,r,e,t)}setCSSDimensions(e){super.setCSSDimensions(e),Ea(this.upper.el,e),Ea(this.container,e)}cleanupDOM(e){const t=this.container,{el:n}=this.lower,{el:r}=this.upper;super.cleanupDOM(e),t.removeChild(r),t.removeChild(n),t.parentNode&&t.parentNode.replaceChild(n,t)}dispose(){super.dispose(),Po().dispose(this.upper.el),delete this.upper,delete this.container}}const Ch=(e,t,n,r)=>{const{target:i,offsetX:o,offsetY:s}=t,a=n-o,l=r-s,c=!ol(i,"lockMovementX")&&i.left!==a,u=!ol(i,"lockMovementY")&&i.top!==l;return c&&i.set(Jo,a),u&&i.set(Zo,l),(c||u)&&hc(rs,sl(e,t,n,r)),c||u},Sh=cs,kh=e=>function(t,n,r){const{points:i,pathOffset:o}=r;return new Ds(i[e]).subtract(o).transform(Xs(r.getViewportTransform(),r.calcTransformMatrix()))},Bh=(e,t,n,r)=>{const{target:i,pointIndex:o}=t,s=i,a=Na(new Ds(n,r),void 0,s.calcOwnMatrix());return s.points[o]=a.add(s.pathOffset),s.setDimensions(),s.set("dirty",!0),!0},Ih=(e,t)=>function(n,r,i,o){const s=r.target,a=new Ds(s.points[(e>0?e:s.points.length)-1]),c=a.subtract(s.pathOffset).transform(s.calcOwnMatrix()),u=t(n,l(l({},r),{},{pointIndex:e}),i,o),h=a.subtract(s.pathOffset).transform(s.calcOwnMatrix()).subtract(c);return s.left-=h.x,s.top-=h.y,u},Th=e=>dc(Sh,Ih(e,Bh)),Dh=(e,t,n)=>{const{path:r,pathOffset:i}=e,o=r[t];return new Ds(o[n]-i.x,o[n+1]-i.y).transform(Xs(e.getViewportTransform(),e.calcTransformMatrix()))};function Oh(e,t,n){const{commandIndex:r,pointIndex:i}=this;return Dh(n,r,i)}function Mh(e,t,n,r){const{target:i}=t,{commandIndex:o,pointIndex:s}=this,a=((e,t,n,r,i)=>{const{path:o,pathOffset:s}=e,a=o[(r>0?r:o.length)-1],l=new Ds(a[i],a[i+1]),c=l.subtract(s).transform(e.calcOwnMatrix()),u=Na(new Ds(t,n),void 0,e.calcOwnMatrix());o[r][i]=u.x+s.x,o[r][i+1]=u.y+s.y,e.setDimensions();const h=l.subtract(e.pathOffset).transform(e.calcOwnMatrix()).subtract(c);return e.left-=h.x,e.top-=h.y,e.set("dirty",!0),!0})(i,n,r,o,s);return hc(this.actionName,l(l({},sl(e,t,n,r)),{},{commandIndex:o,pointIndex:s})),a}class Fh extends wc{constructor(e){super(e)}render(e,t,n,r,i){const o=l(l({},r),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(e,t,n,o,i)}}class jh extends Fh{constructor(e){super(e)}render(e,t,n,r,i){const{path:o}=i,{commandIndex:s,pointIndex:a,connectToCommandIndex:l,connectToPointIndex:c}=this;e.save(),e.strokeStyle=this.controlStroke,this.connectionDashArray&&e.setLineDash(this.connectionDashArray);const[u]=o[s],h=Dh(i,l,c);if("Q"===u){const r=Dh(i,s,a+2);e.moveTo(r.x,r.y),e.lineTo(t,n)}else e.moveTo(t,n);e.lineTo(h.x,h.y),e.stroke(),e.restore(),super.render(e,t,n,r,i)}}const Ph=(e,t,n,r,i,o)=>new(n?jh:Fh)(l(l({commandIndex:e,pointIndex:t,actionName:"modifyPath",positionHandler:Oh,actionHandler:Mh,connectToCommandIndex:i,connectToPointIndex:o},r),n?r.controlPointStyle:r.pointStyle));Object.freeze({__proto__:null,changeHeight:yc,changeObjectHeight:mc,changeObjectWidth:pc,changeWidth:Ac,createObjectDefaultControls:Uc,createPathControls:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={};let r="M";return e.path.forEach((e,i)=>{const o=e[0];switch("Z"!==o&&(n["c_".concat(i,"_").concat(o)]=Ph(i,e.length-2,!1,t)),o){case"C":n["c_".concat(i,"_C_CP_1")]=Ph(i,1,!0,t,i-1,(e=>"C"===e?5:"Q"===e?3:1)(r)),n["c_".concat(i,"_C_CP_2")]=Ph(i,3,!0,t,i,5);break;case"Q":n["c_".concat(i,"_Q_CP_1")]=Ph(i,1,!0,t,i,3)}r=o}),n},createPolyActionHandler:Th,createPolyControls:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={};for(let r=0;r<("number"==typeof e?e:e.points.length);r++)n["p".concat(r)]=new wc(l({actionName:Sh,positionHandler:kh(r),actionHandler:Th(r)},t));return n},createPolyPositionHandler:kh,createResizeControls:Gc,createTextboxDefaultControls:Hc,dragHandler:Ch,factoryPolyActionHandler:Ih,getLocalPoint:ll,polyActionHandler:Bh,renderCircleControl:vc,renderSquareControl:bc,rotationStyleHandler:xc,rotationWithSnapping:Ec,scaleCursorStyleHandler:kc,scaleOrSkewActionName:Nc,scaleSkewCursorStyleHandler:zc,scalingEqually:Ic,scalingX:Tc,scalingXOrSkewingY:Qc,scalingY:Dc,scalingYOrSkewingX:Yc,skewCursorStyleHandler:Fc,skewHandlerX:Pc,skewHandlerY:Rc,wrapWithFireEvent:dc,wrapWithFixedAnchor:fc});class Rh extends ka{constructor(){super(...arguments),So(this,"_hoveredTargets",[]),So(this,"_currentTransform",null),So(this,"_groupSelector",null),So(this,"contextTopDirty",!1)}static getDefaults(){return l(l({},super.getDefaults()),Rh.ownDefaults)}get upperCanvasEl(){var e;return null===(e=this.elements.upper)||void 0===e?void 0:e.el}get contextTop(){var e;return null===(e=this.elements.upper)||void 0===e?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new _h(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(t=>!t.group&&t!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const t=this.getRetinaScaling(),n=Math.ceil((2*e+1)*t);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(t,t)}isTargetTransparent(e,t,n){const r=this.targetFindTolerance,i=this.pixelFindContext;this.clearContext(i),i.save(),i.translate(-t+r,-n+r),i.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(i),e.selectionBackgroundColor=o,i.restore();const s=Math.round(r*this.getRetinaScaling());return qc(i,s,s,s)}_isSelectionKeyPressed(e){const t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find(t=>!!t&&!0===e[t]):e[t])}_shouldClearSelection(e,t){const n=this.getActiveObjects(),r=this._activeObject;return!!(!t||t&&r&&n.length>1&&-1===n.indexOf(t)&&r!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&r&&r!==t)}_shouldCenterTransform(e,t,n){if(!e)return;let r;return t===ds||t===fs||t===gs||t===ls?r=this.centeredScaling||e.centeredScaling:t===ss&&(r=this.centeredRotation||e.centeredRotation),r?!n:n}_getOriginFromCorner(e,t){const n={x:e.originX,y:e.originY};return t?(["ml","tl","bl"].includes(t)?n.x=es:["mr","tr","br"].includes(t)&&(n.x=Jo),["tl","mt","tr"].includes(t)?n.y=$o:["bl","mb","br"].includes(t)&&(n.y=Zo),n):n}_setupCurrentTransform(e,t,n){var r;const i=t.group?Na(this.getScenePoint(e),void 0,t.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:s}=t.getActiveControl()||{},a=n&&s?null===(r=s.getActionHandler(e,t,s))||void 0===r?void 0:r.bind(s):Ch,c=((e,t,n,r)=>{if(!t||!e)return"drag";const i=r.controls[t];return i.getActionName(n,i,r)})(n,o,e,t),u=e[this.centeredKey],h=this._shouldCenterTransform(t,c,u)?{x:Xo,y:Xo}:this._getOriginFromCorner(t,o),{scaleX:d,scaleY:f,skewX:g,skewY:p,left:m,top:A,angle:y,width:v,height:b,cropX:w,cropY:x}=t,E={target:t,action:c,actionHandler:a,actionPerformed:!1,corner:o,scaleX:d,scaleY:f,skewX:g,skewY:p,offsetX:i.x-m,offsetY:i.y-A,originX:h.x,originY:h.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:Hs(y),width:v,height:b,shiftKey:e.shiftKey,altKey:u,original:l(l({},Pa(t)),{},{originX:h.x,originY:h.y,cropX:w,cropY:x})};this._currentTransform=E,this.fire("before:transform",{e:e,transform:E})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:t,y:n,deltaX:r,deltaY:i}=this._groupSelector,o=new Ds(t,n).transform(this.viewportTransform),s=new Ds(t+r,n+i).transform(this.viewportTransform),a=this.selectionLineWidth/2;let l=Math.min(o.x,s.x),c=Math.min(o.y,s.y),u=Math.max(o.x,s.x),h=Math.max(o.y,s.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(l,c,u-l,h-c)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,l+=a,c+=a,u-=a,h-=a,Kc.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(l,c,u-l,h-c))}findTarget(e){if(this._targetInfo)return this._targetInfo;if(this.skipTargetFind)return{subTargets:[],currentSubTargets:[]};const t=this.getScenePoint(e),n=this._activeObject,r=this.getActiveObjects(),i=this.searchPossibleTargets(this._objects,t),{subTargets:o,container:s,target:a}=i,c=l(l({},i),{},{currentSubTargets:o,currentContainer:s,currentTarget:a});if(!n)return c;const u=l(l({},this.searchPossibleTargets([n],t)),{},{currentSubTargets:o,currentContainer:s,currentTarget:a});if(n.findControl(this.getViewportPoint(e),Ta(e)))return l(l({},u),{},{target:n});if(u.target){if(r.length>1)return u;if(!this.preserveObjectStacking)return u;if(this.preserveObjectStacking&&e[this.altSelectionKey])return u}return c}_pointIsInObjectSelectionArea(e,t){let n=e.getCoords();const r=this.getZoom(),i=e.padding/r;if(i){const[e,t,r,o]=n,s=Math.atan2(t.y-e.y,t.x-e.x),a=Is(s)*i,l=Ts(s)*i,c=a+l,u=a-l;n=[new Ds(e.x-u,e.y-c),new Ds(t.x+c,t.y-u),new Ds(r.x+u,r.y+c),new Ds(o.x-c,o.y+u)]}return lc.isPointInPolygon(t,n)}_checkTarget(e,t){if(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;{const n=t.transform(this.viewportTransform);if(!this.isTargetTransparent(e,n.x,n.y))return!0}}return!1}_searchPossibleTargets(e,t,n){let r=e.length;for(;r--;){const i=e[r];if(this._checkTarget(i,t)){if(Ms(i)&&i.subTargetCheck){const{target:e}=this._searchPossibleTargets(i._objects,t,n);e&&n.push(e)}return{target:i,subTargets:n}}}return{subTargets:[]}}searchPossibleTargets(e,t){const n=this._searchPossibleTargets(e,t,[]);n.container=n.target;const{container:r,subTargets:i}=n;if(r&&Ms(r)&&r.interactive&&i[0]){for(let e=i.length-1;e>0;e--){const t=i[e];if(!Ms(t)||!t.interactive)return n.target=t,n}return n.target=i[0],n}return n}getViewportPoint(e){return this._viewportPoint?this._viewportPoint:this._getPointerImpl(e,!0)}getScenePoint(e){return this._scenePoint?this._scenePoint:this._getPointerImpl(e)}_getPointerImpl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.upperCanvasEl,r=n.getBoundingClientRect();let i=Ia(e),o=r.width||0,s=r.height||0;o&&s||(Zo in r&&$o in r&&(s=Math.abs(r.top-r.bottom)),es in r&&Jo in r&&(o=Math.abs(r.right-r.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,t||(i=Na(i,void 0,this.viewportTransform));const a=this.getRetinaScaling();1!==a&&(i.x/=a,i.y/=a);const l=0===o||0===s?new Ds(1,1):new Ds(n.width/o,n.height/s);return i.multiply(l)}_setDimensionsImpl(e,t){this._resetTransformEventData(),super._setDimensionsImpl(e,t),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=zs(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return ya(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,t){let n=!1,r=!1;const i=this.getActiveObjects(),o=[],s=[];e.forEach(e=>{i.includes(e)||(n=!0,e.fire("deselected",{e:t,target:e}),s.push(e))}),i.forEach(r=>{e.includes(r)||(n=!0,r.fire("selected",{e:t,target:r}),o.push(r))}),e.length>0&&i.length>0?(r=!0,n&&this.fire("selection:updated",{e:t,selected:o,deselected:s})):i.length>0?(r=!0,this.fire("selection:created",{e:t,selected:o})):e.length>0&&(r=!0,this.fire("selection:cleared",{e:t,deselected:s})),r&&(this._objectsToRender=void 0)}setActiveObject(e,t){const n=this.getActiveObjects(),r=this._setActiveObject(e,t);return this._fireSelectionEvents(n,t),r}_setActiveObject(e,t){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(t,e)&&this._activeObject)&&!e.onSelect({e:t})&&(this._activeObject=e,ya(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,t){const n=this._activeObject;return!!n&&!n.onDeselect({e:e,object:t})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),ya(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const t=this.getActiveObjects(),n=this.getActiveObject();t.length&&this.fire("before:selection:cleared",{e:e,deselected:[n]});const r=this._discardActiveObject(e);return this._fireSelectionEvents(t,e),r}endCurrentTransform(e){const t=this._currentTransform;this._finalizeCurrentTransform(e),t&&t.target&&(t.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const t=this._currentTransform,n=t.target,r={e:e,target:n,transform:t,action:t.action};n._scaling&&(n._scaling=!1),n.setCoords(),t.actionPerformed&&(this.fire("object:modified",r),n.fire(vs,r))}setViewportTransform(e){super.setViewportTransform(e);const t=this._activeObject;t&&t.setCoords()}destroy(){const e=this._activeObject;ya(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const t=this._activeObject;t&&t._renderControls(e)}_toObject(e,t,n){const r=this._realizeGroupTransformOnObject(e),i=super._toObject(e,t,n);return e.set(r),i}_realizeGroupTransformOnObject(e){const{group:t}=e;if(t&&ya(t)&&this._activeObject===t){const n=ha(e,["angle","flipX","flipY",Jo,fs,gs,ps,ms,Zo]);return Ma(e,t.calcOwnMatrix()),n}return{}}_setSVGObject(e,t,n){const r=this._realizeGroupTransformOnObject(t);super._setSVGObject(e,t,n),t.set(r)}}So(Rh,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!0,fireRightClick:!0,fireMiddleClick:!0,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!0});class Lh{constructor(e){So(this,"targets",[]),So(this,"__disposer",void 0);const t=()=>{const{hiddenTextarea:t}=e.getActiveObject()||{};t&&t.focus()},n=e.upperCanvasEl;n.addEventListener("click",t),this.__disposer=()=>n.removeEventListener("click",t)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),Bs(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var t;(null===(t=this.target)||void 0===t?void 0:t.isEditing)&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const Nh={passive:!1},zh=(e,t)=>({viewportPoint:e.getViewportPoint(t),scenePoint:e.getScenePoint(t)}),Qh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.addEventListener(...n)},Yh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.removeEventListener(...n)},Uh={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class Gh extends Rh{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),So(this,"_isClick",void 0),So(this,"textEditingManager",new Lh(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(Qh)}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.upperCanvasEl,r=this._getEventPrefix();e(wa(n),"resize",this._onResize),e(n,r+"down",this._onMouseDown),e(n,"".concat(r,"move"),this._onMouseMove,Nh),e(n,"".concat(r,"out"),this._onMouseOut),e(n,"".concat(r,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel,{passive:!1}),e(n,"contextmenu",this._onContextMenu),t||(e(n,"click",this._onClick),e(n,"dblclick",this._onClick)),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,Nh)}removeListeners(){this.addOrRemove(Yh);const e=this._getEventPrefix(),t=ba(this.upperCanvasEl);Yh(t,"".concat(e,"up"),this._onMouseUp),Yh(t,"touchend",this._onTouchEnd,Nh),Yh(t,"".concat(e,"move"),this._onMouseMove,Nh),Yh(t,"touchmove",this._onMouseMove,Nh),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_onMouseOut(e){const t=this._hoveredTarget,n=l({e:e},zh(this,e));this.fire("mouse:out",l(l({},n),{},{target:t})),this._hoveredTarget=void 0,t&&t.fire("mouseout",l({},n)),this._hoveredTargets.forEach(e=>{this.fire("mouse:out",l(l({},n),{},{target:e})),e&&e.fire("mouseout",l({},n))}),this._hoveredTargets=[]}_onMouseEnter(e){const{target:t}=this.findTarget(e);this._currentTransform||t||(this.fire("mouse:over",l({e:e},zh(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const t=this.getActiveObject();if(t&&t.onDragStart(e)){this._dragSource=t;const n={e:e,target:t};return this.fire("dragstart",n),t.fire("dragstart",n),void Qh(this.upperCanvasEl,"drag",this._onDragProgress)}Da(e)}_renderDragEffects(e,t,n){let r=!1;const i=this._dropTarget;i&&i!==t&&i!==n&&(i.clearContextTop(),r=!0),null==t||t.clearContextTop(),n!==t&&(null==n||n.clearContextTop());const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),t&&(o.save(),t.transform(o),t.renderDragSourceEffect(e),o.restore(),r=!0),n&&(o.save(),n.transform(o),n.renderDropTargetEffect(e),o.restore(),r=!0),o.restore(),r&&(this.contextTopDirty=!0)}_onDragEnd(e){const{currentSubTargets:t}=this.findTarget(e),n=!!e.dataTransfer&&e.dataTransfer.dropEffect!==ts,r=n?this._activeObject:void 0,i={e:e,target:this._dragSource,subTargets:t,dragSource:this._dragSource,didDrop:n,dropTarget:r};Yh(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const t={e:e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}_onDragOver(e){const t="dragover",{currentContainer:n,currentSubTargets:r}=this.findTarget(e),i=this._dragSource,o={e:e,target:n,subTargets:r,dragSource:i,canDrop:!1,dropTarget:void 0};let s;this.fire(t,o),this._fireEnterLeaveEvents(e,n,o),n&&(n.canDrop(e)&&(s=n),n.fire(t,o));for(let a=0;a<r.length;a++){const n=r[a];n.canDrop(e)&&(s=n),n.fire(t,o)}this._renderDragEffects(e,i,s),this._dropTarget=s}_onDragEnter(e){const{currentContainer:t,currentSubTargets:n}=this.findTarget(e),r={e:e,target:t,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",r),this._fireEnterLeaveEvents(e,t,r)}_onDragLeave(e){const{currentSubTargets:t}=this.findTarget(e),n={e:e,target:this._draggedoverTarget,subTargets:t,dragSource:this._dragSource};this.fire("dragleave",n),this._fireEnterLeaveEvents(e,void 0,n),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this._hoveredTargets=[]}_onDrop(e){const{currentContainer:t,currentSubTargets:n}=this.findTarget(e),r=this._basicEventHandler("drop:before",l({e:e,target:t,subTargets:n,dragSource:this._dragSource},zh(this,e)));r.didDrop=!1,r.dropTarget=void 0,this._basicEventHandler("drop",r),this.fire("drop:after",r)}_onContextMenu(e){const{target:t,subTargets:n}=this.findTarget(e),r=this._basicEventHandler("contextmenu:before",{e:e,target:t,subTargets:n});return this.stopContextMenu&&Da(e),this._basicEventHandler("contextmenu",r),!1}_onClick(e){const t=e.detail;t>3||t<2||(this._cacheTransformEventData(e),2==t&&"dblclick"===e.type&&this._handleEvent(e,"dblclick"),3==t&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}fireEventFromPointerEvent(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._cacheTransformEventData(e);const{target:i,subTargets:o}=this.findTarget(e),s=l(l({e:e,target:i,subTargets:o},zh(this,e)),{},{transform:this._currentTransform},r);this.fire(t,s),i&&i.fire(n,s);for(let a=0;a<o.length;a++)o[a]!==i&&o[a].fire(n,s);this._resetTransformEventData()}getPointerId(e){const t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){this._cacheTransformEventData(e);let t=!this.allowTouchScrolling;const n=this._activeObject;void 0===this.mainTouchId&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e);const{target:r}=this.findTarget(e);(this.isDrawingMode||n&&r===n)&&(t=!0),t&&e.preventDefault();const i=this.upperCanvasEl,o=this._getEventPrefix(),s=ba(i);Qh(s,"touchend",this._onTouchEnd,Nh),t&&Qh(s,"touchmove",this._onMouseMove,Nh),Yh(i,"".concat(o,"down"),this._onMouseDown),this._resetTransformEventData()}_onMouseDown(e){this._cacheTransformEventData(e),this.__onMouseDown(e);const t=this.upperCanvasEl,n=this._getEventPrefix();Yh(t,"".concat(n,"move"),this._onMouseMove,Nh);const r=ba(t);Qh(r,"".concat(n,"up"),this._onMouseUp),Qh(r,"".concat(n,"move"),this._onMouseMove,Nh),this._resetTransformEventData()}_onTouchEnd(e){if(e.touches.length>0)return;this._cacheTransformEventData(e),this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const t=this._getEventPrefix(),n=ba(this.upperCanvasEl);Yh(n,"touchend",this._onTouchEnd,Nh),Yh(n,"touchmove",this._onMouseMove,Nh),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Qh(this.upperCanvasEl,"".concat(t,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this._cacheTransformEventData(e),this.__onMouseUp(e);const t=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const e=ba(this.upperCanvasEl);Yh(e,"".concat(n,"up"),this._onMouseUp),Yh(e,"".concat(n,"move"),this._onMouseMove,Nh),Qh(t,"".concat(n,"move"),this._onMouseMove,Nh)}this._resetTransformEventData()}_onMouseMove(e){this._cacheTransformEventData(e);const t=this.getActiveObject();!this.allowTouchScrolling&&(!t||!t.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e),this._resetTransformEventData()}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const t=this.getActiveObject();return!!t!=!!e||t&&e&&t!==e}__onMouseUp(e){var t;this._handleEvent(e,"up:before");const n=this._currentTransform,r=this._isClick,{target:i}=this.findTarget(e),{button:o}=e;if(o)return void((this.fireMiddleClick&&1===o||this.fireRightClick&&2===o)&&this._handleEvent(e,"up"));if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let s,a,l=!1;if(n&&(this._finalizeCurrentTransform(e),l=n.actionPerformed),!r){const t=i===this._activeObject;this.handleSelection(e),l||(l=this._shouldRender(i)||!t&&i===this._activeObject)}if(i){const t=i.findControl(this.getViewportPoint(e),Ta(e)),{key:r,control:o}=t||{};if(a=r,i.selectable&&i!==this._activeObject&&"up"===i.activeOn)this.setActiveObject(i,e),l=!0;else if(o){const t=o.getMouseUpHandler(e,i,o);t&&(s=this.getScenePoint(e),t.call(o,e,n,s.x,s.y))}i.isMoving=!1}if(n&&(n.target!==i||n.corner!==a)){const t=n.target&&n.target.controls[n.corner],r=t&&t.getMouseUpHandler(e,n.target,t);s=s||this.getScenePoint(e),r&&r.call(t,e,n,s.x,s.y)}this._setCursorFromEvent(e,i),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,i&&(i.__corner=void 0),l?this.requestRenderAll():r||null!==(t=this._activeObject)&&void 0!==t&&t.isEditing||this.renderTop()}_basicEventHandler(e,t){const{target:n,subTargets:r=[]}=t;this.fire(e,t),n&&n.fire(e,t);for(let i=0;i<r.length;i++)r[i]!==n&&r[i].fire(e,t);return t}_handleEvent(e,t,n){const{target:r,subTargets:i}=this.findTarget(e),o=l(l({e:e,target:r,subTargets:i},zh(this,e)),{},{transform:this._currentTransform},"down:before"===t||"down"===t?n:{});"up:before"!==t&&"up"!==t||(o.isClick=this._isClick),this.fire("mouse:".concat(t),o),r&&r.fire("mouse".concat(t),o);for(let s=0;s<i.length;s++)i[s]!==r&&i[s].fire("mouse".concat(t),o)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const t=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:e,pointer:t}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._handleEvent(e,"down:before");let{target:t}=this.findTarget(e),n=!!t&&t===this._activeObject;const{button:r}=e;if(r)return void((this.fireMiddleClick&&1===r||this.fireRightClick&&2===r)&&this._handleEvent(e,"down",{alreadySelected:n}));if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e))return;if(this._currentTransform)return;let i=this._shouldRender(t),o=!1;if(this.handleMultiSelection(e,t)?(t=this._activeObject,o=!0,i=!0):this._shouldClearSelection(e,t)&&this.discardActiveObject(e),this.selection&&(!t||!t.selectable&&!t.isEditing&&t!==this._activeObject)){const t=this.getScenePoint(e);this._groupSelector={x:t.x,y:t.y,deltaY:0,deltaX:0}}if(n=!!t&&t===this._activeObject,t){t.selectable&&"down"===t.activeOn&&this.setActiveObject(t,e);const r=t.findControl(this.getViewportPoint(e),Ta(e));if(t===this._activeObject&&(r||!o)){this._setupCurrentTransform(e,t,n);const i=r?r.control:void 0,o=this.getScenePoint(e),s=i&&i.getMouseDownHandler(e,t,i);s&&s.call(i,e,this._currentTransform,o.x,o.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:n}),i&&this.requestRenderAll()}_resetTransformEventData(){this._targetInfo=this._viewportPoint=this._scenePoint=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._viewportPoint=this.getViewportPoint(e),this._scenePoint=Na(this._viewportPoint,void 0,this.viewportTransform),this._targetInfo=this.findTarget(e),this._currentTransform&&(this._targetInfo.target=this._currentTransform.target)}__onMouseMove(e){if(this._isClick=!1,this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const t=this._groupSelector;if(t){const n=this.getScenePoint(e);t.deltaX=n.x-t.x,t.deltaY=n.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const{target:t}=this.findTarget(e);this._setCursorFromEvent(e,t),this._fireOverOutEvents(e,t)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move")}_fireOverOutEvents(e,t){const{_hoveredTarget:n,_hoveredTargets:r}=this,{subTargets:i}=this.findTarget(e),o=Math.max(r.length,i.length);this.fireSyntheticInOutEvents("mouse",{e:e,target:t,oldTarget:n,fireCanvas:!0});for(let s=0;s<o;s++)i[s]===t||r[s]&&r[s]===n||this.fireSyntheticInOutEvents("mouse",{e:e,target:i[s],oldTarget:r[s]});this._hoveredTarget=t,this._hoveredTargets=i}_fireEnterLeaveEvents(e,t,n){const r=this._draggedoverTarget,i=this._hoveredTargets,{subTargets:o}=this.findTarget(e),s=Math.max(i.length,o.length);this.fireSyntheticInOutEvents("drag",l(l({},n),{},{target:t,oldTarget:r,fireCanvas:!0}));for(let a=0;a<s;a++)this.fireSyntheticInOutEvents("drag",l(l({},n),{},{target:o[a],oldTarget:i[a]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(e,t){let{target:n,oldTarget:r,fireCanvas:i,e:o}=t,s=c(t,fo);const{targetIn:a,targetOut:u,canvasIn:h,canvasOut:d}=Uh[e],f=r!==n;if(r&&f){const e=l(l({},s),{},{e:o,target:r,nextTarget:n},zh(this,o));i&&this.fire(d,e),r.fire(u,e)}if(n&&f){const e=l(l({},s),{},{e:o,target:n,previousTarget:r},zh(this,o));i&&this.fire(h,e),n.fire(a,e)}}_transformObject(e){const t=this.getScenePoint(e),n=this._currentTransform,r=n.target,i=r.group?Na(t,void 0,r.group.calcTransformMatrix()):t;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,i),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,t,n){const{action:r,actionHandler:i,target:o}=t,s=!!i&&i(e,t,n.x,n.y);s&&o.setCoords(),"drag"===r&&s&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||s}_setCursorFromEvent(e,t){if(!t)return void this.setCursor(this.defaultCursor);let n=t.hoverCursor||this.hoverCursor;const r=ya(this._activeObject)?this._activeObject:null,i=(!r||t.group!==r)&&t.findControl(this.getViewportPoint(e));if(i){const{control:n,coord:r}=i;this.setCursor(n.cursorStyleHandler(e,n,t,r))}else{if(t.subTargetCheck){const{subTargets:t}=this.findTarget(e);t.concat().reverse().forEach(e=>{n=e.hoverCursor||n})}this.setCursor(n)}}handleMultiSelection(e,t){const n=this._activeObject,r=ya(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&t&&t.selectable&&(n!==t||r)&&(r||!t.isDescendantOf(n)&&!n.isDescendantOf(t))&&!t.onSelect({e:e})&&!n.getActiveControl()){if(r){const r=n.getObjects();let i=[];if(t===n){const n=this.getScenePoint(e);let o=this.searchPossibleTargets(r,n);if(o.target?(t=o.target,i=o.subTargets):(o=this.searchPossibleTargets(this._objects,n),t=o.target,i=o.subTargets),!t||!t.selectable)return!1}t.group===n?(n.remove(t),this._hoveredTarget=t,this._hoveredTargets=i,1===n.size()&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(t),this._hoveredTarget=n,this._hoveredTargets=i),this._fireSelectionEvents(r,e)}else{n.isEditing&&n.exitEditing();const r=new(Cs.getClass("ActiveSelection"))([],{canvas:this});r.multiSelectAdd(n,t),this._hoveredTarget=r,this._setActiveObject(r,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:t,y:n,deltaX:r,deltaY:i}=this._groupSelector,o=new Ds(t,n),s=o.add(new Ds(r,i)),a=o.min(s),l=o.max(s).subtract(a),c=this.collectObjects({left:a.x,top:a.y,width:l.x,height:l.y},{includeIntersecting:!this.selectionFullyContained}),u=o.eq(s)?c[0]?[c[0]]:[]:c.length>1?c.filter(t=>!t.onSelect({e:e})).reverse():c;if(1===u.length)this.setActiveObject(u[0],e);else if(u.length>1){const t=Cs.getClass("ActiveSelection");this.setActiveObject(new t(u,{canvas:this}),e)}return this._groupSelector=null,!0}toCanvasElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;const{upper:n}=this.elements;n.ctx=void 0;const r=super.toCanvasElement(e,t);return n.ctx=n.el.getContext("2d"),r}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const Hh={x1:0,y1:0,x2:0,y2:0},Wh=l(l({},Hh),{},{r1:0,r2:0}),Vh=(e,t)=>isNaN(e)&&"number"==typeof t?t:e;function Kh(e){return e&&/%$/.test(e)&&Number.isFinite(parseFloat(e))}function qh(e,t){const n="number"==typeof e?e:"string"==typeof e?parseFloat(e)/(Kh(e)?100:1):NaN;return Ul(0,Vh(n,t),1)}const Xh=/\s*;\s*/,Jh=/\s*:\s*/;function Zh(e,t){let n,r;const i=e.getAttribute("style");if(i){const e=i.split(Xh);""===e[e.length-1]&&e.pop();for(let t=e.length;t--;){const[i,o]=e[t].split(Jh).map(e=>e.trim());"stop-color"===i?n=o:"stop-opacity"===i&&(r=o)}}n=n||e.getAttribute("stop-color")||"rgb(0,0,0)",r=Vh(parseFloat(r||e.getAttribute("stop-opacity")||""),1);const o=new ml(n);return o.setAlpha(o.getAlpha()*r*t),{offset:qh(e.getAttribute("offset"),0),color:o.toRgba()}}function $h(e,t){const n=[],r=e.getElementsByTagName("stop"),i=qh(t,1);for(let o=r.length;o--;)n.push(Zh(r[o],i));return n}function ed(e){return"linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?"linear":"radial"}function td(e){return"userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage"}function nd(e,t){return e.getAttribute(t)}function rd(e,t){return function(e,t){let n,{width:r,height:i,gradientUnits:o}=t;return Object.entries(e).reduce((e,t)=>{let[s,a]=t;if("Infinity"===a)n=1;else if("-Infinity"===a)n=0;else{const e="string"==typeof a;n=e?parseFloat(a):a,e&&Kh(a)&&(n*=.01,"pixels"===o&&("x1"!==s&&"x2"!==s&&"r2"!==s||(n*=r),"y1"!==s&&"y2"!==s||(n*=i)))}return e[s]=n,e},{})}("linear"===ed(e)?function(e){return{x1:nd(e,"x1")||0,y1:nd(e,"y1")||0,x2:nd(e,"x2")||"100%",y2:nd(e,"y2")||0}}(e):function(e){return{x1:nd(e,"fx")||nd(e,"cx")||"50%",y1:nd(e,"fy")||nd(e,"cy")||"50%",r1:0,x2:nd(e,"cx")||"50%",y2:nd(e,"cy")||"50%",r2:nd(e,"r")||"50%"}}(e),l(l({},t),{},{gradientUnits:td(e)}))}class id{constructor(e){const{type:t="linear",gradientUnits:n="pixels",coords:r={},colorStops:i=[],offsetX:o=0,offsetY:s=0,gradientTransform:a,id:c}=e||{};Object.assign(this,{type:t,gradientUnits:n,coords:l(l({},"radial"===t?Wh:Hh),r),colorStops:i,offsetX:o,offsetY:s,gradientTransform:a,id:c?"".concat(c,"_").concat(Ns()):Ns()})}addColorStop(e){for(const t in e)this.colorStops.push({offset:parseFloat(t),color:e[t]});return this}toObject(e){return l(l({},ha(this,e)),{},{type:this.type,coords:l({},this.coords),colorStops:this.colorStops.map(e=>l({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],r=this.gradientTransform?this.gradientTransform.concat():Vo.concat(),i="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(e=>l({},e)).sort((e,t)=>e.offset-t.offset);let s=-this.offsetX,a=-this.offsetY;var c;"objectBoundingBox"===i?(s/=e.width,a/=e.height):(s+=e.width/2,a+=e.height/2),(c=e)&&"function"==typeof c._renderPathCommands&&"percentage"!==this.gradientUnits&&(s-=e.pathOffset.x,a-=e.pathOffset.y),r[4]-=s,r[5]-=a;const u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(i,'"'),'gradientTransform="'.concat(t?t+" ":"").concat(ga(r),'"'),""].join(" ");if("linear"===this.type){const{x1:e,y1:t,x2:r,y2:i}=this.coords;n.push("<linearGradient ",u,' x1="',e,'" y1="',t,'" x2="',r,'" y2="',i,'">\n')}else if("radial"===this.type){const{x1:e,y1:t,x2:r,y2:i,r1:s,r2:a}=this.coords,l=s>a;n.push("<radialGradient ",u,' cx="',l?e:r,'" cy="',l?t:i,'" r="',l?s:a,'" fx="',l?r:e,'" fy="',l?i:t,'">\n'),l&&(o.reverse(),o.forEach(e=>{e.offset=1-e.offset}));const c=Math.min(s,a);if(c>0){const e=c/Math.max(s,a);o.forEach(t=>{t.offset+=e*(1-t.offset)})}}return o.forEach(e=>{let{color:t,offset:r}=e;n.push('<stop offset="'.concat(100*r,'%" style="stop-color:').concat(t,';"/>\n'))}),n.push("linear"===this.type?"</linearGradient>":"</radialGradient>","\n"),n.join("")}toLive(e){const{x1:t,y1:n,x2:r,y2:i,r1:o,r2:s}=this.coords,a="linear"===this.type?e.createLinearGradient(t,n,r,i):e.createRadialGradient(t,n,o,r,i,s);return this.colorStops.forEach(e=>{let{color:t,offset:n}=e;a.addColorStop(n,t)}),a}static async fromObject(e){const{colorStops:t,gradientTransform:n}=e;return new this(l(l({},e),{},{colorStops:t?t.map(e=>l({},e)):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,t,n){const r=td(e),i=t._findCenterFromElement();return new this(l({id:e.getAttribute("id")||void 0,type:ed(e),coords:rd(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:$h(e,n.opacity),gradientUnits:r,gradientTransform:Bu(e.getAttribute("gradientTransform")||"")},"pixels"===r?{offsetX:t.width/2-i.x,offsetY:t.height/2-i.y}:{offsetX:0,offsetY:0}))}}So(id,"type","Gradient"),Cs.setClass(id,"gradient"),Cs.setClass(id,"linear"),Cs.setClass(id,"radial");class od{get type(){return"pattern"}set type(e){Io("warn","Setting type has no effect",e)}constructor(e){So(this,"repeat","repeat"),So(this,"offsetX",0),So(this,"offsetY",0),So(this,"crossOrigin",""),this.id=Ns(),Object.assign(this,e)}isImageSource(){return!!this.source&&"string"==typeof this.source.src}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&0!==this.source.naturalWidth&&0!==this.source.naturalHeight)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{repeat:t,crossOrigin:n}=this;return l(l({},ha(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:t,crossOrigin:n,offsetX:fa(this.offsetX,Bo.NUM_FRACTION_DIGITS),offsetY:fa(this.offsetY,Bo.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:t,height:n}=e;const{source:r,repeat:i,id:o}=this,s=Vh(this.offsetX/t,0),a=Vh(this.offsetY/n,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(s,'" y="').concat(a,'" width="').concat("repeat-y"===i||"no-repeat"===i?1+Math.abs(s||0):Vh(r.width/t,0),'" height="').concat("repeat-x"===i||"no-repeat"===i?1+Math.abs(a||0):Vh(r.height/n,0),'">'),'<image x="0" y="0" width="'.concat(r.width,'" height="').concat(r.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join("\n")}static async fromObject(e,t){let{type:n,source:r,patternTransform:i}=e,o=c(e,go);const s=await la(r,l(l({},t),{},{crossOrigin:o.crossOrigin}));return new this(l(l({},o),{},{patternTransform:i&&i.slice(0),source:s}))}}So(od,"type","Pattern"),Cs.setClass(od),Cs.setClass(od,"pattern");class sd extends Kc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{path:n,left:r,top:i}=t,o=c(t,po);super(),Object.assign(this,sd.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),"number"==typeof r&&this.set(Jo,r),"number"==typeof i&&this.set(Zo,i)}_setPath(e,t){this.path=nh(Array.isArray(e)?e:yh(e)),this.setBoundingBox(t)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new Ds(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const t=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const r of this.path)switch(r[0]){case"L":e.lineTo(r[1]+t,r[2]+n);break;case"M":e.moveTo(r[1]+t,r[2]+n);break;case"C":e.bezierCurveTo(r[1]+t,r[2]+n,r[3]+t,r[4]+n,r[5]+t,r[6]+n);break;case"Q":e.quadraticCurveTo(r[1]+t,r[2]+n,r[3]+t,r[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(l({},super.toObject(e)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.toObject(e);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}_toSVG(){return["<path ","COMMON_PARTS",'d="'.concat(bh(this.path,Bo.NUM_FRACTION_DIGITS),'" stroke-linecap="round" />\n')]}_getOffsetTransform(){const e=Bo.NUM_FRACTION_DIGITS;return" translate(".concat(fa(-this.pathOffset.x,e),", ").concat(fa(-this.pathOffset.y,e),")")}toClipPathSVG(e){const t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}toSVG(e){const t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:t,height:n,pathOffset:r}=this._calcDimensions();this.set({width:t,height:n,pathOffset:r}),e&&this.setPositionByOrigin(r,Xo,Xo)}_calcBoundsFromPath(){const e=[];let t=0,n=0,r=0,i=0;for(const o of this.path)switch(o[0]){case"L":r=o[1],i=o[2],e.push({x:t,y:n},{x:r,y:i});break;case"M":r=o[1],i=o[2],t=r,n=i;break;case"C":e.push(...eh(r,i,o[1],o[2],o[3],o[4],o[5],o[6])),r=o[5],i=o[6];break;case"Q":e.push(...eh(r,i,o[1],o[2],o[1],o[2],o[3],o[4])),r=o[3],i=o[4];break;case"Z":r=t,i=n}return Oa(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return l(l({},e),{},{pathOffset:new Ds(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,t,n){const r=Ou(e,this.ATTRIBUTE_NAMES,n),{d:i}=r;return new this(i,l(l(l({},c(r,mo)),t),{},{left:void 0,top:void 0}))}}So(sd,"type","Path"),So(sd,"cacheProperties",[...Hl,"path","fillRule"]),So(sd,"ATTRIBUTE_NAMES",[...hu,"d"]),Cs.setClass(sd),Cs.setSVGClass(sd);const ad=["radius","startAngle","endAngle","counterClockwise"];class ld extends Kc{static getDefaults(){return l(l({},super.getDefaults()),ld.ownDefaults)}constructor(e){super(),Object.assign(this,ld.ownDefaults),this.setOptions(e)}_set(e,t){return super._set(e,t),"radius"===e&&this.setRadius(t),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Hs(this.startAngle),Hs(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(fs)}getRadiusY(){return this.get("radius")*this.get(gs)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...ad,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(0===e)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),'" />\n'];{const{radius:t}=this,n=Hs(this.startAngle),r=Hs(this.endAngle),i=Is(n)*t,o=Ts(n)*t,s=Is(r)*t,a=Ts(r)*t;return['<path d="M '.concat(i," ").concat(o," A ").concat(t," ").concat(t," 0 ").concat(e>180?1:0," ").concat(this.counterClockwise?0:1," ").concat(s," ").concat(a,'" '),"COMMON_PARTS"," />\n"]}}static async fromElement(e,t,n){const r=Ou(e,this.ATTRIBUTE_NAMES,n),{left:i=0,top:o=0,radius:s=0}=r;return new this(l(l({},c(r,Ao)),{},{radius:s,left:i-s,top:o-s}))}static fromObject(e){return super._fromObject(e)}}So(ld,"type","Circle"),So(ld,"cacheProperties",[...Hl,...ad]),So(ld,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),So(ld,"ATTRIBUTE_NAMES",["cx","cy","r",...hu]),Cs.setClass(ld),Cs.setSVGClass(ld);const cd=["x1","x2","y1","y2"];class ud extends Kc{constructor(){let[e,t,n,r]=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,ud.ownDefaults),this.setOptions(i),this.x1=e,this.x2=n,this.y1=t,this.y2=r,this._setWidthHeight();const{left:o,top:s}=i;"number"==typeof o&&this.set(Jo,o),"number"==typeof s&&this.set(Zo,s)}_setWidthHeight(){const{x1:e,y1:t,x2:n,y2:r}=this;this.width=Math.abs(n-e),this.height=Math.abs(r-t);const{left:i,top:o,width:s,height:a}=Oa([{x:e,y:t},{x:n,y:r}]),l=new Ds(i+s/2,o+a/2);this.setPositionByOrigin(l,Xo,Xo)}_set(e,t){return super._set(e,t),cd.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var r;pa(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=null!==(r=this.stroke)&&void 0!==r?r:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new Ds((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(l({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:t,y1:n,y2:r,width:i,height:o}=this,s=e<=t?-1:1,a=n<=r?-1:1;return{x1:s*i/2,x2:s*-i/2,y1:a*o/2,y2:a*-o/2}}_toSVG(){const{x1:e,x2:t,y1:n,y2:r}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(t,'" y2="').concat(r,'" />\n')]}static async fromElement(e,t,n){const r=Ou(e,this.ATTRIBUTE_NAMES,n),{x1:i=0,y1:o=0,x2:s=0,y2:a=0}=r;return new this([i,o,s,a],c(r,yo))}static fromObject(e){let{x1:t,y1:n,x2:r,y2:i}=e,o=c(e,vo);return this._fromObject(l(l({},o),{},{points:[t,n,r,i]}),{extraParam:"points"})}}So(ud,"type","Line"),So(ud,"cacheProperties",[...Hl,...cd]),So(ud,"ATTRIBUTE_NAMES",hu.concat(cd)),Cs.setClass(ud),Cs.setSVGClass(ud);class hd extends Kc{static getDefaults(){return l(l({},super.getDefaults()),hd.ownDefaults)}constructor(e){super(),Object.assign(this,hd.ownDefaults),this.setOptions(e)}_render(e){const t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(t,",0 ").concat(-t,",").concat(e," ").concat(t),'" />']}}So(hd,"type","Triangle"),So(hd,"ownDefaults",{width:100,height:100}),Cs.setClass(hd),Cs.setSVGClass(hd);const dd=["rx","ry"];class fd extends Kc{static getDefaults(){return l(l({},super.getDefaults()),fd.ownDefaults)}constructor(e){super(),Object.assign(this,fd.ownDefaults),this.setOptions(e)}_set(e,t){switch(super._set(e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this}getRx(){return this.get("rx")*this.get(fs)}getRy(){return this.get("ry")*this.get(gs)}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...dd,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,'" />\n')]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,Ho,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,t,n){const r=Ou(e,this.ATTRIBUTE_NAMES,n);return r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,new this(r)}}So(fd,"type","Ellipse"),So(fd,"cacheProperties",[...Hl,...dd]),So(fd,"ownDefaults",{rx:0,ry:0}),So(fd,"ATTRIBUTE_NAMES",[...hu,"cx","cy","rx","ry"]),Cs.setClass(fd),Cs.setSVGClass(fd);const gd={exactBoundingBox:!1};class pd extends Kc{static getDefaults(){return l(l({},super.getDefaults()),pd.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),So(this,"strokeDiff",void 0),Object.assign(this,pd.ownDefaults),this.setOptions(t),this.points=e;const{left:n,top:r}=t;this.initialized=!0,this.setBoundingBox(!0),"number"==typeof n&&this.set(Jo,n),"number"==typeof r&&this.set(Zo,r)}isOpen(){return!0}_projectStrokeOnPoints(e){return eu(this.points,e,this.isOpen())}_calcDimensions(e){e=l({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const t=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(e=>e.projectedPoint):this.points;if(0===t.length)return{left:0,top:0,width:0,height:0,pathOffset:new Ds,strokeOffset:new Ds,strokeDiff:new Ds};const n=Oa(t),r=sa(l(l({},e),{},{scaleX:1,scaleY:1})),i=Oa(this.points.map(e=>Ks(e,r,!0))),o=new Ds(this.scaleX,this.scaleY);let s=n.left+n.width/2,a=n.top+n.height/2;return this.exactBoundingBox&&(s-=a*Math.tan(Hs(this.skewX)),a-=s*Math.tan(Hs(this.skewY))),l(l({},n),{},{pathOffset:new Ds(s,a),strokeOffset:new Ds(i.left,i.top).subtract(new Ds(n.left,n.top)).multiply(o),strokeDiff:new Ds(n.width,n.height).subtract(new Ds(i.width,i.height)).multiply(o)})}_findCenterFromElement(){const e=Oa(this.points);return new Ds(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:t,top:n,width:r,height:i,pathOffset:o,strokeOffset:s,strokeDiff:a}=this._calcDimensions();this.set({width:r,height:i,pathOffset:o,strokeOffset:s,strokeDiff:a}),e&&this.setPositionByOrigin(new Ds(t+r/2,n+i/2),Xo,Xo)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new Ds(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some(e=>this.strokeUniform||this.constructor.layoutProperties.includes(e))){var t,n;const{width:r,height:i}=this._calcDimensions(e);o=new Ds(null!==(t=e.width)&&void 0!==t?t:r,null!==(n=e.height)&&void 0!==n?n:i)}else{var r,i;o=new Ds(null!==(r=e.width)&&void 0!==r?r:this.width,null!==(i=e.height)&&void 0!==i?i:this.height)}return o.multiply(new Ds(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,t){const n=this.initialized&&this[e]!==t,r=super._set(e,t);return this.exactBoundingBox&&n&&((e===fs||e===gs)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),r}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(l({},super.toObject(e)),{},{points:this.points.map(e=>{let{x:t,y:n}=e;return{x:t,y:n}})})}_toSVG(){const e=[],t=this.pathOffset.x,n=this.pathOffset.y,r=Bo.NUM_FRACTION_DIGITS;for(let i=0,o=this.points.length;i<o;i++)e.push(fa(this.points[i].x-t,r),",",fa(this.points[i].y-n,r)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),'" />\n')]}_render(e){const t=this.points.length,n=this.pathOffset.x,r=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-r);for(let i=0;i<t;i++){const t=this.points[i];e.lineTo(t.x-n,t.y-r)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,t,n){const r=function(e){if(!e)return[];const t=e.replace(/,/g," ").trim().split(/\s+/),n=[];for(let r=0;r<t.length;r+=2)n.push({x:parseFloat(t[r]),y:parseFloat(t[r+1])});return n}(e.getAttribute("points")),i=Ou(e,this.ATTRIBUTE_NAMES,n),{left:o,top:s}=i;return new this(r,l(l({},c(i,bo)),t))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}So(pd,"ownDefaults",gd),So(pd,"type","Polyline"),So(pd,"layoutProperties",[ps,ms,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),So(pd,"cacheProperties",[...Hl,"points"]),So(pd,"ATTRIBUTE_NAMES",[...hu]),Cs.setClass(pd),Cs.setSVGClass(pd);class md extends pd{isOpen(){return!1}}So(md,"ownDefaults",gd),So(md,"type","Polygon"),Cs.setClass(md),Cs.setSVGClass(md);class Ad extends Kc{isEmptyStyles(e){if(!this.styles)return!0;if(void 0!==e&&!this.styles[e])return!0;const t=void 0===e?this.styles:{line:this.styles[e]};for(const n in t)for(const e in t[n])for(const r in t[n][e])return!1;return!0}styleHas(e,t){if(!this.styles)return!1;if(void 0!==t&&!this.styles[t])return!1;const n=void 0===t?this.styles:{0:this.styles[t]};for(const r in n)for(const t in n[r])if(void 0!==n[r][t][e])return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const t=this.styles;let n,r,i=0,o=!0,s=0;for(const a in t){n=0;for(const s in t[a]){const l=t[a][s]||{};i++,void 0!==l[e]?(r?l[e]!==r&&(o=!1):r=l[e],l[e]===this[e]&&delete l[e]):o=!1,0!==Object.keys(l).length?n++:delete t[a][s]}0===n&&delete t[a]}for(let a=0;a<this._textLines.length;a++)s+=this._textLines[a].length;o&&i===s&&(this[e]=r,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const t=this.styles;let n,r,i;for(r in t){for(i in n=t[r],n)delete n[i][e],0===Object.keys(n[i]).length&&delete n[i];0===Object.keys(n).length&&delete t[r]}}_extendStyles(e,t){const{lineIndex:n,charIndex:r}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const i=da(l(l({},this._getStyleDeclaration(n,r)),t),e=>void 0!==e);this._setStyleDeclaration(n,r,i)}getSelectionStyles(e,t,n){const r=[];for(let i=e;i<(t||e);i++)r.push(this.getStyleAtPosition(i,n));return r}getStyleAtPosition(e,t){const{lineIndex:n,charIndex:r}=this.get2DCursorLocation(e);return t?this.getCompleteStyleDeclaration(n,r):this._getStyleDeclaration(n,r)}setSelectionStyles(e,t,n){for(let r=t;r<(n||t);r++)this._extendStyles(r,e);this._forceClearCache=!0}_getStyleDeclaration(e,t){var n;const r=this.styles&&this.styles[e];return r&&null!==(n=r[t])&&void 0!==n?n:{}}getCompleteStyleDeclaration(e,t){return l(l({},ha(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,t))}_setStyleDeclaration(e,t,n){this.styles[e][t]=n}_deleteStyleDeclaration(e,t){delete this.styles[e][t]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}So(Ad,"_styleProperties",kl);const yd=/  +/g,vd=/"/g;function bd(e,t,n,r,i){return"\t\t".concat(function(e,t){let{left:n,top:r,width:i,height:o}=t,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bo.NUM_FRACTION_DIGITS;const a=vl(As,e,!1),[l,c,u,h]=[n,r,i,o].map(e=>fa(e,s));return"<rect ".concat(a,' x="').concat(l,'" y="').concat(c,'" width="').concat(u,'" height="').concat(h,'"></rect>')}(e,{left:t,top:n,width:r,height:i}),"\n")}let wd;class xd extends Ad{static getDefaults(){return l(l({},super.getDefaults()),xd.ownDefaults)}constructor(e,t){super(),So(this,"__charBounds",[]),Object.assign(this,xd.ownDefaults),this.setOptions(t),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=dh(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Il)&&this.enlargeSpaces()}enlargeSpaces(){let e,t,n,r,i,o,s;for(let a=0,l=this._textLines.length;a<l;a++)if((this.textAlign===Il||a!==l-1&&!this.isEndOfWrapping(a))&&(r=0,i=this._textLines[a],t=this.getLineWidth(a),t<this.width&&(s=this.textLines[a].match(this._reSpacesAndTabs)))){n=s.length,e=(this.width-t)/n;for(let t=0;t<=i.length;t++)o=this.__charBounds[a][t],this._reSpaceAndTab.test(i[t])?(o.width+=e,o.kernedWidth+=e,o.left+=r,r+=e):o.left+=r}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,t){const n=t?this._unwrappedTextLines:this._textLines;let r;for(r=0;r<n.length;r++){if(e<=n[r].length)return{lineIndex:r,charIndex:e};e-=n[r].length+this.missingNewlineOffset(r,t)}return{lineIndex:r-1,charIndex:n[r-1].length<e?n[r-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e}_render(e){const t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===ys?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,t,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Xo:e.textBaseline="middle";break;case"ascender":e.textBaseline=Zo;break;case"descender":e.textBaseline=$o}e.font=this._getFontDeclaration(t,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let t=1,n=this._textLines.length;t<n;t++){const n=this.getLineWidth(t);n>e&&(e=n)}return e}_renderTextLine(e,t,n,r,i,o){this._renderChars(e,t,n,r,i,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const t=e.fillStyle,n=this._getLeftOffset();let r=this._getTopOffset();for(let i=0,o=this._textLines.length;i<o;i++){const t=this.getHeightOfLine(i);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",i)){r+=t;continue}const o=this._textLines[i].length,s=this._getLineLeftOffset(i);let a,l,c=0,u=0,h=this.getValueOfPropertyAt(i,0,"textBackgroundColor");const d=this.getHeightOfLineImpl(i);for(let f=0;f<o;f++){const t=this.__charBounds[i][f];l=this.getValueOfPropertyAt(i,f,"textBackgroundColor"),this.path?(e.save(),e.translate(t.renderLeft,t.renderTop),e.rotate(t.angle),e.fillStyle=l,l&&e.fillRect(-t.width/2,-d*(1-this._fontSizeFraction),t.width,d),e.restore()):l!==h?(a=n+s+u,this.direction===ws&&(a=this.width-a-c),e.fillStyle=h,h&&e.fillRect(a,r,c,d),u=t.left,c=t.width,h=l):c+=t.kernedWidth}l&&!this.path&&(a=n+s+u,this.direction===ws&&(a=this.width-a-c),e.fillStyle=l,e.fillRect(a,r,c,d)),r+=t}e.fillStyle=t,this._removeShadow(e)}_measureChar(e,t,n,r){const i=zo.getFontCache(t),o=this._getFontDeclaration(t),s=n?n+e:e,a=n&&o===this._getFontDeclaration(r),l=t.fontSize/this.CACHE_FONT_SIZE;let c,u,h,d;if(n&&i.has(n)&&(h=i.get(n)),i.has(e)&&(d=c=i.get(e)),a&&i.has(s)&&(u=i.get(s),d=u-h),void 0===c||void 0===h||void 0===u){const r=function(){if(!wd){const e=Ys({width:0,height:0});wd=e.getContext("2d")}return wd}();this._setTextStyles(r,t,!0),void 0===c&&(d=c=r.measureText(e).width,i.set(e,c)),void 0===h&&a&&n&&(h=r.measureText(n).width,i.set(n,h)),a&&void 0===u&&(u=r.measureText(s).width,i.set(s,u),d=u-h)}return{width:c*l,kernedWidth:d*l}}getHeightOfChar(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")}measureLine(e){const t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}_measureLine(e){let t,n,r=0;const i=this.pathSide===es,o=this.path,s=this._textLines[e],a=s.length,l=new Array(a);this.__charBounds[e]=l;for(let c=0;c<a;c++){const i=s[c];n=this._getGraphemeBox(i,e,c,t),l[c]=n,r+=n.kernedWidth,t=i}if(l[a]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let e=0;const t=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case Jo:e=i?t-r:0;break;case Xo:e=(t-r)/2;break;case es:e=i?0:t-r}e+=this.pathStartOffset*(i?-1:1);for(let r=i?a-1:0;i?r>=0:r<a;i?r--:r++)n=l[r],e>t?e%=t:e<0&&(e+=t),this._setGraphemeOnPath(e,n),e+=n.kernedWidth}return{width:r,numOfSpaces:0}}_setGraphemeOnPath(e,t){const n=e+t.kernedWidth/2,r=this.path,i=fh(r.path,n,r.segmentsInfo);t.renderLeft=i.x-r.pathOffset.x,t.renderTop=i.y-r.pathOffset.y,t.angle=i.angle+(this.pathSide===es?Math.PI:0)}_getGraphemeBox(e,t,n,r,i){const o=this.getCompleteStyleDeclaration(t,n),s=r?this.getCompleteStyleDeclaration(t,n-1):{},a=this._measureChar(e,o,r,s);let l,c=a.kernedWidth,u=a.width;0!==this.charSpacing&&(l=this._getWidthOfCharSpacing(),u+=l,c+=l);const h={width:u,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(n>0&&!i){const e=this.__charBounds[t][n-1];h.left=e.left+e.width+a.kernedWidth-a.width}return h}getHeightOfLineImpl(e){const t=this.__lineHeights;if(t[e])return t[e];let n=this.getHeightOfChar(e,0);for(let r=1,i=this._textLines[e].length;r<i;r++)n=Math.max(this.getHeightOfChar(e,r),n);return t[e]=n*this._fontSizeMult}getHeightOfLine(e){return this.getHeightOfLineImpl(e)*this.lineHeight}calcTextHeight(){let e=0;for(let t=0,n=this._textLines.length;t<n;t++)e+=t===n-1?this.getHeightOfLineImpl(t):this.getHeightOfLine(t);return e}_getLeftOffset(){return this.direction===bs?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,t){e.save();let n=0;const r=this._getLeftOffset(),i=this._getTopOffset();for(let o=0,s=this._textLines.length;o<s;o++)this._renderTextLine(t,e,this._textLines[o],r+this._getLineLeftOffset(o),i+n+this.getHeightOfLineImpl(o),o),n+=this.getHeightOfLine(o);e.restore()}_renderTextFill(e){(this.fill||this.styleHas(As))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,t,n,r,i,o){const s=this.textAlign.includes(Il),a=this.path,l=!s&&0===this.charSpacing&&this.isEmptyStyles(o)&&!a,c=this.direction===bs,u=this.direction===bs?1:-1,h=t.direction;let d,f,g,p,m,A="",y=0;if(t.save(),h!==this.direction&&(t.canvas.setAttribute("dir",c?bs:ws),t.direction=c?bs:ws,t.textAlign=c?Jo:es),i-=this.getHeightOfLineImpl(o)*this._fontSizeFraction,l)return this._renderChar(e,t,o,0,n.join(""),r,i),void t.restore();for(let v=0,b=n.length-1;v<=b;v++)p=v===b||this.charSpacing||a,A+=n[v],g=this.__charBounds[o][v],0===y?(r+=u*(g.kernedWidth-g.width),y+=g.width):y+=g.kernedWidth,s&&!p&&this._reSpaceAndTab.test(n[v])&&(p=!0),p||(d=d||this.getCompleteStyleDeclaration(o,v),f=this.getCompleteStyleDeclaration(o,v+1),p=lu(d,f,!1)),p&&(a?(t.save(),t.translate(g.renderLeft,g.renderTop),t.rotate(g.angle),this._renderChar(e,t,o,v,A,-y/2,0),t.restore()):(m=r,this._renderChar(e,t,o,v,A,m,i)),A="",d=f,r+=u*y,y=0);t.restore()}_applyPatternGradientTransformText(e){const t=this.width+this.strokeWidth,n=this.height+this.strokeWidth,r=Ys({width:t,height:n}),i=r.getContext("2d");return r.width=t,r.height=n,i.beginPath(),i.moveTo(0,0),i.lineTo(t,0),i.lineTo(t,n),i.lineTo(0,n),i.closePath(),i.translate(t/2,n/2),i.fillStyle=e.toLive(i),this._applyPatternGradientTransform(i,e),i.fill(),i.createPattern(r,"no-repeat")}handleFiller(e,t,n){let r,i;return pa(n)?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?(r=-this.width/2,i=-this.height/2,e.translate(r,i),e[t]=this._applyPatternGradientTransformText(n),{offsetX:r,offsetY:i}):(e[t]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[t]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,t){let{stroke:n,strokeWidth:r}=t;return e.lineWidth=r,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,t){let{fill:n}=t;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,t,n,r,i,o,s){const a=this._getStyleDeclaration(n,r),l=this.getCompleteStyleDeclaration(n,r),c="fillText"===e&&l.fill,u="strokeText"===e&&l.stroke&&l.strokeWidth;if(u||c){if(t.save(),t.font=this._getFontDeclaration(l),a.textBackgroundColor&&this._removeShadow(t),a.deltaY&&(s+=a.deltaY),c){const e=this._setFillStyles(t,l);t.fillText(i,o-e.offsetX,s-e.offsetY)}if(u){const e=this._setStrokeStyles(t,l);t.strokeText(i,o-e.offsetX,s-e.offsetY)}t.restore()}}setSuperscript(e,t){this._setScript(e,t,this.superscript)}setSubscript(e,t){this._setScript(e,t,this.subscript)}_setScript(e,t,n){const r=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),o=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),s={fontSize:i*n.size,deltaY:o+i*n.baseline};this.setSelectionStyles(s,e,t)}_getLineLeftOffset(e){const t=this.getLineWidth(e),n=this.width-t,r=this.textAlign,i=this.direction,o=this.isEndOfWrapping(e);let s=0;return r===Il||r===Ol&&!o||r===Dl&&!o||r===Tl&&!o?0:(r===Xo&&(s=n/2),r===es&&(s=n),r===Ol&&(s=n/2),r===Dl&&(s=n),i===ws&&(r===es||r===Dl?s=0:r===Jo||r===Tl?s=-n:r!==Xo&&r!==Ol||(s=-n/2)),s)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(void 0!==this.__lineWidths[e])return this.__lineWidths[e];const{width:t}=this.measureLine(e);return this.__lineWidths[e]=t,t}_getWidthOfCharSpacing(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,t,n){var r;return null!==(r=this._getStyleDeclaration(e,t)[n])&&void 0!==r?r:this[n]}_renderTextDecoration(e,t){if(!this[t]&&!this.styleHas(t))return;let n=this._getTopOffset();const r=this._getLeftOffset(),i=this.path,o=this._getWidthOfCharSpacing(),s="linethrough"===t?.5:"overline"===t?1:0,a=this.offsets[t];for(let l=0,c=this._textLines.length;l<c;l++){const c=this.getHeightOfLine(l);if(!this[t]&&!this.styleHas(t,l)){n+=c;continue}const u=this._textLines[l],h=c/this.lineHeight,d=this._getLineLeftOffset(l);let f=0,g=0,p=this.getValueOfPropertyAt(l,0,t),m=this.getValueOfPropertyAt(l,0,As),A=this.getValueOfPropertyAt(l,0,xl),y=p,v=m,b=A;const w=n+h*(1-this._fontSizeFraction);let x=this.getHeightOfChar(l,0),E=this.getValueOfPropertyAt(l,0,"deltaY");for(let n=0,o=u.length;n<o;n++){const o=this.__charBounds[l][n];y=this.getValueOfPropertyAt(l,n,t),v=this.getValueOfPropertyAt(l,n,As),b=this.getValueOfPropertyAt(l,n,xl);const c=this.getHeightOfChar(l,n),u=this.getValueOfPropertyAt(l,n,"deltaY");if(i&&y&&v){const t=this.fontSize*b/1e3;e.save(),e.fillStyle=m,e.translate(o.renderLeft,o.renderTop),e.rotate(o.angle),e.fillRect(-o.kernedWidth/2,a*c+u-s*t,o.kernedWidth,t),e.restore()}else if((y!==p||v!==m||c!==x||b!==A||u!==E)&&g>0){const t=this.fontSize*A/1e3;let n=r+d+f;this.direction===ws&&(n=this.width-n-g),p&&m&&A&&(e.fillStyle=m,e.fillRect(n,w+a*x+E-s*t,g,t)),f=o.left,g=o.width,p=y,A=b,m=v,x=c,E=u}else g+=o.kernedWidth}let _=r+d+f;this.direction===ws&&(_=this.width-_-g),e.fillStyle=v;const C=this.fontSize*b/1e3;y&&v&&b&&e.fillRect(_,w+a*x+E-s*C,g-o,C),n+=c}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:t=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:r=this.fontSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||xd.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[t,n,"".concat(i?this.CACHE_FONT_SIZE:r,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return iu(e)}_splitTextIntoLines(e){const t=e.split(this._reNewline),n=new Array(t.length),r=["\n"];let i=[];for(let o=0;o<t.length;o++)n[o]=this.graphemeSplit(t[o]),i=i.concat(n[o],r);return i.pop(),{_unwrappedLines:n,lines:t,graphemeText:i,graphemeLines:n}}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(l({},super.toObject([...Sl,...e])),{},{styles:cu(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,t){const{textLayoutProperties:n}=this.constructor;super.set(e,t);let r=!1,i=!1;if("object"==typeof e)for(const o in e)"path"===o&&this.setPathInfo(),r=r||n.includes(o),i=i||"path"===o;else r=n.includes(e),i="path"===e;return i&&this.setPathInfo(),r&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,t,n){const r=Ou(e,xd.ATTRIBUTE_NAMES,n),i=l(l({},t),r),{textAnchor:o=Jo,textDecoration:s="",dx:a=0,dy:u=0,top:h=0,left:d=0,fontSize:f=Ko,strokeWidth:g=1}=i,p=c(i,wo),m=new this(cl(e.textContent||"").trim(),l({left:d+a,top:h+u,underline:s.includes("underline"),overline:s.includes("overline"),linethrough:s.includes("line-through"),strokeWidth:0,fontSize:f},p)),A=m.getScaledHeight()/m.height,y=((m.height+m.strokeWidth)*m.lineHeight-m.height)*A,v=m.getScaledHeight()+y;let b=0;return o===Xo&&(b=m.getScaledWidth()/2),o===es&&(b=m.getScaledWidth()),m.set({left:m.left-b,top:m.top-(v-m.fontSize*(.07+m._fontSizeFraction))/m.lineHeight,strokeWidth:g}),m}static fromObject(e){return this._fromObject(l(l({},e),{},{styles:uu(e.styles||{},e.text)}),{extraParam:"text"})}}So(xd,"textLayoutProperties",Cl),So(xd,"cacheProperties",[...Hl,...Sl]),So(xd,"ownDefaults",Bl),So(xd,"type","Text"),So(xd,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),So(xd,"ATTRIBUTE_NAMES",hu.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Vc(xd,[class extends bl{_toSVG(){const e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(e){const t=this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0}),n=this.path;return n?t+n._createBaseSVGMarkup(n._toSVG(),{reviver:e,withShadow:!0,additionalTransform:ga(this.calcOwnMatrix())}):t}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(e){let{textBgRects:t,textSpans:n}=e;const r=this.getSvgTextDecoration(this);return[t.join(""),'\t\t<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(vd,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",r?'text-decoration="'.concat(r,'" '):"","rtl"===this.direction?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",n.join(""),"</text>\n"]}_getSVGTextAndBg(e,t){const n=[],r=[];let i,o=e;this.backgroundColor&&r.push(...bd(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let s=0,a=this._textLines.length;s<a;s++)i=this._getLineLeftOffset(s),"rtl"===this.direction&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(r,s,t+i,o),this._setSVGTextLineText(n,s,t+i,o),o+=this.getHeightOfLine(s);return{textSpans:n,textBgRects:r}}_createTextCharSpan(e,t,n,r,i){const o=Bo.NUM_FRACTION_DIGITS,s=this.getSvgSpanStyles(t,e!==e.trim()||!!e.match(yd)),a=s?'style="'.concat(s,'"'):"",l=t.deltaY,c=l?' dy="'.concat(fa(l,o),'" '):"",{angle:u,renderLeft:h,renderTop:d,width:f}=i;let g="";if(void 0!==h){const e=f/2;u&&(g=' rotate="'.concat(fa(Ws(u),o),'"'));const t=ta({angle:Ws(u)});t[4]=h,t[5]=d;const i=new Ds(-e,0).transform(t);n=i.x,r=i.y}return'<tspan x="'.concat(fa(n,o),'" y="').concat(fa(r,o),'" ').concat(c).concat(g).concat(a,">").concat(nu(e),"</tspan>")}_setSVGTextLineText(e,t,n,r){const i=this.getHeightOfLine(t),o=this.textAlign.includes(Il),s=this._textLines[t];let a,l,c,u,h,d="",f=0;r+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let g=0,p=s.length-1;g<=p;g++)h=g===p||this.charSpacing||this.path,d+=s[g],c=this.__charBounds[t][g],0===f?(n+=c.kernedWidth-c.width,f+=c.width):f+=c.kernedWidth,o&&!h&&this._reSpaceAndTab.test(s[g])&&(h=!0),h||(a=a||this.getCompleteStyleDeclaration(t,g),l=this.getCompleteStyleDeclaration(t,g+1),h=lu(a,l,!0)),h&&(u=this._getStyleDeclaration(t,g),e.push(this._createTextCharSpan(d,u,n,r,c)),d="",a=l,"rtl"===this.direction?n-=f:n+=f,f=0)}_setSVGTextLineBg(e,t,n,r){const i=this._textLines[t],o=this.getHeightOfLine(t)/this.lineHeight;let s,a=0,l=0,c=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let u=0;u<i.length;u++){const{left:i,width:h,kernedWidth:d}=this.__charBounds[t][u];s=this.getValueOfPropertyAt(t,u,"textBackgroundColor"),s!==c?(c&&e.push(...bd(c,n+l,r,a,o)),l=i,a=h,c=s):a+=d}s&&e.push(...bd(c,n+l,r,a,o))}getSvgStyles(e){return"".concat(super.getSvgStyles(e)," text-decoration-thickness: ").concat(fa(this.textDecorationThickness*this.getObjectScaling().y/10,Bo.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(e,t){const{fontFamily:n,strokeWidth:r,stroke:i,fill:o,fontSize:s,fontStyle:a,fontWeight:l,textDecorationThickness:c,linethrough:u,overline:h,underline:d}=e,f=this.getSvgTextDecoration({underline:null!=d?d:this.underline,overline:null!=h?h:this.overline,linethrough:null!=u?u:this.linethrough}),g=c||this.textDecorationThickness;return[i?vl(ys,i):"",r?"stroke-width: ".concat(r,"; "):"",n?"font-family: ".concat(n.includes("'")||n.includes('"')?n:"'".concat(n,"'"),"; "):"",s?"font-size: ".concat(s,"px; "):"",a?"font-style: ".concat(a,"; "):"",l?"font-weight: ".concat(l,"; "):"",f?"text-decoration: ".concat(f,"; text-decoration-thickness: ").concat(fa(g*this.getObjectScaling().y/10,Bo.NUM_FRACTION_DIGITS),"%; "):"",o?vl(As,o):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(e){return["overline","underline","line-through"].filter(t=>e[t.replace("-","")]).join(" ")}}]),Cs.setClass(xd),Cs.setSVGClass(xd);class Ed{constructor(e){So(this,"target",void 0),So(this,"__mouseDownInPlace",!1),So(this,"__dragStartFired",!1),So(this,"__isDraggingOver",!1),So(this,"__dragStartSelection",void 0),So(this,"__dragImageDisposer",void 0),So(this,"_dispose",void 0),this.target=e;const t=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{t.forEach(e=>e()),this._dispose=void 0}}isPointerOverSelection(e){const t=this.target,n=t.getSelectionStartFromPointer(e);return t.isEditing&&n>=t.selectionStart&&n<=t.selectionEnd&&t.selectionStart<t.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const t=this.isActive();return t&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,t}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,t){var n;let{selectionStart:r,selectionEnd:i}=t;const o=this.target,s=o.canvas,a=new Ds(o.flipX?-1:1,o.flipY?-1:1),l=o._getCursorBoundaries(r),c=new Ds(l.left+l.leftOffset,l.top+l.topOffset).multiply(a).transform(o.calcTransformMatrix()),u=s.getScenePoint(e).subtract(c),h=o.getCanvasRetinaScaling(),d=o.getBoundingRect(),f=c.subtract(new Ds(d.left,d.top)),g=s.viewportTransform,p=f.add(u).transform(g,!0),m=o.backgroundColor,A=tu(o.styles);o.backgroundColor="";const y={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(y,0,r),o.setSelectionStyles(y,i,o.text.length),o.dirty=!0;const v=o.toCanvasElement({enableRetinaScaling:s.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=m,o.styles=A,o.dirty=!0,Eh(v,{position:"fixed",left:-v.width+"px",border:ts,width:v.width/h+"px",height:v.height/h+"px"}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{v.remove()},ba(e.target||this.target.hiddenTextarea).body.appendChild(v),null===(n=e.dataTransfer)||void 0===n||n.setDragImage(v,p.x,p.y)}onDragStart(e){this.__dragStartFired=!0;const t=this.target,n=this.isActive();if(n&&e.dataTransfer){const n=this.__dragStartSelection={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},r=t._text.slice(n.selectionStart,n.selectionEnd).join(""),i=l({text:t.text,value:r},n);e.dataTransfer.setData("text/plain",r),e.dataTransfer.setData("application/fabric",JSON.stringify({value:r,styles:t.getSelectionStyles(n.selectionStart,n.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,i)}return t.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const t=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return t<n.selectionStart||t>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:t}=e;const n=this.targetCanDrop(t);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:t}=e,n=this.targetCanDrop(t);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(t.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var t;const{e:n}=e,r=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let i=null===(t=n.dataTransfer)||void 0===t?void 0:t.getData("text/plain");if(i&&!r){const t=this.target,r=t.canvas;let o=t.getSelectionStartFromPointer(n);const{styles:s}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},a=i[Math.max(0,i.length-1)],l=0;if(this.__dragStartSelection){const e=this.__dragStartSelection.selectionStart,n=this.__dragStartSelection.selectionEnd;o>e&&o<=n?o=e:o>n&&(o-=n-e),t.removeChars(e,n),delete this.__dragStartSelection}t._reNewline.test(a)&&(t._reNewline.test(t._text[o])||o===t._text.length)&&(i=i.trimEnd()),e.didDrop=!0,e.dropTarget=t,t.insertChars(i,s,o),r.setActiveObject(t),t.enterEditing(n),t.selectionStart=Math.min(o+l,t._text.length),t.selectionEnd=Math.min(t.selectionStart+i.length,t._text.length),t.hiddenTextarea.value=t.text,t._updateTextarea(),t.hiddenTextarea.focus(),t.fire(hs,{index:o+l,action:"drop"}),r.fire("text:changed",{target:t}),r.contextTopDirty=!0,r.requestRenderAll()}}dragEndHandler(e){let{e:t}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const e=this.target,r=this.target.canvas,{selectionStart:i,selectionEnd:o}=this.__dragStartSelection,s=(null===(n=t.dataTransfer)||void 0===n?void 0:n.dropEffect)||ts;s===ts?(e.selectionStart=i,e.selectionEnd=o,e._updateTextarea(),e.hiddenTextarea.focus()):(e.clearContextTop(),"move"===s&&(e.removeChars(i,o),e.selectionStart=e.selectionEnd=i,e.hiddenTextarea&&(e.hiddenTextarea.value=e.text),e._updateTextarea(),e.fire(hs,{index:i,action:"dragend"}),r.fire("text:changed",{target:e}),r.requestRenderAll()),e.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const _d=/[ \n\.,;!\?\-]/;class Cd extends xd{constructor(){super(...arguments),So(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:t,duration:n,delay:r,onComplete:i}=e;return sc({startValue:this._currentCursorOpacity,endValue:t,duration:n,delay:r,onComplete:i,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:e=>{this._currentCursorOpacity=e,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;null===(e=this._currentTickCompleteState)||void 0===e||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(t=>{t&&!t.isDone()&&(e=!0,t.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t}findWordBoundaryRight(e){let t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t}findLineBoundaryLeft(e){let t=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t}findLineBoundaryRight(e){let t=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t}searchWordBoundary(e,t){const n=this._text;let r=e>0&&this._reSpace.test(n[e])&&(-1===t||!ns.test(n[e-1]))?e-1:e,i=n[r];for(;r>0&&r<n.length&&!_d.test(i);)r+=t,i=n[r];return-1===t&&_d.test(i)&&r++,r}selectWord(e){e=null!=e?e:this.selectionStart;const t=this.searchWordBoundary(e,-1),n=Math.max(t,this.searchWordBoundary(e,1));this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){e=null!=e?e:this.selectionStart;const t=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e:e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const t=this.hiddenTextarea;ba(t).activeElement!==t&&t.focus();const n=this.getSelectionStartFromPointer(e),r=this.selectionStart,i=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&r!==i||r!==n&&i!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===r&&this.selectionEnd===i||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,t,n){const r=n.slice(0,e),i=this.graphemeSplit(r).length;if(e===t)return{selectionStart:i,selectionEnd:i};const o=n.slice(e,t);return{selectionStart:i,selectionEnd:i+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,t,n){const r=n.slice(0,e).join("").length;return e===t?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(e,t).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){const{hiddenTextarea:e,direction:t,textAlign:n,inCompositionMode:r}=this;if(!e)return;const i=n!==Il?n.replace("justify-",""):t===bs?Jo:es,o=this.getPositionByOrigin(i,"top");this.cursorOffsetCache={},this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setPositionByOrigin(o,i,"top"),this.setCoords();const s=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=s.selectionEnd,r||(this.selectionStart=s.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),r=n.lineIndex,i=n.charIndex,o=this.getValueOfPropertyAt(r,i,"fontSize")*this.lineHeight,s=t.leftOffset,a=this.getCanvasRetinaScaling(),l=this.canvas.upperCanvasEl,c=l.width/a,u=l.height/a,h=c-o,d=u-o,f=new Ds(t.left+s,t.top+t.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new Ds(l.clientWidth/c,l.clientHeight/u));return f.x<0&&(f.x=0),f.x>h&&(f.x=h),f.y<0&&(f.y=0),f.y>d&&(f.y=d),f.x+=this.canvas._offset.left,f.y+=this.canvas._offset.top,{left:"".concat(f.x,"px"),top:"".concat(f.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}exitEditingImpl(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(vs),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,t){const{lineIndex:n,charIndex:r}=this.get2DCursorLocation(e,!0),{lineIndex:i,charIndex:o}=this.get2DCursorLocation(t,!0);if(n!==i){if(this.styles[n])for(let e=r;e<this._unwrappedTextLines[n].length;e++)delete this.styles[n][e];if(this.styles[i])for(let e=o;e<this._unwrappedTextLines[i].length;e++){const t=this.styles[i][e];t&&(this.styles[n]||(this.styles[n]={}),this.styles[n][r+e-o]=t)}for(let e=n+1;e<=i;e++)delete this.styles[e];this.shiftLineStyles(i,n-i)}else if(this.styles[n]){const e=this.styles[n],t=o-r;for(let n=r;n<o;n++)delete e[n];for(const r in this.styles[n]){const n=parseInt(r,10);n>=o&&(e[n-t]=e[r],delete e[r])}}}shiftLineStyles(e,t){const n=Object.assign({},this.styles);for(const r in this.styles){const i=parseInt(r,10);i>e&&(this.styles[i+t]=n[i],n[i-t]||delete this.styles[i])}}insertNewlineStyleObject(e,t,n,r){const i={},o=this._unwrappedTextLines[e].length,s=o===t;let a=!1;n||(n=1),this.shiftLineStyles(e,n);const c=this.styles[e]?this.styles[e][0===t?t:t-1]:void 0;for(const l in this.styles[e]){const n=parseInt(l,10);n>=t&&(a=!0,i[n-t]=this.styles[e][l],s&&0===t||delete this.styles[e][l])}let u=!1;for(a&&!s&&(this.styles[e+n]=i,u=!0),(u||o>t)&&n--;n>0;)r&&r[n-1]?this.styles[e+n]={0:l({},r[n-1])}:c?this.styles[e+n]={0:l({},c)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,t,n,r){this.styles||(this.styles={});const i=this.styles[e],o=i?l({},i):{};n||(n=1);for(const a in o){const e=parseInt(a,10);e>=t&&(i[e+n]=o[e],o[e-n]||delete i[e])}if(this._forceClearCache=!0,r){for(;n--;)Object.keys(r[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+n]=l({},r[n]));return}if(!i)return;const s=i[t?t-1:1];for(;s&&n--;)this.styles[e][t+n]=l({},s)}insertNewStyleBlock(e,t,n){const r=this.get2DCursorLocation(t,!0),i=[0];let o,s=0;for(let a=0;a<e.length;a++)"\n"===e[a]?(s++,i[s]=0):i[s]++;for(i[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),s&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+i[0],s),o=1;o<s;o++)i[o]>0?this.insertCharStyleObject(r.lineIndex+o,0,i[o],n):n&&this.styles[r.lineIndex+o]&&n[0]&&(this.styles[r.lineIndex+o][0]=n[0]),n=n&&n.slice(i[o]+1);i[o]>0&&this.insertCharStyleObject(r.lineIndex+o,0,i[o],n)}removeChars(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e+1;this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;r>n&&this.removeStyleFromTo(n,r);const i=this.graphemeSplit(e);this.insertNewStyleBlock(i,n,t),this._text=[...this._text.slice(0,n),...i,...this._text.slice(r)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,t,n){n<=e?(t===e?this._selectionDirection=Jo:this._selectionDirection===es&&(this._selectionDirection=Jo,this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?this._selectionDirection===es?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection=es:this._selectionDirection===Jo&&(this._selectionDirection=es,this.selectionStart=t),this.selectionEnd=n)}}class Sd extends Cd{initHiddenTextarea(){const e=this.canvas&&ba(this.canvas.getElement())||Ro(),t=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off",name:"fabricTextarea"}).map(e=>{let[n,r]=e;return t.setAttribute(n,r)});const{top:n,left:r,fontSize:i}=this._calcTextareaPosition();t.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(r,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(i,";"),(this.hiddenTextareaContainer||e.body).appendChild(t),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(e=>{let[n,r]=e;return t.addEventListener(n,this[r].bind(this))}),this.hiddenTextarea=t}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const t="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const t=this.fromPaste,{value:n,selectionStart:r,selectionEnd:i}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const o=()=>{this.updateFromTextArea(),this.fire(hs),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(""===this.hiddenTextarea.value)return this.styles={},void o();const s=this._splitTextIntoLines(n).graphemeText,a=this._text.length,l=s.length,c=this.selectionStart,u=this.selectionEnd,h=c!==u;let d,f,g,p,m=l-a;const A=this.fromStringToGraphemeSelection(r,i,n),y=c>A.selectionStart;h?(f=this._text.slice(c,u),m+=u-c):l<a&&(f=y?this._text.slice(u+m,u):this._text.slice(c,c-m));const v=s.slice(A.selectionEnd-m,A.selectionEnd);if(f&&f.length&&(v.length&&(d=this.getSelectionStyles(c,c+1,!1),d=v.map(()=>d[0])),h?(g=c,p=u):y?(g=u-f.length,p=u):(g=u,p=u+f.length),this.removeStyleFromTo(g,p)),v.length){const{copyPasteData:e}=Po();t&&v.join("")===e.copiedText&&!Bo.disableStyleCopyPaste&&(d=e.copiedTextStyle),this.insertNewStyleBlock(v,c,d)}o()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:t}=e;const{selectionStart:n,selectionEnd:r}=t;this.compositionStart=n,this.compositionEnd=r,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=Po();e.copiedText=this.getSelectedText(),Bo.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,t){let n,r=this._getLineLeftOffset(e);return t>0&&(n=this.__charBounds[e][t-1],r+=n.left+n.width),r}getDownCursorOffset(e,t){const n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(i===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;const o=r.charIndex,s=this._getWidthBeforeCursor(i,o),a=this._getIndexOnLine(i+1,s);return this._textLines[i].slice(o).length+a+1+this.missingNewlineOffset(i)}_getSelectionForOffset(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,t){const n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(0===i||e.metaKey||33===e.keyCode)return-n;const o=r.charIndex,s=this._getWidthBeforeCursor(i,o),a=this._getIndexOnLine(i-1,s),l=this._textLines[i].slice(0,o),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+a-l.length+(1-c)}_getIndexOnLine(e,t){const n=this._textLines[e];let r,i,o=this._getLineLeftOffset(e),s=0;for(let a=0,l=n.length;a<l;a++)if(r=this.__charBounds[e][a].width,o+=r,o>t){i=!0;const e=o-r,n=o,l=Math.abs(e-t);s=Math.abs(n-t)<l?a:a-1;break}return i||(s=n.length-1),s}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,t){const n=this["get".concat(e,"CursorOffset")](t,this._selectionDirection===es);if(t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n){const e=this.text.length;this.selectionStart=Ul(0,this.selectionStart,e),this.selectionEnd=Ul(0,this.selectionEnd,e),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const t=this._selectionDirection===Jo?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e}moveCursorLeft(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)}_move(e,t,n){let r;if(e.altKey)r=this["findWordBoundary".concat(n)](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;r=this["findLineBoundary".concat(n)](this[t])}return void 0!==r&&this[t]!==r&&(this[t]=r,!0)}_moveLeft(e,t){return this._move(e,t,"Left")}_moveRight(e,t){return this._move(e,t,"Right")}moveCursorLeftWithoutShift(e){let t=!0;return this._selectionDirection=Jo,this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t}moveCursorLeftWithShift(e){return this._selectionDirection===es&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection=Jo,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,t){const n="moveCursor".concat(e).concat(t.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Jo&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=es,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let t=!0;return this._selectionDirection=es,this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t}}const kd=e=>!!e.button;class Bd extends Sd{constructor(){super(...arguments),So(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new Ed(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:t,alreadySelected:n}=e;this.canvas&&this.editable&&!kd(t)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),n&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=n||this.isEditing)))}mouseUpHandler(e){let{e:t,transform:n}=e;const r=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);const e=this.canvas._activeObject;if(e&&e!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||kd(t)||r||this.selected&&!this.getActiveControl()&&(this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const t=this.getSelectionStartFromPointer(e),n=this.selectionStart,r=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,r,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const t=this.canvas.getScenePoint(e).transform(qs(this.calcTransformMatrix())).add(new Ds(-this._getLeftOffset(),-this._getTopOffset()));let n=0,r=0,i=0;for(let l=0;l<this._textLines.length&&n<=t.y;l++)n+=this.getHeightOfLine(l),i=l,l>0&&(r+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));let o=Math.abs(this._getLineLeftOffset(i));const s=this._textLines[i].length,a=this.__charBounds[i];for(let l=0;l<s;l++){const e=o+a[l].kernedWidth;if(t.x<=e){Math.abs(t.x-e)<=Math.abs(t.x-o)&&r++;break}o=e,r++}return Math.min(this.flipX?s-r:r,this._text.length)}}const Id="moveCursorUp",Td="moveCursorDown",Dd="moveCursorLeft",Od="moveCursorRight",Md="exitEditing",Fd=(e,t)=>{const n=t.getRetinaScaling();e.setTransform(n,0,0,n,0,0);const r=t.viewportTransform;e.transform(r[0],r[1],r[2],r[3],r[4],r[5])},jd={selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Md,27:Md,33:Id,34:Td,35:Od,36:Dd,37:Dd,38:Id,39:Od,40:Td},keysMapRtl:{9:Md,27:Md,33:Id,34:Td,35:Dd,36:Od,37:Od,38:Id,39:Dd,40:Td},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"},_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1};class Pd extends Bd{static getDefaults(){return l(l({},super.getDefaults()),Pd.ownDefaults)}get type(){const e=super.type;return"itext"===e?"i-text":e}constructor(e,t){super(e,l(l({},Pd.ownDefaults),t)),this.initBehavior()}_set(e,t){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=t,this):("canvas"===e&&(this.canvas instanceof Gh&&this.canvas.textEditingManager.remove(this),t instanceof Gh&&t.textEditingManager.add(this)),super._set(e,t))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart||0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,t,n)}setSelectionStyles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionStart||0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,t,n)}get2DCursorLocation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,t)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const t=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=t,n}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const t=this._getCursorBoundaries(),n=this.findAncestorsWithClipPath(),r=n.length>0;let i,o=e;if(r){i=Ys(e.canvas),o=i.getContext("2d"),Fd(o,this.canvas);const t=this.calcTransformMatrix();o.transform(t[0],t[1],t[2],t[3],t[4],t[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(o,t):this.renderCursor(o,t),r)for(const s of n){const t=s.clipPath,n=Ys(e.canvas),r=n.getContext("2d");if(Fd(r,this.canvas),!t.absolutePositioned){const e=s.calcTransformMatrix();r.transform(e[0],e[1],e[2],e[3],e[4],e[5])}t.transform(r),t.drawObject(r,!0,{}),this.drawClipPathOnCache(o,t,n)}r&&(e.setTransform(1,0,0,1,0,0),e.drawImage(i,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let t=this;for(;t;)t.clipPath&&e.push(t),t=t.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),r=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e,t);return{left:n,top:r,leftOffset:i.left,topOffset:i.top}}_getCursorBoundariesOffsets(e,t){return t?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let t=0,n=0;const{charIndex:r,lineIndex:i}=this.get2DCursorLocation(e),{textAlign:o,direction:s}=this;for(let u=0;u<i;u++)t+=this.getHeightOfLine(u);const a=this._getLineLeftOffset(i),l=this.__charBounds[i][r];l&&(n=l.left),0!==this.charSpacing&&r===this._textLines[i].length&&(n-=this._getWidthOfCharSpacing());let c=a+(n>0?n:0);return s===ws&&(o===es||o===Il||o===Dl?c*=-1:o===Jo||o===Tl?c=a-(n>0?n:0):o!==Xo&&o!==Ol||(c=a-(n>0?n:0))),{top:t,left:c}}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,t){this._renderCursor(e,t,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getCursorBoundaries(e);const n=this.get2DCursorLocation(e),r=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(r,i,"fontSize"),s=this.getObjectScaling().x*this.canvas.getZoom(),a=this.cursorWidth/s,l=this.getValueOfPropertyAt(r,i,"deltaY"),c=t.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(r,i,"fill"),opacity:this._currentCursorOpacity,left:t.left+t.leftOffset-a/2,top:c+t.top+l,width:a,height:o}}_renderCursor(e,t,n){const{color:r,opacity:i,left:o,top:s,width:a,height:l}=this.getCursorRenderingData(n,t);e.fillStyle=r,e.globalAlpha=i,e.fillRect(o,s,a,l)}renderSelection(e,t){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,t)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const t=this.getSelectionStartFromPointer(e);this.renderCursorAt(t)}_renderSelection(e,t,n){const{textAlign:r,direction:i}=this,o=t.selectionStart,s=t.selectionEnd,a=r.includes(Il),l=this.get2DCursorLocation(o),c=this.get2DCursorLocation(s),u=l.lineIndex,h=c.lineIndex,d=l.charIndex<0?0:l.charIndex,f=c.charIndex<0?0:c.charIndex;for(let g=u;g<=h;g++){const t=this._getLineLeftOffset(g)||0;let o=this.getHeightOfLine(g),s=0,l=0,c=0;if(g===u&&(l=this.__charBounds[u][d].left),g>=u&&g<h)c=a&&!this.isEndOfWrapping(g)?this.width:this.getLineWidth(g)||5;else if(g===h)if(0===f)c=this.__charBounds[h][f].left;else{const e=this._getWidthOfCharSpacing();c=this.__charBounds[h][f-1].left+this.__charBounds[h][f-1].width-e}s=o,(this.lineHeight<1||g===h&&this.lineHeight>1)&&(o/=this.lineHeight);let p=n.left+t+l,m=o,A=0;const y=c-l;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",m=1,A=o):e.fillStyle=this.selectionColor,i===ws&&(r===es||r===Il||r===Dl?p=this.width-p-y:r===Jo||r===Tl?p=n.left+t-c:r!==Xo&&r!==Ol||(p=n.left+t-c)),e.fillRect(p,n.top+n.topOffset+A,y,m),n.topOffset+=s}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,As)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}So(Pd,"ownDefaults",jd),So(Pd,"type","IText"),Cs.setClass(Pd),Cs.setClass(Pd,"i-text");class Rd extends Pd{static getDefaults(){return l(l({},super.getDefaults()),Rd.ownDefaults)}constructor(e,t){super(e,l(l({},Rd.ownDefaults),t))}static createControls(){return{controls:Hc()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Il)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let t=0,n=0,r=0;const i={};for(let o=0;o<e.graphemeLines.length;o++)"\n"===e.graphemeText[r]&&o>0?(n=0,r++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[r])&&o>0&&(n++,r++),i[o]={line:t,offset:n},r+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return i}styleHas(e,t){if(this._styleMap&&!this.isWrapping){const e=this._styleMap[t];e&&(t=e.line)}return super.styleHas(e,t)}isEmptyStyles(e){if(!this.styles)return!0;let t,n=0,r=e+1,i=!1;const o=this._styleMap[e],s=this._styleMap[e+1];o&&(e=o.line,n=o.offset),s&&(r=s.line,i=r===e,t=s.offset);const a=void 0===e?this.styles:{line:this.styles[e]};for(const l in a)for(const e in a[l]){const r=parseInt(e,10);if(r>=n&&(!i||r<t))for(const t in a[l][e])return!1}return!0}_getStyleDeclaration(e,t){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,t=n.offset+t}return super._getStyleDeclaration(e,t)}_setStyleDeclaration(e,t,n){const r=this._styleMap[e];super._setStyleDeclaration(r.line,r.offset+t,n)}_deleteStyleDeclaration(e,t){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+t)}_getLineStyle(e){const t=this._styleMap[e];return!!this.styles[t.line]}_setLineStyle(e){const t=this._styleMap[e];super._setLineStyle(t.line)}_wrapText(e,t){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),r=[];for(let i=0;i<n.wordsData.length;i++)r.push(...this._wrapLine(i,t,n));return this.isWrapping=!1,r}getGraphemeDataForRender(e){const t=this.splitByGrapheme,n=t?"":" ";let r=0;return{wordsData:e.map((e,i)=>{let o=0;const s=t?this.graphemeSplit(e):this.wordSplit(e);return 0===s.length?[{word:[],width:0}]:s.map(e=>{const s=t?[e]:this.graphemeSplit(e),a=this._measureWord(s,i,o);return r=Math.max(a,r),o+=s.length+n.length,{word:s,width:a}})}),largestWordWidth:r}}_measureWord(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0;for(let o=0,s=e.length;o<s;o++)i+=this._getGraphemeBox(e[o],t,o+r,n,!0).kernedWidth,n=e[o];return i}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,t,n){let{largestWordWidth:r,wordsData:i}=n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s=this._getWidthOfCharSpacing(),a=this.splitByGrapheme,l=[],c=a?"":" ";let u=0,h=[],d=0,f=0,g=!0;t-=o;const p=Math.max(t,r,this.dynamicMinWidth),m=i[e];let A;for(d=0,A=0;A<m.length;A++){const{word:t,width:n}=m[A];d+=t.length,u+=f+n-s,u>p&&!g?(l.push(h),h=[],u=n,g=!0):u+=s,g||a||h.push(c),h=h.concat(t),f=a?0:this._measureWord([c],e,d),d++,g=!1}return A&&l.push(h),r+o>this.dynamicMinWidth&&(this.dynamicMinWidth=r-s+o),l}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,t){return this.splitByGrapheme&&!t?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const t=super._splitTextIntoLines(e),n=this._wrapText(t.lines,this.width),r=new Array(n.length);for(let i=0;i<n.length;i++)r[i]=n[i].join("");return t.lines=r,t.graphemeLines=n,t}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const t in this._styleMap){const n=parseInt(t,10);if(this._textLines[n]){const n=this._styleMap[t].line;e.set("".concat(n),!0)}}for(const t in this.styles)e.has(t)||delete this.styles[t]}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}So(Rd,"type","Textbox"),So(Rd,"textLayoutProperties",[...Pd.textLayoutProperties,"width"]),So(Rd,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),Cs.setClass(Rd);class Ld extends zu{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,t){const{target:n}=e,{clipPath:r,group:i}=n;if(!r||!this.shouldPerformLayout(e))return;const{width:o,height:s}=Oa(Nu(n,r)),a=new Ds(o,s);if(r.absolutePositioned)return{center:Na(r.getRelativeCenterPoint(),void 0,i?i.calcTransformMatrix():void 0),size:a};{const i=r.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:n=new Ds,correction:r=new Ds}=this.calcBoundingBox(t,e)||{};return{center:n.add(i),correction:r.subtract(i),size:a}}return{center:n.getRelativeCenterPoint().add(i),size:a}}}}So(Ld,"type","clip-path"),Cs.setClass(Ld);class Nd extends zu{getInitialSize(e,t){let{target:n}=e,{size:r}=t;return new Ds(n.width||r.x,n.height||r.y)}}So(Nd,"type","fixed"),Cs.setClass(Nd);class zd extends Uu{subscribeTargets(e){const t=e.target;e.targets.reduce((e,t)=>(t.parent&&e.add(t.parent),e),new Set).forEach(e=>{e.layoutManager.subscribeTargets({target:e,targets:[t]})})}unsubscribeTargets(e){const t=e.target,n=t.getObjects();e.targets.reduce((e,t)=>(t.parent&&e.add(t.parent),e),new Set).forEach(e=>{!n.some(t=>t.parent===e)&&e.layoutManager.unsubscribeTargets({target:e,targets:[t]})})}}class Qd extends Hu{static getDefaults(){return l(l({},super.getDefaults()),Qd.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,Qd.ownDefaults),this.setOptions(t);const{left:n,top:r,layoutManager:i}=t;this.groupInit(e,{left:n,top:r,layoutManager:null!=i?i:new zd})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"selection-order"===this.multiSelectionStacking?this.add(...t):t.forEach(e=>{const t=this._objects.findIndex(t=>t.isInFrontOf(e)),n=-1===t?this.size():t;this.insertAt(n,e)})}canEnterGroup(e){return this.getObjects().some(t=>t.isDescendantOf(e)||e.isDescendantOf(t))?(Io("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,t){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,t)}exitGroup(e,t){this._exitGroup(e,t),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,t){super._onAfterObjectsChange(e,t);const n=new Set;t.forEach(e=>{const{parent:t}=e;t&&n.add(t)}),e===Ru?n.forEach(e=>{e._onAfterObjectsChange(Pu,t)}):n.forEach(e=>{e._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const r=l(l({hasControls:!1},n),{},{forActiveSelection:!0});for(let i=0;i<this._objects.length;i++)this._objects[i]._renderControls(e,r);super._renderControls(e,t),e.restore()}}So(Qd,"type","ActiveSelection"),So(Qd,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),Cs.setClass(Qd),Cs.setClass(Qd,"activeSelection");class Yd{constructor(){So(this,"resources",{})}applyFilters(e,t,n,r,i){const o=i.getContext("2d",{willReadFrequently:!0,desynchronized:!0});if(!o)return;o.drawImage(t,0,0,n,r);const s={sourceWidth:n,sourceHeight:r,imageData:o.getImageData(0,0,n,r),originalEl:t,originalImageData:o.getImageData(0,0,n,r),canvasEl:i,ctx:o,filterBackend:this};e.forEach(e=>{e.applyTo(s)});const{imageData:a}=s;return a.width===n&&a.height===r||(i.width=a.width,i.height=a.height),o.putImageData(a,0,0),s}}class Ud{constructor(){let{tileSize:e=Bo.textureSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};So(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),So(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,t){this.dispose(),this.createWebGLCanvas(e,t)}createWebGLCanvas(e,t){const n=Ys({width:e,height:t}),r=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});r&&(r.clearColor(0,0,0,0),this.canvas=n,this.gl=r)}applyFilters(e,t,n,r,i,o){const s=this.gl,a=i.getContext("2d");if(!s||!a)return;let l;o&&(l=this.getCachedTexture(o,t));const c={originalWidth:t.width||t.naturalWidth||0,originalHeight:t.height||t.naturalHeight||0,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:s,sourceTexture:this.createTexture(s,n,r,l?void 0:t),targetTexture:this.createTexture(s,n,r),originalTexture:l||this.createTexture(s,n,r,l?void 0:t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},u=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,u),e.forEach(e=>{e&&e.applyTo(c)}),function(e){const t=e.targetCanvas,n=t.width,r=t.height,i=e.destinationWidth,o=e.destinationHeight;n===i&&r===o||(t.width=i,t.height=o)}(c),this.copyGLTo2D(s,c),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(c.sourceTexture),s.deleteTexture(c.targetTexture),s.deleteFramebuffer(u),a.setTransform(1,0,0,1,0,0),c}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,t,n,r,i){const{NEAREST:o,TEXTURE_2D:s,RGBA:a,UNSIGNED_BYTE:l,CLAMP_TO_EDGE:c,TEXTURE_MAG_FILTER:u,TEXTURE_MIN_FILTER:h,TEXTURE_WRAP_S:d,TEXTURE_WRAP_T:f}=e,g=e.createTexture();return e.bindTexture(s,g),e.texParameteri(s,u,i||o),e.texParameteri(s,h,i||o),e.texParameteri(s,d,c),e.texParameteri(s,f,c),r?e.texImage2D(s,0,a,a,l,r):e.texImage2D(s,0,a,t,n,0,a,l,null),g}getCachedTexture(e,t,n){const{textureCache:r}=this;if(r[e])return r[e];{const i=this.createTexture(this.gl,t.width,t.height,t,n);return i&&(r[e]=i),i}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,t){const n=e.canvas,r=t.targetCanvas,i=r.getContext("2d");if(!i)return;i.translate(0,r.height),i.scale(1,-1);const o=n.height-r.height;i.drawImage(n,0,o,r.width,r.height,0,0,r.width,r.height)}copyGLTo2DPutImageData(e,t){const n=t.targetCanvas.getContext("2d"),r=t.destinationWidth,i=t.destinationHeight,o=r*i*4;if(!n)return;const s=new Uint8Array(this.imageBuffer,0,o),a=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,r,i,e.RGBA,e.UNSIGNED_BYTE,s);const l=new ImageData(a,r,i);n.putImageData(l,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,t={renderer:"",vendor:""};if(!e)return t;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const r=e.getParameter(n.UNMASKED_RENDERER_WEBGL),i=e.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(t.renderer=r.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}let Gd;function Hd(){return!Gd&&(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(Gd=function(){const{WebGLProbe:e}=Po();return e.queryWebGL(zs()),Bo.enableGLFiltering&&e.isSupported(Bo.textureSize)?new Ud({tileSize:Bo.textureSize}):new Yd}()),Gd}const Wd=["cropX","cropY"];class Vd extends Kc{static getDefaults(){return l(l({},super.getDefaults()),Vd.ownDefaults)}constructor(e,t){super(),So(this,"_lastScaleX",1),So(this,"_lastScaleY",1),So(this,"_filterScalingX",1),So(this,"_filterScalingY",1),this.filters=[],Object.assign(this,Vd.ownDefaults),this.setOptions(t),this.cacheKey="texture".concat(Ns()),this.setElement("string"==typeof e?(this.canvas&&ba(this.canvas.getElement())||Ro()).getElementById(e):e,t)}getElement(){return this._element}setElement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const t=Hd(!1);t instanceof Ud&&t.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const t=this[e];t&&Po().dispose(t),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||0===this.strokeWidth)return;const t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=[];return this.filters.forEach(e=>{e&&t.push(e.toObject())}),l(l({},super.toObject([...Wd,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],t=this._element,n=-this.width/2,r=-this.height/2;let i=[],o=[],s="",a="";if(!t)return[];if(this.hasCrop()){const e=Ns();i.push('<clipPath id="imageCrop_'+e+'">\n','\t<rect x="'+n+'" y="'+r+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),s=' clip-path="url(#imageCrop_'+e+')" '}if(this.imageSmoothing||(a=' image-rendering="optimizeSpeed"'),e.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(r-this.cropY,'" width="').concat(t.width||t.naturalWidth,'" height="').concat(t.height||t.naturalHeight,'"').concat(a).concat(s,"></image>\n")),this.stroke||this.strokeDashArray){const e=this.fill;this.fill=null,o=['\t<rect x="'.concat(n,'" y="').concat(r,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),'" />\n')],this.fill=e}return i=this.paintFirst!==As?i.concat(o,e):i.concat(e,o),i}getSrc(e){const t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return la(e,{crossOrigin:t,signal:n}).then(e=>{void 0!==t&&this.set({crossOrigin:t}),this.setElement(e)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.x,i=n.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||r>t&&i>t)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=i);const s=Ys(o),{width:a,height:l}=o;this._element=s,this._lastScaleX=e.scaleX=r,this._lastScaleY=e.scaleY=i,Hd().applyFilters([e],o,a,l,this._element),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.filters||[];if(e=e.filter(e=>e&&!e.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),0===e.length)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const t=this._originalElement,n=t.naturalWidth||t.width,r=t.naturalHeight||t.height;if(this._element===this._originalElement){const e=Ys({width:n,height:r});this._element=e,this._filteredEl=e}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1);Hd().applyFilters(e,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const t=this._element;if(!t)return;const n=this._filterScalingX,r=this._filterScalingY,i=this.width,o=this.height,s=Math.max(this.cropX,0),a=Math.max(this.cropY,0),l=t.naturalWidth||t.width,c=t.naturalHeight||t.height,u=s*n,h=a*r,d=Math.min(i*n,l-u),f=Math.min(o*r,c-h),g=-i/2,p=-o/2,m=Math.min(i,l/n-s),A=Math.min(o,c/r-a);t&&e.drawImage(t,u,h,d,f,g,p,m,A)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=t||n.height}parsePreserveAspectRatioAttribute(){const e=yl(this.preserveAspectRatio||""),t=this.width,n=this.height,r={width:t,height:n};let i,o=this._element.width,s=this._element.height,a=1,l=1,c=0,u=0,h=0,d=0;return!e||e.alignX===ts&&e.alignY===ts?(a=t/o,l=n/s):("meet"===e.meetOrSlice&&(a=l=Wu(this._element,r),i=(t-o*a)/2,"Min"===e.alignX&&(c=-i),"Max"===e.alignX&&(c=i),i=(n-s*l)/2,"Min"===e.alignY&&(u=-i),"Max"===e.alignY&&(u=i)),"slice"===e.meetOrSlice&&(a=l=Vu(this._element,r),i=o-t/a,"Mid"===e.alignX&&(h=i/2),"Max"===e.alignX&&(h=i),i=s-n/l,"Mid"===e.alignY&&(d=i/2),"Max"===e.alignY&&(d=i),o=t/a,s=n/l)),{width:o,height:s,scaleX:a,scaleY:l,offsetLeft:c,offsetTop:u,cropX:h,cropY:d}}static fromObject(e,t){let{filters:n,resizeFilter:r,src:i,crossOrigin:o,type:s}=e,a=c(e,xo);return Promise.all([la(i,l(l({},t),{},{crossOrigin:o})),n&&ca(n,t),r?ca([r],t):[],ua(a,t)]).then(e=>{let[t,n=[],[r],o={}]=e;return new this(t,l(l({},a),{},{src:i,filters:n,resizeFilter:r},o))})}static fromURL(e){let{crossOrigin:t=null,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return la(e,{crossOrigin:t,signal:n}).then(e=>new this(e,r))}static async fromElement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=Ou(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(r["xlink:href"]||r.href,t,r).catch(e=>(Io("log","Unable to parse Image",e),null))}}So(Vd,"type","Image"),So(Vd,"cacheProperties",[...Hl,...Wd]),So(Vd,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),So(Vd,"ATTRIBUTE_NAMES",[...hu,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),Cs.setClass(Vd),Cs.setSVGClass(Vd);wl(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Kd=e=>void 0!==e.webgl,qd="precision highp float",Xd="\n    ".concat(qd,";\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n    void main() {\n      gl_FragColor = texture2D(uTexture, vTexCoord);\n    }"),Jd=new RegExp(qd,"g");class Zd{get type(){return this.constructor.type}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:t}=e,n=c(e,Eo);Object.assign(this,this.constructor.defaults,n)}getFragmentSource(){return Xd}getVertexSource(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    void main() {\n      vTexCoord = aPosition;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }"}createProgram(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:r="highp"}}=Po();"highp"!==r&&(t=t.replace(Jd,qd.replace("highp",r)));const i=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),s=e.createProgram();if(!i||!o||!s)throw new To("Vertex, fragment shader or program creation error");if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new To("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(i)));if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new To("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(s,i),e.attachShader(s,o),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw new To('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(s)));const a=this.getUniformLocations(e,s)||{};return a.uStepW=e.getUniformLocation(s,"uStepW"),a.uStepH=e.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:this.getAttributeLocations(e,s),uniformLocations:a}}getAttributeLocations(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}}getUniformLocations(e,t){const n=this.constructor.uniformLocations,r={};for(let i=0;i<n.length;i++)r[n[i]]=e.getUniformLocation(t,n[i]);return r}sendAttributeData(e,t,n){const r=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const t=e.context;if(e.passes>1){const n=e.destinationWidth,r=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===r||(t.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(t,n,r)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish()}_swapTextures(e){e.passes--,e.pass++;const t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t}isNeutralState(e){return!1}applyTo(e){Kd(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const t=this.getCacheKey();return e.programCache[t]||(e.programCache[t]=this.createProgram(e.context)),e.programCache[t]}applyToWebGL(e){const t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,t){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:t,sourceHeight:n}=e,r=Ys({width:t,height:n});e.helpLayer=r}}toObject(){const e=Object.keys(this.constructor.defaults||{});return l({type:this.type},e.reduce((e,t)=>(e[t]=this[t],e),{}))}toJSON(){return this.toObject()}static async fromObject(e,t){let{type:n}=e;return new this(c(e,_o))}}So(Zd,"type","BaseFilter"),So(Zd,"uniformLocations",[]);const $d={multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",difference:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"\n    if (uColor.r < 0.5) {\n      gl_FragColor.r *= 2.0 * uColor.r;\n    } else {\n      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n    }\n    if (uColor.g < 0.5) {\n      gl_FragColor.g *= 2.0 * uColor.g;\n    } else {\n      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n    }\n    if (uColor.b < 0.5) {\n      gl_FragColor.b *= 2.0 * uColor.b;\n    } else {\n      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n    }\n    ",tint:"\n    gl_FragColor.rgb *= (1.0 - uColor.a);\n    gl_FragColor.rgb += uColor.rgb;\n    "};class ef extends Zd{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec4 uColor;\n      varying vec2 vTexCoord;\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        gl_FragColor = color;\n        if (color.a > 0.0) {\n          ".concat($d[this.mode],"\n        }\n      }\n      ")}applyTo2d(e){let{imageData:{data:t}}=e;const n=new ml(this.color).getSource(),r=this.alpha,i=n[0]*r,o=n[1]*r,s=n[2]*r,a=1-r;for(let l=0;l<t.length;l+=4){const e=t[l],n=t[l+1],r=t[l+2];let c,u,h;switch(this.mode){case"multiply":c=e*i/255,u=n*o/255,h=r*s/255;break;case"screen":c=255-(255-e)*(255-i)/255,u=255-(255-n)*(255-o)/255,h=255-(255-r)*(255-s)/255;break;case"add":c=e+i,u=n+o,h=r+s;break;case"difference":c=Math.abs(e-i),u=Math.abs(n-o),h=Math.abs(r-s);break;case"subtract":c=e-i,u=n-o,h=r-s;break;case"darken":c=Math.min(e,i),u=Math.min(n,o),h=Math.min(r,s);break;case"lighten":c=Math.max(e,i),u=Math.max(n,o),h=Math.max(r,s);break;case"overlay":c=i<128?2*e*i/255:255-2*(255-e)*(255-i)/255,u=o<128?2*n*o/255:255-2*(255-n)*(255-o)/255,h=s<128?2*r*s/255:255-2*(255-r)*(255-s)/255;break;case"exclusion":c=i+e-2*i*e/255,u=o+n-2*o*n/255,h=s+r-2*s*r/255;break;case"tint":c=i+e*a,u=o+n*a,h=s+r*a}t[l]=c,t[l+1]=u,t[l+2]=h}}sendUniformData(e,t){const n=new ml(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(t.uColor,n)}}So(ef,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),So(ef,"type","BlendColor"),So(ef,"uniformLocations",["uColor"]),Cs.setClass(ef);const tf={multiply:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.rgba *= color2.rgba;\n      gl_FragColor = color;\n    }\n    ",mask:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.a = color2.a;\n      gl_FragColor = color;\n    }\n    "};class nf extends Zd{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return tf[this.mode]}getVertexSource(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    uniform mat3 uTransformMatrix;\n    void main() {\n      vTexCoord = aPosition;\n      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }\n    "}applyToWebGL(e){const t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(t,t.TEXTURE1)}createTexture(e,t){return e.getCachedTexture(t.cacheKey,t.getElement())}calculateMatrix(){const e=this.image,{width:t,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]}applyTo2d(e){let{imageData:{data:t,width:n,height:r},filterBackend:{resources:i}}=e;const o=this.image;i.blendImage||(i.blendImage=zs());const s=i.blendImage,a=s.getContext("2d");s.width!==n||s.height!==r?(s.width=n,s.height=r):a.clearRect(0,0,n,r),a.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),a.drawImage(o.getElement(),0,0,n,r);const l=a.getImageData(0,0,n,r).data;for(let c=0;c<t.length;c+=4){const e=t[c],n=t[c+1],r=t[c+2],i=t[c+3],o=l[c],s=l[c+1],a=l[c+2],u=l[c+3];switch(this.mode){case"multiply":t[c]=e*o/255,t[c+1]=n*s/255,t[c+2]=r*a/255,t[c+3]=i*u/255;break;case"mask":t[c+3]=u}}}sendUniformData(e,t){const n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)}toObject(){return l(l({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,t){let{type:n,image:r}=e,i=c(e,Co);return Vd.fromObject(r,t).then(e=>new this(l(l({},i),{},{image:e})))}}So(nf,"type","BlendImage"),So(nf,"defaults",{mode:"multiply",alpha:1}),So(nf,"uniformLocations",["uTransformMatrix","uImage"]),Cs.setClass(nf);class rf extends Zd{getFragmentSource(){return"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform vec2 uDelta;\n    varying vec2 vTexCoord;\n    const float nSamples = 15.0;\n    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\n    float random(vec3 scale) {\n      /* use the fragment position for a different seed per-pixel */\n      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n    }\n    void main() {\n      vec4 color = vec4(0.0);\n      float totalC = 0.0;\n      float totalA = 0.0;\n      float offset = random(v3offset);\n      for (float t = -nSamples; t <= nSamples; t++) {\n        float percent = (t + offset - 0.5) / nSamples;\n        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);\n        float weight = 1.0 - abs(percent);\n        float alpha = weight * sample.a;\n        color.rgb += sample.rgb * alpha;\n        color.a += alpha;\n        totalA += weight;\n        totalC += alpha;\n      }\n      gl_FragColor.rgb = color.rgb / totalC;\n      gl_FragColor.a = color.a / totalA;\n    }\n  "}applyTo(e){Kd(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:t,width:n,height:r}}=e;this.aspectRatio=n/r,this.horizontal=!0;let i=this.getBlurValue()*n;const o=new Uint8ClampedArray(t),s=4*n;for(let a=0;a<t.length;a+=4){let e=0,n=0,r=0,l=0,c=0;const u=a-a%s,h=u+s;for(let o=-14;o<15;o++){const s=o/15,d=4*Math.floor(i*s),f=1-Math.abs(s);let g=a+d;g<u?g=u:g>h&&(g=h);const p=t[g+3]*f;e+=t[g]*p,n+=t[g+1]*p,r+=t[g+2]*p,l+=p,c+=f}o[a]=e/l,o[a+1]=n/l,o[a+2]=r/l,o[a+3]=l/c}this.horizontal=!1,i=this.getBlurValue()*r;for(let a=0;a<o.length;a+=4){let e=0,n=0,r=0,l=0,c=0;const u=a%s,h=o.length-s+u;for(let t=-14;t<15;t++){const d=t/15,f=Math.floor(i*d)*s,g=1-Math.abs(d);let p=a+f;p<u?p=u:p>h&&(p=h);const m=o[p+3]*g;e+=o[p]*m,n+=o[p+1]*m,r+=o[p+2]*m,l+=m,c+=g}t[a]=e/l,t[a+1]=n/l,t[a+2]=r/l,t[a+3]=l/c}}sendUniformData(e,t){const n=this.chooseRightDelta();e.uniform2fv(t.uDelta,n)}isNeutralState(){return 0===this.blur}getBlurValue(){let e=1;const{horizontal:t,aspectRatio:n}=this;return t?n>1&&(e=1/n):n<1&&(e=n),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}So(rf,"type","Blur"),So(rf,"defaults",{blur:0}),So(rf,"uniformLocations",["uDelta"]),Cs.setClass(rf);class of extends Zd{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBrightness;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += uBrightness;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=Math.round(255*this.brightness);for(let r=0;r<t.length;r+=4)t[r]+=n,t[r+1]+=n,t[r+2]+=n}isNeutralState(){return 0===this.brightness}sendUniformData(e,t){e.uniform1f(t.uBrightness,this.brightness)}}So(of,"type","Brightness"),So(of,"defaults",{brightness:0}),So(of,"uniformLocations",["uBrightness"]),Cs.setClass(of);const sf={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class af extends Zd{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  varying vec2 vTexCoord;\n  uniform mat4 uColorMatrix;\n  uniform vec4 uConstants;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color *= uColorMatrix;\n    color += uConstants;\n    gl_FragColor = color;\n  }"}applyTo2d(e){const t=e.imageData.data,n=this.matrix,r=this.colorsOnly;for(let i=0;i<t.length;i+=4){const e=t[i],o=t[i+1],s=t[i+2];if(t[i]=e*n[0]+o*n[1]+s*n[2]+255*n[4],t[i+1]=e*n[5]+o*n[6]+s*n[7]+255*n[9],t[i+2]=e*n[10]+o*n[11]+s*n[12]+255*n[14],!r){const r=t[i+3];t[i]+=r*n[3],t[i+1]+=r*n[8],t[i+2]+=r*n[13],t[i+3]=e*n[15]+o*n[16]+s*n[17]+r*n[18]+255*n[19]}}}sendUniformData(e,t){const n=this.matrix,r=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],i=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,r),e.uniform4fv(t.uConstants,i)}toObject(){return l(l({},super.toObject()),{},{matrix:[...this.matrix]})}}function lf(e,t){var n;const r=(So(n=class extends af{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",e),So(n,"defaults",{colorsOnly:!1,matrix:t}),n);return Cs.setClass(r,e),r}So(af,"type","ColorMatrix"),So(af,"defaults",sf),So(af,"uniformLocations",["uColorMatrix","uConstants"]),Cs.setClass(af);const cf=lf("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),uf=lf("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),hf=lf("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),df=lf("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),ff=lf("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),gf=lf("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),pf=lf("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class mf extends Zd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){Kd(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(t=>{t.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,t){return Promise.all((e.subFilters||[]).map(e=>Cs.getClass(e.type).fromObject(e,t))).then(e=>new this({subFilters:e}))}}So(mf,"type","Composed"),Cs.setClass(mf);class Af extends Zd{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uContrast;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\n    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\n    gl_FragColor = color;\n  }"}isNeutralState(){return 0===this.contrast}applyTo2d(e){let{imageData:{data:t}}=e;const n=Math.floor(255*this.contrast),r=259*(n+255)/(255*(259-n));for(let i=0;i<t.length;i+=4)t[i]=r*(t[i]-128)+128,t[i+1]=r*(t[i+1]-128)+128,t[i+2]=r*(t[i+2]-128)+128}sendUniformData(e,t){e.uniform1f(t.uContrast,this.contrast)}}So(Af,"type","Contrast"),So(Af,"defaults",{contrast:0}),So(Af,"uniformLocations",["uContrast"]),Cs.setClass(Af);const yf={Convolute_3_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_3_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_5_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_5_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_7_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_7_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_9_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_9_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    "};class vf extends Zd{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return yf[this.getCacheKey()]}applyTo2d(e){const t=e.imageData,n=t.data,r=this.matrix,i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=t.width,a=t.height,l=e.ctx.createImageData(s,a),c=l.data,u=this.opaque?1:0;let h,d,f,g,p,m,A,y,v,b,w,x,E;for(w=0;w<a;w++)for(b=0;b<s;b++){for(p=4*(w*s+b),h=0,d=0,f=0,g=0,E=0;E<i;E++)for(x=0;x<i;x++)A=w+E-o,m=b+x-o,A<0||A>=a||m<0||m>=s||(y=4*(A*s+m),v=r[E*i+x],h+=n[y]*v,d+=n[y+1]*v,f+=n[y+2]*v,u||(g+=n[y+3]*v));c[p]=h,c[p+1]=d,c[p+2]=f,c[p+3]=u?n[p+3]:g}e.imageData=l}sendUniformData(e,t){e.uniform1fv(t.uMatrix,this.matrix)}toObject(){return l(l({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}So(vf,"type","Convolute"),So(vf,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),So(vf,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),Cs.setClass(vf);const bf="Gamma";class wf extends Zd{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform vec3 uGamma;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    vec3 correction = (1.0 / uGamma);\n    color.r = pow(color.r, correction.r);\n    color.g = pow(color.g, correction.g);\n    color.b = pow(color.b, correction.b);\n    gl_FragColor = color;\n    gl_FragColor.rgb *= color.a;\n  }\n"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:t}}=e;const n=this.gamma,r=1/n[0],i=1/n[1],o=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const s=this.rgbValues;for(let a=0;a<256;a++)s.r[a]=255*Math.pow(a/255,r),s.g[a]=255*Math.pow(a/255,i),s.b[a]=255*Math.pow(a/255,o);for(let a=0;a<t.length;a+=4)t[a]=s.r[t[a]],t[a+1]=s.g[t[a+1]],t[a+2]=s.b[t[a+2]]}sendUniformData(e,t){e.uniform3fv(t.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return 1===e[0]&&1===e[1]&&1===e[2]}toObject(){return{type:bf,gamma:this.gamma.concat()}}}So(wf,"type",bf),So(wf,"defaults",{gamma:[1,1,1]}),So(wf,"uniformLocations",["uGamma"]),Cs.setClass(wf);const xf={average:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      float average = (color.r + color.b + color.g) / 3.0;\n      gl_FragColor = vec4(average, average, average, color.a);\n    }\n    ",lightness:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    ",luminosity:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    "};class Ef extends Zd{applyTo2d(e){let{imageData:{data:t}}=e;for(let n,r=0;r<t.length;r+=4){const e=t[r],i=t[r+1],o=t[r+2];switch(this.mode){case"average":n=(e+i+o)/3;break;case"lightness":n=(Math.min(e,i,o)+Math.max(e,i,o))/2;break;case"luminosity":n=.21*e+.72*i+.07*o}t[r+2]=t[r+1]=t[r]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return xf[this.mode]}sendUniformData(e,t){e.uniform1i(t.uMode,1)}isNeutralState(){return!1}}So(Ef,"type","Grayscale"),So(Ef,"defaults",{mode:"average"}),So(Ef,"uniformLocations",["uMode"]),Cs.setClass(Ef);const _f=l(l({},sf),{},{rotation:0});class Cf extends af{calculateMatrix(){const e=this.rotation*Math.PI,t=Is(e),n=Ts(e),r=1/3,i=Math.sqrt(r)*n,o=1-t;this.matrix=[t+o/3,r*o-i,r*o+i,0,0,r*o+i,t+r*o,r*o-i,0,0,r*o-i,r*o+i,t+r*o,0,0,0,0,0,1,0]}isNeutralState(){return 0===this.rotation}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}So(Cf,"type","HueRotation"),So(Cf,"defaults",_f),Cs.setClass(Cf);class Sf extends Zd{applyTo2d(e){let{imageData:{data:t}}=e;for(let n=0;n<t.length;n+=4)t[n]=255-t[n],t[n+1]=255-t[n+1],t[n+2]=255-t[n+2],this.alpha&&(t[n+3]=255-t[n+3])}getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform int uInvert;\n  uniform int uAlpha;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    if (uInvert == 1) {\n      if (uAlpha == 1) {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);\n      } else {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n      }\n    } else {\n      gl_FragColor = color;\n    }\n  }\n"}isNeutralState(){return!this.invert}sendUniformData(e,t){e.uniform1i(t.uInvert,Number(this.invert)),e.uniform1i(t.uAlpha,Number(this.alpha))}}So(Sf,"type","Invert"),So(Sf,"defaults",{alpha:!1,invert:!0}),So(Sf,"uniformLocations",["uInvert","uAlpha"]),Cs.setClass(Sf);class kf extends Zd{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uStepH;\n  uniform float uNoise;\n  uniform float uSeed;\n  varying vec2 vTexCoord;\n  float rand(vec2 co, float seed, float vScale) {\n    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n  }\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=this.noise;for(let r=0;r<t.length;r+=4){const e=(.5-Math.random())*n;t[r]+=e,t[r+1]+=e,t[r+2]+=e}}sendUniformData(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())}isNeutralState(){return 0===this.noise}}So(kf,"type","Noise"),So(kf,"defaults",{noise:0}),So(kf,"uniformLocations",["uNoise","uSeed"]),Cs.setClass(kf);class Bf extends Zd{applyTo2d(e){let{imageData:{data:t,width:n,height:r}}=e;for(let i=0;i<r;i+=this.blocksize)for(let e=0;e<n;e+=this.blocksize){const o=4*i*n+4*e,s=t[o],a=t[o+1],l=t[o+2],c=t[o+3];for(let u=i;u<Math.min(i+this.blocksize,r);u++)for(let r=e;r<Math.min(e+this.blocksize,n);r++){const e=4*u*n+4*r;t[e]=s,t[e+1]=a,t[e+2]=l,t[e+3]=c}}}isNeutralState(){return 1===this.blocksize}getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBlocksize;\n  uniform float uStepW;\n  uniform float uStepH;\n  varying vec2 vTexCoord;\n  void main() {\n    float blockW = uBlocksize * uStepW;\n    float blockH = uBlocksize * uStepH;\n    int posX = int(vTexCoord.x / blockW);\n    int posY = int(vTexCoord.y / blockH);\n    float fposX = float(posX);\n    float fposY = float(posY);\n    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\n    vec4 color = texture2D(uTexture, squareCoords);\n    gl_FragColor = color;\n  }\n"}sendUniformData(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}So(Bf,"type","Pixelate"),So(Bf,"defaults",{blocksize:4}),So(Bf,"uniformLocations",["uBlocksize"]),Cs.setClass(Bf);class If extends Zd{getFragmentSource(){return"\nprecision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\n  gl_FragColor = texture2D(uTexture, vTexCoord);\n  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\n    gl_FragColor.a = 0.0;\n  }\n}\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=255*this.distance,r=new ml(this.color).getSource(),i=[r[0]-n,r[1]-n,r[2]-n],o=[r[0]+n,r[1]+n,r[2]+n];for(let s=0;s<t.length;s+=4){const e=t[s],n=t[s+1],r=t[s+2];e>i[0]&&n>i[1]&&r>i[2]&&e<o[0]&&n<o[1]&&r<o[2]&&(t[s+3]=0)}}sendUniformData(e,t){const n=new ml(this.color).getSource(),r=this.distance,i=[0+n[0]/255-r,0+n[1]/255-r,0+n[2]/255-r,1],o=[n[0]/255+r,n[1]/255+r,n[2]/255+r,1];e.uniform4fv(t.uLow,i),e.uniform4fv(t.uHigh,o)}}So(If,"type","RemoveColor"),So(If,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),So(If,"uniformLocations",["uLow","uHigh"]),Cs.setClass(If);class Tf extends Zd{sendUniformData(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),r=new Array(n);for(let i=1;i<=n;i++)r[i-1]=e(i*t);return r}generateShader(e){const t=new Array(e);for(let n=1;n<=e;n++)t[n-1]="".concat(n,".0 * uDelta");return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec2 uDelta;\n      varying vec2 vTexCoord;\n      uniform float uTaps[".concat(e,"];\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        float sum = 1.0;\n        ").concat(t.map((e,t)=>"\n              color += texture2D(uTexture, vTexCoord + ".concat(e,") * uTaps[").concat(t,"] + texture2D(uTexture, vTexCoord - ").concat(e,") * uTaps[").concat(t,"];\n              sum += 2.0 * uTaps[").concat(t,"];\n            ")).join("\n"),"\n        gl_FragColor = color / sum;\n      }\n    ")}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){Kd(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return 1===this.scaleX&&1===this.scaleY}lanczosCreate(e){return t=>{if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;const n=(t*=Math.PI)/e;return Math.sin(t)/t*Math.sin(n)/n}}applyTo2d(e){const t=e.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;const i=t.width,o=t.height,s=Math.round(i*n),a=Math.round(o*r);let l;l="sliceHack"===this.resizeType?this.sliceByTwo(e,i,o,s,a):"hermite"===this.resizeType?this.hermiteFastResize(e,i,o,s,a):"bilinear"===this.resizeType?this.bilinearFiltering(e,i,o,s,a):"lanczos"===this.resizeType?this.lanczosResize(e,i,o,s,a):new ImageData(s,a),e.imageData=l}sliceByTwo(e,t,n,r,i){const o=e.imageData,s=.5;let a=!1,l=!1,c=t*s,u=n*s;const h=e.filterBackend.resources;let d=0,f=0;const g=t;let p=0;h.sliceByTwo||(h.sliceByTwo=zs());const m=h.sliceByTwo;(m.width<1.5*t||m.height<n)&&(m.width=1.5*t,m.height=n);const A=m.getContext("2d");for(A.clearRect(0,0,1.5*t,n),A.putImageData(o,0,0),r=Math.floor(r),i=Math.floor(i);!a||!l;)t=c,n=u,r<Math.floor(c*s)?c=Math.floor(c*s):(c=r,a=!0),i<Math.floor(u*s)?u=Math.floor(u*s):(u=i,l=!0),A.drawImage(m,d,f,t,n,g,p,c,u),d=g,f=p,p+=u;return A.getImageData(d,f,r,i)}lanczosResize(e,t,n,r,i){const o=e.imageData.data,s=e.ctx.createImageData(r,i),a=s.data,l=this.lanczosCreate(this.lanczosLobes),c=this.rcpScaleX,u=this.rcpScaleY,h=2/this.rcpScaleX,d=2/this.rcpScaleY,f=Math.ceil(c*this.lanczosLobes/2),g=Math.ceil(u*this.lanczosLobes/2),p={},m={x:0,y:0},A={x:0,y:0};return function e(y){let v,b,w,x,E,_,C,S,k,B,I;for(m.x=(y+.5)*c,A.x=Math.floor(m.x),v=0;v<i;v++){for(m.y=(v+.5)*u,A.y=Math.floor(m.y),E=0,_=0,C=0,S=0,k=0,b=A.x-f;b<=A.x+f;b++)if(!(b<0||b>=t)){B=Math.floor(1e3*Math.abs(b-m.x)),p[B]||(p[B]={});for(let e=A.y-g;e<=A.y+g;e++)e<0||e>=n||(I=Math.floor(1e3*Math.abs(e-m.y)),p[B][I]||(p[B][I]=l(Math.sqrt(Math.pow(B*h,2)+Math.pow(I*d,2))/1e3)),w=p[B][I],w>0&&(x=4*(e*t+b),E+=w,_+=w*o[x],C+=w*o[x+1],S+=w*o[x+2],k+=w*o[x+3]))}x=4*(v*r+y),a[x]=_/E,a[x+1]=C/E,a[x+2]=S/E,a[x+3]=k/E}return++y<r?e(y):s}(0)}bilinearFiltering(e,t,n,r,i){let o,s,a,l,c,u,h,d,f,g,p,m,A,y=0;const v=this.rcpScaleX,b=this.rcpScaleY,w=4*(t-1),x=e.imageData.data,E=e.ctx.createImageData(r,i),_=E.data;for(h=0;h<i;h++)for(d=0;d<r;d++)for(c=Math.floor(v*d),u=Math.floor(b*h),f=v*d-c,g=b*h-u,A=4*(u*t+c),p=0;p<4;p++)o=x[A+p],s=x[A+4+p],a=x[A+w+p],l=x[A+w+4+p],m=o*(1-f)*(1-g)+s*f*(1-g)+a*g*(1-f)+l*f*g,_[y++]=m;return E}hermiteFastResize(e,t,n,r,i){const o=this.rcpScaleX,s=this.rcpScaleY,a=Math.ceil(o/2),l=Math.ceil(s/2),c=e.imageData.data,u=e.ctx.createImageData(r,i),h=u.data;for(let d=0;d<i;d++)for(let e=0;e<r;e++){const n=4*(e+d*r);let i=0,u=0,f=0,g=0,p=0,m=0,A=0;const y=(d+.5)*s;for(let r=Math.floor(d*s);r<(d+1)*s;r++){const n=Math.abs(y-(r+.5))/l,s=(e+.5)*o,h=n*n;for(let l=Math.floor(e*o);l<(e+1)*o;l++){let e=Math.abs(s-(l+.5))/a;const n=Math.sqrt(h+e*e);n>1&&n<-1||(i=2*n*n*n-3*n*n+1,i>0&&(e=4*(l+r*t),A+=i*c[e+3],f+=i,c[e+3]<255&&(i=i*c[e+3]/250),g+=i*c[e],p+=i*c[e+1],m+=i*c[e+2],u+=i))}}h[n]=g/u,h[n+1]=p/u,h[n+2]=m/u,h[n+3]=A/f}return u}}So(Tf,"type","Resize"),So(Tf,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),So(Tf,"uniformLocations",["uDelta","uTaps"]),Cs.setClass(Tf);class Df extends Zd{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uSaturation;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float rgMax = max(color.r, color.g);\n    float rgbMax = max(rgMax, color.b);\n    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\n    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\n    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=-this.saturation;for(let r=0;r<t.length;r+=4){const e=t[r],i=t[r+1],o=t[r+2],s=Math.max(e,i,o);t[r]+=s!==e?(s-e)*n:0,t[r+1]+=s!==i?(s-i)*n:0,t[r+2]+=s!==o?(s-o)*n:0}}sendUniformData(e,t){e.uniform1f(t.uSaturation,-this.saturation)}isNeutralState(){return 0===this.saturation}}So(Df,"type","Saturation"),So(Df,"defaults",{saturation:0}),So(Df,"uniformLocations",["uSaturation"]),Cs.setClass(Df);class Of extends Zd{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uVibrance;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float max = max(color.r, max(color.g, color.b));\n    float avg = (color.r + color.g + color.b) / 3.0;\n    float amt = (abs(max - avg) * 2.0) * uVibrance;\n    color.r += max != color.r ? (max - color.r) * amt : 0.00;\n    color.g += max != color.g ? (max - color.g) * amt : 0.00;\n    color.b += max != color.b ? (max - color.b) * amt : 0.00;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=-this.vibrance;for(let r=0;r<t.length;r+=4){const e=t[r],i=t[r+1],o=t[r+2],s=Math.max(e,i,o),a=(e+i+o)/3,l=2*Math.abs(s-a)/255*n;t[r]+=s!==e?(s-e)*l:0,t[r+1]+=s!==i?(s-i)*l:0,t[r+2]+=s!==o?(s-o)*l:0}}sendUniformData(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}isNeutralState(){return 0===this.vibrance}}So(Of,"type","Vibrance"),So(Of,"defaults",{vibrance:0}),So(Of,"uniformLocations",["uVibrance"]),Cs.setClass(Of);Object.freeze({__proto__:null,BaseFilter:Zd,BlackWhite:pf,BlendColor:ef,BlendImage:nf,Blur:rf,Brightness:of,Brownie:cf,ColorMatrix:af,Composed:mf,Contrast:Af,Convolute:vf,Gamma:wf,Grayscale:Ef,HueRotation:Cf,Invert:Sf,Kodachrome:hf,Noise:kf,Pixelate:Bf,Polaroid:ff,RemoveColor:If,Resize:Tf,Saturation:Df,Sepia:gf,Technicolor:df,Vibrance:Of,Vintage:uf});var Mf=n(224);const Ff=gi.suggestedMaximumTileSheetColorCount,jf=t=>{var n,r,i,o,s,a;let{tileSetDefinition:l,tileSheets:c,onTileSetDefinitionChange:u,onTileSetDefinitionDelete:h,onReturnToEditor:d}=t;const f=u&&"function"==typeof u,g=h&&"function"==typeof h,p=(0,e.useContext)(Yy),m=e=>{let t;var n;(String(e)===e?t=c.find(t=>t.id==e):e instanceof ji&&(t=e),p.has(l.tileSheetId))||p.setDataUrl(t.id,null===(n=c.find(e=>e.id==t.id))||void 0===n?void 0:n.imageDataUrl)},A=e=>{if(null===oe||void 0===oe||!oe.current)return;const t=c.find(t=>t.id==e.tileSheetId);if(!t)return;const n=e.toChocoWinTileSet(t.imageDataUrl);let r=new Ii(n,re,0,0,450,180);r.isReady().then(()=>{if(null===oe||void 0===oe||!oe.current)return void console.warn("previewRef.current falsy after it was truthy");const e=document.createElement("canvas");e.width=450,e.height=180,e.style.imageRendering="pixelated";const t=e.getContext("2d",{willReadFrequently:!0,colorSpace:"srgb",colorType:"unorm8"});t.imageSmoothingEnabled=!1,r.drawTo(t);let n=e.toDataURL("image/png",1);oe.current.src=n})},[y,v]=(0,e.useState)(l.name),[b,w]=(0,e.useState)(l.tileSheetId),[x,E]=(0,e.useState)(l.tileSize),[_,C]=(0,e.useState)(structuredClone(l.regions)),[S,k]=(0,e.useState)(l.defaultColors),B=(0,e.useRef)(null),I=(0,e.useRef)(null),T=(0,e.useRef)(null),D=(0,e.useRef)(null),O=(0,e.useRef)(null),[M,F]=(0,e.useState)(null),[j,P]=(0,e.useState)(!1),[R,L]=(0,e.useState)(null),[N,z]=(0,e.useState)(3),[Q,Y]=(0,e.useState)(null!==(n=3*l.tileSize*3)&&void 0!==n?n:72),[U,G]=(0,e.useState)(null!==(r=3*l.tileSize)&&void 0!==r?r:24),[H,W]=(0,e.useState)(Pi.TOP_LEFT),[V,K]=(0,e.useState)(!0),[q,X]=(0,e.useState)(0),[J,Z]=(0,e.useState)(!1),[$,ee]=(0,e.useState)(!!l.tileSheetId),[te,ne]=(0,e.useState)(null),[re,ie]=(0,e.useState)(3),oe=(0,e.useRef)(null);(0,e.useEffect)(()=>{$&&(m(b),Vd.fromURL(p.get(l.tileSheetId)).then(e=>ne(e)))},[$,b]),(0,e.useEffect)(()=>{$&&null!==B&&void 0!==B&&B.current&&b&&(m(b),B.current.src=p.get(b))},[$,b,B]),(0,e.useEffect)(()=>{if($)if(I.current){const e=Math.floor(I.current.parentElement.offsetWidth/3/x),t=Math.min(6,e);z(t),Y(3*x*t)}else Y(3*x)},[$,x,I]),(0,e.useEffect)(()=>{if($&&D&&D.current){const e=new Gh("canvasId"),t=1,n=Q/3,r="rgba(128, 128, 00, 0.5)",i="rgba(00, 0, 00, 0)",o=(t,r,i)=>{const o=new Fu({left:t-1,top:r-1,fill:i,width:n-1,height:n-1,objectCaching:!1,originX:"left",originY:"top"});e.add(o)},s=n=>{const r=new pd(n,{stroke:"black",strokeWidth:t,fill:"transparent"});e.add(r)};s([{x:n,y:0},{x:n,y:Q}],!0),s([{x:2*n,y:0},{x:2*n,y:Q}]),s([{x:0,y:n},{x:Q,y:n}]),s([{x:0,y:2*n},{x:Q,y:2*n}]),o(0,0,r),o(n,0,r),o(2*n,0,r),o(0,n,r),o(n,n,i),o(2*n,n,r),o(0,2*n,r),o(n,2*n,r),o(2*n,2*n,r),e.renderAll();const a=e.toDataURL();D.current.style.backgroundImage="url(".concat(a,")")}},[$,D,N,Q]),(0,e.useEffect)(()=>{if(!$||!O)return;const e=_[H].width||1;if(O.current&&_[H]){const t=Math.floor((O.current.offsetWidth/e-4*e)/x);G(x*Math.min(6,t))}else G(x)},[$,O,x,_,H]),(0,e.useEffect)(()=>{$&&oe&&oe.current&&c&&l&&l.tileSize&&A(l)},[$,oe,c,l,re]);const se=e=>{let{mouseEvent:t,naturalX:n,naturalY:r,overrideSnap:i=!1}=e;if(!$||!B||!B.current)return;const o=B.current.naturalWidth,s=B.current.naturalHeight;if(t){const e=B.current.getBoundingClientRect();n=Math.max(0,Math.min(Math.floor(t.clientX-e.left),o)),r=Math.max(0,Math.min(Math.floor(t.clientY-e.top),s))}!i&&V&&(n=x*Math.floor(n/x),r=x*Math.floor(r/x));const a={x:N*(x-n),y:N*(x-r)};F({x:n,y:r}),L(a)},ae=e=>{const t=new Li(l);f&&(e&&"function"==typeof e&&e(t),u(t),A(t))};return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("h2",{className:"text-2xl font-bold sticky top-0 mb-2 bg-white dark:bg-gray-600",children:["Tile Set Definition ",(0,or.jsxs)("span",{className:"text-sm",children:["(",l.id,")"]})]}),(0,or.jsx)("p",{className:"mb-2 mx-6 text-sm italic",children:"A tile set definition identifies locations in the sprite sheet for a window's corner tiles, repeating edge tiles, and repeating center tiles."}),(0,or.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"e4486061-7422-490d-be92-533ff31711a1",children:"Name:"}),(0,or.jsx)("input",{placeholder:"Tile Set Name",type:"text",autoComplete:"off",id:"e4486061-7422-490d-be92-533ff31711a1",className:oi,value:y,onChange:e=>{v(e.target.value),ae(t=>t.name=e.target.value)}})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"170eb33f-6cf9-453e-aad0-eaff6db6bb65",children:"Tile Sheet:"}),(0,or.jsxs)("select",{id:"170eb33f-6cf9-453e-aad0-eaff6db6bb65",className:oi,onChange:e=>{w(e.target.value),$||ee(!0),ae(t=>t.tileSheetId=e.target.value)},value:b,children:[c.findIndex(e=>e.id==b)<0&&(0,or.jsx)("option",{value:""},"none"),c.map(e=>(0,or.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"443fd77f-4bfc-489d-aad7-10948ef9a77d",children:"Tile Size:"}),(0,or.jsx)("input",{placeholder:"Tile Size",type:"Number",autoComplete:"off",id:"443fd77f-4bfc-489d-aad7-10948ef9a77d",className:oi,value:x,onChange:e=>{E(Number(e.target.value)),ae(t=>t.tileSize=Number(e.target.value))}})]})]}),$&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("h3",{className:"mb-1 font-bold text-xl",children:"Window Regions"}),(0,or.jsx)("p",{className:"mb-2 text-sm italic mx-6",children:"There are nine window regions: four corners, four edges, and the center. Top and bottom edges will repeat horizontally. Left and right edges will repeat vertically. The center will repeat in both directions."}),(0,or.jsxs)("div",{className:"grid grid-cols-10 gap-4",children:[(0,or.jsxs)("div",{className:"col-span-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"fca684ea-2f2e-459a-ae5c-99e602f3d57e",children:"Window Region:"}),(0,or.jsxs)("select",{className:oi,id:"fca684ea-2f2e-459a-ae5c-99e602f3d57e",value:H,onChange:e=>{W(e.target.value)},children:[(0,or.jsx)("option",{value:Pi.TOP_LEFT,children:"Top-Left Corner"}),(0,or.jsx)("option",{value:Pi.TOP,children:"Top Edge"}),(0,or.jsx)("option",{value:Pi.TOP_RIGHT,children:"Top-Right Corner"}),(0,or.jsx)("option",{value:Pi.LEFT,children:"Left Edge"}),(0,or.jsx)("option",{value:Pi.CENTER,children:"Center"}),(0,or.jsx)("option",{value:Pi.RIGHT,children:"Right Edge"}),(0,or.jsx)("option",{value:Pi.BOTTOM_LEFT,children:"Bottom-Left Corner"}),(0,or.jsx)("option",{value:Pi.BOTTOM,children:"Bottom Edge"}),(0,or.jsx)("option",{value:Pi.BOTTOM_RIGHT,children:"Bottom-Right Corner"})]})]}),(0,or.jsxs)("div",{className:"w-full col-span-2",children:[(0,or.jsx)("label",{htmlFor:"4f4a4b0c-5b7b-4ef1-8355-c10c9c76c961",children:"Width (tiles)"}),(H==Pi.TOP||H==Pi.BOTTOM||H==Pi.CENTER)&&(0,or.jsx)("input",{placeholder:"Tile Size",type:"Number",autoComplete:"off",id:"4f4a4b0c-5b7b-4ef1-8355-c10c9c76c961",className:oi,value:_[H].width||1,onChange:e=>{const t=structuredClone(_);t[H].width=e.target.value,C(t),ae(e=>e.regions=t)}}),H!=Pi.TOP&&H!=Pi.BOTTOM&&H!=Pi.CENTER&&(0,or.jsx)("div",{className:"w-full block rounded-lg border py-[9px] px-3 text-sm",children:"1"})]}),(0,or.jsxs)("div",{className:"w-full col-span-2",children:[(0,or.jsx)("label",{htmlFor:"7ae42bae-9eeb-4491-be31-00161a3af632",children:"Height (tiles)"}),(H==Pi.LEFT||H==Pi.RIGHT||H==Pi.CENTER)&&(0,or.jsx)("input",{placeholder:"Tile Size",type:"Number",autoComplete:"off",id:"4f4a4b0c-5b7b-4ef1-8355-c10c9c76c961",className:oi,value:_[H].height||1,onChange:e=>{const t=structuredClone(_);t[H].height=e.target.value,C(t),ae(e=>e.regions=t)}}),H!=Pi.LEFT&&H!=Pi.RIGHT&&H!=Pi.CENTER&&(0,or.jsx)("div",{className:"w-full block rounded-lg border py-[9px] px-3 text-sm",children:"1"})]}),(0,or.jsxs)("div",{className:"col-span-10 -mt-4",children:[(H==Pi.TOP_LEFT||H==Pi.TOP_RIGHT||H==Pi.BOTTOM_LEFT||H==Pi.BOTTOM_RIGHT)&&(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"Corners can only be 1 tile wide and 1 tile high."}),(H==Pi.TOP||H==Pi.BOTTOM)&&(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"Top and bottom edge pattern can be any number of tiles wide."}),(H==Pi.LEFT||H==Pi.RIGHT)&&(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"Left and right edge pattern can be any number of tiles wide."}),H==Pi.CENTER&&(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"The center repeated pattern can be any number of tiles wide or high."})]})]}),(0,or.jsx)("h3",{className:"mb-1 text-xl font-bold",children:"Tile Selection"}),(0,or.jsxs)("p",{className:"mb-2 text-sm mx-6",children:[(0,or.jsx)("span",{className:"italic",children:"First,"})," approximately click on location the tile sheet to load that area into the tile sheet detail selector. ",(0,or.jsx)("span",{className:"italic",children:"Second,"})," precisely adjust the position or click on an adjacent tile. ",(0,or.jsx)("span",{className:"italic",children:"Third,"})," click on the tile location to assign that part of the tile sheet to that tile in the regioon. If ",(0,or.jsx)("span",{className:"italic",children:" other tiles "})," to be assigned are ",(0,or.jsx)("span",{className:"italic",children:"adjacent"})," in the tile sheet, use can use the precise tile selection without using the approximate tile selection."]}),(0,or.jsx)("div",{className:"grid grid-cols-10 gap-4 mb-2",children:(0,or.jsxs)("div",{className:"w-full col-span-2",children:[(0,or.jsx)("label",{htmlFor:"cbeb0e41-1266-432d-a3d4-0fbccc65b3e3",children:"Sheet Snap Mode"}),(0,or.jsxs)("select",{className:oi,id:"cbeb0e41-1266-432d-a3d4-0fbccc65b3e3",value:V,onChange:e=>K(String(!0)==e.target.value),children:[(0,or.jsxs)("option",{value:!0,children:["Tile Size (",x,"px)"]}),(0,or.jsx)("option",{value:!1,children:"Do Not Snap"})]})]})}),(0,or.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("h4",{className:"mb-1 font-bold",children:"Approximate Tile Selection"}),(0,or.jsx)("img",{onMouseEnter:()=>{P(!1)},onMouseMove:e=>{j||se({mouseEvent:e})},onClick:e=>{P(!0),se({mouseEvent:e})},alt:"Tile Selection",src:null,ref:B})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("h4",{className:"mb-1 font-bold",children:"Precise Tile Selection"}),(0,or.jsx)("div",{ref:I,style:{"--tile-sel-size":"".concat(Q,"px")},className:"mb-3 mx-auto tile-sheet-position-selector h-[var(--tile-sel-size)] w-[var(--tile-sel-size)]",children:(0,or.jsx)("div",{ref:T,className:"w-full h-full sheet-tile-selection-mid-ground",style:{backgroundImage:"url(".concat(p.get(l.tileSheetId),")"),imageRendering:"pixelated",backgroundSize:"".concat((null===B||void 0===B||null===(i=B.current)||void 0===i?void 0:i.naturalWidth)*N,"px ").concat((null===B||void 0===B||null===(o=B.current)||void 0===o?void 0:o.naturalHeight)*N,"px"),backgroundPositionX:(null===R||void 0===R?void 0:R.x)||0,backgroundPositionY:(null===R||void 0===R?void 0:R.y)||0},onClick:e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left+1,r=e.clientY-t.top+1;let i=0,o=0;n/N<x?i=-x:n/N>2*x&&(i=x),r/N<x?o=-x:r/N>2*x&&(o=x),se({naturalX:i+M.x,naturalY:o+M.y,overrideSnap:!0})},children:(0,or.jsx)("div",{ref:D,className:"w-full h-full"})})}),(0,or.jsxs)("div",{className:"grid grid-cols-2",children:[(0,or.jsxs)("div",{className:"mr-2 mb-2",children:[(0,or.jsx)("label",{htmlFor:"94b7a866-c49a-4999-b167-a6f205861b59",children:"Sheet X"}),(0,or.jsx)("input",{placeholder:"x",type:"Number",autoComplete:"off",id:"94b7a866-c49a-4999-b167-a6f205861b59",className:oi,onChange:e=>{se({naturalX:Number(e.target.value),naturalY:M.y,overrideSnap:!0})},value:null!==(s=null===M||void 0===M?void 0:M.x)&&void 0!==s?s:0})]}),(0,or.jsxs)("div",{className:"ml-2 mb-2",children:[(0,or.jsx)("label",{htmlFor:"e4be39b9-9af0-4de5-8fa5-64ebc9a6f769",children:"Sheet Y"}),(0,or.jsx)("input",{placeholder:"x",type:"Number",autoComplete:"off",id:"e4be39b9-9af0-4de5-8fa5-64ebc9a6f769",className:oi,onChange:e=>{se({naturalX:M.x,naturalY:Number(e.target.value),overrideSnap:!0})},value:null!==(a=null===M||void 0===M?void 0:M.y)&&void 0!==a?a:0})]})]})]}),(0,or.jsxs)("div",{ref:O,className:"mb-4 w-full",children:[(0,or.jsx)("h4",{className:"mb-1 font-bold",children:"Tile Assignment"}),(0,or.jsx)("div",{style:{"--flex-width":"".concat(_[H].width*U,"px"),"--col-count":"".concat(_[H].width,"px"),"--tile-size":"".concat(U,"px")},className:"flex flex-wrap w-[var(--flex-width)] mx-auto",children:Array.from({length:_[H].height||1}).map((e,t)=>Array.from({length:_[H].width||1}).map((e,n)=>{return(0,or.jsxs)("button",{onClick:()=>((e,t)=>{if(!te)return void console.error("wholeTileSheetImage isn't loaded when the user tile assignment happeend.");const n=structuredClone(_);n[H].tileSheetPositions[t]||(n[H].tileSheetPositions[t]=[]),n[H].tileSheetPositions[t][e]={x:null===M||void 0===M?void 0:M.x,y:null===M||void 0===M?void 0:M.y},C(n),ae(e=>e.regions=n)})(n,t),style:{backgroundImage:"url(".concat(p.get(l.tileSheetId),")"),backgroundRepeat:"no-repeat",imageRendering:"pixelated",backgroundSize:"".concat((null===B||void 0===B||null===(d=B.current)||void 0===d?void 0:d.naturalWidth)*(U/x),"px ").concat((null===B||void 0===B||null===(f=B.current)||void 0===f?void 0:f.naturalHeight)*(U/x),"px"),backgroundPositionX:U/x*(null!==(a=-(null===(c=l.regions[H].tileSheetPositions)||void 0===c||null===(u=c[t])||void 0===u||null===(h=u[n])||void 0===h?void 0:h.x))&&void 0!==a?a:0),backgroundPositionY:U/x*(null!==(r=-(null===(i=l.regions[H].tileSheetPositions)||void 0===i||null===(o=i[t])||void 0===o||null===(s=o[n])||void 0===s?void 0:s.y))&&void 0!==r?r:0)},className:"border-t-2 border-l-2 ".concat(t==_[H].height-1&&"border-b-2"," ").concat(n==_[H].width-1&&"border-r-2"," w-[var(--tile-size)] h-[var(--tile-size)] text-xs"),children:["(",n+1,", ",t+1,")"]},"tile-selector-".concat(n,"-").concat(t));var r,i,o,s,a,c,u,h,d,f}))})]})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Window Preview"}),(0,or.jsx)("div",{className:"grid grid-cols-4 gap-4 mb-2 mx-6 text-sm",children:(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{htmlFor:"a33f0024-8c0d-4ab8-9ac2-0c72ce5f2eb1",children:"Preview Tile Scale"}),(0,or.jsx)("input",{min:1,placeholder:"Preview Tile Scale",type:"Number",autoComplete:"off",id:"a33f0024-8c0d-4ab8-9ac2-0c72ce5f2eb1",className:oi,value:re,onChange:e=>ie(e.target.value)})]})}),(0,or.jsx)("p",{className:"mb-2 text-sm mx-6",children:"This is a preview of what a window with this tile set definition will look like."}),(0,or.jsx)("div",{className:"mx-6",id:"tileSetPreviewDiv",children:(0,or.jsx)("img",{alt:"Window Preview",src:null,ref:oe})}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Color Palette"}),(0,or.jsx)("button",{onClick:()=>{fetch(p.get(l.tileSheetId)).then(e=>e.body).then(e=>{const t=new Mf.PNG;e.getReader().read().then(e=>t.write(e.value)).finally(()=>{}),t.on("parsed",()=>{const e=[],n=new Set;var r;Object.keys(Pi).forEach(r=>{_[r].tileSheetPositions.forEach(r=>{r.forEach(r=>{for(let i=r.x;i<r.x+x;i++)for(let o=r.y;o<r.y+x;o++){const r=t.width*o+i<<2,s=t.data[r],a=t.data[r+1],l=t.data[r+2],c=t.data[r+3],u="(".concat(s,", ").concat(a,", ").concat(l,", ").concat(c,")");n.has(u)||(n.add(u),e[e.length]=new pi({r:s,g:a,b:l,a:c}))}})})}),Z(e.length>Ff),X(e.length),e.length<=Ff&&(k(r=e),ae(e=>e.defaultColors=r))})})},className:"bg-gray-500 text-white font-bold py-2 px-4 rounded hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-500",children:"Generate Color Palette"}),J&&(0,or.jsxs)("p",{className:"my-2 text-sm mx-6",children:["The selected tiles contain ",q," colors but only ",Ff," colors are supported. Please reduce the colors in an external tool or select different tiles."]}),!J&&S&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("h4",{className:"mb-1 mt-2 font-bold",children:"Default Colors"}),(0,or.jsx)("div",{className:"grid grid-cols-4 gap-4",children:S.map((e,t)=>{var n,r;return(0,or.jsxs)("div",{children:[(0,or.jsxs)("div",{className:"text-sm w-full text-center",children:["Color ",t+1]}),(0,or.jsx)("div",{children:(0,or.jsx)("input",{className:"w-full rounded",type:"color",value:(null===(n=S[t])||void 0===n||null===(r=n.toHexString)||void 0===r?void 0:r.call(n))||e.toHexString(),readOnly:!0})})]},t)})})]})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:d,className:"bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-700 dark:bg-teal-700 dark:hover:bg-teal-500",children:"Close"}),(0,or.jsx)("button",{onClick:()=>{l.id,g&&h(l.id)},className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-500",children:"Delete Tile Set Definition"})]})]})},Pf=t=>{var n,r,i;let{isSubordinate:o=!1,preset:s,tileSheets:a,tileSetDefinitions:l,onPresetChange:c,onPresetDelete:u,onReturnToEditor:h}=t;const d=(0,e.useRef)(null),[f,g]=(0,e.useState)(s.name),[p,m]=(0,e.useState)(l.find(e=>e.id==s.tileSetDefinitionId)||l[0]),[A,y]=(0,e.useState)(null!==(n=s.tileSetDefinitionId)&&void 0!==n?n:null),[v,b]=(0,e.useState)(s.tileScale||1),[w,x]=(0,e.useState)(s.substituteColors||[]),[E,_]=(0,e.useState)(s.substituteColors||[]);(0,e.useEffect)(()=>{m(l.find(e=>e.id==A))},[A]),(0,e.useEffect)(()=>{E&&E.length&&setTimeout(()=>{x(E);const e=new Ni(s);e.substituteColors=E,C(e)},250)},[E]),(0,e.useEffect)(()=>{if(!d.current)return;if(!p)return;const e=a.find(e=>e.id==p.tileSheetId);if(!e)return;let t=new Ii(p.toChocoWinTileSet(e.imageDataUrl),v||1,0,0,450,180,w);t.isReady().then(()=>{const e=document.createElement("canvas");e.width=450,e.height=180,e.style.imageRendering="pixelated";const n=e.getContext("2d",{willReadFrequently:!0,colorSpace:"srgb",colorType:"unorm8"});n.imageSmoothingEnabled=!1,t.drawTo(n);let r=e.toDataURL("image/png",1);d.current.src=r})},[s,v,p,w,d]);const C=e=>{c&&"function"==typeof c&&c(e)};(0,e.useEffect)(()=>{const e=new Ni(s);e.substituteColors=w.slice(),C(e)},[w]);return(0,or.jsxs)(or.Fragment,{children:[o||(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("h2",{className:"text-2xl font-bold sticky top-0 bg-white dark:bg-gray-600",children:["Preset Settings ",(0,or.jsxs)("span",{className:"text-sm",children:["(",s.id,")"]})]}),(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"You can use presets to reuse the same settings on multiple windows."}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"e4486061-7422-490d-be92-533ff31711a1",children:"Name: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"text",autoComplete:"off",id:"e4486061-7422-490d-be92-533ff31711a1",className:oi,value:f,onChange:e=>{const t=e.target.value;g(t);const n=new Ni(s);n.name=t,C(n)}})]})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"7ed0e6ee-47bf-48ff-b54b-d919c60faad5",children:"Tile Set Definition: "}),(0,or.jsxs)("select",{id:"7ed0e6ee-47bf-48ff-b54b-d919c60faad5",className:oi,onChange:e=>{const t=e.target.value;y(t),x([]);const n=new Ni(s);n.tileSetDefinitionId=t,C(n)},value:A,children:[s.tileSetDefinitionId||(0,or.jsx)("option",{value:"",children:"-"},""),l.map(e=>(0,or.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,or.jsxs)("div",{className:"w-full",children:[(0,or.jsx)("label",{htmlFor:"59731ce7-1ab4-4ea1-a08e-1bf5a43d1f4e",children:"Tile Scale: "}),(0,or.jsx)("input",{placeholder:"Tile Scale",type:"number",min:1,max:10,id:"59731ce7-1ab4-4ea1-a08e-1bf5a43d1f4e",className:oi,value:v,onChange:e=>{const t=e.target.value;b(t);const n=new Ni(s);n.tileScale=t,C(n)}})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Color Substitutions"}),(null===p||void 0===p||null===(r=p.defaultColors)||void 0===r?void 0:r.length)>0||(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"No default colors were generated for the selected tile set definition."}),(null===p||void 0===p||null===(i=p.defaultColors)||void 0===i?void 0:i.length)>0&&(0,or.jsx)("div",{className:"grid grid-cols-4 gap-4",children:p.defaultColors.map((e,t)=>{var n,r;return(0,or.jsxs)("div",{children:[(0,or.jsxs)("div",{className:"text-sm w-full text-center",children:["Color ",t+1]}),(0,or.jsx)("div",{children:(0,or.jsx)("input",{className:"w-full rounded",type:"color",value:(null===(n=w[t])||void 0===n||null===(r=n.toHexString)||void 0===r?void 0:r.call(n))||e.toHexString(),onChange:e=>((e,t)=>{let n=w.slice();n[t]=new pi(e.target.value),_(n)})(e,t)})}),(0,or.jsx)("div",{children:(0,or.jsx)("button",{className:"w-full border mt-1 text-sm border-gray-900 bg-gray-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded",onClick:e=>(e=>{let t=w.slice();delete t[e],x(t);const n=new Ni(s);n.substituteColors=t,C(n)})(t),children:"Reset"})})]},t)})}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Preview"}),(0,or.jsx)("div",{id:"tileSetPreviewDiv",children:(0,or.jsx)("img",{alt:"Window Preview",src:null,ref:d})}),o||(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:h,className:"bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-700 dark:bg-teal-700 dark:hover:bg-teal-500",children:"Close"}),(0,or.jsx)("button",{onClick:()=>{s.id,u&&"function"==typeof u&&u(s.id)},className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-500",children:"Delete Preset"})]})]})]})},Rf=t=>{let{layout:n,windows:r,onLayoutChange:i,onLayoutDelete:o,onReturnToEditor:s,onEditThisLayout:a}=t;const l=(0,e.useRef)(),[c,u]=(0,e.useState)(n.name||""),[h,d]=(0,e.useState)(n.windowIds||[]),f=e=>{i&&"function"==typeof i&&i(e)};return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("h2",{className:"text-2xl font-bold sticky top-0 bg-white dark:bg-gray-600",children:["Layout Settings ",(0,or.jsxs)("span",{className:"text-sm",children:["(",n.id,")"]})]}),(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"A layout is a collection of windows, analogous to a scene."}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"c2c6dc82-1188-41ae-a8ba-24b3c3748b95",children:"Name: "}),(0,or.jsx)("input",{placeholder:"Layout Name",type:"text",autoComplete:"off",id:"c2c6dc82-1188-41ae-a8ba-24b3c3748b95",className:oi,value:c,onChange:e=>{const t=e.target.value;u(t);const r=new zi(n);r.name=t,f(r)}})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Window List"}),(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"Windows lower in the list will rendered later and therefore appear above windows higher in the list."}),(0,or.jsxs)("table",{className:"min-w-full",children:[(0,or.jsx)("thead",{children:(0,or.jsxs)("tr",{children:[(0,or.jsx)("th",{className:"p-1 border-b border-b-gray-900 text-left",children:"Render Order"}),(0,or.jsx)("th",{className:"p-1 border-b border-b-gray-900 text-left",children:"Window Name"}),(0,or.jsx)("th",{className:"p-1 border-b border-b-gray-900 text-left",children:"Actions"})]})}),(0,or.jsx)("tbody",{children:h.map(e=>{const t=r.find(t=>t.id==e);return(0,or.jsxs)("tr",{className:"even:bg-gray-200 odd:bg-gray-300 dark:even:bg-gray-600 dark:odd:bg-gray-700",children:[(0,or.jsxs)("td",{className:"p-1",children:[(0,or.jsx)("button",{className:"hover:text-yellow-400",onClick:()=>(e=>{const t=h.indexOf(e);if(0==t)return;let r=h.slice();r[t]=r[t-1],r[t-1]=e,d(r);const i=new zi(n);i.windowIds=r.slice(),f(i)})(t.id),"aria-label":"Delete",children:(0,or.jsx)(Yr,{icon:qr})},"u-".concat(t.id)),(0,or.jsx)("button",{className:"hover:text-yellow-400",onClick:()=>(e=>{const t=h.indexOf(e);if(t==h.length-1)return;let r=h.slice();r[t]=r[t+1],r[t+1]=e,d(r);const i=new zi(n);i.windowIds=r.slice(),f(i)})(t.id),"aria-label":"Delete",children:(0,or.jsx)(Yr,{icon:ti})},"d-".concat(t.id))]}),(0,or.jsx)("td",{className:"p-1",children:t.name}),(0,or.jsx)("td",{className:"p-1",children:(0,or.jsx)("button",{className:"hover:text-red-200",onClick:()=>(e=>{const t=h.indexOf(e);if(t<0)return;let r=h.slice();r.splice(t,1),d(r);const i=new zi(n);i.windowIds=r.slice(),f(i)})(t.id),"aria-label":"Delete",children:(0,or.jsx)(Yr,{icon:ri})},"r-".concat(t.id))})]},e)})})]}),(0,or.jsxs)("div",{className:"mb-4 mt-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"c4698df8-c46f-4736-96c0-a20777e7eb7e",className:"block",children:"Add Window: "}),(0,or.jsx)("div",{className:"mb-4 w-full",children:(0,or.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,or.jsxs)("select",{id:"c4698df8-c46f-4736-96c0-a20777e7eb7e",className:oi,defaultValue:null,ref:l,children:[(0,or.jsx)("option",{value:null}),r.filter(e=>0==h.includes(e.id)).map(e=>(0,or.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,or.jsx)("button",{onClick:()=>{if(l.current){const e=l.current.value,t=r.find(t=>e==t.id);if(t){let t=h.slice();t.push(e),d(t);const r=new zi(n);r.windowIds=t.slice(),f(r)}}},className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-gray-700 dark:hover:bg-gray-500",children:"Add"})]})})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:s,className:"bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-700 dark:bg-teal-700 dark:hover:bg-teal-500",children:"Close"}),(0,or.jsx)("button",{onClick:()=>a(n.id),className:"bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-700 dark:bg-teal-700 dark:hover:bg-teal-500",children:"Edit this Layout"}),(0,or.jsx)("button",{onClick:()=>{n.id,o&&"function"==typeof o&&o(n.id)},className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-500",children:"Delete Layout"})]})]})},Lf=t=>{let{window:n,presets:r,tileSheets:i,tileSetDefinitions:o,onWindowChange:s,onWindowDelete:a,onReturnToEditor:l}=t;const c=(0,e.useRef)(null),[u,h]=(0,e.useState)(n.name),[d,f]=(0,e.useState)(n.x),[g,p]=(0,e.useState)(n.y),[m,A]=(0,e.useState)(n.w),[y,v]=(0,e.useState)(n.h),[b,w]=(0,e.useState)(n.presetId),x=e=>{s&&"function"==typeof s&&s(e)};(0,e.useEffect)(()=>{if(!c.current)return;if(!b)return;let e=r.find(e=>e.id==b);if(!e)return;let t=o.find(t=>t.id==e.tileSetDefinitionId);if(!t)return;let n=i.find(e=>e.id==t.tileSheetId);if(!n)return;let s=new Ii(t.toChocoWinTileSet(n.imageDataUrl),e.tileScale,0,0,450,180,e.substituteColors);s.isReady().then(()=>{const e=document.createElement("canvas");e.width=450,e.height=180,e.style.imageRendering="pixelated";const t=e.getContext("2d",{willReadFrequently:!0,colorSpace:"srgb",colorType:"unorm8"});t.imageSmoothingEnabled=!1,s.drawTo(t);let n=e.toDataURL("image/png",1);c.current.src=n})},[b,c]);return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("h2",{className:"text-2xl font-bold sticky top-0 bg-white dark:bg-gray-600",children:["Window Settings ",(0,or.jsxs)("span",{className:"text-sm",children:["(",n.id,")"]})]}),(0,or.jsx)("p",{className:"mb-2 text-sm italic"}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"c2c6dc82-1188-41ae-a8ba-24b3c3748b95",children:"Name: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"text",autoComplete:"off",id:"c2c6dc82-1188-41ae-a8ba-24b3c3748b95",className:oi,value:u,onChange:e=>{const t=e.target.value;h(t);const r=new Qi(n);r.name=t,x(r)}})]}),(0,or.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"f6242f82-7376-4e18-9248-a7a6e874d6e4",children:"X Position: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"number",id:"f6242f82-7376-4e18-9248-a7a6e874d6e4",className:oi,value:d,onChange:e=>{const t=e.target.value;f(t);const r=new Qi(n);r.x=t,x(r)}})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"3da2a38e-6c32-4e9d-8ff9-cac955c3b53e",children:"Y Position: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"number",id:"3da2a38e-6c32-4e9d-8ff9-cac955c3b53e",className:oi,value:g,onChange:e=>{const t=e.target.value;p(t);const r=new Qi(n);r.y=t,x(r)}})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"4a855c80-d4e1-46b4-ba47-471488280ac7",children:"Width: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"number",id:"4a855c80-d4e1-46b4-ba47-471488280ac7",className:oi,value:m,onChange:e=>{const t=e.target.value;A(t);const r=new Qi(n);r.w=t,x(r)}})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"df672390-f90b-4033-b0c3-ffbdcbd4139d",children:"Height: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"number",id:"df672390-f90b-4033-b0c3-ffbdcbd4139d",className:oi,value:y,onChange:e=>{const t=e.target.value;v(t);const r=new Qi(n);r.h=t,x(r)}})]})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"e2820c63-7187-4326-8cd7-822161700f82",children:"Preset: "}),(0,or.jsxs)("select",{id:"e2820c63-7187-4326-8cd7-822161700f82",className:oi,onChange:e=>{const t=e.target.value;w(t);const r=new Qi(n);r.singularPreset=null,r.presetId=t,x(r)},value:b,children:[(0,or.jsx)("option",{value:"",children:"- no preset -"},"none"),r.map(e=>(0,or.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),!b&&(0,or.jsx)(Pf,{isSubordinate:!0,preset:n.singularPreset||new Ni,tileSheets:i,tileSetDefinitions:o,onPresetChange:e=>{const t=new Ni(e),r=new Qi(n);r.singularPreset=t,x(r)}}),b&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Preview"}),(0,or.jsx)("div",{id:"tileSetPreviewDiv",children:(0,or.jsx)("img",{alt:"Window Preview",src:null,ref:c})})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:l,className:"bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-700 dark:bg-teal-700 dark:hover:bg-teal-500",children:"Close"}),(0,or.jsx)("button",{onClick:()=>{n.id,a&&"function"==typeof a&&a(n.id)},className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-500",children:"Delete Window"})]})]})},Nf=t=>{let{tileSheet:n,onTileSheetChange:r,onTileSheetDelete:i,onReturnToEditor:o}=t;const s=i&&"function"==typeof i,a=(0,e.useRef)(null),l=(0,e.useRef)(null),[c,u]=(0,e.useState)(n.name),[h,d]=(0,e.useState)(null!=n.imageDataUrl),[f,g]=(0,e.useState)(n.imageDataUrl),[p,m]=(0,e.useState)(n.attribution),A=e=>{const t=new ji(n);r&&"function"==typeof r&&(e&&"function"==typeof e&&e(t),r(t))};return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("h2",{className:"text-2xl font-bold sticky top-0 mb-2 bg-white dark:bg-gray-600",children:["Tile Sheet Editor ",(0,or.jsxs)("span",{className:"text-sm",children:["(",n.id,")"]})]}),(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"A tile sheet is an image file that contains the tiles used to create windows."}),(0,or.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"3ccab645-9aaa-4bfb-b12d-625bc18b6fd9",children:"Name: "}),(0,or.jsx)("input",{placeholder:"Tile Set Name",type:"text",autoComplete:"off",id:"3ccab645-9aaa-4bfb-b12d-625bc18b6fd9",className:oi,value:c,onChange:e=>{u(e.target.value),A(t=>t.name=e.target.value)}})]}),(0,or.jsxs)("div",{className:"wb-4 w-full",children:[(0,or.jsx)("input",{className:"hidden",accept:"image/png",type:"file",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;d(!0),e.onload=t=>{const n=e.result;l.current.src=n,g(n),A(e=>e.imageDataUrl=n)},e.readAsDataURL(t)}},ref:a}),(0,or.jsx)("label",{htmlFor:"b06ffc48-9ef6-47b7-b8a2-daf2fdc8e2cf",children:"Upload Tile Sheet"}),(0,or.jsx)("button",{id:"b06ffc48-9ef6-47b7-b8a2-daf2fdc8e2cf",className:"".concat(oi," hover:bg-gray-500"),onClick:e=>{a.current&&a.current.click()},children:"Upload"})]})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"4d8736a5-51a6-4fd3-88a1-2a907b755718",children:"Atrribution: "}),(0,or.jsx)("textarea",{placeholder:"Attribution",type:"text",autoComplete:"off",id:"4d8736a5-51a6-4fd3-88a1-2a907b755718",className:oi,value:p,onChange:e=>{m(e.target.value),A(t=>t.attribution=e.target.value)}})]}),h||(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"Please upload a tile sheet image file."}),h&&(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Tile Sheet Quick View"}),(0,or.jsx)("div",{className:"mb-4 w-full",children:(0,or.jsx)("img",{className:"block rounded-lg border dark:border-none dark:bg-gray-800 py-[9px] px-3 text-sm focus:border-gray-400 focus:ring-1 focus:ring-gray-400 focus:outline-none",ref:l,src:f})})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:o,className:"bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-700 dark:bg-teal-700 dark:hover:bg-teal-500",children:"Close"}),s&&(0,or.jsx)("button",{onClick:()=>i(n.id),className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-500",children:"Delete Tile Sheet"})]})]})};var zf=li("generateCanvas");class Qf{constructor(e){Object.defineProperty(this,zf,{writable:!0,value:(e,t)=>{const n=this.workspace.layouts.find(t=>e==t.id);if(!n)return void console.error("No layout with ID ".concat(e));const r=n.windowIds.map(e=>{const t=this.workspace.windows.find(t=>e==t.id);if(!t)return void console.error("No window with ID ".concat(e,"."));const n=t.singularPreset||this.workspace.presets.find(e=>e.id==t.presetId);if(!n)return void console.error("No singular preset or preset with ID ".concat(t.presetId,"."));const r=this.workspace.tileSetDefinitions.find(e=>e.id==n.tileSetDefinitionId);if(!r)return void console.error("No tile set definition with ID ".concat(n.tileSetDefinitionId,"."));const i=this.workspace.tileSheets.find(e=>e.id==r.tileSheetId);if(!i)return void console.error("No tile sheet with ID ".concat(r.tileSheetId,"."));return new Ii(r.toChocoWinTileSet(i.imageDataUrl),n.tileScale,t.x,t.y,t.w,t.h,n.substituteColors)}),i=Promise.all(r.map(e=>e.isReady()));return new Promise(e=>{i.then(()=>{const t=document.createElement("canvas"),n=t.getContext("2d");t.width=this.workspace.width,t.height=this.workspace.height,r.forEach(e=>e.drawTo(n)),e(t)})})}}),this.generateLayoutImageBlob=e=>new Promise(t=>{si(this,zf)[zf](e).then(e=>{e.toBlob(e=>t(e),"image/png",10)})}),this.generateLayoutImageDataUrl=e=>new Promise(t=>{si(this,zf)[zf](e).then(e=>{const n=e.toDataURL("image/png",10);t(n)})}),this.workspace=new Ui(e)}}const Yf=4294967295,Uf=65535,Gf=255,Hf=67324752,Wf=134695760,Vf=Wf,Kf=33639248,qf=101010256,Xf=101075792,Jf=117853008,Zf=22,$f=39169,eg=21589,tg=6534,ng=30837,rg=30805,ig=2048,og=16,sg=16384,ag=2048,lg=1024,cg=512,ug="/",hg=30,dg=14,fg=18,gg=new Date(2107,11,31),pg=new Date(1980,0,1),mg=void 0,Ag="undefined",yg="function",vg="object";let bg=2;try{typeof navigator!=Ag&&navigator.hardwareConcurrency&&(bg=navigator.hardwareConcurrency)}catch(Xy){}const wg={workerURI:"./core/web-worker-wasm.js",wasmURI:"./core/streams/zlib-wasm/zlib-streams.wasm",chunkSize:65536,maxWorkers:bg,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,CompressionStream:typeof CompressionStream!=Ag&&CompressionStream,DecompressionStream:typeof DecompressionStream!=Ag&&DecompressionStream},xg=Object.assign({},wg);function Eg(){return xg}function _g(e){return Math.max(e.chunkSize,64)}function Cg(e){const{baseURI:t,chunkSize:n,maxWorkers:r,terminateWorkerTimeout:i,useCompressionStream:o,useWebWorkers:s,CompressionStream:a,DecompressionStream:l,CompressionStreamZlib:c,DecompressionStreamZlib:u,workerURI:h,wasmURI:d}=e;Sg("baseURI",t),Sg("wasmURI",d),Sg("workerURI",h),Sg("chunkSize",n),Sg("maxWorkers",r),Sg("terminateWorkerTimeout",i),Sg("useCompressionStream",o),Sg("useWebWorkers",s),Sg("CompressionStream",a),Sg("DecompressionStream",l),Sg("CompressionStreamZlib",c),Sg("DecompressionStreamZlib",u)}function Sg(e,t){t!==mg&&(xg[e]=t)}function kg(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Bg(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Bg(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Bg=function(e){this.s=e,this.n=e.next},Bg.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Bg(e)}function Ig(e,t){this.v=e,this.k=t}function Tg(e){return new Ig(e,0)}function Dg(e){var t,n;function r(t,n){try{var o=e[t](n),s=o.value,a=s instanceof Ig;Promise.resolve(a?s.v:s).then(function(n){if(a){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}i(o.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}Dg.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Dg.prototype.next=function(e){return this._invoke("next",e)},Dg.prototype.throw=function(e){return this._invoke("throw",e)},Dg.prototype.return=function(e){return this._invoke("return",e)};const Og=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=e>>>1^3988292384:e>>>=1;Og[n]=e}class Mg{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let n=0,r=0|e.length;n<r;n++)t=t>>>8^Og[255&(t^e[n])];this.crc=t}get(){return~this.crc}}class Fg extends TransformStream{constructor(){let e;const t=new Mg;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}function jg(e){if(typeof TextEncoder==Ag){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new TextEncoder).encode(e)}const Pg={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=Pg.getPartial(n);return 32===r?e.concat(t):Pg._shiftRight(t,r,0|n,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+Pg.getPartial(n)},clamp(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=Pg.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,getPartial:e=>Math.round(e/1099511627776)||32,_shiftRight(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const i=e.length?e[e.length-1]:0,o=Pg.getPartial(i);return r.push(Pg.partial(t+o&31,t+o>32?n:r.pop(),1)),r}},Rg={bytes:{fromBits(e){const t=Pg.bitLength(e)/8,n=new Uint8Array(t);let r;for(let i=0;i<t;i++)0===(3&i)&&(r=e[i/4]),n[i]=r>>>24,r<<=8;return n},toBits(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3===(3&n)&&(t.push(r),r=0);return 3&n&&t.push(Pg.partial(8*(3&n),r)),t}}},Lg={sha1:class{constructor(e){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],e?(t._h=e._h.slice(0),t._buffer=e._buffer.slice(0),t._length=e._length):t.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const t=this;"string"===typeof e&&(e=Rg.utf8String.toBits(e));const n=t._buffer=Pg.concat(t._buffer,e),r=t._length,i=t._length=r+Pg.bitLength(e);if(i>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const o=new Uint32Array(n);let s=0;for(let a=t.blockSize+r-(t.blockSize+r&t.blockSize-1);a<=i;a+=t.blockSize)t._block(o.subarray(16*s,16*(s+1))),s+=1;return n.splice(0,16*s),t}finalize(){const e=this;let t=e._buffer;const n=e._h;t=Pg.concat(t,[Pg.partial(1,1)]);for(let r=t.length+2;15&r;r++)t.push(0);for(t.push(Math.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),n}_f(e,t,n,r){return e<=19?t&n|~t&r:e<=39?t^n^r:e<=59?t&n|t&r|n&r:e<=79?t^n^r:void 0}_S(e,t){return t<<e|t>>>32-e}_block(e){const t=this,n=t._h,r=Array(80);for(let c=0;c<16;c++)r[c]=e[c];let i=n[0],o=n[1],s=n[2],a=n[3],l=n[4];for(let c=0;c<=79;c++){c>=16&&(r[c]=t._S(1,r[c-3]^r[c-8]^r[c-14]^r[c-16]));const e=t._S(5,i)+t._f(c,o,s,a)+l+r[c]+t._key[Math.floor(c/20)]|0;l=a,a=s,s=t._S(30,o),o=i,i=e}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0}}},Ng={aes:class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const n=t._tables[0][4],r=t._tables[1],i=e.length;let o,s,a,l=1;if(4!==i&&6!==i&&8!==i)throw new Error("invalid aes key size");for(t._key=[s=e.slice(0),a=[]],o=i;o<4*i+28;o++){let e=s[o-1];(o%i===0||8===i&&o%i===4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i===0&&(e=e<<8^e>>>24^l<<24,l=l<<1^283*(l>>7))),s[o]=s[o-i]^e}for(let c=0;o;c++,o--){const e=s[3&c?o:o-4];a[c]=o<=4||c<4?e:r[0][n[e>>>24]]^r[1][n[e>>16&255]]^r[2][n[e>>8&255]]^r[3][n[255&e]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],n=e[4],r=t[4],i=[],o=[];let s,a,l,c;for(let u=0;u<256;u++)o[(i[u]=u<<1^283*(u>>7))^u]=u;for(let u=s=0;!n[u];u^=a||1,s=o[s]||1){let o=s^s<<1^s<<2^s<<3^s<<4;o=o>>8^255&o^99,n[u]=o,r[o]=u,c=i[l=i[a=i[u]]];let h=16843009*c^65537*l^257*a^16843008*u,d=257*i[o]^16843008*o;for(let n=0;n<4;n++)e[n][u]=d=d<<24^d>>>8,t[n][o]=h=h<<24^h>>>8}for(let u=0;u<5;u++)e[u]=e[u].slice(0),t[u]=t[u].slice(0)}_crypt(e,t){if(4!==e.length)throw new Error("invalid aes block size");const n=this._key[t],r=n.length/4-2,i=[0,0,0,0],o=this._tables[t],s=o[0],a=o[1],l=o[2],c=o[3],u=o[4];let h,d,f,g=e[0]^n[0],p=e[t?3:1]^n[1],m=e[2]^n[2],A=e[t?1:3]^n[3],y=4;for(let v=0;v<r;v++)h=s[g>>>24]^a[p>>16&255]^l[m>>8&255]^c[255&A]^n[y],d=s[p>>>24]^a[m>>16&255]^l[A>>8&255]^c[255&g]^n[y+1],f=s[m>>>24]^a[A>>16&255]^l[g>>8&255]^c[255&p]^n[y+2],A=s[A>>>24]^a[g>>16&255]^l[p>>8&255]^c[255&m]^n[y+3],y+=4,g=h,p=d,m=f;for(let v=0;v<4;v++)i[t?3&-v:v]=u[g>>>24]<<24^u[p>>16&255]<<16^u[m>>8&255]<<8^u[255&A]^n[y++],h=g,g=p,p=m,m=A,A=h;return i}}},zg={getRandomValues(e){const t=new Uint32Array(e.buffer),n=e=>{let t=987654321;const n=4294967295;return function(){t=36969*(65535&t)+(t>>16)&n;return(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let r,i=0;i<e.length;i+=4){const e=n(4294967296*(r||Math.random()));r=987654071*e(),t[i/4]=4294967296*e()|0}return e}},Qg={ctrGladman:class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255===(e>>24&255)){let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,n){let r;if(!(r=t.length))return[];const i=Pg.bitLength(t);for(let o=0;o<r;o+=4){this.incCounter(n);const r=e.encrypt(n);t[o]^=r[0],t[o+1]^=r[1],t[o+2]^=r[2],t[o+3]^=r[3]}return Pg.clamp(t,i)}}},Yg={importKey:e=>new Yg.hmacSha1(Rg.bytes.toBits(e)),pbkdf2(e,t,n,r){if(n=n||1e4,r<0||n<0)throw new Error("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,s,a,l,c;const u=new ArrayBuffer(i),h=new DataView(u);let d=0;const f=Pg;for(t=Rg.bytes.toBits(t),c=1;d<(i||1);c++){for(o=s=e.encrypt(f.concat(t,[c])),a=1;a<n;a++)for(s=e.encrypt(s),l=0;l<s.length;l++)o[l]^=s[l];for(a=0;d<(i||1)&&a<o.length;a++)h.setInt32(d,o[a]),d+=4}return u.slice(0,r/8)},hmacSha1:class{constructor(e){const t=this,n=t._hash=Lg.sha1,r=[[],[]];t._baseHash=[new n,new n];const i=t._baseHash[0].blockSize/32;e.length>i&&(e=(new n).update(e).finalize());for(let o=0;o<i;o++)r[0][o]=909522486^e[o],r[1][o]=1549556828^e[o];t._baseHash[0].update(r[0]),t._baseHash[1].update(r[1]),t._resultHash=new n(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),n=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),n}encrypt(e){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},Ug=typeof crypto!=Ag&&typeof crypto.getRandomValues==yg,Gg="Invalid password",Hg="Invalid signature",Wg="zipjs-abort-check-password";function Vg(e){return Ug?crypto.getRandomValues(e):zg.getRandomValues(e)}const Kg=16,qg={name:"PBKDF2"},Xg=Object.assign({hash:{name:"HMAC"}},qg),Jg=Object.assign({iterations:1e3,hash:{name:"SHA-1"}},qg),Zg=["deriveBits"],$g=[8,12,16],ep=[16,24,32],tp=10,np=[0,0,0,0],rp=typeof crypto!=Ag,ip=rp&&crypto.subtle,op=rp&&typeof ip!=Ag,sp=Rg.bytes,ap=Ng.aes,lp=Qg.ctrGladman,cp=Yg.hmacSha1;let up=rp&&op&&typeof ip.importKey==yg,hp=rp&&op&&typeof ip.deriveBits==yg;class dp extends TransformStream{constructor(e){let{password:t,rawPassword:n,signed:r,encryptionStrength:i,checkPasswordOnly:o}=e;super({start(){Object.assign(this,{ready:new Promise(e=>this.resolveReady=e),password:mp(t,n),signed:r,strength:i-1,pending:new Uint8Array})},async transform(e,t){const n=this,{password:r,strength:i,resolveReady:s,ready:a}=n;r?(await async function(e,t,n,r){const i=await pp(e,t,n,yp(r,0,$g[t])),o=yp(r,$g[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new Error(Gg)}(n,i,r,yp(e,0,$g[i]+2)),e=yp(e,$g[i]+2),o?t.error(new Error(Wg)):s()):await a;const l=new Uint8Array(e.length-tp-(e.length-tp)%Kg);t.enqueue(gp(n,e,l,0,tp,!0))},async flush(e){const{signed:t,ctr:n,hmac:r,pending:i,ready:o}=this;if(r&&n){await o;const s=yp(i,0,i.length-tp),a=yp(i,i.length-tp);let l=new Uint8Array;if(s.length){const e=bp(sp,s);r.update(e);const t=n.update(e);l=vp(sp,t)}if(t){const e=yp(vp(sp,r.digest()),0,tp);for(let t=0;t<tp;t++)if(e[t]!=a[t])throw new Error(Hg)}e.enqueue(l)}}})}}class fp extends TransformStream{constructor(e){let t,{password:n,rawPassword:r,encryptionStrength:i}=e;super({start(){Object.assign(this,{ready:new Promise(e=>this.resolveReady=e),password:mp(n,r),strength:i-1,pending:new Uint8Array})},async transform(e,t){const n=this,{password:r,strength:i,resolveReady:o,ready:s}=n;let a=new Uint8Array;r?(a=await async function(e,t,n){const r=Vg(new Uint8Array($g[t])),i=await pp(e,t,n,r);return Ap(r,i)}(n,i,r),o()):await s;const l=new Uint8Array(a.length+e.length-e.length%Kg);l.set(a,0),t.enqueue(gp(n,e,l,a.length,0))},async flush(e){const{ctr:n,hmac:r,pending:i,ready:o}=this;if(r&&n){await o;let s=new Uint8Array;if(i.length){const e=n.update(bp(sp,i));r.update(e),s=vp(sp,e)}t.signature=vp(sp,r.digest()).slice(0,tp),e.enqueue(Ap(s,t.signature))}}}),t=this}}function gp(e,t,n,r,i,o){const{ctr:s,hmac:a,pending:l}=e,c=t.length-i;let u;for(l.length&&(t=Ap(l,t),n=function(e,t){if(t&&t>e.length){const n=e;(e=new Uint8Array(t)).set(n,0)}return e}(n,c-c%Kg)),u=0;u<=c-Kg;u+=Kg){const e=bp(sp,yp(t,u,u+Kg));o&&a.update(e);const i=s.update(e);o||a.update(i),n.set(vp(sp,i),u+r)}return e.pending=yp(t,u),n}async function pp(e,t,n,r){e.password=null;const i=await async function(e,t,n,r,i){if(!up)return Yg.importKey(t);try{return await ip.importKey(e,t,n,r,i)}catch(Xy){return up=!1,Yg.importKey(t)}}("raw",n,Xg,!1,Zg),o=await async function(e,t,n){if(!hp)return Yg.pbkdf2(t,e.salt,Jg.iterations,n);try{return await ip.deriveBits(e,t,n)}catch(r){return hp=!1,Yg.pbkdf2(t,e.salt,Jg.iterations,n)}}(Object.assign({salt:r},Jg),i,8*(2*ep[t]+2)),s=new Uint8Array(o),a=bp(sp,yp(s,0,ep[t])),l=bp(sp,yp(s,ep[t],2*ep[t])),c=yp(s,2*ep[t]);return Object.assign(e,{keys:{key:a,authentication:l,passwordVerification:c},ctr:new lp(new ap(a),Array.from(np)),hmac:new cp(l)}),c}function mp(e,t){return t===mg?jg(e):t}function Ap(e,t){let n=e;return e.length+t.length&&(n=new Uint8Array(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function yp(e,t,n){return e.subarray(t,n)}function vp(e,t){return e.fromBits(t)}function bp(e,t){return e.toBits(t)}class wp extends TransformStream{constructor(e){let{password:t,passwordVerification:n,checkPasswordOnly:r}=e;super({start(){Object.assign(this,{password:t,passwordVerification:n}),Cp(this,t)},transform(e,t){const n=this;if(n.password){const t=Ep(n,e.subarray(0,12));if(n.password=null,t.at(-1)!=n.passwordVerification)throw new Error(Gg);e=e.subarray(12)}r?t.error(new Error(Wg)):t.enqueue(Ep(n,e))}})}}class xp extends TransformStream{constructor(e){let{password:t,passwordVerification:n}=e;super({start(){Object.assign(this,{password:t,passwordVerification:n}),Cp(this,t)},transform(e,t){const n=this;let r,i;if(n.password){n.password=null;const t=Vg(new Uint8Array(12));t[11]=n.passwordVerification,r=new Uint8Array(e.length+t.length),r.set(_p(n,t),0),i=12}else r=new Uint8Array(e.length),i=0;r.set(_p(n,e),i),t.enqueue(r)}})}}function Ep(e,t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=kp(e)^t[r],Sp(e,n[r]);return n}function _p(e,t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=kp(e)^t[r],Sp(e,t[r]);return n}function Cp(e,t){const n=[305419896,591751049,878082192];Object.assign(e,{keys:n,crcKey0:new Mg(n[0]),crcKey2:new Mg(n[2])});for(let r=0;r<t.length;r++)Sp(e,t.charCodeAt(r))}function Sp(e,t){let[n,r,i]=e.keys;e.crcKey0.append([t]),n=~e.crcKey0.get(),r=Ip(Math.imul(Ip(r+Bp(n)),134775813)+1),e.crcKey2.append([r>>>24]),i=~e.crcKey2.get(),e.keys=[n,r,i]}function kp(e){const t=2|e.keys[2];return Bp(Math.imul(t,1^t)>>>8)}function Bp(e){return 255&e}function Ip(e){return 4294967295&e}const Tp="Invalid uncompressed size";class Dp extends TransformStream{constructor(e,t){let{chunkSize:n,CompressionStreamZlib:r,CompressionStream:i}=t;super({});const{compressed:o,encrypted:s,useCompressionStream:a,zipCrypto:l,signed:c,level:u}=e,h=this;let d,f,g=super.readable;s&&!l||!c||(d=new Fg,g=jp(g,d)),o&&(g=Fp(g,a,{level:u,chunkSize:n},i,r,i)),s&&(l?g=jp(g,new xp(e)):(f=new fp(e),g=jp(g,f))),Mp(h,g,()=>{let e;s&&!l&&(e=f.signature),s&&!l||!c||(e=new DataView(d.value.buffer).getUint32(0)),h.signature=e})}}class Op extends TransformStream{constructor(e,t){let{chunkSize:n,DecompressionStreamZlib:r,DecompressionStream:i}=t;super({});const{zipCrypto:o,encrypted:s,signed:a,signature:l,compressed:c,useCompressionStream:u,deflate64:h}=e;let d,f,g=super.readable;s&&(o?g=jp(g,new wp(e)):(f=new dp(e),g=jp(g,f))),c&&(g=Fp(g,u,{chunkSize:n,deflate64:h},i,r,i)),s&&!o||!a||(d=new Fg,g=jp(g,d)),Mp(this,g,()=>{if((!s||o)&&a){const e=new DataView(d.value.buffer);if(l!=e.getUint32(0,!1))throw new Error(Hg)}})}}function Mp(e,t,n){t=jp(t,new TransformStream({flush:n})),Object.defineProperty(e,"readable",{get:()=>t})}function Fp(e,t,n,r,i,o){const s=t&&r?r:i||o,a=n.deflate64?"deflate64-raw":"deflate-raw";try{e=jp(e,new s(a,n))}catch(l){if(!t)throw l;if(i)e=jp(e,new i(a,n));else{if(!o)throw l;e=jp(e,new o(a,n))}}return e}function jp(e,t){return e.pipeThrough(t)}const Pp="message",Rp="start",Lp="pull",Np="data",zp="close",Qp="deflate",Yp="inflate";class Up extends TransformStream{constructor(e,t){super({});const n=this,{codecType:r}=e;let i;r.startsWith(Qp)?i=Dp:r.startsWith(Yp)&&(i=Op),n.outputSize=0;let o=0;const s=new i(e,t),a=super.readable,l=new TransformStream({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){Object.assign(n,{inputSize:o})}}),c=new TransformStream({transform(t,r){if(t&&t.length&&(r.enqueue(t),n.outputSize+=t.length,e.outputSize!==mg&&n.outputSize>e.outputSize))throw new Error(Tp)},flush(){const{signature:e}=s;Object.assign(n,{signature:e,inputSize:o})}});Object.defineProperty(n,"readable",{get:()=>a.pipeThrough(l).pipeThrough(s).pipeThrough(c)})}}class Gp extends TransformStream{constructor(e){let t;super({transform:function n(r,i){if(t){const e=new Uint8Array(t.length+r.length);e.set(t),e.set(r,t.length),r=e,t=null}r.length>e?(i.enqueue(r.slice(0,e)),n(r.slice(e),i)):t=r},flush(e){t&&t.length&&e.enqueue(t)}})}}let Hp=typeof Worker!=Ag,Wp=()=>{};class Vp{constructor(e,t,n,r){let{readable:i,writable:o}=t,{options:s,config:a,streamOptions:l,useWebWorkers:c,transferStreams:u,workerURI:h}=n;const{signal:d}=l;return Object.assign(e,{busy:!0,readable:i.pipeThrough(new Gp(a.chunkSize)).pipeThrough(new Kp(l),{signal:d}),writable:o,options:Object.assign({},s),workerURI:h,transferStreams:u,terminate:()=>new Promise(t=>{const{worker:n,busy:r}=e;n?(r?e.resolveTerminated=t:(n.terminate(),t()),e.interface=null):t()}),onTaskFinished(){const{resolveTerminated:t}=e;t&&(e.resolveTerminated=null,e.terminated=!0,e.worker.terminate(),t()),e.busy=!1,r(e)}}),(c&&Hp?Jp:Xp)(e,a)}}class Kp extends TransformStream{constructor(e){let{onstart:t,onprogress:n,size:r,onend:i}=e,o=0;super({async start(){t&&await qp(t,r)},async transform(e,t){o+=e.length,n&&await qp(n,o,r),t.enqueue(e)},async flush(){i&&await qp(i,o)}})}}async function qp(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];await e(...n)}catch(Xy){}}function Xp(e,t){return{run:()=>async function(e,t){let n,{options:r,readable:i,writable:o,onTaskFinished:s}=e;try{if(!r.useCompressionStream)try{await Wp(t)}catch(a){r.useCompressionStream=!0}n=new Up(r,t),await i.pipeThrough(n).pipeTo(o,{preventClose:!0,preventAbort:!0});const{signature:e,inputSize:s,outputSize:l}=n;return{signature:e,inputSize:s,outputSize:l}}catch(l){throw n&&(l.outputSize=n.outputSize),l}finally{s()}}(e,t)}}function Jp(e,t){const{baseURI:n,chunkSize:r}=t;let{wasmURI:i}=t;if(!e.interface){let s;typeof i==yg&&(i=i());try{s=function(e,t,n){const r={type:"module"};let i,o;typeof e==yg&&(e=e());if(e.startsWith("data:")||e.startsWith("blob:"))try{o=new Worker(e)}catch(s){o=new Worker(e,r)}else{try{i=new URL(e,t)}catch(a){i=e}o=new Worker(i,r)}return o.addEventListener(Pp,e=>async function(e,t){let{data:n}=e;const{type:r,value:i,messageId:o,result:s,error:a}=n,{reader:l,writer:c,resolveResult:u,rejectResult:h,onTaskFinished:d}=t;try{if(a){const{message:e,stack:t,code:n,name:r,outputSize:i}=a,o=new Error(e);Object.assign(o,{stack:t,code:n,name:r,outputSize:i}),f(o)}else{if(r==Lp){const{value:e,done:n}=await l.read();$p({type:Np,value:e,done:n,messageId:o},t)}r==Np&&(await c.ready,await c.write(new Uint8Array(i)),$p({type:"ack",messageId:o},t)),r==zp&&f(null,s)}}catch(a){$p({type:zp,messageId:o},t),f(a)}function f(e,t){e?h(e):u(t),c&&c.releaseLock(),d()}}(e,n)),o}(e.workerURI,n,e)}catch(o){return Hp=!1,Xp(e,t)}Object.assign(e,{worker:s,interface:{run:()=>async function(e,t){let n,r;const i=new Promise((e,t)=>{n=e,r=t});Object.assign(e,{reader:null,writer:null,resolveResult:n,rejectResult:r,result:i});const{readable:o,options:s}=e,{writable:a,closed:l}=function(e){let t;const n=new Promise(e=>t=e),r=new WritableStream({async write(t){const n=e.getWriter();await n.ready,await n.write(t),n.releaseLock()},close(){t()},abort:t=>e.getWriter().abort(t)});return{writable:r,closed:n}}(e.writable),c=$p({type:Rp,options:s,config:t,readable:o,writable:a},e);c||Object.assign(e,{reader:o.getReader(),writer:a.getWriter()});const u=await i;c||await a.getWriter().close();return await l,u}(e,{chunkSize:r,wasmURI:i,baseURI:n})}})}return e.interface}let Zp=!0;function $p(e,t){let{worker:n,writer:r,onTaskFinished:i,transferStreams:o}=t;try{const{value:t,readable:r,writable:i}=e,a=[];if(t&&(e.value=t,a.push(e.value.buffer)),o&&Zp?(r&&a.push(r),i&&a.push(i)):e.readable=e.writable=null,a.length)try{return n.postMessage(e,a),!0}catch(s){Zp=!1,e.readable=e.writable=null,n.postMessage(e)}else n.postMessage(e)}catch(a){throw r&&r.releaseLock(),i(),a}}let em=[];const tm=[];let nm=0;async function rm(e,t){const{options:n,config:r}=t,{transferStreams:i,useWebWorkers:o,useCompressionStream:s,compressed:a,signed:l,encrypted:c}=n,{workerURI:u,maxWorkers:h}=r;t.transferStreams=i||i===mg;const d=!a&&!l&&!c&&!t.transferStreams;return t.useWebWorkers=!d&&(o||o===mg&&r.useWebWorkers),t.workerURI=t.useWebWorkers&&u?u:mg,n.useCompressionStream=s||s===mg&&r.useCompressionStream,(await async function(){const n=em.find(e=>!e.busy);if(n)return im(n),new Vp(n,e,t,f);if(em.length<h){const n={indexWorker:nm};return nm++,em.push(n),new Vp(n,e,t,f)}return new Promise(n=>tm.push({resolve:n,stream:e,workerOptions:t}))}()).run();function f(e){if(tm.length){const[{resolve:t,stream:n,workerOptions:r}]=tm.splice(0,1);t(new Vp(e,n,r,f))}else e.worker?(im(e),function(e,t){const{config:n}=t,{terminateWorkerTimeout:r}=n;Number.isFinite(r)&&r>=0&&(e.terminated?e.terminated=!1:e.terminateTimeout=setTimeout(async()=>{em=em.filter(t=>t!=e);try{await e.terminate()}catch(Xy){}},r))}(e,t)):em=em.filter(t=>t!=e)}}function im(e){const{terminateTimeout:t}=e;t&&(clearTimeout(t),e.terminateTimeout=null)}const om=65536,sm="writable";class am{constructor(){this.size=0}init(){this.initialized=!0}}class lm extends am{get readable(){const e=this,{chunkSize:t=om}=e,n=new ReadableStream({start(){this.chunkOffset=0},async pull(r){const{offset:i=0,size:o,diskNumberStart:s}=n,{chunkOffset:a}=this,l=o===mg?t:Math.min(t,o-a),c=await ym(e,i+a,l,s);r.enqueue(c),a+t>o||o===mg&&!c.length&&l?r.close():this.chunkOffset+=t}});return n}}class cm extends lm{constructor(e){super();let t=e.length;for(;"="==e.charAt(t-1);)t--;const n=e.indexOf(",")+1;Object.assign(this,{dataURI:e,dataStart:n,size:Math.floor(.75*(t-n))})}readUint8Array(e,t){const{dataStart:n,dataURI:r}=this,i=new Uint8Array(t),o=4*Math.floor(e/3),s=atob(r.substring(o+n,4*Math.ceil((e+t)/3)+n)),a=e-3*Math.floor(o/4);let l=0;for(let c=a;c<a+t&&c<s.length;c++)i[c-a]=s.charCodeAt(c),l++;return l<i.length?i.subarray(0,l):i}}class um extends lm{constructor(e){super(),Object.assign(this,{blob:e,size:e.size})}async readUint8Array(e,t){const n=this,r=e+t,i=e||r<n.size?n.blob.slice(e,r):n.blob;let o=await i.arrayBuffer();return o.byteLength>t&&(o=o.slice(e,r)),new Uint8Array(o)}}class hm extends am{constructor(e){super();const t=new TransformStream,n=[];e&&n.push(["Content-Type",e]),Object.defineProperty(this,sm,{get:()=>t.writable}),this.blob=new Response(t.readable,{headers:n}).blob()}getData(){return this.blob}}class dm extends um{constructor(e){super(new Blob([e],{type:"text/plain"}))}}class fm extends lm{constructor(e){super(),this.readers=e}async init(){const e=this,{readers:t}=e;e.lastDiskNumber=0,e.lastDiskOffset=0,await Promise.all(t.map(async(n,r)=>{await n.init(),r!=t.length-1&&(e.lastDiskOffset+=n.size),e.size+=n.size})),super.init()}async readUint8Array(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this,{readers:i}=this;let o,s=n;-1==s&&(s=i.length-1);let a=e;for(;i[s]&&a>=i[s].size;)a-=i[s].size,s++;const l=i[s];if(l){const i=l.size;if(a+t<=i)o=await ym(l,a,t);else{const s=i-a;o=new Uint8Array(t);const c=await ym(l,a,s);o.set(c,0);const u=await r.readUint8Array(e+s,t-s,n);o.set(u,s),c.length+u.length<t&&(o=o.subarray(0,c.length+u.length))}}else o=new Uint8Array;return r.lastDiskNumber=Math.max(s,r.lastDiskNumber),o}}class gm extends am{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4294967295;super();const n=this;let r,i,o;Object.assign(n,{diskNumber:0,diskOffset:0,size:0,maxSize:t,availableSize:t});const s=new WritableStream({async write(t){const{availableSize:s}=n;if(o)t.length>=s?(await a(t.subarray(0,s)),await l(),n.diskOffset+=r.size,n.diskNumber++,o=null,await this.write(t.subarray(s))):await a(t);else{const{value:s,done:a}=await e.next();if(a&&!s)throw new Error("Writer iterator completed too soon");r=s,r.size=0,r.maxSize&&(n.maxSize=r.maxSize),n.availableSize=n.maxSize,await Am(r),i=s.writable,o=i.getWriter(),await this.write(t)}},async close(){await o.ready,await l()}});async function a(e){const t=e.length;t&&(await o.ready,await o.write(e),r.size+=t,n.size+=t,n.availableSize-=t)}async function l(){await o.close()}Object.defineProperty(n,sm,{get:()=>s})}}class pm{constructor(e){return Array.isArray(e)&&(e=new fm(e)),e instanceof ReadableStream&&(e={readable:e}),e}}class mm{constructor(e){return e.writable===mg&&typeof e.next==yg&&(e=new gm(e)),e instanceof WritableStream&&(e={writable:e}),e.size===mg&&(e.size=0),e instanceof gm||Object.assign(e,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),e}}async function Am(e,t){if(!e.init||e.initialized)return Promise.resolve();await e.init(t)}function ym(e,t,n,r){return e.readUint8Array(t,n,r)}const vm="\0\u263a\u263b\u2665\u2666\u2663\u2660\u2022\u25d8\u25cb\u25d9\u2642\u2640\u266a\u266b\u263c\u25ba\u25c4\u2195\u203c\xb6\xa7\u25ac\u21a8\u2191\u2193\u2192\u2190\u221f\u2194\u25b2\u25bc !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xa2\xa3\xa5\u20a7\u0192\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\u2310\xac\xbd\xbc\xa1\xab\xbb\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255d\u255c\u255b\u2510\u2514\u2534\u252c\u251c\u2500\u253c\u255e\u255f\u255a\u2554\u2569\u2566\u2560\u2550\u256c\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256b\u256a\u2518\u250c\u2588\u2584\u258c\u2590\u2580\u03b1\xdf\u0393\u03c0\u03a3\u03c3\xb5\u03c4\u03a6\u0398\u03a9\u03b4\u221e\u03c6\u03b5\u2229\u2261\xb1\u2265\u2264\u2320\u2321\xf7\u2248\xb0\u2219\xb7\u221a\u207f\xb2\u25a0 ".split(""),bm=256==vm.length;function wm(e,t){return t&&"cp437"==t.trim().toLowerCase()?function(e){if(bm){let t="";for(let n=0;n<e.length;n++)t+=vm[e[n]];return t}return(new TextDecoder).decode(e)}(e):new TextDecoder(t).decode(e)}const xm="filename",Em="rawFilename",_m="comment",Cm="rawComment",Sm="uncompressedSize",km="compressedSize",Bm="offset",Im="diskNumberStart",Tm="lastModDate",Dm="rawLastModDate",Om="lastAccessDate",Mm="rawLastAccessDate",Fm="creationDate",jm="rawCreationDate",Pm="internalFileAttributes",Rm="externalFileAttributes",Lm="msdosAttributesRaw",Nm="msdosAttributes",zm="msDosCompatible",Qm="zip64",Ym="encrypted",Um="version",Gm="versionMadeBy",Hm="zipCrypto",Wm="directory",Vm="executable",Km="compressionMethod",qm="signature",Xm="extraField",Jm="uid",Zm="gid",$m="unixMode",eA="setuid",tA="setgid",nA="sticky",rA=[xm,Em,Sm,km,Tm,Dm,_m,Cm,Om,Fm,jm,Bm,Im,Pm,Rm,Lm,Nm,zm,Qm,Ym,Um,Gm,Hm,Wm,Vm,Km,qm,Xm,"extraFieldUnix","extraFieldInfoZip","uid","gid",$m,eA,tA,nA,"bitFlag","filenameUTF8","commentUTF8","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class iA{constructor(e){rA.forEach(t=>this[t]=e[t])}}const oA="password",sA="rawPassword",aA="passThrough",lA="signal",cA="useWebWorkers",uA="useCompressionStream",hA="preventClose",dA="encryptionStrength",fA="extendedTimestamp",gA="keepOrder",pA="level",mA="bufferedWrite",AA="dataDescriptorSignature",yA="useUnicodeFileNames",vA="dataDescriptor",bA="supportZip64SplitFile",wA="encodeText",xA="offset",EA="usdz",_A="unixExtraFieldType",CA="File format is not recognized",SA="Zip64 extra field not found",kA="Compression method not supported",BA="Split zip file",IA="Overlapping entry found",TA="utf-8",DA="cp437",OA=[[Sm,Yf],[km,Yf],[Bm,Yf],[Im,Uf]],MA={[Uf]:{getValue:WA,bytes:4},[Yf]:{getValue:VA,bytes:8}};class FA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(this,{reader:new pm(e),options:t,config:Eg(),readRanges:[]})}getEntriesGenerator(){var e=this;return function(e){return function(){return new Dg(e.apply(this,arguments))}}(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){const n=e;let{reader:r}=n;const{config:i}=n;if(yield Tg(Am(r)),r.size!==mg&&r.readUint8Array||(r=new um(yield Tg(new Response(r.readable).blob())),yield Tg(Am(r))),r.size<Zf)throw new Error(CA);r.chunkSize=_g(i);const o=yield Tg(async function(e,t,n,r,i){const o=new Uint8Array(4);!function(e,t,n){e.setUint32(t,n,!0)}(KA(o),0,t);const s=r+i;return await a(r)||await a(Math.min(s,n));async function a(t){const i=n-t,s=await ym(e,i,t);for(let e=s.length-r;e>=0;e--)if(s[e]==o[0]&&s[e+1]==o[1]&&s[e+2]==o[2]&&s[e+3]==o[3])return{offset:i+e,buffer:s.slice(e,e+r).buffer}}}(r,qf,r.size,Zf,1048560));if(!o){throw WA(KA(yield Tg(ym(r,0,4))))==Wf?new Error(BA):new Error("End of central directory not found")}const s=KA(o);let a=WA(s,12),l=WA(s,16);const c=o.offset,u=HA(s,20),h=c+Zf+u;let d=HA(s,4);const f=r.lastDiskNumber||0;let g=HA(s,6),p=HA(s,8),m=0,A=0;if(l==Yf||a==Yf||p==Uf||g==Uf){const e=KA(yield Tg(ym(r,o.offset-20,20)));if(WA(e,0)==Jf){l=VA(e,8);let t=yield Tg(ym(r,l,56,-1)),n=KA(t);const i=o.offset-20-56;if(WA(n,0)!=Xf&&l!=i){const e=l;l=i,l>e&&(m=l-e),t=yield Tg(ym(r,l,56,-1)),n=KA(t)}if(WA(n,0)!=Xf)throw new Error("End of Zip64 central directory locator not found");d==Uf&&(d=WA(n,16)),g==Uf&&(g=WA(n,20)),p==Uf&&(p=VA(n,32)),a==Yf&&(a=VA(n,40)),l-=a}}if(l>=r.size&&(m=r.size-l-a-Zf,l=r.size-a-Zf),f!=d)throw new Error(BA);if(l<0)throw new Error(CA);let y=0,v=yield Tg(ym(r,l,a,g)),b=KA(v);if(a){const e=o.offset-a;if(WA(b,y)!=Kf&&l!=e){const t=l;l=e,l>t&&(m+=l-t),v=yield Tg(ym(r,l,a,g)),b=KA(v)}}const w=o.offset-l-(r.lastDiskOffset||0);if(a!=w&&w>=0&&(a=w,v=yield Tg(ym(r,l,a,g)),b=KA(v)),l<0||l>=r.size)throw new Error(CA);const x=QA(n,t,"filenameEncoding"),E=QA(n,t,"commentEncoding");for(let e=0;e<p;e++){const o=new jA(r,i,n.options);if(WA(b,y)!=Kf)throw new Error("Central directory header not found");PA(o,b,y+6);const s=Boolean(o.bitFlag.languageEncodingFlag),a=y+46,l=a+o.filenameLength,c=l+o.extraFieldLength,u=HA(b,y+4),h=u>>8==0,d=u>>8==3,f=v.subarray(a,l),g=HA(b,y+32),w=c+g,_=v.subarray(c,w),C=s,S=s,k=WA(b,y+38),B=k&Gf,I={readOnly:Boolean(1&B),hidden:Boolean(2&B),system:Boolean(4&B),directory:Boolean(16&B),archive:Boolean(32&B)},T=WA(b,y+42)+m,D=QA(n,t,"decodeText")||wm,O=C?TA:x||DA,M=S?TA:E||DA;let F=D(f,O);F===mg&&(F=wm(f,O));let j=D(_,M);j===mg&&(j=wm(_,M)),Object.assign(o,{versionMadeBy:u,msDosCompatible:h,compressedSize:0,uncompressedSize:0,commentLength:g,offset:T,diskNumberStart:HA(b,y+34),internalFileAttributes:HA(b,y+36),externalFileAttributes:k,msdosAttributesRaw:B,msdosAttributes:I,rawFilename:f,filenameUTF8:C,commentUTF8:S,rawExtraField:v.subarray(l,c),rawComment:_,filename:F,comment:j}),A=Math.max(T,A),RA(o,o,b,y+6);const P=o.externalFileAttributes>>16&Uf;o.unixMode===mg&&0!=(16877&P)&&(o.unixMode=P);const R=Boolean(o.unixMode&ag),L=Boolean(o.unixMode&lg),N=Boolean(o.unixMode&cg),z=o.unixMode!==mg?0!=(73&o.unixMode):d&&0!=(73&P),Q=o.unixMode!==mg&&(61440&o.unixMode)==sg,Y=(61440&P)==sg;Object.assign(o,{setuid:R,setgid:L,sticky:N,unixExternalUpper:P,internalFileAttribute:o.internalFileAttributes,externalFileAttribute:o.externalFileAttributes,executable:z,directory:Q||Y||h&&I.directory||F.endsWith(ug)&&!o.uncompressedSize,zipCrypto:o.encrypted&&!o.extraFieldAES});const U=new iA(o);U.getData=(e,t)=>o.getData(e,U,n.readRanges,t),U.arrayBuffer=async e=>{const t=new TransformStream,[r]=await Promise.all([new Response(t.readable).arrayBuffer(),o.getData(t,U,n.readRanges,e)]);return r},y=w;const{onprogress:G}=t;if(G)try{yield Tg(G(e+1,p,new iA(o)))}catch(Xy){}yield U}const _=QA(n,t,"extractPrependedData"),C=QA(n,t,"extractAppendedData");return _&&(n.prependedData=A>0?yield Tg(ym(r,0,A)):new Uint8Array),n.comment=u?yield Tg(ym(r,c+Zf,u)):new Uint8Array,C&&(n.appendedData=h<r.size?yield Tg(ym(r,h,r.size-h)):new Uint8Array),!0}()}).apply(this,arguments)}async getEntries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];var n,r=!1,i=!1;try{for(var o,s=kg(this.getEntriesGenerator(e));r=!(o=await s.next()).done;r=!1){const e=o.value;t.push(e)}}catch(a){i=!0,n=a}finally{try{r&&null!=s.return&&await s.return()}finally{if(i)throw n}}return t}async close(){}}class jA{constructor(e,t,n){Object.assign(this,{reader:e,config:t,options:n})}async getData(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=this,{reader:o,offset:s,diskNumberStart:a,extraFieldAES:l,extraFieldZip64:c,compressionMethod:u,config:h,bitFlag:d,signature:f,rawLastModDate:g,uncompressedSize:p,compressedSize:m}=i,{dataDescriptor:A}=d,y=t.localDirectory={},v=KA(await ym(o,s,hg,a));let b=QA(i,r,oA),w=QA(i,r,sA);const x=QA(i,r,aA);if(b=b&&b.length&&b,w=w&&w.length&&w,l&&99!=l.originalCompressionMethod)throw new Error(kA);if(0!=u&&8!=u&&9!=u&&!x)throw new Error(kA);if(WA(v,0)!=Hf)throw new Error("Local file header not found");PA(y,v,4);const{extraFieldLength:E,filenameLength:_,lastAccessDate:C,creationDate:S}=y;y.rawExtraField=E?await ym(o,s+hg+_,E,a):new Uint8Array,RA(i,y,v,4,!0),Object.assign(t,{lastAccessDate:C,creationDate:S});const k=i.encrypted&&y.encrypted&&!x,B=k&&!l;if(x||(t.zipCrypto=B),k){if(!B&&l.strength===mg)throw new Error("Encryption method not supported");if(!b&&!w)throw new Error("File contains encrypted entry")}const I=s+hg+_+E,T=m,D=o.readable;Object.assign(D,{diskNumberStart:a,offset:I,size:T});const O=QA(i,r,lA),M=QA(i,r,"checkPasswordOnly");let F=QA(i,r,"checkOverlappingEntry");const j=QA(i,r,"checkOverlappingEntryOnly");j&&(F=!0);const{onstart:P,onprogress:R,onend:L}=r,N=9==u;let z=QA(i,r,uA);N&&(z=!1);const Q={options:{codecType:Yp,password:b,rawPassword:w,zipCrypto:B,encryptionStrength:l&&l.strength,signed:QA(i,r,"checkSignature")&&!x,passwordVerification:B&&(A?g>>>8&Gf:f>>>24&Gf),outputSize:x?m:p,signature:f,compressed:0!=u&&!x,encrypted:i.encrypted&&!x,useWebWorkers:QA(i,r,cA),useCompressionStream:z,transferStreams:QA(i,r,"transferStreams"),deflate64:N,checkPasswordOnly:M},config:h,streamOptions:{signal:O,size:T,onstart:P,onprogress:R,onend:L}};let Y;F&&await async function(e){let{reader:t,fileEntry:n,offset:r,diskNumberStart:i,signature:o,compressedSize:s,uncompressedSize:a,dataOffset:l,dataDescriptor:c,extraFieldZip64:u,readRanges:h}=e,d=0;if(i)for(let p=0;p<i;p++){d+=t.readers[p].size}let f=0;c&&(f=u?20:12);if(f){const e=await ym(t,l+s,f+4,i);if(WA(KA(e),0)==Vf){const t=WA(KA(e),4);let r,i;u?(r=VA(KA(e),8),i=VA(KA(e),16)):(r=WA(KA(e),8),i=WA(KA(e),12));(n.encrypted&&!n.zipCrypto||t==o)&&r==s&&i==a&&(f+=4)}}const g={start:d+r,end:d+l+s+f,fileEntry:n};for(const p of h)if(p.fileEntry!=n&&g.start>=p.start&&g.start<p.end){const e=new Error(IA);throw e.overlappingEntry=p.fileEntry,e}h.push(g)}({reader:o,fileEntry:t,offset:s,diskNumberStart:a,signature:f,compressedSize:m,uncompressedSize:p,dataOffset:I,dataDescriptor:A||y.bitFlag.dataDescriptor,extraFieldZip64:c||y.extraFieldZip64,readRanges:n});try{if(!j){M&&(e=new WritableStream),e=new mm(e),await Am(e,x?m:p),({writable:Y}=e);const{outputSize:t}=await rm({readable:D,writable:Y},Q);if(e.size+=t,t!=(x?m:p))throw new Error(Tp)}}catch(U){if(U.outputSize!==mg&&(e.size+=U.outputSize),!M||U.message!=Wg)throw U}finally{QA(i,r,hA)||!Y||Y.locked||await Y.getWriter().close()}return M||j?mg:e.getData?e.getData():Y}}function PA(e,t,n){const r=e.rawBitFlag=HA(t,n+2),i=1==(1&r),o=WA(t,n+6);Object.assign(e,{encrypted:i,version:HA(t,n),bitFlag:{level:(6&r)>>1,dataDescriptor:8==(8&r),languageEncodingFlag:(r&ig)==ig},rawLastModDate:o,lastModDate:YA(o),filenameLength:HA(t,n+22),extraFieldLength:HA(t,n+24)})}function RA(e,t,n,r,i){const{rawExtraField:o}=t,s=t.extraField=new Map,a=KA(new Uint8Array(o));let l=0;try{for(;l<o.length;){const e=HA(a,l),t=HA(a,l+2);s.set(e,{type:e,data:o.slice(l+4,l+4+t)}),l+=4+t}}catch(y){}const c=HA(n,r+4);Object.assign(t,{signature:WA(n,r+10),compressedSize:WA(n,r+dg),uncompressedSize:WA(n,r+fg)});const u=s.get(1);u&&(!function(e,t){t.zip64=!0;const n=KA(e.data),r=OA.filter(e=>{let[n,r]=e;return t[n]==r});for(let i=0,o=0;i<r.length;i++){const[s,a]=r[i];if(t[s]==a){const r=MA[a];t[s]=e[s]=r.getValue(n,o),o+=r.bytes}else if(e[s])throw new Error(SA)}}(u,t),t.extraFieldZip64=u);const h=s.get(28789);h&&(LA(h,xm,Em,t,e),t.extraFieldUnicodePath=h);const d=s.get(25461);d&&(LA(d,_m,Cm,t,e),t.extraFieldUnicodeComment=d);const f=s.get(39169);f?(!function(e,t,n){const r=KA(e.data),i=GA(r,4);Object.assign(e,{vendorVersion:GA(r,0),vendorId:GA(r,2),strength:i,originalCompressionMethod:n,compressionMethod:HA(r,5)}),t.compressionMethod=e.compressionMethod}(f,t,c),t.extraFieldAES=f):t.compressionMethod=c;const g=s.get(10);g&&(!function(e,t){const n=KA(e.data);let r,i=4;try{for(;i<e.data.length&&!r;){const t=HA(n,i),o=HA(n,i+2);1==t&&(r=e.data.slice(i+4,i+4+o)),i+=4+o}}catch(o){}try{if(r&&24==r.length){const n=KA(r),i=n.getBigUint64(0,!0),o=n.getBigUint64(8,!0),s=n.getBigUint64(16,!0);Object.assign(e,{rawLastModDate:i,rawLastAccessDate:o,rawCreationDate:s});const a=UA(i),l=UA(o),c={lastModDate:a,lastAccessDate:l,creationDate:UA(s)};Object.assign(e,c),Object.assign(t,c)}}catch(s){}}(g,t),t.extraFieldNTFS=g);const p=s.get(30805);if(p)NA(p,t,!1),t.extraFieldUnix=p;else{const e=s.get(30837);e&&(NA(e,t,!0),t.extraFieldInfoZip=e)}const m=s.get(eg);m&&(!function(e,t,n){const r=KA(e.data),i=GA(r,0),o=[],s=[];n?(1==(1&i)&&(o.push(Tm),s.push(Dm)),2==(2&i)&&(o.push(Om),s.push(Mm)),4==(4&i)&&(o.push(Fm),s.push(jm))):e.data.length>=5&&(o.push(Tm),s.push(Dm));let a=1;o.forEach((n,i)=>{if(e.data.length>=a+4){const o=WA(r,a);t[n]=e[n]=new Date(1e3*o);const l=s[i];e[l]=o}a+=4})}(m,t,i),t.extraFieldExtendedTimestamp=m);const A=s.get(6534);A&&(t.extraFieldUSDZ=A)}function LA(e,t,n,r,i){const o=KA(e.data),s=new Mg;s.append(i[n]);const a=KA(new Uint8Array(4));a.setUint32(0,s.get(),!0);const l=WA(o,1);Object.assign(e,{version:GA(o,0),[t]:wm(e.data.subarray(5)),valid:!i.bitFlag.languageEncodingFlag&&l==WA(a,0)}),e.valid&&(r[t]=e[t],r[t+"UTF8"]=!0)}function NA(e,t,n){try{const r=KA(new Uint8Array(e.data));let i=0;const o=GA(r,i++),s=GA(r,i++),a=e.data.subarray(i,i+s);i+=s;const l=zA(a),c=GA(r,i++),u=e.data.subarray(i,i+c);i+=c;const h=zA(u);let d=mg;if(!n&&i+2<=e.data.length){const t=e.data;d=new DataView(t.buffer,t.byteOffset+i,2).getUint16(0,!0)}Object.assign(e,{version:o,uid:l,gid:h,unixMode:d}),l!==mg&&(t.uid=l),h!==mg&&(t.gid=h),d!==mg&&(t.unixMode=d)}catch(r){}}function zA(e){const t=new Uint8Array(4);t.set(e,0);return new DataView(t.buffer,t.byteOffset,4).getUint32(0,!0)}function QA(e,t,n){return t[n]===mg?e.options[n]:t[n]}function YA(e){const t=(4294901760&e)>>16,n=e&Uf;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(r){}}function UA(e){return new Date(Number(e/BigInt(1e4)-BigInt(116444736e5)))}function GA(e,t){return e.getUint8(t)}function HA(e,t){return e.getUint16(t,!0)}function WA(e,t){return e.getUint32(t,!0)}function VA(e,t){return Number(e.getBigUint64(t,!0))}function KA(e){return new DataView(e.buffer)}const qA="Zip file comment exceeds 64KB",XA="File entry comment exceeds 64KB",JA="File entry name exceeds 64KB",ZA="Version exceeds 65535",$A="The strength must equal 1, 2, or 3",ey="Extra field type exceeds 65535",ty="Extra field data exceeds 64KB",ny="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",ry="Undefined uncompressed size",iy="Invalid uid (must be integer 0..2^32-1)",oy="Invalid gid (must be integer 0..2^32-1)",sy="Invalid UNIX mode (must be integer 0..65535)",ay="Invalid unixExtraFieldType (must be 'infozip' or 'unix')",ly="Invalid msdosAttributesRaw (must be integer 0..255)",cy="Invalid msdosAttributes (must be an object with boolean flags)",uy=new Uint8Array([7,0,2,0,65,69,3,0,0]),hy="infozip",dy="unix";let fy=0;const gy=[];class py{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(e=new mm(e)).availableSize!==mg&&e.availableSize>0&&e.availableSize!==1/0&&e.maxSize!==mg&&e.maxSize>0&&e.maxSize!==1/0;Object.assign(this,{writer:e,addSplitZipSignature:n,options:t,config:Eg(),files:new Map,filenames:new Set,offset:t[xA]===mg?e.size||e.writable.size||0:t[xA],pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async prependZip(e){if(this.filenames.size)throw new Error("Zip file not empty");e=new pm(e);const t=new FA(e.readable),n=await t.getEntries();await t.close(),await e.readable.pipeTo(this.writer.writable,{preventClose:!0,preventAbort:!0}),this.writer.size=this.offset=e.size,this.filenames=new Set(n.map(e=>e.filename)),this.files=new Map(n.map(e=>{const{version:t,compressionMethod:n,lastModDate:r,lastAccessDate:i,creationDate:o,rawFilename:s,bitFlag:a,encrypted:l,uncompressedSize:c,compressedSize:u,diskOffset:h,diskNumber:d,zip64:f}=e;let{rawExtraFieldZip64:g,rawExtraFieldAES:p,rawExtraFieldExtendedTimestamp:m,rawExtraFieldNTFS:A,rawExtraFieldUnix:y,rawExtraField:v}=e;const{level:b,languageEncodingFlag:w,dataDescriptor:x}=a;g=g||new Uint8Array,p=p||new Uint8Array,m=m||new Uint8Array,A=A||new Uint8Array,y=e.rawExtraFieldUnix||new Uint8Array,v=v||new Uint8Array;const E=By(g,p,m,A,y,v),_=f&&c>Yf,C=f&&u>Yf,{headerArray:S,headerView:k}=Iy({version:t,bitFlag:Ty(b,w,x,l,n),compressionMethod:n,uncompressedSize:c,compressedSize:u,lastModDate:r,rawFilename:s,zip64CompressedSize:C,zip64UncompressedSize:_,extraFieldLength:E});return Object.assign(e,{zip64UncompressedSize:_,zip64CompressedSize:C,zip64Offset:f&&this.offset-h>Yf,zip64DiskNumberStart:f&&d>Uf,rawExtraFieldZip64:g,rawExtraFieldAES:p,rawExtraFieldExtendedTimestamp:m,rawExtraFieldNTFS:A,rawExtraFieldUnix:y,rawExtraField:v,extendedTimestamp:m.length>0||A.length>0,extraFieldExtendedTimestampFlag:1+(i?2:0)+(o?4:0),headerArray:S,headerView:k}),[e.filename,e]}))}async add(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this,{pendingAddFileCalls:i,config:o}=r;let s;fy<o.maxWorkers?fy++:await new Promise(e=>gy.push(e));try{if(e=e.trim(),r.filenames.has(e))throw new Error("File already exists");return r.filenames.add(e),s=async function(e,t,n,r){t=t.trim();let i=by(e,r,zm),o=by(e,r,Gm,i?20:768);const s=by(e,r,Vm),a=by(e,r,Jm),l=by(e,r,Zm);let c=by(e,r,$m);const u=by(e,r,_A);let h=by(e,r,eA),d=by(e,r,tA),f=by(e,r,nA);if(a!==mg&&(a<0||a>Yf))throw new Error(iy);if(l!==mg&&(l<0||l>Yf))throw new Error(oy);if(c!==mg&&(c<0||c>Uf))throw new Error(sy);if(u!==mg&&u!==hy&&u!==dy)throw new Error(ay);let g=by(e,r,Lm),p=by(e,r,Nm);const m=g!==mg||p!==mg;a!==mg||l!==mg||c!==mg||u?(i=!1,o=o&Uf|768):m&&(i=!0,o&=Gf);if(g!==mg&&(g<0||g>Gf))throw new Error(ly);if(p&&typeof p!==vg)throw new Error(cy);if(o>Uf)throw new Error(ZA);let A=by(e,r,Rm,0);!r[Wm]&&t.endsWith(ug)&&(r[Wm]=!0);const y=by(e,r,Wm);y?(t.endsWith(ug)||(t+=ug),0===A&&(A=og,i||(A|=16877<<16))):i||0!==A||(A=s?493<<16:27525120);let v;i||(v=A>>16&Uf,c=c===mg?v:c&Uf,h?c|=ag:h=Boolean(c&ag),d?c|=lg:d=Boolean(c&lg),f?c|=cg:f=Boolean(c&cg),y&&(c|=sg),A=(c&Uf)<<16|A&Gf);({msdosAttributesRaw:g,msdosAttributes:p}=function(e,t){if(e!==mg)e&=Gf;else if(t!==mg){const{readOnly:n,hidden:r,system:i,directory:o,archive:s}=t;let a=0;n&&(a|=1),r&&(a|=2),i&&(a|=4),o&&(a|=og),s&&(a|=32),e=a&Gf}t===mg&&(t={readOnly:Boolean(1&e),hidden:Boolean(2&e),system:Boolean(4&e),directory:Boolean(e&og),archive:Boolean(32&e)});return{msdosAttributesRaw:e,msdosAttributes:t}}(g,p)),m&&(A=A&Yf|g&Gf);const b=by(e,r,wA,jg);let w=b(t);w===mg&&(w=jg(t));if(By(w)>Uf)throw new Error(JA);const x=r[_m]||"";let E=b(x);E===mg&&(E=jg(x));if(By(E)>Uf)throw new Error(XA);const _=by(e,r,Um,20);if(_>Uf)throw new Error(ZA);const C=by(e,r,Tm,new Date),S=by(e,r,Om),k=by(e,r,Fm),B=by(e,r,Pm,0),I=by(e,r,aA);let T,D;I||(T=by(e,r,oA),D=by(e,r,sA));const O=by(e,r,dA,3),M=by(e,r,Hm),F=by(e,r,fA,!0),j=by(e,r,gA,!0),P=by(e,r,cA),R=by(e,r,mA),L=by(e,r,AA,!1),N=by(e,r,lA),z=by(e,r,yA,!0),Q=by(e,r,Km);let Y=by(e,r,pA),U=by(e,r,uA),G=by(e,r,vA);R&&G===mg&&(G=!1);(G===mg||M)&&(G=!0);Y!==mg&&6!=Y&&(U=!1);U||e.config.CompressionStream!==mg||e.config.CompressionStreamZlib!==mg||(Y=0);let H=by(e,r,Qm);if(!M&&(T!==mg||D!==mg)&&!(O>=1&&O<=3))throw new Error($A);let W=new Uint8Array;const V=r[Xm];if(V){let e=0,t=0;V.forEach(t=>e+=4+By(t)),W=new Uint8Array(e),V.forEach((e,n)=>{if(n>Uf)throw new Error(ey);if(By(e)>Uf)throw new Error(ty);Sy(W,new Uint16Array([n]),t),Sy(W,new Uint16Array([By(e)]),t+2),Sy(W,e,t+4),t+=4+By(e)})}let K=0,q=0,X=0;if(I&&(X=r[Sm],X===mg))throw new Error(ry);const J=!0===H;n&&(n=new pm(n),await Am(n),I?(r.uncompressedSize=X,K=wy(X)):n.size===mg?(G=!0,(H||H===mg)&&(H=!0,X=K=4294967296)):(r.uncompressedSize=X=n.size,K=wy(X)));const{diskOffset:Z,diskNumber:$,maxSize:ee}=e.writer,te=J||X>Yf,ne=J||K>Yf,re=J||e.offset+e.pendingEntriesSize-Z>Yf,ie=by(e,r,bA,!0),oe=ie&&J||$+Math.ceil(e.pendingEntriesSize/ee)>Uf;if(re||te||ne||oe){if(!1===H||!j)throw new Error(ny);H=!0}H=H||!1;const se=by(e,r,Ym);r=Object.assign({},r,{rawFilename:w,rawComment:E,version:_,versionMadeBy:o,lastModDate:C,lastAccessDate:S,creationDate:k,rawExtraField:W,zip64:H,zip64UncompressedSize:te,zip64CompressedSize:ne,zip64Offset:re,zip64DiskNumberStart:oe,password:T,rawPassword:D,level:Y,useWebWorkers:P,encryptionStrength:O,extendedTimestamp:F,zipCrypto:M,bufferedWrite:R,keepOrder:j,useUnicodeFileNames:z,dataDescriptor:G,dataDescriptorSignature:L,signal:N,msDosCompatible:i,internalFileAttribute:B,internalFileAttributes:B,externalFileAttribute:A,externalFileAttributes:A,useCompressionStream:U,passThrough:I,encrypted:Boolean(T&&By(T)||D&&By(D))||I&&se,signature:r[qm],compressionMethod:Q,uncompressedSize:X,offset:e.offset-Z,diskNumberStart:$,uid:a,gid:l,setuid:h,setgid:d,sticky:f,unixMode:c,msdosAttributesRaw:g,msdosAttributes:p,unixExternalUpper:v});const ae=function(e){const{rawFilename:t,lastModDate:n,lastAccessDate:r,creationDate:i,level:o,zip64:s,zipCrypto:a,useUnicodeFileNames:l,dataDescriptor:c,directory:u,rawExtraField:h,encryptionStrength:d,extendedTimestamp:f,passThrough:g,encrypted:p,zip64UncompressedSize:m,zip64CompressedSize:A,zip64Offset:y,zip64DiskNumberStart:v,uncompressedSize:b,offset:w,diskNumberStart:x}=e;let{version:E,compressionMethod:_}=e;const C=!u&&(o>0||o===mg&&0!==_);let S,k;const B=g||!C,I=s&&(e.bufferedWrite||!m&&!A||B);if(s){let e=4,t=4;m&&(e+=8,t+=8),A&&(e+=8,t+=8),y&&(e+=8),v&&(e+=4),S=new Uint8Array(e);const n=ky(S);k=new Uint8Array(t);const r=ky(k);if(Ey(n,0,1),Ey(n,2,By(S)-4),Ey(r,0,1),Ey(r,2,By(k)-4),I){const e=ky(S),t=ky(k);let n=4,r=4;m&&(Cy(e,n,BigInt(b)),n+=8,Cy(t,r,BigInt(b)),r+=8),A&&B&&(Cy(e,n,BigInt(b)),n+=8,Cy(t,r,BigInt(b)),r+=8),y&&(Cy(e,n,BigInt(w)),n+=8),v&&(_y(e,n,x),n+=4),4==r&&(k=new Uint8Array)}}else S=new Uint8Array,k=new Uint8Array;let T,D,O,M,F;if(p&&!a){T=new Uint8Array(By(uy)+2);const e=ky(T);Ey(e,0,$f),Sy(T,uy,2),xy(e,8,d)}else T=new Uint8Array;if(f){O=new Uint8Array(9+(r?4:0)+(i?4:0));const e=ky(O);Ey(e,0,eg),Ey(e,2,By(O)-4),M=1+(r?2:0)+(i?4:0),xy(e,4,M);let t=5;_y(e,t,Math.floor(n.getTime()/1e3)),t+=4,r&&(_y(e,t,Math.floor(r.getTime()/1e3)),t+=4),i&&_y(e,t,Math.floor(i.getTime()/1e3));try{D=new Uint8Array(36);const e=ky(D),t=vy(n);Ey(e,0,10),Ey(e,2,32),Ey(e,8,1),Ey(e,10,24),Cy(e,12,t),Cy(e,20,vy(r)||t),Cy(e,28,vy(i)||t)}catch(U){D=new Uint8Array}}else D=O=new Uint8Array;try{const{uid:t,gid:n,unixMode:r,setuid:i,setgid:o,sticky:s,unixExtraFieldType:a}=e;if(!a||t===mg&&n===mg&&r===mg)F=new Uint8Array;else{const e=my(t),l=my(n);let c=new Uint8Array;if(a==dy&&r!==mg){let e=r&Uf;i&&(e|=ag),o&&(e|=lg),s&&(e|=cg),c=new Uint8Array(2);new DataView(c.buffer).setUint16(0,e,!0)}const u=3+e.length+l.length+c.length;F=new Uint8Array(4+u);const h=ky(F);Ey(h,0,a==hy?ng:rg),Ey(h,2,u),xy(h,4,1),xy(h,5,e.length);let d=6;Sy(F,e,d),d+=e.length,xy(h,d,l.length),d++,Sy(F,l,d),d+=l.length,Sy(F,c,d)}}catch(G){F=new Uint8Array}_===mg&&(_=C?8:0);s&&(E=E>45?E:45);p&&!a&&(E=E>51?E:51,T[9]=_,_=99);const j=I?By(k):0,P=j+By(T,O,D,F,h),{headerArray:R,headerView:L,rawLastModDate:N}=Iy({version:E,bitFlag:Ty(o,l,c,p,_),compressionMethod:_,uncompressedSize:b,lastModDate:n<pg?pg:n>gg?gg:n,rawFilename:t,zip64CompressedSize:A,zip64UncompressedSize:m,extraFieldLength:P});let z=hg;const Q=new Uint8Array(z+By(t)+P),Y=ky(Q);_y(Y,0,Hf),Sy(Q,R,4),Sy(Q,t,z),z+=By(t),I&&Sy(Q,k,z);z+=j,Sy(Q,T,z),z+=By(T),Sy(Q,O,z),z+=By(O),Sy(Q,D,z),z+=By(D),Sy(Q,F,z),z+=By(F),Sy(Q,h,z),c&&(_y(Y,18,0),_y(Y,22,0));return{localHeaderArray:Q,localHeaderView:Y,headerArray:R,headerView:L,lastModDate:n,rawLastModDate:N,encrypted:p,compressed:C,version:E,compressionMethod:_,extraFieldExtendedTimestampFlag:M,rawExtraFieldZip64:S,localExtraFieldZip64Length:j,rawExtraFieldExtendedTimestamp:O,rawExtraFieldNTFS:D,rawExtraFieldUnix:F,rawExtraFieldAES:T,extraFieldLength:P}}(r),le=function(e){let t,{zip64:n,dataDescriptor:r,dataDescriptorSignature:i}=e,o=new Uint8Array,s=0,a=n?20:12;i&&(a+=4);r&&(o=new Uint8Array(a),t=ky(o),i&&(s=4,_y(t,0,Vf)));return{dataDescriptorArray:o,dataDescriptorView:t,dataDescriptorOffset:s}}(r),ce=By(ae.localHeaderArray,le.dataDescriptorArray);q=ce+K,e.options[EA]&&(q+=q+64);let ue;e.pendingEntriesSize+=q;try{ue=await async function(e,t,n,r,i){const{files:o,writer:s}=e,{keepOrder:a,dataDescriptor:l,signal:c}=i,{headerInfo:u}=r,h=e.options[EA],d=Array.from(o.values()).pop();let f,g,p,m,A,y,v,b={};o.set(t,b);try{let g;a&&(g=d&&d.lock,w()),!(i.bufferedWrite||e.writerLocked||e.bufferedWrites&&a)&&l||h?(y=s,await x()):(y=new TransformStream,y.size=0,f=!0,e.bufferedWrites++,await Am(s)),await Am(y);const{writable:p,diskOffset:_}=s;if(e.addSplitZipSignature){delete e.addSplitZipSignature;const t=new Uint8Array(4);_y(ky(t),0,Wf),await yy(s,t),e.offset+=4}h&&function(e,t){const{headerInfo:n}=e;let{localHeaderArray:r,extraFieldLength:i}=n,o=ky(r),s=64-(t+By(r))%64;s<4&&(s+=64);const a=new Uint8Array(s),l=ky(a);Ey(l,0,tg),Ey(l,2,s-2);const c=r;n.localHeaderArray=r=new Uint8Array(By(c)+s),Sy(r,c),Sy(r,a,By(c)),o=ky(r),Ey(o,28,i+s),e.metadataSize+=s}(r,e.offset-_);const{localHeaderView:C,localHeaderArray:S}=u;f||(await g,await E(p));const{diskNumber:k}=s;A=!0,b.diskNumberStart=k,f?v=new Response(y.readable).blob():await yy(y,S),b=await async function(e,t,n,r,i,o){let{diskNumberStart:s,lock:a}=n;const{headerInfo:l,dataDescriptorInfo:c,metadataSize:u}=r,{headerArray:h,headerView:d,lastModDate:f,rawLastModDate:g,encrypted:p,compressed:m,version:A,compressionMethod:y,rawExtraFieldZip64:v,localExtraFieldZip64Length:b,rawExtraFieldExtendedTimestamp:w,extraFieldExtendedTimestampFlag:x,rawExtraFieldNTFS:E,rawExtraFieldUnix:_,rawExtraFieldAES:C}=l,{dataDescriptorArray:S}=c,{rawFilename:k,lastAccessDate:B,creationDate:I,password:T,rawPassword:D,level:O,zip64:M,zip64UncompressedSize:F,zip64CompressedSize:j,zip64Offset:P,zip64DiskNumberStart:R,zipCrypto:L,dataDescriptor:N,directory:z,executable:Q,versionMadeBy:Y,rawComment:U,rawExtraField:G,useWebWorkers:H,onstart:W,onprogress:V,onend:K,signal:q,encryptionStrength:X,extendedTimestamp:J,msDosCompatible:Z,internalFileAttributes:$,externalFileAttributes:ee,uid:te,gid:ne,unixMode:re,setuid:ie,setgid:oe,sticky:se,unixExternalUpper:ae,msdosAttributesRaw:le,msdosAttributes:ce,useCompressionStream:ue,passThrough:he}=o,de={lock:a,versionMadeBy:Y,zip64:M,directory:Boolean(z),executable:Boolean(Q),filenameUTF8:!0,rawFilename:k,commentUTF8:!0,rawComment:U,rawExtraFieldZip64:v,localExtraFieldZip64Length:b,rawExtraFieldExtendedTimestamp:w,rawExtraFieldNTFS:E,rawExtraFieldUnix:_,rawExtraFieldAES:C,rawExtraField:G,extendedTimestamp:J,msDosCompatible:Z,internalFileAttributes:$,externalFileAttributes:ee,diskNumberStart:s,uid:te,gid:ne,unixMode:re,setuid:ie,setgid:oe,sticky:se,unixExternalUpper:ae,msdosAttributesRaw:le,msdosAttributes:ce};let{signature:fe,uncompressedSize:ge}=o,pe=0;he||(ge=0);const{writable:me}=t;if(e){e.chunkSize=_g(i);const n=e.readable,r=e.size,o={options:{codecType:Qp,level:O,rawPassword:D,password:T,encryptionStrength:X,zipCrypto:p&&L,passwordVerification:p&&L&&g>>8&Gf,signed:!he,compressed:m&&!he,encrypted:p&&!he,useWebWorkers:H,useCompressionStream:ue,transferStreams:!1},config:i,streamOptions:{signal:q,size:r,onstart:W,onprogress:V,onend:K}};try{const e=await rm({readable:n,writable:me},o);pe=e.outputSize,t.size+=pe,he||(ge=e.inputSize,fe=e.signature)}catch(Ae){throw Ae.outputSize!==mg&&(t.size+=Ae.outputSize),Ae}}(function(e,t){let{signature:n,compressedSize:r,uncompressedSize:i,headerInfo:o,dataDescriptorInfo:s}=e,{zip64:a,zipCrypto:l,dataDescriptor:c}=t;const{headerView:u,encrypted:h}=o,{dataDescriptorView:d,dataDescriptorOffset:f}=s;h&&!l||n===mg||(_y(u,10,n),c&&_y(d,f,n));a?c&&(Cy(d,f+4,BigInt(r)),Cy(d,f+12,BigInt(i))):(_y(u,dg,r),_y(u,fg,i),c&&(_y(d,f+4,r),_y(d,f+8,i)))})({signature:fe,compressedSize:pe,uncompressedSize:ge,headerInfo:l,dataDescriptorInfo:c},o),N&&await yy(t,S);return Object.assign(de,{uncompressedSize:ge,compressedSize:pe,lastModDate:f,rawLastModDate:g,creationDate:I,lastAccessDate:B,encrypted:p,zipCrypto:L,size:u+pe,compressionMethod:y,version:A,headerArray:h,headerView:d,signature:fe,extraFieldExtendedTimestampFlag:x,zip64UncompressedSize:F,zip64CompressedSize:j,zip64Offset:P,zip64DiskNumberStart:R}),de}(n,y,b,r,e.config,i);const{zip64:B}=b;if(A=!1,o.set(t,b),b.filename=t,f){const[t]=await Promise.all([v,y.writable.getWriter().close(),g]);await x(),m=!0,b.diskNumberStart=s.diskNumber,b.offset=e.offset-s.diskOffset,B&&Ay(b),function(e,t,n){let{rawFilename:r,encrypted:i,zip64:o,localExtraFieldZip64Length:s,signature:a,compressedSize:l,uncompressedSize:c,zip64UncompressedSize:u,zip64CompressedSize:h}=e,{dataDescriptor:d}=n;d||(i||_y(t,14,a),h||_y(t,18,l),u||_y(t,22,c));if(o&&s){let e=hg+By(r)+4;u&&(Cy(t,e,BigInt(c)),e+=8),h&&(Cy(t,e,BigInt(l)),e+=8)}}(b,C,i),await E(p),await yy(s,S),await t.stream().pipeTo(p,{preventClose:!0,preventAbort:!0,signal:c}),s.size+=y.size,m=!1}else b.offset=e.offset-_,B&&Ay(b);if(b.offset>Yf&&!B)throw new Error(ny);return e.offset+=b.size,b}catch(_){if(f&&m||!f&&A){if(e.hasCorruptedEntries=!0,_)try{_.corruptedEntry=!0}catch(Xy){}f?e.offset+=y.size:e.offset=y.size}throw o.delete(t),_}finally{f&&e.bufferedWrites--,p&&p(),g&&g()}function w(){b.lock=new Promise(e=>p=e)}async function x(){e.writerLocked=!0;const{lockWriter:t}=e;e.lockWriter=new Promise(t=>g=()=>{e.writerLocked=!1,t()}),await t}async function E(e){By(u.localHeaderArray)>s.availableSize&&(s.availableSize=0,await yy(e,new Uint8Array))}}(e,t,n,{headerInfo:ae,dataDescriptorInfo:le,metadataSize:ce},r)}finally{e.pendingEntriesSize-=q}return Object.assign(ue,{name:t,comment:x,extraField:V}),new iA(ue)}(r,e,t,n),i.add(s),await s}catch(a){throw r.filenames.delete(e),a}finally{i.delete(s);const e=gy.shift();e?e():fy--}}remove(e){const{filenames:t,files:n}=this;if("string"==typeof e&&(e=n.get(e)),e&&e.filename!==mg){const{filename:r}=e;if(t.has(r)&&n.has(r))return t.delete(r),n.delete(r),!0}return!1}async close(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{pendingAddFileCalls:n,writer:r}=this,{writable:i}=r;for(;n.size;)await Promise.allSettled(Array.from(n));await async function(e,t,n){const{files:r,writer:i}=e,{diskOffset:o}=i;let{diskNumber:s}=i,a=0,l=0,c=e.offset-o,u=r.size;for(const[,w]of r){const{rawFilename:e,rawExtraFieldZip64:t,rawExtraFieldAES:n,rawComment:r,rawExtraFieldNTFS:i,rawExtraFieldUnix:o,rawExtraField:s,extendedTimestamp:a,extraFieldExtendedTimestampFlag:c,lastModDate:u}=w;let h;if(a){h=new Uint8Array(9);const e=ky(h);Ey(e,0,eg),Ey(e,2,5),xy(e,4,c),_y(e,5,Math.floor(u.getTime()/1e3))}else h=new Uint8Array;w.rawExtraFieldExtendedTimestamp=h,l+=46+By(e,r,t,n,i,o,h,s)}const h=new Uint8Array(l),d=ky(h);await Am(i);let f=0;for(const[w,x]of Array.from(r.values()).entries()){const{offset:e,rawFilename:t,rawExtraFieldZip64:o,rawExtraFieldAES:s,rawExtraFieldExtendedTimestamp:l,rawExtraFieldNTFS:c,rawExtraFieldUnix:u,rawExtraField:g,rawComment:p,versionMadeBy:m,headerArray:A,headerView:y,zip64:v,zip64UncompressedSize:E,zip64CompressedSize:_,zip64DiskNumberStart:C,zip64Offset:S,internalFileAttributes:k,externalFileAttributes:B,diskNumberStart:I,uncompressedSize:T,compressedSize:D}=x,O=By(o,s,l,c,u,g);_y(d,a,Kf),Ey(d,a+4,m),E||_y(y,fg,T),_||_y(y,dg,D),Sy(h,A,a+6);let M=a+hg;if(Ey(d,M,O),M+=2,Ey(d,M,By(p)),M+=2,Ey(d,M,v&&C?Uf:I),M+=2,Ey(d,M,k),M+=2,B&&_y(d,M,B),M+=4,_y(d,M,v&&S?Yf:e),M+=4,Sy(h,t,M),M+=By(t),Sy(h,o,M),M+=By(o),Sy(h,s,M),M+=By(s),Sy(h,l,M),M+=By(l),Sy(h,c,M),M+=By(c),Sy(h,u,M),M+=By(u),Sy(h,g,M),M+=By(g),Sy(h,p,M),M+=By(p),a-f>i.availableSize&&(i.availableSize=0,await yy(i,h.slice(f,a)),f=a),a=M,n.onprogress)try{await n.onprogress(w+1,r.size,new iA(x))}catch(b){}}await yy(i,f?h.slice(f):h);let g=i.diskNumber;const{availableSize:p}=i;p<Zf&&g++;let m=by(e,n,Qm);if(c>Yf||l>Yf||u>Uf||g>Uf){if(!1===m)throw new Error(ny);m=!0}const A=new Uint8Array(m?98:Zf),y=ky(A);if(a=0,m){_y(y,0,Xf),Cy(y,4,BigInt(44)),Ey(y,12,45),Ey(y,14,45),_y(y,16,g),_y(y,20,s),Cy(y,24,BigInt(u)),Cy(y,32,BigInt(u)),Cy(y,40,BigInt(l)),Cy(y,48,BigInt(c)),_y(y,56,Jf),Cy(y,64,BigInt(c)+BigInt(l)),_y(y,72,g+1);by(e,n,bA,!0)&&(g=Uf,s=Uf),u=Uf,c=Yf,l=Yf,a+=76}_y(y,a,qf),Ey(y,a+4,g),Ey(y,a+6,s),Ey(y,a+8,u),Ey(y,a+10,u),_y(y,a+12,l),_y(y,a+16,c);const v=By(t);if(v){if(!(v<=Uf))throw new Error(qA);Ey(y,a+20,v)}await yy(i,A),v&&await yy(i,t)}(this,e,t);return by(this,t,hA)||await i.getWriter().close(),r.getData?r.getData():i}}function my(e){if(e===mg)return new Uint8Array;{const t=new Uint8Array(4);ky(t).setUint32(0,e,!0);let n=4;for(;n>1&&0===t[n-1];)n--;return t.subarray(0,n)}}function Ay(e){let{compressedSize:t,uncompressedSize:n,offset:r,diskNumberStart:i,zip64UncompressedSize:o,zip64CompressedSize:s,zip64Offset:a,zip64DiskNumberStart:l,rawExtraFieldZip64:c}=e;const u=ky(c);let h=4;o&&(Cy(u,h,BigInt(n)),h+=8),s&&(Cy(u,h,BigInt(t)),h+=8),a&&(Cy(u,h,BigInt(r)),h+=8),l&&_y(u,h,i)}async function yy(e,t){const{writable:n}=e,r=n.getWriter();try{await r.ready,e.size+=By(t),await r.write(t)}finally{r.releaseLock()}}function vy(e){if(e)return(BigInt(e.getTime())+BigInt(116444736e5))*BigInt(1e4)}function by(e,t,n,r){const i=t[n]===mg?e.options[n]:t[n];return i===mg?r:i}function wy(e){return e+5*(Math.floor(e/16383)+1)}function xy(e,t,n){e.setUint8(t,n)}function Ey(e,t,n){e.setUint16(t,n,!0)}function _y(e,t,n){e.setUint32(t,n,!0)}function Cy(e,t,n){e.setBigUint64(t,n,!0)}function Sy(e,t,n){e.set(t,n)}function ky(e){return new DataView(e.buffer)}function By(){let e=0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(t=>t&&(e+=t.length)),e}function Iy(e){let{version:t,bitFlag:n,compressionMethod:r,uncompressedSize:i,compressedSize:o,lastModDate:s,rawFilename:a,zip64CompressedSize:l,zip64UncompressedSize:c,extraFieldLength:u}=e;const h=new Uint8Array(26),d=ky(h);Ey(d,0,t),Ey(d,2,n),Ey(d,4,r);const f=new Uint32Array(1),g=ky(f);Ey(g,0,(s.getHours()<<6|s.getMinutes())<<5|s.getSeconds()/2),Ey(g,2,(s.getFullYear()-1980<<4|s.getMonth()+1)<<5|s.getDate());const p=f[0];return _y(d,6,p),(l||o!==mg)&&_y(d,dg,l?Yf:o),(c||i!==mg)&&_y(d,fg,c?Yf:i),Ey(d,22,By(a)),Ey(d,24,u),{headerArray:h,headerView:d,rawLastModDate:p}}function Ty(e,t,n,r,i){let o=0;return t&&(o|=ig),n&&(o|=8),8!=i&&9!=i||(e>=0&&e<=3&&(o|=6),e>3&&e<=5&&(o|=4),9==e&&(o|=2)),r&&(o|=1),o}try{Cg({baseURI:"file:///Users/becca/Desktop/coding-projects/ChocoWindow/studio/node_modules/@zip.js/zip.js/lib/zip-core-base.js"})}catch(Xy){}const Dy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let Oy,My,Fy,jy;function Py(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r="number"===typeof n.level?n.level:-1,i="number"===typeof n.outBuffer?n.outBuffer:65536,o="number"===typeof n.inBufferSize?n.inBufferSize:65536;return new TransformStream({start(){let n;if(this.out=My(i),this.in=My(o),this.inBufferSize=o,this._scratch=new Uint8Array(i),e?(this._process=Oy.deflate_process,this._last_consumed=Oy.deflate_last_consumed,this._end=Oy.deflate_end,this.streamHandle=Oy.deflate_new(),n="gzip"===t?Oy.deflate_init_gzip(this.streamHandle,r):"deflate-raw"===t?Oy.deflate_init_raw(this.streamHandle,r):Oy.deflate_init(this.streamHandle,r)):"deflate64-raw"===t?(this._process=Oy.inflate9_process,this._last_consumed=Oy.inflate9_last_consumed,this._end=Oy.inflate9_end,this.streamHandle=Oy.inflate9_new(),n=Oy.inflate9_init_raw(this.streamHandle)):(this._process=Oy.inflate_process,this._last_consumed=Oy.inflate_last_consumed,this._end=Oy.inflate_end,this.streamHandle=Oy.inflate_new(),n="deflate-raw"===t?Oy.inflate_init_raw(this.streamHandle):"gzip"===t?Oy.inflate_init_gzip(this.streamHandle):Oy.inflate_init(this.streamHandle)),0!==n)throw new Error("init failed:"+n)},transform(t,n){try{const r=t,o=new Uint8Array(jy.buffer),s=this._process,a=this._last_consumed,l=this.out,c=this._scratch;let u=0;for(;u<r.length;){const t=Math.min(r.length-u,32768);(!this.in||this.inBufferSize<t)&&(this.in&&Fy&&Fy(this.in),this.in=My(t),this.inBufferSize=t),o.set(r.subarray(u,u+t),this.in);const h=s(this.streamHandle,this.in,t,l,i,0),d=16777215&h;if(d&&(c.set(o.subarray(l,l+d),0),n.enqueue(c.slice(0,d))),!e){const e=h>>24&255,t=128&e?e-256:e;if(t<0)throw new Error("process error:"+t)}const f=a(this.streamHandle);if(0===f)break;u+=f}}catch(r){this._end&&this.streamHandle&&this._end(this.streamHandle),this.in&&Fy&&Fy(this.in),this.out&&Fy&&Fy(this.out),n.error(r)}},flush(t){try{const n=new Uint8Array(jy.buffer),r=this._process,o=this.out,s=this._scratch;for(;;){const a=r(this.streamHandle,0,0,o,i,4),l=16777215&a,c=a>>24&255;if(!e){const e=128&c?c-256:c;if(e<0)throw new Error("process error:"+e)}if(l&&(s.set(n.subarray(o,o+l),0),t.enqueue(s.slice(0,l))),1===c||0===l)break}}catch(n){t.error(n)}finally{if(this._end&&this.streamHandle){const e=this._end(this.streamHandle);0!==e&&t.error(new Error("end error:"+e))}this.in&&Fy&&Fy(this.in),this.out&&Fy&&Fy(this.out)}}})}let Ry,Ly=!1;async function Ny(e,t){let{baseURI:n}=t;if(!Ly){let t,i;try{try{i=new URL(e,n)}catch(Xy){}const r=await fetch(i);t=await r.arrayBuffer()}catch(r){if(!e.startsWith("data:application/wasm;base64,"))throw r;t=function(e){const t=e.split(",")[1],n=atob(t),r=n.length,i=new Uint8Array(r);for(let o=0;o<r;++o)i[o]=n.charCodeAt(o);return i.buffer}(e)}!function(e){if(Oy=e,({malloc:My,free:Fy,memory:jy}=Oy),"function"!==typeof My||"function"!==typeof Fy||!jy)throw Oy=My=Fy=jy=null,new Error("Invalid WASM module")}((await WebAssembly.instantiate(t)).instance.exports),Ly=!0}}!function(e){let t;e({wasmURI:()=>(t||(t="data:application/wasm;base64,"+(e=>{e=(e=>{const t=(e=(e+"").replace(/[^A-Za-z0-9+/=]/g,"")).length,n=[];for(let r=0;t>r;r+=4){const t=Dy.indexOf(e[r])<<18|Dy.indexOf(e[r+1])<<12|(63&Dy.indexOf(e[r+2]))<<6|63&Dy.indexOf(e[r+3]);n.push(t>>16&255),"="!==e[r+2]&&n.push(t>>8&255),"="!==e[r+3]&&n.push(255&t)}return new Uint8Array(n)})(e);let t=new Uint8Array(1024),n=0;for(let i=0;i<e.length;){const o=e[i++];if(128&o){const s=3+(127&o),a=e[i++]<<8|e[i++],l=n-a;r(n+s);for(let e=0;s>e;e++)t[n++]=t[l+e]}else{const s=o;r(n+s);for(let r=0;s>r&&i<e.length;r++)t[n++]=e[i++]}}return(e=>{let t="";const n=e.length;let r=0;for(;n>r+2;r+=3){const n=e[r]<<16|e[r+1]<<8|e[r+2];t+=Dy[n>>18&63]+Dy[n>>12&63]+Dy[n>>6&63]+Dy[63&n]}const i=n-r;if(1===i){const n=e[r]<<16;t+=Dy[n>>18&63]+Dy[n>>12&63]+"=="}else if(2===i){const n=e[r]<<16|e[r+1]<<8;t+=Dy[n>>18&63]+Dy[n>>12&63]+Dy[n>>6&63]+"="}return t})(new Uint8Array(t.buffer.slice(0,n)));function r(e){if(t.length<e){let r=2*t.length;for(;e>r;)r*=2;const i=new Uint8Array(r);i.set(t.subarray(0,n)),t=i}}})("FQBhc20BAAAAAUULYAF/AX9gAn9/AIEABYAACwIDf4IABwEBgAARAQaAAAuDAA6BABUDAGAAgAADgAANAQSBABUDAGAHgwAegAAfEgNCQQcABAEABAgIAAIABQIKAIAAB4EAAwEFgQAHAgICgQAHEAEDAAUGAAMDBQQJBAQJAQaAAAEeAAIEAwIEAgIBBAcDAwQFAXABDQ0FBgEBggKCAgYIgACYIkHQ1QQLB4oEHAZtZW1vcnkCAAxpbmZsYXRlOV9uZXcABw2GAA8HaW5pdAAIEYoAEAdfcmF3AAoQhgAUCXByb2Nlc3MAC4cARgZlbmQADhaGAA8QbGFzdF9jb25zdW1lZAARC4QAGYMAbYUANoMAbAEShQBYhwBrARSFAH+DABMHZ3ppcAAVD4UAFIUAfgEWhgBWgQB9AhgVhQAOjQB8AmRliQB8hQAOggB8AhoQiQAPggB8AhsRigATggB8AhwPhQAUhQB8AR2GAFaBAHwJHwRmcmVlAAIVhQAVjACDCgZtYWxsb2MAAQuCAFUKaWFsaXplAAAZX4AADxZkaXJlY3RfZnVuY3Rpb25fdGFibGUBgAAcG2Vtc2NyaXB0ZW5fc3RhY2tfcmVzdG9yZQAFHI4AGwJnZYAAbw51cnJlbnQABiJfX2N4YYAAWwRjcmVtgAASBl9leGNlcIIAXQZyZWZjb3WAACUtPQkSAQBBAQsMACEiDA8XGR4+NTg7CqHlAkECAAu/JwELfyMAQRBrIgokAAJAjwACEiAAQfQBTQRAQaQnKAIAIgNBEIAAEgYLakH4A3GBAAkQSRsiBkEDdiIAdiIBQQNxBIEAMgYBQX9zQQGAAB8GaiICQQN0gAAZDMwnaiIAIAEoAtQnIoAABgQIIgVGggBSCSADQX4gAndxNoACphEBCyAFIAA2AgwgACAFNgIIC4AASAMIaiGAADcBIIIARoAABQRyNgIEgQAPA2oiAYEATQMEQQGBABIHDAsLIAZBrIIAnwMITQ2AABuBAIYEQQIgAIEANQUAIAJrcoAANQQAdHFogQCjA3QiAIIAj4AAH4IAj4AABosAjwUBd3EiA4YAkQECgQCRAQKEAJEBAIAAaIMAhYAACgJqIoAAjIIA3wUgBmsiBYMAjIAAGQIBaoEALgoAIAgEQCAIQXhxgQBuBCEBQbiBAKAEIQICf4AAZQEBgAAZBwN2dCIHcUWEAHgCIAeAAD6AADyBAHWBASEDCyEDgQDpgAB2gAAchACEAQGDAAeAAJyBAIuCARyAAFYCIASAADmAAP6CAHWAAQsCQaiCAQkCC0WAAQkFC2hBAnSAAOYDKSICgQEuAnhxgACqByEEIAIhAQOCAagFKAIQIgCAAIOBAAoBFIAACgENgAB+gAEQhAAqgADZgQFuBQRJIgEbgAA2gAFJASCAAAmAATgBIYEApwILIIAAVAMYIQmAABaAAAkEDCIAR4AASIAACgEIgAA3hAHGgACxAwgMCoIAKQUUIgEEf4AByAIUaoABU4EAdwMBRQ2AANkOQRBqCyEFA0AgBSEHIAGAAZoDFGohgAIFggAwAg0AgADlARCEABCAADEGDQALIAdBgABbCAAMCQtBfyEGgAAfA79/S4IAJwELgAISgAC1AiEGhAD+CAdFDQBBHyEIgAH+ggDygALEA///B4ACxoABwQEmgQJYBnZnIgBrdoICpQpBAXRrQT5qIQgLhALxAQiFATUBAYEBngIAIYECCoEAB4AAPAEZgAAdAwF2a4AAVwgIQR9HG3QhAoUBSYUBNAQDIARPgACTAQGAALcDAyIEgACGAQCAAH8BAYAARAEDgQI/ggFoAQOAAdOBAtQGHXZBBHFqggDcAkYbgAAdAgMbgABkAQKAAI+AAWSBAO6BADECBXKDAIQBBYACzwEIgQK7gADugALPAgdxgQGuAwMgAIUB4QEhgAEdggHAgAFMiAHCAQKAAb4BIYAAbIEByYMBxAEFgQAJhQFTgAGTAQGDAW8DCyIAggByAQWAATkCIASDA02AAEGBAMsBBYEB5wEIgAA5gAAJhAHngAAKjQHngAKTgAAWgwHnAQWCAeeAAA+EAecBBYIB54ABK4ACeoAA+4MB54IDgIgB54IAEIQB5wEDgwHnAQeHA9gBBYEEgoMDQ4AEpoAAjYECnwNBEE+AAI2CA4uAATKGA4ECBWqBAJOAAFeFA66BA1WAABeGA7sBBYsEQIABX4AEJwEhgAHlgANGgQA6gQNWgAN0gQCZgQNlgAJvgABKAbCCAIgCAkmAAIgBsIAAH4IAgYEALAK8J4AAA4EAG4MAiIEAN4kAjYYEMYUAS4QCSgEvgAQ/BQJ/QfwqgAA7gABTAoQrgAAIgQJoBYgrQn83gABXBoArQoCggIAAAQEEgQAOEfwqIApBDGpBcHFB2KrVqgVzgQB6ApArggEnA0HgKoMACAaAIAsiAWqABaKAAZMBa4AEXIEEmQVNDQhB3IEAZAIiBYAAZgHUggAKAQiABKMFIgkgCE2AAUcFCUlyDQmAAvmAAEUDLQAAgAKQgAJvhQX6hADYgQA5BOQqIQCDAlqBAD+BAY2AADwBCIICagNqSQ2BAtuBAhKCAkMEQQAQBIAFdwJ/RoAB+QMBIQOAAMmCAR0BQYAAk4AD+4AGIYEC/AFrgQVTAWqCAs0DcWohgABAAQOBAKsBA4QAq4EBEYMAq4ADRQNqIgeAAHGAAUoBB4AAqwEEgAAqgABfgAFjBUcNAQwFgQA4gABMgADrgQAWggJCgABTgQCVAUaABP4BAoIDFYEAioABCQVBMGogA4EAuIAB7QMMBAuDAXGBAyADIANrgQCJBwJrcSICEASDAC6ABWWAAJaCACuAAJyAAM0ERw0CC4EBaAHggQCWAkEEgQWsgAWohADpggDygQBoAXKBBSQDTXINgANTgABQgAPoCAZBKGpNDQULgADOgwDRgQDPggGsAdiCAA4BAIECTgLYKoEDSQEAgQGFgwFxAQSHAXGDANOBA2uAANUCIgWAANeCABKDAWuBAMcBtIMCe4EBSoAAewEbgQQtAbSDAr2CAmkDQegqgQYwAQCAAFCCABUFQcQnQX+BAAgCyCeDAnuBAAwB8IMCQIEB4IMGz4MHsIAGUAHUgAMQgQZYAtgngQUngAC7A0EgR4AAeYEDAQQDQShrgAAQAXiAAOkBQYECa4AB3oMDDoQHoIIGzoADdIUDCAQCakEogQNsBMAnQYyBAXuBA+CAAc6AAYEBTYEGZAJLcoMA2gQMQQhxgQAKgAHZAgVqgQAwgABRgATNAiAEggBmgAhRggN0ArAngwOPgQFPgAAtgACJgwBvgAClggBvgABWkABvAQOCARMCDAaDAAeFAT0DIAJLiAE1gwH7AQWCAYACAkCBBpmEAYKBBPeEAXoDAQwCgQWcAi0AgQCtgATgAQuEAa6BCSyDAa4BBIECaYEHPIICjAMiBUmEB1kBCIIGTJQBQAEHkAFAAQeZAUCAAGICBUGAB/iBAEEDakEvgABPgAAoAQSABUyACZQDAUEbggksCUHsKikCADcCEIAACwHkgwALAQiAABSCCVuBAHCNAiCEAgyAACABGIAEr4ICE4AAmIMEv4AABQEEgQmQgADPgQL+AyAERoEG6YMFSQF+gAnDAQSDCC+ABnaEALaCCMEBAIAI8gMCQf+BCkOAAAiECQ+AABWEClCABSqBCd+ACQ0BAoUJDYAAEYIJDYIJgoEBNgELgAbDgADagQkNgABggAZ1AkEMgAWyAQiBBS8BH4IHMwH/hAfdAQKAB92AABmQB92AALGAAMUGNgIcIARCggEPAQCABzkDQdQpgAmaggTrgwg3gAKvgQo1AQOCAIoBqIEJlwEFgwmXggllgQCPAQKACAOAAFWCCAOACGKBCAOCB9aAB6KBAi2BCt2CB3wBAoIDqoAH44EHbIEH04MDDoAH8AIiA4EG5wEFggbngQBXARCBAJqAAe8DGEEIgAcEAgQigAgsAkEMhQoHgAHTgQDwgwCBAQiDAMOACNWAACMBGIABAgEMgAA7hAbsgQLygwRHhAapgAZkAU2ACH6AAmqBB8ixBquAAyEEoCdBMIEAOYEDMIIIwIMHFoIC14ADKIIDa4UCwwFqgAYZhQBCgAmMgAaDggAVgAUFAiAIgAbsA2shB4UE4QIgA4ELboED2YoDzAEHgwUbgQDlhAvYgAHgggfzgwAxhwrrhAifjgAxgQIlgwEGgQFAgAFogQWXBANxQQGAAD+AACSACiABCYEAFoACPYIM14MClIAAEYEIzAECgwwCgwKWgAwGgAA5AXaDDJgBAoEC7IcLg4ECd4EANQMYIQaAAEaABC+BBBqCAEWCAR+BACaBAaWAACaAAB+AABiAC1iACRMBA4IJE4IB+4EJp4AAEIEJE4ALh4IKKoAGiYEJE4IEMIAAMIADV4ELGoEJuYIAMYECLAEFgwkTggqKgACSAQaACaiDAGABHIAA5AECgAW2gQoGggEpgAF+gALYgwGrAwINAYACyIMC3oEA1YUA0oEAOwIgBoAAXYEAMAEGgQAsARCBANeCAAoBFIAC5oIMCoAI5IACl4QAtYEDXoEA2YADOoEAJQEYggEEggw0gQJFgAAZARSGABkEByAJaoALzwEDgAAHgQLtAQSBA32AB02GBCSFBNWAAAoCaiCBBPaAABKDAYwBB5MEIAEHrQQggwMpgQAHhAGxgAQoAQKBAGaEBCgBB4AEKAEHkgQogAFbgALUiAQogA8mgwQogg8dhAQoggS1A3QiBYUEKIAD24MAkoYEKAEHgAQogAUHggQoAQKEDCuCBh6DAfSBDnaCBCgBB4EEKIEMC4EB7YML+4EFfYEEKIMLQIIB/IYEKIAA1gEYgAAHhADkgQDyhQEEgQZ2gwuPgwQqgQIvgQAriAEIAQuADLWCA9qCAgABCIMCQoAAZgEcgADQgADOgAJsgAJCgQ8KgACKgQJCggNdgAbvgQDiAQeEDxmBAa+DAECACgCEAkCACgiEAkCCAAqAAkCEDkoCIAiBAISDAMiCC6mAAIaABomCAMaFDC+BAkCCABkBFIUAGYAAXAMEQQ+DCmMBBIEEqYADi4cLuYMEfYYEIYEMCoQAH4AACoEEb4QAHIEFXQFqggGPgAASgwJegQFxkAJeAQSiAl6BD3aAAByAAAcBDIECzYMAB4cCXoIAZoQCXgEEgAJeAQSVBoaCADwDHCADkQaGgQMaghC1hQJYgAK0hAaAgQelgwBxARiBAJgBBJYGh4MCX4UP74AHo4QGh4IJHYEAJoEF8oECXwEHhw9VgQBeARCDEGiBA9iFAOWBAPOCBvSDBN2CABaDEH+DDaGABBuDBPKCANSBDgGDAl+CBPoBCYMCX4AAPIQCX4AB74ACX4EFZ4AAKI0CXwELgwJfhgJdAwIgCYQCXQEJhgJdggAKiAJdAQmBAIKDEEyPAl2DEHOZAl2BC/uKAl2ACXaNAl2ABQKEAB+AAAqAA5KGAl2AAm6EAl2KEeaBDjqCAYWAAmGGEeQBIIMIT4gR5ogCW4ABO4ICRoMB3IEH6YICW4IB8QEIgQb/ghHXgQ6ZgQBugQiAgQFjAQuADg4DEGokgABKBgveCwEIf4EGz4IA7AJBCIEMd4AJqAFrgwLeAXiBCzQCIQWCE5QCAXGBCa8BQYACXYEGgIEFv4AAIoAAL4MLB4AKo4ISvIME6IAE6oQHeoQG3oAHNIAAPIQJxoMG7wEEgA0ViQcygBMMhAcygQ2YggchigcfiwdFgQ3KhRAwiAcdghAwgwcdAQSAAsoBBIISF4IHHYABhIUQMIIHHYIAEIsSF4AIo4ACZoAJQ4EH9QIDR4AOUIABOIICZ4AQ9oQGf4EBHoMBxIIUbQIAD4QF8YEAmYIFUIAN6Y4HYoICwQEEhwdiAQSWB2KJAsWrB2KBAsWCARyBAsWIB2KCAsWCABmBAsWFA6MBBYQRmoEA7QEBgAHShhW7gwHigglggQHAghTZgAlrggvlhglrgA1IggEXhwENAQODAfACRw2BEXGDEE8BuIMACAEPhAmFgQ/4hAmHggBNhgmHjwBNgQ2YhQFdgQKEgAAjgQw3iwJGghJEgAF7jAl4igJGiwGagAIzghKMgQJXAQWIEoeJAleDAgOREoeAADS0AleAAg2RAkCGAOaDDlmHAjOHB1ODAjOCB1OjAjOABsSjAjOGB1WMAjOHB1WOAjOOALiAABQBCIAPz4UDJYABrYULFIELLIMWt4YHKoAE+oILFIAUhIUEz4AG9I0WtYQGq4AICIUGRYIE1oMGIYACSoEJh4AAZYQHKQEAgAcpgASzgAcpAQGDBymAAsyGCYeCBlyGBymGCYeAEzWAAucBf4sJiYMXSIIJiYMFYoABqIECpIENJYMJIpEJj4ABnoAVnYECD4YNtwEAhgmPgQzagxWKgAG7hgcwgBXRhQcwgQBdgAu9gAfpgQD3AgMihgEGgALVggD8gwEKgAAngADjgRRhAQuAAnWBEF6DBjiEARqCAY2CD/qAEZoBxIICEoAFlIASTQIgAIAPwYATTwSMCwEHgAANgQWagAXHgxBjgRJ3ggXOgAEWggXOghB3gACOhAhIgQAmgRKBhAaPhBC7AQyABm2FD4mAAZGRBcOBD4mGA32AACKBA2yEBgSCADCCB/6BAc+BGJmBA5CCDLABBIADbIEV04QWVgEEghaZiBXzAQeAAWGBBeOAATCCBNKAAUWCBeODABCFAVWLBcOAAIqHBcOCDuKAFD2EA4OBBsaFBcOBABuCBcOEAJmHBcOAAEqEA5CAAJYBHIAAUYYDkAEAhwOQgwlXiwOQhBqPggOQgA8VhgOQgQH1gwOQgAAKgAOQAQOCA5CABeWBA5CCAPoBAoIBWoEDuIMJKIADd4IBIYADuoEB8YEDx4UAGYYFr4QA7pEFtIIFhoYFtIATf4QW1oYPsqkFtIIAH4YFtJAATYEauIQBToERp4ICTYMFtIcCN4QFtIIPj5UCN4sBi4cFtIAGtIYFtIsCSIUFtIECSIgFtIACSIUFtK8CSIIFtI8CMYYA5oMFtIcCJIIFtIgCJIgFtJ0CJIkFtJoCJIIA1pACJIIA/ZACJJEAuIENVYQFtIQBrYUHUIEHaYIFtIAcY4YdrIEVzIEFtIAII4UM3oEK0IAEHoUL2YEM3oMQsoUKfIQQx4MKmIIFtIAErIYFtAEBhhtAAQKDBbSBBSeCBbSCEiGAALkDHCAAgwW0AQOFBbSAEW+GDzuBBkiAFmWGBbKAEAWDAJGEDBCCBq+CBUuABbOAAMGCBbMBA4MFs4ABH4EFs4ICDoEBqIIFswEBgQWzAQOBBbOBAAeABbOAAnqAAJWGBbMBAoMFs4QQu4AClYIBWYQA6oMGl4EGCoYa0IMTZIADXYIM4oQTgIMBDQMLC0mBBxEBkIMGe4EVGwFqgQtiAQKCCzWAAHSCA1CCF4UDIAA/gAUCAXSAHo2HE0UBf4ABTAGQhAqQAwELBoAALQYkAAsEACOAE7MCAQGABtUEQcQAEIAQGYMLyAIEa4EZj4AMOoIADoAGHgMA/AuBGM6CBWuAASMBJIEHjQU2AiAgAIASGQMLCxGAACaBAVEBfoIHxQsQEAkL2QIBA39BeoAHMARAQZQIgQBNATGBAjgBfoEcBYQAVYQEuAEggwJ8gAAKASSEAAgKKEEBQdg3IAIRA4AGVoEAVwF8gQBXgweQgADmAzYCOIUBrwQCQb/+gAAJgABlBCAAECODFg8GQR91IgNzgBlXgQKAgBQFgBYugwLSASiDDnwCdkGCGfoEAUEAToAeWYEfa4ABYIIAPYIAXAM0IAKBAj8BLIkAFIAA54EAB4ABloEAG4AI1YIN8YAAX4ADhgEwgALIgQAWATyDACsBJIAAB4AbNYIOHAFCgRtAAXCCCD8BQoAAqAE3gQ3IAkKBgwAUAcyAAOCAACsCtAqCCr4BcIMA0QFUgwAHAlBBggkNgAEJgxmBAyQRAYQBMQEcgAIsjAFtAXCAAW0BEoIB+oEA5oIXlAgEEA0L/SQBIoQhWQIUJIEBeAEZhgEkgQeMAiIShAFsAwQhE4QbV4ECNwETgARnAwAhE4IAfYEEkAHcgAs6AR+AAKcF9AVqIRWAAAgB2IAAEAEbgAAIAfCAAAgBGoMAvwIhFoEAIIAAEAMRQZyBGBkEIRxBmIIACAQdQZQrgAH4AiEegQM2A0AhCoEABwE8gQr5AUGAGDIIAkkhIEF9IQ2AAA4GBkchISATgQIYgQMvAxchEIEY+JEiCpIAAoEJjpEiNoEQgoAiGoABdxdrDhMEBQYHCAkDAgwNARkAGw8iIhQhIoIEfwVMIQYMGYYACoAW0IAACgFsgR5MgQAIASKAC9YDKAJggh8wAwxJG4AAIQQGCyAggR/agABWgAZSBA4hDQyAAZGBBMYCDQ+ADxICCHKAFeABCIEEAIIXjQMKQQKCBrQDRQ0OgRqIAWuBH5KAARADIAp0gBR4gRSggBrSgAAtAwkhCoMgzoERfoACUAMIQcGAAF6AAtKGAMuAABgBdoIWRwZrDgMAAQKABOgBHoENdIIfmAUIA0BBkIAKBoAP7QGQghokARGBICIFdGpBCDuAAjSAAAuAIFiBAF+AACcCgAKAH0YBBIAAB4MAJ4AFCYAAJwEJgQAngAALgArZhAAnApgCggBOAZiEACeDAE4BB40AToAANAGgigBJggBwhwBJgSB3gAIIA0GgK4EEewKgPIMACQMgFEGAETYBDIAFgwERgAA/gAAXgAARBwxqIBUQJBqCAFMBIIkAUgEFjABSAZyAAE4BPIECqgEcgwBKgBCZAQyAIJYDEUEgigBJgAJ2A0EBOoAEcASgKyEdgQFXAR2AA1GAA3gBiYADeAHQgAOEAViAABOAAEKAA2sCQceCBDwCQQGAAqMBIYAKNAQKQQNrgAKngRXuAiEHgQAdgQg2gSB6gAERgQHsBB8LQcSBAZuDC9ECwguBGTQB0YEAEYIcR4AASoERF4gAQ4UAPQIMGoEAGYAX/gEFgAYIAQqAGJaAAByBGa0CQR+CE66CB+mAAh+AAXaBAh8BBYQCH4MBboMS1AMFDAKABWeAAVKBAhsBBoAAVAEKggCRAR2ABZOBCHID//8DgB6CgAAJgCT3AhB2ggsuAkHdgxKfgQChggqqgAJmBBoLQcKCAEABAoEACIMSVoAE/gFEgABagAi2gABUgQOMgAQWgQBbgACzAwJBw4IAJoIC4gNEIgOCCDmCFNiAG+ACAyCBE7EBEIEACoECiYAAKoQDEYAAOQESgBWIAwMQJYMjmQFEgAWJgABkgAAtBBJqIRKBADYCayGBADuAANaBGlCAAA4CBAyBEzCEBckCDBeACNOCAz0CDUuADFmNAR2FAzyEAR2AA3QBaoMDP4IBHoEBnoMAhoEAUoABEAEfgAEXA0GBAoAaKQFkggAQAgV2gAATgAA7AzYCaIIAEAUKdkEPcYAcVQEigAkgAWCAAE4BDoMBvQEOggG9AkEegiHeAkGhigFKgAChgAAMAcWDAjoCACGABCOBBZgBbIADE4ADqgMGIAyBCpsBE4AACQcGQRNNGyEJgADLAwYgCYIN1oAAE4EhHoAALYAC44AADAV0LwGwDoIC6gEAgQLqAQOABGABAIEHZJgESQEKowRJgANhgBrygwBpgAAMhgBpgADbAgdxgQBsiwKnAQSAAMaFAquDAEEBFoMGi4AAB4AGmYEdgYEDNYAADoAGmYADcAUTIBogG4EDbAIiDoIBIQG/ghdnhgEhARaBASEBxoQCYYIBHYABKAEOgQ6AggJKA2QiD4EABwRoaiEMgADcAQuABVqAATKAHaMEKAJYdIACwQEhghVUA1AhIoABAQEJgACbgAOXggEFASKAAzwCGHGACdIHaiIjLQABIoADBoAfOIEK4YEWDoABFYABAYkDPwEJgQEVAQmFAz+AANeAAZ8GIy8BAiIIhRV/gAj3hgEmgAAMgAEfggTEgSPbgQEcAiAGgwEcAQuBFlABf4UGaIACegQQaw4CgAWHgSOUgAl6gg/AhgCMgBAwoQCMigBlAwUgC4IJsgJBh4sDswEJgAGTAQOAAvmAJpuBBmeAAgaBADOAJYmBAJiAJE2ADqCBJp2BALsDIBFqgAAeAi8Bgg7AgBYzjQCXARuoAJeEAhuAAJqACyyDAiCAAjaAAFSCDFiACnOMAFwBGqkAXAEHiABcAQeDAFwD/wBxgCc/gCeGgQIiAwQgDIAAKQILaoACFJYBEYAD3YEFPoIGKoMBuAEEgQG4gQHPgAJigwMhhALIgAWjAWyAF7mEADiCABQELwH0BIMBbwKUCooCtwEVgQK3gABxhQLrhAMAgQasAiAPjALyAaOLAvKCADuABEMBXIME8wFwgAM+gQaZggLuggChgQLwgABDAR+IAEMB8Y0AQ4QGcYYGloADNIQFkYAACwENgwBkAciFBZGBA1cC0DeJAzeCA1UBUIADyosDNwEMgAFugATjgQM3AQuLAzeBJuahAbgBC4ADNQIhD4AC+oAAQIAp14ELUwX/AXFBDoEARwMGIQyAAJ0BBoECGgMMIA+BAGYCIRiAAJUBBoABwoIAlYIBqQIgGIAAhAELgCgPAXaCAIcBD4EAhwEMgBjPgQHkgACIgAR8pwMzgQdCggOYgABGAQCAAe4BD4IAnYEB6wEPgQZlgAVkAiAMgAXeAtA3gAAvAQyDAmwBDIEALwELgQC0gA/SgQP5AkHNgwFzARGBGscBIIEmEYUGfYAACYAknQLQN4MAGwLAAIEAHAMAQdWBB+mHAaqAABwDAkHJhQdAgBnNAXGBBj4BTIUCZoIP0oAGoYoBhoAAvIQA7oAIUqIA7oICSYAAxwEGgwDOhAdLgAfiAiAGgQFagA5dAQyBAPGLBK2FAumAKDABEIMKHwEQgQDthAcUARKBB5qBAEeACR2GAkwCIBCBAI8DECASgQCCAhIMgh3lggebAQqBHJiAAdABCoIHWoAFz4QARoYAIoIAGIAHCIQAGIITBYUAGIIAEgEOlABMgAE8hAA0AQ2AAk6AAAeBC3cCQdCDAI+GCSGDCTIBCoQrvwJEIYIik5IAUIAAyYQAUIAA+AMCQcqFAZuAASEC1DeAK6mBAEABXIMCj4EACwFUkgMkAQuDAySCAp2HAySAB2miAa6CAoeBBmKBApcCIg+DKhiCAcGCB5SAAGIBC4gDHQEPgwMdAQ+GAx0BD4YDHYIDpIgDHaUCL4sDHYUCO4ACGoEDtYAEHIIDxYAAiAEhgAzCgQMlAQqFAyWJAj8BD4YC8wHxigLzhgJYgCsQAwJBy4UBYAEPhgL7ggVpAUiHAwKIAV8DIAYEgybGhQMBgRnrtQMBAUiJAwGBAHKSAv+BAKUBzIQFKYYDB4AAEYQCJQEGgAfOggBNgArEAhcggA8fAQmAAe2CGy4BCYEcvIAAGgEwgCS5gQAIAsw3gxCpAfyLBikBB4QAQQE0gCrEAQOBANaAAAyAEJEBKIAQM4MARAFrggcrggAWgAAiAWuBBtyBE1qBC0WBFIcDBkkbgQAgARKBCvyCLo2AABeBHYmBAZiHC1cBCYILNgMJIQOAAT4DEiAFgAEtgQO3gwOngQblgQf7gQFKAiIDgRJgARCAAHmAA8aBAE2AAWKFA92BFP6SAzOAAcSEAQ6BDLSFABuJA9mAA0aEACKACFKIB0GIBA6BABaEDIqBEZ4BEIMS4QEShiIFgRQ2gAblgRF9gAFBgQlygApJATyHD58BLIABXQQQIBdGgAhVgAP9gCmBgRG8gBgSgSYJgAARgCsIhBCHgBVdATiDBbyCGDeAEh6BFXACKHSBGhKAEj+BEiaAAG8COCCBFbGCHLUDLCIFggAugRGXATCCMO+CADCBKiICLAuDAfWAALuBA6QBBIEBXANrIAWADK6CIFMBNIMemQEsgBHXgwRwgAANgAHoAWqBDNSAACeBAd+AASWBASkGSSIJGyIEgAA4AQmBAGqBAeyBDPeAKH0DBGsggQAXghaAjABPggANATSAIhiACoWAARyDAKsCCUeAGWmAACmAAniAAJYBCYEdWIENZ4EpH4ASW4IRpAIIIIIRpAEEgABcgAAWgRrdAReDES2AEuSCLQUBFIAAF4EVt4ABVgEgggA6gBKxghF2gAPSgRpygABDBBtqQYCAEdyDERiCEMIBRoEAE4ASrYIUOIEOEoEwBYEIfoAAGYABKQcgDUF7IA0bginVAQ2AAJMBF4AAHwENgACZAROAAAiAAagERhshGYMokQHSgwiwAnwhgBFJARSDIBcGGQuUCQEMgBQrhhKngAEhgAjQgAAHgBMngAM0gANCAQ6CB40BEIIatwMCQUCAAY6HJ++CC3OAM+kBAoEz6YEozoEz6IAEwAEOgSBggCGaAQSABWSABh4BDYEFcoEUpYAASgELgADJgSBEAQuADc8CIA2BC+IBCYAEEwQNIAtrgy1rgAmIAU2BLUWCF5sDCSANgAx/gQjUgwArgQAngAGUARCBAEEBCYAAFQEPgBFgAnJBgSOIgAT9gAjNgCFFgCFNggAPAwwgDIYho4AEeQMIEAOBI4GDGTmCDf2DGS4DDWoigABVgABykwBQAQiDAHOEJoqBKSaFK36BAzKBAFKDIP+CAFKDGTOAAFIFCCALSQ2BKDyAAAmBAD2CBmeSAGABDYYm5YACU4EAOYIm5wEIgSUzhCssgyLSgQA5AiAIhQA7ggAsAgcggBa3hzCagRAagAeogBnCAQ2EIgmCJYOBBtWBAYiAMqwBcYABNYEigoEAooALkoEBRIAABwFrgASngAAiAwwhCoINNYMYJIAAEQEIgABhAQqMGcCBIqmGKOyAAB+BBEOABdaEI/+AADUBGIEUFYAAEwEMgRDchQBFigAmgAAfgAAYAxQiB4AWoQEMghnEgAAPARCBM4gBAYAAEIEZxAENgAVJAQ2ABLMDByIKgRnEgAEiggAwgANvgSLMgAAQAQqCADGBBU6AA56EAYaAERaBBkWCGaOAAFEBHIEA8IAYPYIZo4EBnIABZ4EZo4AAjIAAR4sZowEIiBmjAwwgEIQZowEQgQAsghmjggAKgBmjAQqCGaMBCoEFQAEYhAC1gAAoggDZARCDAQ2AEM2DANyBBo+CABkBFIYAGQESgw7OhAHKARGHAgUBEYsByoMB75ICigEShALajgA0gAIQAhIQggX/gAf5AgcLggCYgCi2gQbegQRJgBgtgSVlAxpBfIArbgEOhCPzgBBTAnEbgilIgQBMgRD2AwdLG4IAOgYJIA4gB/yAOmaAA8cBEIADFwILIoEEAocX2wE8gAAHAQ6ABceABA6AAC6ADPwCIAKDAC6CBk2BBluDF6qBACyBBluBBFODGbKACAYBEYEk9YEAHIIFKIAHO4EF24EFI4AMrYAaOYEf2gUYdHILCIEE6gUFEBALS4AZSIEXDgQEf0F+gh43gCExgQZmgQB7jRd4gAAdgDOcgwAXggZyiBePgRj8AR2JF48DIAERgAengQCcgADkBQAQAgsQhAAehBfSAUCMF74FDxATC9KBGSuHJUObGRiBCQyhGRgBtIcZGAEmgQ5DgC0QgAEFgApqgAYFA0giBIATuANBD0uCGwwDQYH+gAVDAXKIGSaCGR6CGSgBIIEAKYMZIYAARo4ZIYYAFI4ZIYAZXZ0ZJIEbaYsZJIAAtIoZJAHEtBkkAkF+jAFmAXGAAWaLABIBH4AAEowZNgEGgBk2BIBEASOEGTYBEIIZNgEXhQFCgxk2AQyEAYqEGS+BAm2GCKeCB1oBA4IHWoIOVAHAgwcYgAAHgRybgRj2AiEdgAAXgRlTgBkTghlTgAe0khlTgRlrghlTgxk7gBAWgxk7gggFARyFGSsDDiESiRjzgRSCgBlTgiGmpRknwwACgAHmgAG7A2sOH4IZZxszNDU2CgsMDQ4PEBEDAhQVASQAJhcYBD4/QEGEGWoDCwwkhgAKgSRZgBlsgw5aghl2ghopgxl2AQqBB/aBDkmAABIBDIAMGQEygwAKghZ0hgFiAgwzgRBnAQaDBQmACgQBN4oWMgEGixYyAQaBDGKBELGBEP+AIPWABKsEn5YCR4E45oEAWwEogwBZgBBNASiBBf2ABMKAHPyAAAICECeBAwcBHIAPLoAALgI7AYEpLwEQgABKBEECECeCIJ8BtYgXUIAEFYAAYgEzggCrASSBNr6AAlyAEFeAAwSABT0DdEGAgANugi39BWpBH3BFggMhggjBAwBBuYsMaIAAQgEHgRafAQiDF9EBh4AO0I0AHgIEdoEDxwNxIgmCDTiADUYCB02CAMYCIgqABwcBCoAMXYEpvgIoIIAhFgQFT3ENgBaXgAWmgjq4Aa6LDeEBA4AUYwEyiwFGATakAUaCC9aABpCCEhWTAKuAAbYEB0GAwIE9nYAAHQHYixL5gwHTASSEGF+BARiCBDKBNo+BADaAOBGBBGSBNOyDAAuAAXcDOgAIgAc+gQArAjoAhDv/gQGagwGPgh0kAwJBtoUTRYEIwAEGgwDbgxlvA0UNNaUA24gAmIEOToEMtwMtABWCJPSLAJSCCIaKAIoBBIYAigG3kACKhQFlgAwMrgCKgAD3gyK8ggFzgSAWmQCYgQKskwEiAbiLAJiBACSAPBsDQYAIgQGnAQeCERmFAKmBAASLAKiABLyAL4CKAKiDGqKCFq4BNoIamIICfYATlIEAvIENJYAP34EI8YIDV4AAaIEAo4AFvIUArgEogACugBvykQCuAgwohQECgQAngg2oARCAABSKAdQBMqcCr4AICoECWoADh4ADj4A8y4ECc4QDlQQYdnJygwPpgghuATCAAScBvo8BJ4EQVYMIrYEIloAC7I8O8YARF4UO8QRBAiEXgAEShgRKASiMAGGDFHsDCyAdgB8UAg0vhB5PgRohjBoGgBhuhBoGAQ+KGgaFAOyGGgaHAOmkHk+BHkeABjsCpDyAAE+BDG+BHWWCD+7/HlyXHlwFqDxBsDyCJqEBzYAABIEACoACM4keXYAAGIAAEoAeFQMUECmgHl4BrIAAUAHNggfagikfARCJHl+KAEuAASiCHmCBAdIBqIEBK48eX4AAQoceX4MXxYE7jIAR8AEGjR4bATKfHlSTADkBKoEAGYQeVIAZlrceVIAATgMGDDCpHkoBBoEAfZMeRAEGhBizAgwtnh5AAQ6AAAoBDoIeQAINLIANIZIeMwEMgA+mgQApAWuAEDyLHjOBBBOFHjMBJ4MEC4IPyoAECwErqAQLkh4hgTmHjx4jgAGbAWCAAD+AHiOBAYyCHiMEBUEeSYEl+wFNhQfBix4qASeKHiqACNeIHiqAFZqDHiqAGWGCHiqDGCcBC4MeKoIcm4QeKoEa440eKoBFTIEeKpgEJIAbR6EEJAEKgQBpgAS0gQBpgAAMjx4qiwJ9AQiAAMaLHioBFYMLkYAAB4geKoAADoALnwIhDYgeLoADOgIiFoIBJYweLgEmkR4ugR5DiR4qgQHhgBGrgT0piBrzARODGvMBGIYWcAEGggEFgRdSARODF88BGYEXT4AdNIQXz4AAvaQeKgEZgR4qhjOpAQ2IASaAAAyFHHIDBSAKggEcAiAKgwEcAQ2LHiqAPQqFHiqAHbyAAn2CAeIBCIQXCIEUcaMX2ocAZQMFIA2eHiqAFOGAAgaBADOMHioBBIIAu4oeKoAgB40AlwEkqACXhAIbgACagBEXgwIghx4qgBnHjQBcASOpAFyAHiqGAFyCHiqAEkSEHiqAA04BC4AA8oEVnwENmx4qggglgQUNhQG4ggZKgQHPgBHwgwQmhALIgBLdph4qASWIHiqBAuuEAwCIHiqHAu6MHiqCADugHioBHogAQ4weKoIAQ4YeJAEWhx4kAwUMK4keJAQEQQZJgBGXA4ICSYIM3aYIsIAFjAIOaoAFFAFrgBo3gQV9AhJrgSgDgRaRgQ7CghaJAxwiDYEXF4ADkoEWwQQgaiEhgAOXgAAMgxtmASKDAA2DA6QBI4EACwFUgAOkgAAHA1AhGYEABwFAgQLIgQ7QAQOBAAeBFheAAAcDMCEkgga/AQ6BA3KFBrSAMJuAAAuBPrgCCGqAGKGCRckBcoIKeYEDTwILIIAroQIgI4ID6oE9DIRBLwEGgQP0gAzngRl0AgR2gQQWgRuUggHKgBtZAy0AAoEZSIEjIoAcU4ADBIADpoEK8QEGgRshAQmAEhWCHdGCAC6CBO2CA9OBEB+CAJiBIYCBAt2CBk0BCogAqIIAnAIIaoAAT4IAeYABAgEEghqmgTyKgBoEgACJgTF+hADfAQqGAv+BAAuGAN+BHPOAANiBIeOBAOYBC4IEyQEihADfhwDbAQiDG+kBCIEDFIIA24AWuIFK9wF/gACWgQC7hEUegRt/ggOIiQNsgQXvghDsgD8SAQOAGuYBGoMAgQEDhAAfgS7tgQA4gACHgQNhgAC3gwBsgwFHgAEighuAgwDaAWqABVgDDCAfgBjwgxs/gBo+gRkcASSBGzyAAdABxIEbPIAbOoAGaoEdGYEXa4EBVAMOICCAACiDB4KAAIkBC4EFmQMOICGDABSBABGAAESBIhaBGQiBLWeCAbKCGvqDAbKCJUSCBpCBQrGBFawBDoEaioEAfIAUzgIiB4AXcaIANoAWOoEEYIAANANrIQmBFnYBDoEET4EAhYAAB4AUuYEZh6sASYABKwEJgQRuAwlBA4EXlogAOoIBtwE6gAFnhQJ/gBT9gQU7AQmAAFWAAjqBAFWAAAeDB5KAFVGAIMKGADwCCUGAQciAFsuDAq6AAJyCAG+BI4ABDIAcS4AAqYQAKIAADIQAZIIACoIAZIIAVoAuT4MF/IEAcoAQJwECgEqvggBmgAJNgQAqgAA+gAWPAUGCC26AEB2EAGaAAOEFLQAEOgCAOqGAFASAABSAAo0BCIMeHYAeG4EBAIId3QMIDB+BHsCBAhmBAqWCAh2AEOGAAh2DArSAANKCCKeCIUuBAf4BGYcALIcDI4YALAELgQnQgiGTAw0cGoAhdoAAFQEbgQDyhgE/gQMegCAsgBsOAU+AJNKAInGBRAiDKKqABPMByJEjD4ADpIoIHIEeLIQjDwENgQNNgAZtqwgcAiANhSMPgABAAgAigAZLiCMPAQuCHV+BJjGAAGmDIw8BE4AAlYAANYMf8oEYgwEFgBvMgBqYA3EgC4gjD4AKDoUf8qUAiIAKLIMDnQELhiMPAQ2PIw+BAFmBARuMCKwBDYIjD4IUw4YjD4Ao2AEIkSMPAsg3gwAblCMPgikPhiMPggSDgAAhiCMPgE4JgQqjiQGGgAC8hADuggqTpSAOgADHhADOiCMPAQuFBI6DIw+AARWBAOaCARWFB86AAjQBDoEPNoItz4si/oAK7YEMXIQDYYABqoIUX4EePoIHUQEKixBlASSkDFqAHwYCIA6CPQmMHZuBRLMBIIJFh4AZO4EHXAFGggecgBHOgSDHgRD4giJGgRGLgQJPgAG/AQODFGGCAJaAADeABK2AAl2DABkBKIEWV4MUcoQQToID2oARQoERQIAZyZwQ6YIAZwIbRoAAMQMAQeeKCOKABVUBEoEs7oMmkIAAEoEWqAGAgAS3AXSDACaTEMkCvf6CHleCE+wCAHGBR/+BDhUCDB6GIISABHKCIGkBBoEBaYMAFIAAZo8AHpEAMoAtyo4AFIISxwHOhSQ4hA8Fgw8WAQaCLAKBJDgBCoM3joMOnYAA2IEANAHPgwK7gRZ7hyQvgAECAcyLJC+CAZIBVIADV4sCvoAcOgIgCogkL4cERKQqioMDp4EdGIwkLwLIN4MHGYAcjIgEPYokL4EEPYAZxYQEPYEHvoEeaIUEPaUAgYsEPYUDW4ABIYEILoAFPAEKggChgB0vggN7gSfPhARFiQNfniQvggFgiyQvggQbgQ53gRBpkiQ0gAFkAiALhCQ0hQQmqic1jAQmgyQ0hAQmgyQ0iQDFgQ03gACEiSQ0AQ6BNTWAKX6AAMCHJCqCA9GBAeiCJCoBBYwkKoII7o8kKgEShiQqgAoUjSQqgQBEiCQqgAAiiiQqgSIugCD1gyY+hyQqAQuDJCqBAB6FEUGJJCqAD/eLCLGOJCoBDoEkKgEOggBNgAUThiQqhie/iANggSkGjQAUhyghhwAUgAA8hQHzggT9gThtgQEDgSvPgA1nggFVhgx4gRJ+AgN2gCFugx28gAWWAWuBEYEBIoQMngETgCNogAh0gROFgQA9AQWBTJyAE4qBA3aBCDMBBYIByIEMposbGYAABwEEgQR9AUeBBP+EBraAQr+BEt+DJKcBBoFUmoMVwQJBuYcSlwEUgAkUgxbyggFegUXxgSzagBKWggHqghZ2gB+hgB93gRtxAQ2EAAoBGIABnoAABwEUgQHEAQWBAgOADNGADKuAAZaAJEyBGriAHTkDC0sbgRLQgAAmgAoYgUSQkBjMhBbrgRL7hBeWhRL/gQD0AUSEEuyEEvqAAF2AUSqAAL8BuogRLQFEhhf9gQDFgQa0gQaohA93AWqBA80BA4UAx4EfrIFE1gEcgVWbggK2AUSACHiAABEBIIEkc4MSC4EAdYEIMwIgA4IU4YFRyoECQYEBGAJJG4ACPpYYaoYAygEFhADKgQB/ghOugA40gADCgCDkgimehBfGgR4Ygh2qgADGAbuSAM+BDNOFAM+CFNmVAM8BJI0AzwEo5ADPgzYliQDPgRzVAkG8iQJdAQWBAfWCBM2HGfSBLvSgCEWDAJyFAJGAAuIDLwEcgU7wAwBBmosJgYIXwIcYnYQaKAFBgDowgCb7gADwAQmDG1GAEhiMHMyMGIKBBGqAFDmCBGgBFIAACIoI+oJGeqAI+oEIpIEjc4IDkgEggVLLAwBB0IoFFYIApYAF6YQXyYIAuYMHo4AAGwEWgRaWgQCpgywOgSwfgUAJpRC7hBN5gQVhgTTHgAlfgVNMgySngShjhyhiAQiBCvaAABCJKGKCCw+WKGKAAG4BOIFKtIUoYoMokI0oYoAAmwEsgQG7ggYvgAbRgQfZAQiABZaFKBWQKGSCKAcENCIGaoAAJwEJgAAngU8ugCWJgSWNAUmBIagBCIAAOIESw4IoZIAAI4AFIYAQBIAmeYEoZIAAlpMoZIFO84AC74IowYsoZIIPXIsoZIAE3IMnnQEEgQGFhChzgEyChShuggDOlShphQKmhwrPgSEqgACmgwq4ARyBWaKDBweBCtSBEQ0DCBAngySPgQALAigLgQFbgQKOgAAHgijxgQXauSi4AQWAKLgBBYMouAEFggCVARuCS8kBHIYouAEXgwJkgyi4AQuAKLmADMQBEIMouQEXgyQjAQeHJCMBJsEkIwEKg0DqAw8QP4UACwFxhwALAR+AAAuMIosBCIAiiwLXJIApQoEhuoFPOAIQNIEiQYArJAIAGoIC44EBY4QiiwEcg03ZgFWegwCZg0qfgQDqgwE0BQRBmgVHgCtdgRpgAYeBA4uFKZGAJteCAx6ADEiAAHmABDCAAXiHA0KBAa0DABA2ggApgwcfgAIdgwE5gAdfASiFRpUBBIBWdYFFNgJBd4MkNQJLG4EP3IQAEAcDQQRKG2pKgAC2gBBCmCI/AwRBKoEQgYIAqoNEToAEcwELgTCxgAB3ARiDDqYB8YIEpIMwDgMwQQyAIUgB8IEY4IEEOIMAsQGIgACHAUqDBgoChAGAGdYCAkiAEoEBwIEIAgEDgBUKgAAMgAJHAcCBUPkBBoACA4MbX4BPNoAAKQIgcoMJdAFsgSUUAh9wgEChBEEfcxCCCGIBbIIX/wQALwEygQAQgQAJAzAQPIEBSYQNAoMFQIIAm4IBLYEBOIQEc4EAYwMEQTmDUfqEBXiCAC+DBhqBGYqBA0uCAHqAFVsBH4IOl5MAHAGLgRxvlQAdgCEOhkzogyMXkwAoggoV7AAcgB77gkjPggGQAQmAAeMBQYBGy4MDzIIBroE2lwICSIQBjpEARgEggBKFlgBigQfVjgF+ggLUgwKigALmgATxASSBCv6BAyaADEWBHtiAC/OABRKBCq+BBPaBAvqECgeCAF2CALKABLGCAH2ABpwCR0GBBGYDCBtyggC4AQOAAAiCXdOAAAgBEIEITQIbcoIAhIAAX4IG1IUATYMcQIAKH4QASYMAqp4AJoIi0YMAKQMvAQagAE8CLQCBE4mcACa9AX2CALeCRYWcAI6CVlmBTU6BCvShAQyZACaIAQyAAcABC4ABs4IYxIAEG4ADQ4EGn4EAN4IDUoIdZYcKQwEgglsygwOBggRbAcWAJpkGBQIJCQkDghSLAduAMFmBUaUB54EMLIJaAoICLoIoTocAxoAHbwIvAYAG6YAG54EOLYEAbYEEaIFD+YImgIJPvAFPgwPrgAoXghm4gADSgjGCASCAAL+BFpGGHtCAEbuCBzaCACMCLEWBBHgBT4QZlIcA0IAARIAGpgFrhQDTggBJhBIwhgLcgRWlgQwTAQaBBPaDDvKDAuuDQLmQAIkBBoUAhAEUglKdigCHgAClAU2RAIeBAL2GAVqBAVKCE+KGCbyAAD0BHIMGEQEUgiBzgQAThAEjgU1PgADvgkaLhADqAQePAGOAGPeAABiFAGOGBTeCAfuAAEqEChWBIPmBC4SDAQqEAiGAEzyDDAaBBb6EAjOGALeBAjCBDuOEBQ6BAIGDBg+BYPKAGBqBB2OKAIaAABaPAOkB24IA6YYARIIre+MA7IArFq4A7LEA6gHniQHLgQNXgQDIhADUgBdjgh1RhQCpgRPDg0tnATCXAImGAB6aA8uJBwaBAIeNBbiBKUeCAs2CNmaCAAqCD66CAAqADAaEAAqDAI6CK3aAADgBdIFF84FJqIED8oAIP4E0NYQIV4IKc4EE/YMHFQMBEDWCMCeFCOCABQQBAoUfnwMCQZSBESaDRHaFAFcDAhA5iABihBUJArQtgwxCgQmrgAAdAVyBYO0BToFkWYELnQIDaoE8xIEADAFsgAOmBEEBEC6DACYBbIId8IAGfQMQNkGABXSCAAuAA6MBG4MA1oAAVgFggwBAgQArhgHzgAANAqAtgUiugAFNAqAtgUhTBCgCmC2JB3SwAB+DAbCBEg+BFD6ADCuAIAmAACSBHxWCADSADPGAEk0BdIQAt4EPK4I/IIIAToEABgKkLZsA+4EQsYAB448A+IUA9IJhNYIBIwKgLYIObJ4BRpkAToACNYMBRIEBv4IjWIMhfYIAy4BF/QKDAoIVWYYBYwFsgyVogQHaAgFFhwAlAklxgA+VgDioiwAqgSFHgQ4ygQCVgBbHggInhgICgi3iwAICgQLsgwEMhCrJuAEMAQeEEWKAAK6AD7OCET+CAO+BWueAMvQBAYFJ0oANxoEV44IPA4Id/IYACoBi0YEzCgGCgRtkgAkGgBFoiQACgAT8gBvygBE6gR4vAQiDWXWAAAyAADWAGfSBAAqBTyuDAAqAAx6BMjqAAAqAC82BY6WAAAqAIKKAXYaBAAoCB0eBPR2BGMCBHoSAE+mBFdOBE7YFA0H6AUmBHreCEVuCP8iAFd6BBAOAIsiBAAqBLMWBHMwBCYJN1IEcrAEJgk26gRyigh3DgC/CgQAKgRDHgSJ8gQENgAnLgBRfgADUgl4Hgjl7gQcFggHjgAMggQMJAQOANLCAL3eCAHCCAyyCAyqBZB2HC3aBACuFAB+CBNeOA2qOAB+BAFqACAOCBaiBG20ELQCQIYADdYASjQJBhIEffYoDe4Au74IuRoMCfoER6wKIE4IAHAGIgCTjggKogicSgQOYgwyqgwOYggKUgQB/gRYUgQHmgQQ8gQNUgwnJhgDMAQOMAK2GAB+CAE2OAMyOAB8CIAWBAB+CAYmoBDaEAJyFBDeEACy0BDeAHeiBAO2BTj8GQQxsQZgggGi3AQCAM/UBC4AATwF+gBmMgzFyAZqACWiBV9gCQX2ANpSBNKSCADwBBoExVoYJ5IAA3oAExIUGCYALCYAKHgUAAQEBAoJU3IABewK4LYMDoQG8gAEKBXRyIgY7gAASghDCAwNBDoEy1JQLLQEGlwyqgREjArktgwyugFXkhQBdAmt2hABdBANBDWuCEbuAAt+AANEBNoAAHoQAcQEKvwBxgCgygQDAgQBzAkEJhABnAgdqgBRDgQBlAhAtggUQhAeaASuBT62CAaqAMZuBD8SCZkSAAA2AFxmFKHuBIluBDQqCTg6BAfyFNAKABRiCAAiAAbuDKOeGED6CACKCB7yDEJiBJK6CBVcBGIECDARMDQMagwhCgQHcgWdXlQDVggOQhAAqlQAjhQhsgA+ymAAmggAjAy0AM50AI4AAC7sAI4cAjwEKnwCPg1EKlgAjghUlgh/cgGp4AXaLEJCDAyoBGIFniAFKgwbIgGaVhlyIAkULgjTzAfqBJyQEQXsLHIBP7og1CwEQgAxhhzavArsBgDaMgRJwixL3gQ63glZcmBL+gAAgAUScACABQJwAILATXgF9ghJoAfGAE/0BC4FQ1AEBgADEAQmCE0sCbBCBcHOAACcBbYET6gcQQAu6CQEVgTXcAUCAJWSCBtICBkGBOZODDdYCIAeBEoICCkGADTSCZvYCdGqCBOWABPCAScuHBPCAABqAFvmCDXuCV76AF9cCIQmAbgwBDoEj+oFA3YIAQoAQTYIAQIEKeoAADIEkY4EAMoEkJ4AABIFOSoAW2YEZpYAlu4EsBgEQgB8JgiomgAA8gi8UgAA8gjtVgi8UgSNEgCG/gQAdgUo2hAOKgySKhABYgRuOBAhLGyGAOd6ADFEBAYImL4A8H4EA04EAzIE67YIAuYIAQYIeXwIgaoEAZQFrgAkAAgBOhGhRgAALgAIXgQCxAkdygBkegjGogCLQATuAI7KDAFKAAO2AAK6HAS6HASkBIoEJPgEKgwCfhAExgABagwEzgWEhgixSgAANgS5jhQFBAkETgUDJgE+KARWEBYwDAA4CgAuPgT3IDCESQe4IIRVBrgghFIE6bQF/gAARAvANgAARA7ANIYAyQQEBgBatBA9BCUuBaXuAZVyBYOABAoAU7QFxgGnDgARZAw90IoAHPQNrIReDEfCAKZOCDWSABIOBCiOBY84DdCEYgAosAX+BEcECIBaFAMKARQOAFDEBGoAyhgISTIRCNAHggjznARSBRSOACimBACaAQWMDBiAVgQdoAwshGoEk7oAIXwIiDoEBYIApw4BGaoMkzAIgGIIOLYEeZIA9EwEHgyyKAiAQgAFJgCUCAQ6BJMsDGSAagQP1gSZCgl+oAwFrdIMBYoE+EgF2glxhAQeAWWCJAhOGAoiAAbSEAoqAbMWAIcyBUswBB4FxF4AAy4FRjQEGgh9cgijBgEx5gwGwghzNAQyDChSCRUkDAiAXgCBFgRpQgwElgQAYBSAPIgkhgDdshwDLgQRQgQC2gBlMgQC2gRVPgRPWgD8kiACygWIHglmngD4JgmzwgwCYAQCCbV6AAJiCAqODX+8CIBOBAFaDWyCAJKGBAmMBDoEJ4oApA4YBiYQAB4Ifk4AApYEg3gFGgADKAQ+AbNeBPZqDGRkBS4Il/wQgDBsigEflAQeAALIBGIIBegERgQFNgQGTBAZ0IRCCL2eBA3EBDIAvvIEhoYA9cYEBToJKM4IC/IAFUAFKgW2bgDzfggJUgQJNggIgAyATaoACRAPTBkuEAlsFE0HRBEuAAl+CFEqAAtqAJUCCRa0CIA+BAReAAtWDCSCAM7WAUtkBdoEBMoAhOoED0oEAbIECNIMDrIEDyQEAgwMPgT5vg04QgwMdhwOTgAAYAQ2BAAiBAzyFJ0EDDgsrgAFfggHLgATbhB/hgQSTgVzwgQAHgmW8gGr4gW8AgwT1A2BB1IIE9QLEA4JxZYQ8goFV5QHVgRgkgRcbAdWABnSCAAeDUS8BAYEdcoMAHoMlpYAQVIEmy4ADNIEOkoFRBYAcz4EoKoEMDYM364AOYYAIxQdBoIbi7X5zgiASAgFxgXHngzBohBwSgAoagAoQAcCAb+6BABaCIaqBAGiBHKKDbyABc4Agu4FrpIAuKAF/gwKuggDlAyADc4InW4FyYYAAPoEQSIAAKokA8YUCXYAAQ4AYjJQAM4ACoQIIdoEAHoACwYkAHocAGYAC4ZMAGYAcDZMAGYAQuJMAGYAHMpMAGYADIZMAGYA71YoAGYIA4oAdUIEA4oAbRIIA4gMLvQWCB5aCA9qAACGAPKCEXiGBCviAADGAAPuBA60E8f8Da4ER+wRB8P8DgCDEgWqOgXKlgXaGA4CAPIAKF4AAW4IAGwMgAHKBWbqCdRKBHpiEAXaDAVSGAFGBZsKBdD2CAXGDBvSBAGMBcIAAUoEHc4EAbYFjLIIAUoAAUIACKQLbAoEMgANBsCuBD3iAbEmCDjeBAmeDAE2DAA2BMtuEAAuBDZmEAAuAb0qFAAuAALaFAAuADiGFAAuBFMCEAAuADtCFAAuBDUyEAAuBae6EAAuADqqFAAuAQOOFAAuABAmFAAuABZiFAAsBDocACwEPgQALgnWugC0IgiAsgCGJgQR3gwD4ggLZggAJgQGkArArgwGlArArhQKIAQKAAr+BAVIBEIcCyKQBUoYAWoEj/4QBzoJsS4ICuIAADYQAC4FmI4QAC4FxyYQAC4ABMIUAC4FooYQAC4FmXIQAC4FsqYQAC4ABMIUAC4ABMIUAC4E/YYQAC4ABMIUAC4ABMIUAC4ABMIUAC4ABMIUAC4UBMIACZIMBDAEQhAELgRezgS9aAnRygAFEAwsLkYkJeoARooMInocJfAEGiAl8ggUQhQl8gCjFhwl8iAjyhwl8ggBCgTpeigl5gUV3hwl4hGZsgXA+giR1BEHAAjaBDMySABeCTJKBFZGPCa2CB0+BJFCjCa2CCR2DCa2ICjeHCa2ALDyCAFyAbpiECo2CdCiABh2BCYyFLmiAEDOICa+ACMoBToEINYBbzAEggENVgWGnhAmyAg0CgFXfgSjkhgmzgQiEgD5BjAFnhwFihURoiAFqgQh/hAm1ggAXASCBCGuFAI6CBbkBFIAGzwUFIhMhFIwJtQKBAoAJMQmgDyEUQeAOIROBCbWBCUICoBCBABEBD4BaUYAHWAENkgmzAgQagQAbAnQigEraAWuAMiCECbQBDYIXHIEJtIBUJYAAIYAH0QEWhAm0gACAAiAVhQDDgCvAAWqALtMBGoAf6IADdoEGqgEOhAm3AROBABOAE4OFCboBDoABdgEUiQm6BA9rIheBAWuBCO8BD4MJugEHgCKBggs7gijzgAbZgQfmAxggDoEH0gMYIBeBB+0BGIMJugEGiQm6ggFpgQfJgilNAiAGjQm6hQLGgAG/hALIggkiAQaBCSIBBoEJuoAAz4FB9IM5f4UJuoF2v4gA64oJGAEZgClKgEaAgAAoAQ2NCRgBD4AITAQPGyIPgRq3ARGACVaHCRiAAPGACvuADKqCCRiAKcCAUESDMYCCAKyBVimDAmWAUdSBCRgBB4AkUoJldYIJFoAj9AISaoABpgHUhgkWAxJB0IIJFgEHgFQCgkX7g07lgE6/AQ2EMO6DMP8BEYAYfYQJFwELgAp+gAM8gQBrgAGRhAMWggkXgAM1ggyqgSzbgQAYgQKKgAKAhwL8giXJhwkYgQVugTXXgjBOhwqoggGkhAqohgp2ARKECnaCNjGCCncDCwuqgBHygQdSgRY6gTIzAwFBnoISRQQAQYgTgAASgAJJgmzJAkEegwAVAfyBYfaGABUBE4J8a4AACYAAWIMD4YgF0oABMAM7AZSAbC2BDqACsC2DRRIBqIAACIEAEAKgLYEToJIAOZYAGQMLrwKCAKyBD++BEi6BDwKAEkABBIASnYA8xYAAEoF04gEEgxKdgg8ugRnIgxBAgkQpgBBAghPBlAAcgAb4gxIsgmLNhABdgBKdihKbgTJGgxI0AgAQgEX5gwBKhxCmgwBKgjValQAchRELlQAfgAL7AXODFTCUAKiGHhODECKEJI+BD+oBEIA3E4MANYBtRIFAYwGngBPQgkdRggDMAwFBCYgBG4EBWIRtkIUA/wG4hAD/lQAgggEfgxK9gBKvmQAqggBKgiIggwGZgQCAgm76gAH7gQE8ghRwgTkkgQA6BMAtC6aFAKmBAeCEAK2CSie8AK2FAIKCTUqBClABSIJtXp4AVIEAP4cAuoAKgIIB9AQLC/wKgGgFgwarhQX4gRtcgxJugQwyASKAKw8BLIETvoEKnYEDVAcJQf+A/59/gjSsAQaDP3qBDB2BB0CBGVmDBzaCIyOABTaBGWyGBmKABxWCAuoBAYFwOgMvAbyEAAgByIAACAJBIINYfIAMh4E9KIAcroAMW4EAOoAhtIIRcIUWKIEYFIQpGoAOX4ANaoIpAIEBFwWYFmoQL4IACgGkhgAKgACwgQDFBJwWEDCCABCABAKBABABqIUAEAGwgwAqAkH+gYAdAkESgQYjgAECgDVggQZyAQKDL7OCN50B8IBBxIMA2oMF5oYyD4EATgEtgQAygBe6AwVBEYABgIEEEQYoAqwtQQqAIsmAWQ6ACm2AJteAAAqCLFCAABuAHKCBeOCCEYaADXyBHpKBGrSBTt6Aeq2DHmiCJjECECuBAICCBByDdcGAAnOAGA2EACGAFVOABCeANWsCciKARriSBC2NAhGJA8eXAmGBOC2FArSEBC0BAY8ELQJBoIBBjAMaEDGCAoeBJhCEAI2CdwKGAIeEAJq5AI+EAz0BDYEqpIEAmoAAlIIKi4Q3AIRMRoEAk4EB6YEt9gH+gls+ggHogUlaggEXAQyEAJCBIYuHATK4AJgBBYIH04kBKoJuggELggEohABngWwKgAKxgH88gwChgACKAQGHAIqAYzDCAIqDCF2WAIqCAGeCABKHAIoEBkH9/4MBJYIAkwENhwEdwwCTkQEfASKAPaKCAksBDIIAmYcAb4UAGAEEgACfgwHKggQ0AQqGA5iAA+uCE3UBCoJCtoEcbooDk4F/a4YAR58DBYEnV6AAwYEZz48AvIgDB4kArIYEDoEEcoAAkAMJEDKFBHCAZ84BB4IADoEgqQExgReWgH0YgiGJBywLC5YLARKBDT8EIGsiD4AqpIJ1Z4BhrYIXj4INCYEX5oElogEAgk1NAtDHgAhxAdCCRymBAAQBSoKDbwNB2CiDDtoC3BaBVeMBf4MVFIIMF4Fqa4ESWoBXbwEogW3ZgBT/ggDagQCkgFd8ASiAAUuFOeCBLzyBFG+AJjmBVP+CcE6BQtiAH0mAgh2ACPiBAMGAfvuDEqGDBPeCHB2ABO+BNG8CCRuBFoSCbjKDBP+CE5+ANG2AACMBrIEajAELgXQrgwBSgB4bgAG3hQGiAdCALZSAChWEAJCCFVSEcM2GAHCAa6GCLFeCCgyBBgWBCduCAXOAAV2DJiCABmyCAPSAB8iDBrkC0CiCABGCAO+AAISAAF2AABUB4IAMBoICQoIAh4JF4gLgFoAAEYAfRAIQM4MAjwHUgACPgjGlAdSFADKCHwiCAJeABm2EAP2JACaFAB6EATSCIYKGAOoBBYMK4YMMcYEA94INhYN4QoAMKIEfuYEWFAEEggAKgBokgR7JgADfhCHNgQr7gC1NgwsCgBw/iACthEPxhgHcgCshhAaQgwCcgACOggCcgwHhggDKgw8MAbyAAieARc2BGfqAcEqBAmYBCYYCcgEQg3wZAQiDW1ABBINOpoJD74I0hIAKRoI8T4IsCIUcOIYUEYIx1YEMrYMAhIMBYYUK94AxP4IJ7wHUgACtgACUBrwETBshEoIHboIBzoEjGIAv1IAx+IEvNoQAPIEktYAX84A0QoAB6IBSZYQ8YoFDwYEANYEHJQVMIgIbIoIXgIGD9oEqEYEFdAIgDIIV/oIX34se14IU8YA+jYEEIIBIMIFWRIMAbINsZIMHzoAAaYAAfIABpQMQamyDB9GANB+HAtmAQN2AFkeAAIaAAcOBACCDAt+AAMqChuKBRyiAAHaCRNkBAYICg4AB4IEK84KAvYE8noIO3oEI0YAASIE6poIOOoNIvIEBHIEArAECggImgl+igQ5egg+4A0ECSoEABYAtGoAAO4EAXYEAlIQAboEOP4IC/4ID8IM4LIEtKYQBR4EBEIE+HYIJWIAfxIEBQoAFfIMFT4MA9IAAFIEIVQIFa4QA8oAR+4UDbIUTBYEK4oAMuIIWuAMAQbqAAkeBAU+BEJCEAhyBGvEBf4I6nwIASIECxYIEioINWIQbhIMNBoMAgIEFBAEPgwJJgS/RggXIhgGkgoIfgQB8AXGABdiBDj2CAmgBS4QD6IQ4NIITv4JD+IIAnIUNpgEPgA5XASSAFa+DAF2AhreBHHGAbuWBA3yBABGABt6JAraBhVKAA62AA1KHAOsFC7YCAQmABxmBOSyCgmyCAsaABtECOwGAP0sBQYACQoAE7gRBB0GKgGbHARuALHGDDkaBHC4BCoE6ZoEEhoMBAYJ1voEK2ICGroADHoNCyIIaBYAZooF5K4IW7oGMzIQC2IAv24EET4EFjgFLgRBtgAbOgAVegSe5gAQHggE9gxotgALtggDHgh/2ghYqggcdhQAlgHDohgLzggLYgAtugRCLATuAAAeDQvqBCuYBCYJ1KoEAHQHAgwAdAsAVgweagAASAcSDABIBxIBivoARWAIKQYA7hIEEtgRGIgMbhQD3gCTwgAMlARuEAQ+CATgC0AiAATiDDESAJPqBAF6CCr2CCY2ACr2BAHqDBpCAIryAEYeBQNGCekOCB7YBL4EFDIEANYFDOIIikIMBgIIAkIEOsoIcfIQHlYEhwYIPJIAHp4AzgwIDSIcH8Y0OgokPI40AHIgH8YATp4UAXIAH8YMPgIEFqIAU+4EMeoEAC4MK7IAk7AKQIYFBcgJ0IoEWpAQvAYYIiwCmAoQIgDawgwBLAQeAAKeAAjaDCJmDAKsBB4gAq4EHeIEAj4JUAIUtQ58Aq4BY14UAYIAAq4MAYIEkJoEAq4QmF4UInwYJQRxrQWyBF7WCf1YCkB6BOnCDAIyAAA8BoIA0hYA0mYMAkoAaCoIJSYBJAocJ/40AhoIuOoQAHJYQcIwJ/QEEgAqSgzSVhAChhABqhAAVhQCrgACCgQB6gQq0gQ1jgCbRgUgggA4SgR8eBIECSRuAAXgBI4MBeIAW94AC4YANoYMAt4ECGYBEpokRN4AAfQEGhgDakgCupBE6hwFsgADHhABggQe6hgFsAQaGI9oDCUEEgVsjgAjFgAFpAR+ADLCAADuAAAsDoBwigACLhAKigTSwgQK8hAIVgwB/hytZqgIHgYAYiwFnjwCghwByhQLShgCwgRzFgBhsgiF/AqAtgUNygALeAy8BgoGGLYJ82AMvAYCBcryBAD2EAhSDXbubA2+iAiKBETCFALiAgMuEAQ2AiIqDALaBeM2DEKEFswsBCn+DBWuBBY8BIoAfEIEw7YAs9wEbghsvhAV5iwV1gI/CghzcgA6LgQcVgALygU2VgTgkg00Xgj+EgmoygIMmgStDggWEgwVxgQs4gj3SgBVJghVjgABmggTFggDEgATFgR1CggSagQJ9gAFbgQJ9gD2OjAElgAHyAQWIASWNAeKJASWNAByIASWAXOCEASUBBYAB3YMAYIGCjYQBJ4EACwELgQqGgSXyhR4ngRXehxA4hBRUgXrdgRA6gQX4gAD0gRTlgh2whQDmASKCSSaDix6DIeSCA0+CAqaAHluCAfWZA02iArKCI/mBBWCBAMCCEhuBbjSABByDAfOBG0GGD86CfFeBBraDAIqBKraBAQwELwG+FYB2H4YEs4kDRsAAlIEEeo0AlIAF/IAAJ4IBZAEFhQ83gB1chFsFgSoXjQ8zgQ4TgQBtggasjA8zgQJrgi9njwHtjAU2gHcFgyfhgVCZgA/HgQaFhgBxhAAagCs/gQAagkrKgDwQhHuAgQfQjQE3AcL6ATcB/oUBN4QPmeIBN4APrJABM4NOxIIBJgHEjgEmAcb6ASYB9oUBJoIqHeQBJoMqOo0BJoAIQYN+WYIj/4IDkYIKA4At4gFGgA1zgQWPAQiBBYqBCgOAAA+ALiGBBY8BCIQKBwL/AYCX+4MQmoEJsYEQmoGRooUMkIBNOoAMC4FKnYMNKIMOBYCNHYEAnYAOzgEEgAyugkONAQSAHRKCGyuAAWKABV+FAECCBLKBBKWBelmEMPOBABiALt6DABgBDYM9nQENgSpzgATvgQ9cghCPgAAIgj4agAuPgw1cgBraigBCggBjggBagXhbgQDtgQy3gQA/hA+tgXl3gQEpgg9Vg39uhA0ehQAVgCmLAwALg4EahIANGYKMDoQ7zoF2X4EACIVf84ApfoEACoEPggEggS+3gRYHgz0KAduAG6oEAUEWTYAru4AGs4BfxgSggAJxgCe4gQBNgzb1AQGAm8aCC9oDQSpGgUA4AgVGgV/lAwBBOYEtAYEG+YACXwML3AmCAYaBkPqAQs6CAhQBLIEr9oAG34Byv4EAD4AAA4BUXoIruoMpOYMXo4J74YJ64YMCLgJBKoAWwAJ1IoB5b4EBtYACSIEAFwFsgwg5AVyAJaiAAYiBi42BmLaABI6BAGuAAtyBYhyDFJsBT4ASTwFLgRbjgBwAAUWAZfIFIARHcnKBZFuCLJyEPNCADFuAanOALKmBArqCAs6AW2qAHU2EFgOFABOAIpmGGnCHABaBk/WAJCqEGmWHABiAHY6GNKSDLnaAHKKEgHOBARiBAAgBOIIAxoFD5IEAt4AfvoI33oIBBIBEMoEAJYE3q4KLFIE3fYEvroALx4EADYAD8YIDboIAXQFcggANgVH9gDfGgQF/hRk/ghyqgDWFAhA3gi0NhwARggBWggANgQdeg4kngTlhhBrqgn4/ggFjgBCcghjugQMTgn/Tg35DgQGEggJ8gRB6gYGUggSbAiwigjMagnvKgRyjgi+MgQJjgQEkgQDZhAAlgi3XggPbAWyDAEOAABeAY6iBAdiAAWQBBIKY/IAAkYEuKIE0KIEASIEDw4FFAIQBIAGwgARGAUGDg9SCCUGBAHCCALCAAEKBAAcCtC2BQI2CErcBtIMAGYEwFoQBe4ADUYNBOIIAkAFsgSTPgQCLgglSgQChgwBBgWkGgQq/AgVJgDrTgABhggBIgQC0AVyBBT+AACMCxC2BHueCABMCxC2CDtUBBIM0JwEBgAMkgZ9RhAFCgTZXgSIAgQL+gQGtgBpkhgD0gi8LhAAlggCygQLVggmMgEILgCo5gQBfgpJ7gwCggTnLgQHphAESgomvggFZmAESgEgVhBOsAWyDA1SFARyCAYeCBo6CAnCCP+yBBYqBMs2BG1iDATaADQEBA4ICP4MBLIGUmoMAjIIAOIUBLIAAo4QAPIABToMAWJABJIQBAYAMkoAKeIQDy4IDCIUD54EBDoAy2IIDt4QCUoFG+IAD0IMhhoAQtAFFhQO0AQaAYV6ElV6CAWODgx6DAKgBOIAFMYIMfINHdoGAO4ID7IAE6gEagzHAgwGWARqCOzWAGJmBA/yDA0qBAwGCAWGBA7KBEucBQYBa0AEDgorSAUGAQkuAHV6AJIUBi4Muz4JjnwEQgAqkgy9fghfJgGs+gRqTgZSshAVsgjkFgBo7hQJxgBT5ggN/gi+VgAAYgAANgUSGgQQ2ggANhAPVgRptg4FPggBdgWVqgwAcgjVdggAWgACQBBALC4SBHe6BADKAZCeCBEiBJ6WCBAOCA0SCXCyCANGBAiuHHWiAOaYBGIEyp4M4rIIAcwEwgh73gUB/hBGLhQAThDpohABGgACkhAf2gAS4gAANgSI8BQuECQEPgQd3gSDogRk+gR2ugiSDhwByA3RBhYJaSAEAgTcpggARgAKzAoYCgjy1gzCEgzmvgTU8hABuAVSDAriDAoyABwSCAe8BSIEABQNYdHOAgKOBS3qAAA2EAq4BNIAfAoMWcIBQpYMU04EHUIAJTIIDR4IStYQBlQEsgAB5gUUWAgNrgQdtggQrAhA6gjXFggD7gjU7ggT1g1N4ggA0gDTFgwNagTR/gQARgTTFggMWgAAFAXCABQSGCQ6SACqBjzybACKCNd2CBnaBhJqGNd2AEVyBNd2EFZ+DJUqBb16BUiSBXVmBDn+EEKyBRMCAF8QCkCOBCDCCDVyKADaCAHsBdIIA34EE34ABP4IADQKkLYEUSIEAlYFFVoABgIMD3QKAAYUeEoIV04AN6wFgggGIgRz7ggEkAUiDB7EBbIMEXwE0gBfTgQGMgCyFgQGCg0X7AVSATfeBAa6BLTmBAEmCAPaEBdeBFIqECR8DEHRzgE6AgXH3AUiCbhYBDIMByoAlXoIBx4EWIYJfWYELGIMKUoUAkYIpSYI1A4QAV4AksIA4K4ILfoM2+ocEuoQAd4IEIYAAD4FUqYQCQ4MCbIFU7oMBjoECXoEAGYIATYILMoIANYEASYQ7S5YBxogaprAAH4ML3IFSwJQBvYQ3FYMA1YcBTII3FIIBy4Kb1IFEoIQGToALSoE3GYIAwAECgzcZgQQXgjcZgwBGiATxgQAHgztQgpoMgaJtgwY4gAFgAU+AR+2HOqeEAF6CaZKEAF4BAYQ6V4GXJIE6pI0AXoI6pIQAYgEbg0YtAqAtgzpRnQBPmQCtgUaZgAdfgSH2Awu+BYARsoID4IALqYAD4oMKa4Kg0IEACYI03oIEUQFqgRSLggAdASyAA5qCBJaBB1SBEaaBlb6AGIyFBa8BcIAKVoFeh4QCR4AKY4I8vYQGL4EAHAFcgwR+ArQtgj7kgQuahAh0AUSBAAUBTIEd6YMRy4FEIoEAioABCIIG6oMQ7IAADIJD/gQgCE8bhCWjgAuDhAmAgwyeghqkghjOpQA7gBe5gA3PhAhogIXWgkb8gQJEgwV5gwFiAgRqgAcmAhA3ggASggfYAXSDADCBB9GBExCABYmEAneBCG6CAP+BQoGAHleCHDuHAzqBDQ2BAzyCBA8BWIAxKIAFnIAf7YBRFoEQJoEStYAAfoKUb4NAfoEqL4AD8gEIhAAmggDogAAFgEpLiAXCggE3ASKAUjSCA/uAHNyDAwWCGs6CAWSFHIeCHayCWIOBGjMBhYEACoQCHIE/0IUJbIMJaQHEgB9TgiMLgyUbggEJgCM+gAJlgWAGAYKCOwqBpCIBAYAADIAIhYEjHICKGIVKgIEDQoEISoI4p4Gc0YIPTII8CoAAQoGlpIECroGKCIEAB4QM74AHjIAUI4UAQQEBgp+Wg4b2gQCPgA0CgABDgRRxgAkhAwurBIAflIEAGQF8gRlHgCjfgQAMAXiDAX0CjAGFDTuECuUCLGuAAuOBGcCBBUoBA4Bh7YIFgAGQgJACggDbgAGVgAxUgAA0ggWQATiAHMmBoHWBURaABZQBB4I9k4Eq9YEu9oEE04NYIoEACoIAmgE0gB2AgQGYgx0pgQrWgF3AgQv/gwAvgBnzgk6gggAyAiALggiTgQAKgVo7hAANgANKgz4KgT34gxIwiGYwhj3/gACAggAtgQV9gT3QgAANgAHRgj4FgAv0gTEugAANgDpAgAKSgTEigAANgAnHgABQgTEWgAANgD4OgASegTEKgAANgD4RgAGDgTD+gAANghRqgQVKgQc8gBAMgg9KgC6rgT4XgAeMgSC4gz4egACfhD4egRB8g4WQgF9PgQAKgkAHgB3cAQaDRdOAETUBBoOhO4JbW4Ico4AA14IU84IeS4Ja5oBt5oMCFIAC7oMn2YAC5oBKAQEggiLrAQODTo2BAPmDAXeALCiCAAqAABSBTpcBDIBNGIBf84IDCYED5gEBgQuugS53AiIJgQLOgRlLgQAEBUkbC6ALgRwpgwlzgSoZhAlzhQl1ggIFiQlzAUWDAheBCXSAQJyAAV2AQuKCBX2RCXOCAmKaCXODB/WTCXOCCWyAApWFHAOCCHEDNgJ4hAVTgGUYgAIVgSJAgABPAWCBToiFAFABgIIA74EC3YIJoYQEdIUJpAEEgAmkgwf2gEy2hibRgh5MgAulgAH9AUGAAUODADWBAGeAVAMBIIEA2YgAbIIC3AF4gqObgwjoAQWFYMiAABiJB5GCBjeBA0KAAAmFCeiDCogBZIAP7oACT5sHx4BQvccJ7YEo3LQJ7QF4gR3fggkrhAF8gD9QgAeegACMgCjkgRsVglojgQDdgwahAaSCAPoCoC2OCa6AHeWEHbKEAiOBBQyCNMyJAh6ABZiVBc+DIGSLCcqCGiOECcsBeIQJy4MCE4IJvAFohQnZgQ5zgZHUhgl5AVyBUIeGCCoBBIUIKoCjT5oI14Kk+IAACgFohQWOggX+hAT38gnUhwm4iAlVkAmzggLUlAm2hANigQoOhgiahgoohgD6AQSCobKDAVWUAC6ABJiCqZ//ASGHASGCAgjoCouGAmG4CouBBF6AjxYDAAs/gg+agQAejxcghj/GlAAfgAAcglI2AgRAgAGUAQOAAA0CgweBN1qFP2KAENOAIiWBLjyATW2Al8aCULCOdeuFDu+BFfgBQYAjsIAAMAF/gFCoAQaCpL0CAEiAP46BE52BFj+CMuiAVRiCesqCBTGBNXiBF4mCBtyAF3qCkRUCCEmBIbwCS3KAFfOAUuKCBRCBdj8ByIAJjYFUz4MAcINePYNXjIEFY4KaDQJBKoEQioABX4IWuQRC//+BgmzZAVSAAAwDgICCgFF3ATeAW8SATlOBAWaACXmCVmiCFoOBAAyBWtqBCt2DVJiBAHWBI8+CAOSAAHeBVUSEABaBT4aJABmCAseCABcBTIcAF4JCFIAAHQHEgR6TgABegFkbgDjKgAAJAZyEMQgBKIEAD4AYXoQAMIEEgIFkuIAARgGcgSwPAQKAXrGAe+eDFRQBOIJXqYAE84QACAFEgks1gpMgg0Q6gAGRAYCCZ2yAQRSAeNaCB/2BAH4BiIEjhIALRQGEgQCOgCoZgGkkggpUATaCRV2BQzUBbIAFngE2gAQbg5DfAhA0ggHdgACMgBN2incXgACngY9Wg19ShRIZg0G7gAUngRpRgQokgWVJg0G9BEE5QSqBJY+AAdSCp0+CK4mBAv6DS0qCNWeDUoqACpeAS++BAGaAE6ODCCuEQ/oGQYgRNgK4gI+lgAALgB8IgBRvgo+xgHpvAayDABWACJaAALyBABUB4IAAFQGggwAVgAijgADfgQAVAX6CeBOAKpCDAL2BAK4BLIAGIoRbhIVEKIIoEgFEgDgahDK+ghZehQuBhkQhgiqgAiA3gQbcgQCrgG1ihQAShEQ3AUiDAReAMFsCDGyAGOQClCCBCVoBNoALK4EDbwJBkIQADwGMgwAPAZKEAA8BgIMADwGWhAAPAXyBDmACC0ODGVyBWjCXGVyCDWuBOE2CGVyBAAqAATmAeSgBSYIEGgMLC+OAjWKAAhQEC6EEaYCzYAVmZmljaYCy5QEgg7TZEwAxLjMuMS4xLW1vdGxleQBpbnaAs20VZCBsaXRlcmFsL2xlbmd0aHMgc2V0hgAcBWNvZGUgiQAZD3Vua25vd24gaGVhZGVyIICz0wFniwAyAmRpgLN3AW6AtAmKABYDYml0hABHECByZXBlYXQAdG9vIG1hbnmFABcHc3ltYm9sc44AGAJvcoYAU4YAJIUAVoKz9IAAXYC0QAFrhQCmAgBigAD4gACaDGVycm9yAHN0cmVhbYQADYoA1QstLSBtaXNzaW5nIIC0pwQtb2YtggBHgAAlAmNvgLQtAmN0hQDjA2NoZYoAF4QAmI0AFwRkYXRhhgAViwELASCBANQFZmFyIGKAtJABAIUAVwJyY4EAgQVtYXRjaIYAMgF3gLT0BG93IHOBtQOGATuCAN4DdHlwhwATiwGyggDQjwB1ggAWhQGvBGNvbXCAtSQBc4C06YACDgR0aG9kgDInEwwLpQIDAAQABQAGAAcACAAJAAqAKQcNDQAPABEAEwAXABsAH4CVbhYrADMAOwBDAFMAYwBzAIMAowDDAOMAgAY4ggABAYCMAAIBgYQAAgGChAACAYOEAAIBhIQAAgGFhAACBZAASQDIghjMgK1JggCEAQeAAIABDYAAegEZgCkpATGAA4wBYYAARgHBgEjqAYGBSOyAQBYEAQYBCIApDAMQARiABbwJMAFAAWABgAHAiQB4hQBwhQBoAYaAAAIBh4AAAgGIgAACAYmAAAIBioAAAgGLgAACAYyAAAIBjYAAAgGOgAACARCAAHIBEoAAiAEIggCAAQaAAQIBBYABBAMEAAyAAJaAHJwCAA6AAKIBD4CwMwQOC7cMtQEsgBzVggABARCMAAIBEYQAAgEShAACAROEAAIBFIQAAgEVhAACARDAASyJAICFAHSFAGyBAGQBFoAAAgEXgAACARiAAAIBGYAAAgEagAACARuAAAIBHIAAAgEdgAACAUCAAAIGoAgAAKANgACIgADQAR6AAAQBD4AAVAEggAAQAiAOgwDgAR6AAASBABSBAAEBoIQAFAETgAAEAQeEABQBDIABOAGMgAAEAUyAAAQBzIAABAEsgAAEAayAAAQBbIAABAHsgAAEARyAAAQBnIAABAFcgAAEAdyAAAQBPIAABAG8gAAEAXyAAAQB/IAABAECgAAEAYKAAAQBQoAABAHCgAAEASKAAAQBooAABAFigAAEAeKAAAQBEoAABAGSgAAEAVKAAAQB0oAABAEygAAEAbKAAAQBcoAABAHygAAEAQqAAAQBioAABAFKgAAEAcqAAAQBKoAABAGqgAAEAWqAAAQB6oAABAEagAAEAZqAAAQBWoAABAHagAAEgHm4AgC6gAAEAXqAAAQB+oAABAEGgAAEAYaAAAQBRoAABAHGgAAEASaAAAQBpoAABAFmgAAEAeaAAAQBFoAABAGWgAAEAVaAAAQB1oAABAE2gAAEAbaAAAQBdoAABAH2gAAEAQ6AAAQBjoAABAFOgAAEAc6AAAQBLoAABAGugAAEAW6AAAQB7oAABAEegAAEAZ6AAAQBXoAABAHegAAEAT6AAAQBvoAABAF+gAAEAf6AAAQBAYAABAGBgAAEAUGAAAQBwYAABAEhgAAEAaGAAAQBYYAABAHhgAAEARGAAAQBkYAABAFRgAAEAdGAAAQBMYAABAGxgAAEAXGAAAQB8YAABAEJgAAEAYmAAAQBSYAABAHJgAAEASmAAAQBqYAABAFpgAAEAemAAAQBGYAABAGZgAAEAVmAAAQB2YAABAE5gAAEAbmAAAQBeYAABAH5gAAEAQWAAAQBhYAABAFFgAAEAcWAAAQBJYAABAGlgAAEAWWAAAQB5YAABAEVgAAEAZWAAAQBVYAABAHVgAAEATWAAAQBtYAABAF1gAAEAfWAAAQBDYAABAGNgAAEAU2AAAQBzYAABIARMwIArYAABAFtgAAEAe2AAAQBHYAABAGdgAAEAV2AAAQB3YAABAE9gAAEAb2AAAQBfYAABAH9gAAEAROAAMIFEwEJAJOAAAgBk4AACAFTgAAIAVOAAAgB04AACAHTgAAIATOAAAgBM4AACAGzgAAIAbOAAAgBc4AACAFzgAAIAfOAAAgB84AACAELgAAIgBDagAQCgAAEgAAIAUuAAAgBS4AACAHLgAAIAcuAAAgBK4AACAErgAAIAauAAAgBq4AACAFrgAAIAWuAAAgB64AACAHrgAAIARuAAAgBG4AACAGbgAAIAZuAAAgBW4AACAFbgAAIAduAAAgB24AACAE7gAAIATuAAAgBu4AACAG7gAAIAXuAAAgBe4AACAH7gAAIAfuAAAiBA7YBB4AACAGHgAAIAYeAAAgBR4AACAFHgAAIAceAAAgBx4AACAEngAAIASeAAAgBp4AACAGngAAIAWeAAAgBZ4AACAHngAAIAeeAAAgBF4AACAEXgAAIAZeAAAgBl4AACAFXgAAIAVeAAAgB14AACAHXgAAIATeAAAgBN4AACAG3gAAIAbeAAAgBd4AACAF3gAAIAfeAAAgB94AACAEPgAAIAQ+AAAgBj4AACAGPgAAIAU+AAAgBT4AACAHPgAAIAc+AAAgBL4AACAEvgAAIAa+AAAgBr4AACAFvgAAIAW+AAAgB74AACAHvgAAIAR+AAAgBH4AACAGfgAAIAZ+AAAgBX4AACAFfgAAIAd+AAAgB34AACAE/gAAIAT+AAAgBv4AACAG/gAAIAX+AAAgBf4AACAH/gAAIAf+AAAiBBAoBQIAABAEggAAEAWCAAAQBEIAABAFQgAAEATCAAAQBcIIFVgMHAEiAAAQBKIAABAFogAAEARiAAAQBWIAABAE4gAAEAXiAAAQBBIAABAFEgAAEASSAAAQBZIAABAEUgAAEAVSAAAQBNIAABAF0gAAEAQOAAEIBg4AABAFDgAAEAcOAAAQBI4AABAGjgAAEAWOAAAQB44AABIC+K4AAdIECxgEFgABcAQWCBUoBFIAABAEMgAAEARyAAASAvlaABEQBBYIGBAEaggXqAQWAA9QBBYADuAEFgAOcgE92gAAEARGAAAQBCYAABAEZgAAEgQACARWAAAQBDYAABAEdgAAEgL59gAKkgQZAAQWAAiyBBaYBBYABtAEFgD3fAxsLTYMfuYcABIC+rooABIEHUYkABAEEjAAEAQWKAAQEQbAcC4C9CosAS40AO4UALwEGhAAEgQWIgQAEgQEKgQAEgQGSgQAEgIS2ggAEAQuEAAQBDIQABIAF24FHeQTgHQsjhQBfhQXLAhARgAVtBgcJBgoFC4A6uAQNAg4BgAclBJQeC2mFAJCFAIiFAICFAHiBAGiBAFyBBh8BEIAABAEUgAAEARiAAAQBHIAABAEggAAEASiAAAQBMIAABAE4gAAEAUCAAAQBUIAABIEGvQFwgAAEAYCAAAQBoIAABAHAgAAEAeCAAG8DHwtyjQBvgQBrgQBngQBjgQBfgQBbgQBXgQBTgQBPgQBLgQBHgQBDgQE8AYCvAEGAUc0CC22BAMcBBIAAAgEIgAAEgQEzgQJLARCAAA6DAAyBnqyAqmuEACSBB3OBAE8BCIAACIEAGIUADIEIt4MADAEggQCUgDKEgQBrAYCBCC8BBIMADIA/SAoBABAMAEGRIQv/gCUfgMDAgIKxBQgJCQoKgEk3gAABAQ2AAAEBDoAAAQEPgAABARCEAAEBEYQAAQEShAABAROEAAEBFIwAAQEVjAABARaMAAEBF4wAAQEYnAABARmcAAEBGpwAAQEbmwABARyBffsEBAQFBYHB1QEHgAABAQiEAAGAXSqCAAEBCowAAYAnsooAAYEBMJkAAYEBTJkAAYEBaLkAAYEBpLkAAYIDdYABzoUBvI0BqJ0BkLwBgAIbHLwAAQEdvAABgA9PgH05A9AqAQ==")),t)})}(Cg),function(e){let{initModule:t}=e;Wp=t}({initModule:e=>{if(!Ry){let{wasmURI:t}=e;typeof t==yg&&(t=t()),Ry=Ny(t,e)}return Ry}}),Cg({CompressionStreamZlib:class{constructor(){return Py(!0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"deflate",arguments.length>1?arguments[1]:void 0)}},DecompressionStreamZlib:class{constructor(){return Py(!1,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"deflate",arguments.length>1?arguments[1]:void 0)}}});const zy={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin","cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot","wiz"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf","xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","xpdl"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot","ppa","pwz"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":["odm","otm"],"vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw","vsdx","vssx","vstx","vssm","vstm"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-director":["dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-latex":"latex","x-lyx":"lyx","x-lzx":"lzx","x-maker":["frm","fb","fbdoc"],"x-ms-wmd":"wmd","x-msdos-program":["com","exe","bat","dll"],"x-netcdf":["nc"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":["rpm","rpa"],"x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":["mathml","mml"],mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","application/x-ms-installer":"msi","x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-perfmon":["pma","pmc","pmr","pmw"],"ynd.ms-pkipko":"pko",gzip:["gz","tgz"],"smil+xml":["smi","smil"],"vnd.debian.binary-package":["deb","udeb"],"vnd.hzn-3d-crossword":"x3d","vnd.sqlite3":["db","sqlite","sqlite3","db-wal","sqlite-wal","db-shm","sqlite-shm"],"vnd.wap.sic":"sic","vnd.wap.slc":"slc","x-krita":["kra","krz"],"x-perl":["pm","pl"],yaml:["yaml","yml"]},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":"aifc","x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",aac:"aac",aiff:["aiff","aif","aff"],opus:"opus",wav:"wav"},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":"mmod","x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":"sd","x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":"val","x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},font:{otf:"otf",woff:"woff",woff2:"woff2"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe","jfif","jfif-tbnl","jif"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",avif:"avifs",heic:["heif","heic"],pjpeg:["pjpg"],"vnd.adobe.photoshop":"psd","x-adobe-dng":"dng","x-fuji-raf":"raf","x-icns":"icns","x-kodak-dcr":"dcr","x-kodak-k25":"k25","x-kodak-kdc":"kdc","x-minolta-mrw":"mrw","x-panasonic-raw":["raw","rw2","rwl"],"x-pentax-pef":["pef","ptx"],"x-sigma-x3f":"x3f","x-sony-arw":"arw","x-sony-sr2":"sr2","x-sony-srf":"srf"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":"x3dz","x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.usdz+zip":"usdz","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",plain:["txt","text","brf","conf","def","list","log","in","bas","diff","ksh"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:"tm","tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":"patch","x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas","pp","inc"],"x-pcs-gcd":"gcd","x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","h","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt",javascript:"js",json:"json",markdown:["md","markdown","mdown","markdn"],"vnd.wap.si":"si","vnd.wap.sl":"sl"},video:{avif:"avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv",mp2t:"ts"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","flr","wrz","xaf","xof"]}};(()=>{const e={};for(const t of Object.keys(zy))for(const n of Object.keys(zy[t])){const r=zy[t][n];if("string"==typeof r)e[r]=t+"/"+n;else for(let i=0;i<r.length;i++)e[r[i]]=t+"/"+n}})();!function(e){let t;e({workerURI:()=>(t||(t="data:text/javascript,"+encodeURIComponent('(t=>{"function"==typeof define&&define.amd?define(t):t()})(function(){"use strict";const{Array:t,Object:e,Number:n,Math:s,Error:r,Uint8Array:o,Uint16Array:i,Uint32Array:c,Int32Array:a,Map:h,DataView:f,Promise:l,TextEncoder:u,crypto:w,postMessage:p,TransformStream:d,ReadableStream:y,WritableStream:m,CompressionStream:g,DecompressionStream:S}=self,b=void 0,v="undefined",k="function",z=[];for(let t=0;256>t;t++){let e=t;for(let t=0;8>t;t++)1&e?e=e>>>1^3988292384:e>>>=1;z[t]=e}class C{constructor(t){this.t=t||-1}append(t){let e=0|this.t;for(let n=0,s=0|t.length;s>n;n++)e=e>>>8^z[255&(e^t[n])];this.t=e}get(){return~this.t}}class A extends d{constructor(){let t;const e=new C;super({transform(t,n){e.append(t),n.enqueue(t)},flush(){const n=new o(4);new f(n.buffer).setUint32(0,e.get()),t.value=n}}),t=this}}const x={concat(t,e){if(0===t.length||0===e.length)return t.concat(e);const n=t[t.length-1],s=x.o(n);return 32===s?t.concat(e):x.i(e,s,0|n,t.slice(0,t.length-1))},h(t){const e=t.length;if(0===e)return 0;const n=t[e-1];return 32*(e-1)+x.o(n)},l(t,e){if(32*t.length<e)return t;const n=(t=t.slice(0,s.ceil(e/32))).length;return e&=31,n>0&&e&&(t[n-1]=x.u(e,t[n-1]&2147483648>>e-1,1)),t},u:(t,e,n)=>32===t?e:(n?0|e:e<<32-t)+1099511627776*t,o:t=>s.round(t/1099511627776)||32,i(t,e,n,s){for(void 0===s&&(s=[]);e>=32;e-=32)s.push(n),n=0;if(0===e)return s.concat(t);for(let r=0;r<t.length;r++)s.push(n|t[r]>>>e),n=t[r]<<32-e;const r=t.length?t[t.length-1]:0,o=x.o(r);return s.push(x.u(e+o&31,e+o>32?n:s.pop(),1)),s}},I={bytes:{p(t){const e=x.h(t)/8,n=new o(e);let s;for(let r=0;e>r;r++)3&r||(s=t[r/4]),n[r]=s>>>24,s<<=8;return n},m(t){const e=[];let n,s=0;for(n=0;n<t.length;n++)s=s<<8|t[n],3&~n||(e.push(s),s=0);return 3&n&&e.push(x.u(8*(3&n),s)),e}}},R=class{constructor(t){const e=this;e.blockSize=512,e.S=[1732584193,4023233417,2562383102,271733878,3285377520],e.v=[1518500249,1859775393,2400959708,3395469782],t?(e.k=t.k.slice(0),e.C=t.C.slice(0),e.A=t.A):e.reset()}reset(){const t=this;return t.k=t.S.slice(0),t.C=[],t.A=0,t}update(t){const e=this;"string"==typeof t&&(t=I.I.m(t));const n=e.C=x.concat(e.C,t),s=e.A,o=e.A=s+x.h(t);if(o>9007199254740991)throw new r("Cannot hash more than 2^53 - 1 bits");const i=new c(n);let a=0;for(let t=e.blockSize+s-(e.blockSize+s&e.blockSize-1);o>=t;t+=e.blockSize)e.R(i.subarray(16*a,16*(a+1))),a+=1;return n.splice(0,16*a),e}P(){const t=this;let e=t.C;const n=t.k;e=x.concat(e,[x.u(1,1)]);for(let t=e.length+2;15&t;t++)e.push(0);for(e.push(s.floor(t.A/4294967296)),e.push(0|t.A);e.length;)t.R(e.splice(0,16));return t.reset(),n}U(t,e,n,s){return t>19?t>39?t>59?t>79?void 0:e^n^s:e&n|e&s|n&s:e^n^s:e&n|~e&s}V(t,e){return e<<t|e>>>32-t}R(e){const n=this,r=n.k,o=t(80);for(let t=0;16>t;t++)o[t]=e[t];let i=r[0],c=r[1],a=r[2],h=r[3],f=r[4];for(let t=0;79>=t;t++){16>t||(o[t]=n.V(1,o[t-3]^o[t-8]^o[t-14]^o[t-16]));const e=n.V(5,i)+n.U(t,c,a,h)+f+o[t]+n.v[s.floor(t/20)]|0;f=h,h=a,a=n.V(30,c),c=i,i=e}r[0]=r[0]+i|0,r[1]=r[1]+c|0,r[2]=r[2]+a|0,r[3]=r[3]+h|0,r[4]=r[4]+f|0}},P={getRandomValues(t){const e=new c(t.buffer),n=t=>{let e=987654321;const n=4294967295;return()=>(e=36969*(65535&e)+(e>>16)&n,(((e<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n)/4294967296+.5)*(s.random()>.5?1:-1))};for(let r,o=0;o<t.length;o+=4){const t=n(4294967296*(r||s.random()));r=987654071*t(),e[o/4]=4294967296*t()|0}return t}},U={importKey:t=>new U.M(I.bytes.m(t)),_(t,e,n,s){if(n=n||1e4,0>s||0>n)throw new r("invalid params to pbkdf2");const o=1+(s>>5)<<2;let i,c,a,h,l;const u=new ArrayBuffer(o),w=new f(u);let p=0;const d=x;for(e=I.bytes.m(e),l=1;(o||1)>p;l++){for(i=c=t.encrypt(d.concat(e,[l])),a=1;n>a;a++)for(c=t.encrypt(c),h=0;h<c.length;h++)i[h]^=c[h];for(a=0;(o||1)>p&&a<i.length;a++)w.setInt32(p,i[a]),p+=4}return u.slice(0,s/8)},M:class{constructor(t){const e=this,n=e.B=R,s=[[],[]];e.D=[new n,new n];const r=e.D[0].blockSize/32;t.length>r&&(t=(new n).update(t).P());for(let e=0;r>e;e++)s[0][e]=909522486^t[e],s[1][e]=1549556828^t[e];e.D[0].update(s[0]),e.D[1].update(s[1]),e.W=new n(e.D[0])}reset(){const t=this;t.W=new t.B(t.D[0]),t.K=!1}update(t){this.K=!0,this.W.update(t)}digest(){const t=this,e=t.W.P(),n=new t.B(t.D[1]).update(e).P();return t.reset(),n}encrypt(t){if(this.K)throw new r("encrypt on already updated hmac called!");return this.update(t),this.digest(t)}}},V=typeof w!=v&&typeof w.getRandomValues==k,M="Invalid password",_="Invalid signature",B="zipjs-abort-check-password";function D(t){return V?w.getRandomValues(t):P.getRandomValues(t)}const W=16,K={name:"PBKDF2"},E=e.assign({hash:{name:"HMAC"}},K),L=e.assign({iterations:1e3,hash:{name:"SHA-1"}},K),O=["deriveBits"],T=[8,12,16],j=[16,24,32],H=10,Z=[0,0,0,0],F=typeof w!=v,N=F&&w.subtle,q=F&&typeof N!=v,G=I.bytes,J=class{constructor(t){const e=this;e.L=[[[],[],[],[],[]],[[],[],[],[],[]]],e.L[0][0][0]||e.O();const n=e.L[0][4],s=e.L[1],o=t.length;let i,c,a,h=1;if(4!==o&&6!==o&&8!==o)throw new r("invalid aes key size");for(e.v=[c=t.slice(0),a=[]],i=o;4*o+28>i;i++){let t=c[i-1];(i%o===0||8===o&&i%o===4)&&(t=n[t>>>24]<<24^n[t>>16&255]<<16^n[t>>8&255]<<8^n[255&t],i%o===0&&(t=t<<8^t>>>24^h<<24,h=h<<1^283*(h>>7))),c[i]=c[i-o]^t}for(let t=0;i;t++,i--){const e=c[3&t?i:i-4];a[t]=4>=i||4>t?e:s[0][n[e>>>24]]^s[1][n[e>>16&255]]^s[2][n[e>>8&255]]^s[3][n[255&e]]}}encrypt(t){return this.T(t,0)}decrypt(t){return this.T(t,1)}O(){const t=this.L[0],e=this.L[1],n=t[4],s=e[4],r=[],o=[];let i,c,a,h;for(let t=0;256>t;t++)o[(r[t]=t<<1^283*(t>>7))^t]=t;for(let f=i=0;!n[f];f^=c||1,i=o[i]||1){let o=i^i<<1^i<<2^i<<3^i<<4;o=o>>8^255&o^99,n[f]=o,s[o]=f,h=r[a=r[c=r[f]]];let l=16843009*h^65537*a^257*c^16843008*f,u=257*r[o]^16843008*o;for(let n=0;4>n;n++)t[n][f]=u=u<<24^u>>>8,e[n][o]=l=l<<24^l>>>8}for(let n=0;5>n;n++)t[n]=t[n].slice(0),e[n]=e[n].slice(0)}T(t,e){if(4!==t.length)throw new r("invalid aes block size");const n=this.v[e],s=n.length/4-2,o=[0,0,0,0],i=this.L[e],c=i[0],a=i[1],h=i[2],f=i[3],l=i[4];let u,w,p,d=t[0]^n[0],y=t[e?3:1]^n[1],m=t[2]^n[2],g=t[e?1:3]^n[3],S=4;for(let t=0;s>t;t++)u=c[d>>>24]^a[y>>16&255]^h[m>>8&255]^f[255&g]^n[S],w=c[y>>>24]^a[m>>16&255]^h[g>>8&255]^f[255&d]^n[S+1],p=c[m>>>24]^a[g>>16&255]^h[d>>8&255]^f[255&y]^n[S+2],g=c[g>>>24]^a[d>>16&255]^h[y>>8&255]^f[255&m]^n[S+3],S+=4,d=u,y=w,m=p;for(let t=0;4>t;t++)o[e?3&-t:t]=l[d>>>24]<<24^l[y>>16&255]<<16^l[m>>8&255]<<8^l[255&g]^n[S++],u=d,d=y,y=m,m=g,g=u;return o}},Q=class{constructor(t,e){this.j=t,this.H=e,this.Z=e}reset(){this.Z=this.H}update(t){return this.F(this.j,t,this.Z)}N(t){if(255&~(t>>24))t+=1<<24;else{let e=t>>16&255,n=t>>8&255,s=255&t;255===e?(e=0,255===n?(n=0,255===s?s=0:++s):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=s}return t}q(t){0===(t[0]=this.N(t[0]))&&(t[1]=this.N(t[1]))}F(t,e,n){let s;if(!(s=e.length))return[];const r=x.h(e);for(let r=0;s>r;r+=4){this.q(n);const s=t.encrypt(n);e[r]^=s[0],e[r+1]^=s[1],e[r+2]^=s[2],e[r+3]^=s[3]}return x.l(e,r)}},X=U.M;let Y=F&&q&&typeof N.importKey==k,$=F&&q&&typeof N.deriveBits==k;class tt extends d{constructor({password:t,rawPassword:n,signed:s,encryptionStrength:i,checkPasswordOnly:c}){super({start(){e.assign(this,{ready:new l(t=>this.G=t),password:rt(t,n),signed:s,J:i-1,pending:new o})},async transform(t,e){const n=this,{password:s,J:i,G:a,ready:h}=n;s?(await(async(t,e,n,s)=>{const o=await st(t,e,n,it(s,0,T[e])),i=it(s,T[e]);if(o[0]!=i[0]||o[1]!=i[1])throw new r(M)})(n,i,s,it(t,0,T[i]+2)),t=it(t,T[i]+2),c?e.error(new r(B)):a()):await h;const f=new o(t.length-H-(t.length-H)%W);e.enqueue(nt(n,t,f,0,H,!0))},async flush(t){const{signed:e,X:n,Y:s,pending:i,ready:c}=this;if(s&&n){await c;const a=it(i,0,i.length-H),h=it(i,i.length-H);let f=new o;if(a.length){const t=at(G,a);s.update(t);const e=n.update(t);f=ct(G,e)}if(e){const t=it(ct(G,s.digest()),0,H);for(let e=0;H>e;e++)if(t[e]!=h[e])throw new r(_)}t.enqueue(f)}}})}}class et extends d{constructor({password:t,rawPassword:n,encryptionStrength:s}){let r;super({start(){e.assign(this,{ready:new l(t=>this.G=t),password:rt(t,n),J:s-1,pending:new o})},async transform(t,e){const n=this,{password:s,J:r,G:i,ready:c}=n;let a=new o;s?(a=await(async(t,e,n)=>{const s=D(new o(T[e]));return ot(s,await st(t,e,n,s))})(n,r,s),i()):await c;const h=new o(a.length+t.length-t.length%W);h.set(a,0),e.enqueue(nt(n,t,h,a.length,0))},async flush(t){const{X:e,Y:n,pending:s,ready:i}=this;if(n&&e){await i;let c=new o;if(s.length){const t=e.update(at(G,s));n.update(t),c=ct(G,t)}r.signature=ct(G,n.digest()).slice(0,H),t.enqueue(ot(c,r.signature))}}}),r=this}}function nt(t,e,n,s,r,i){const{X:c,Y:a,pending:h}=t,f=e.length-r;let l;for(h.length&&(e=ot(h,e),n=((t,e)=>{if(e&&e>t.length){const n=t;(t=new o(e)).set(n,0)}return t})(n,f-f%W)),l=0;f-W>=l;l+=W){const t=at(G,it(e,l,l+W));i&&a.update(t);const r=c.update(t);i||a.update(r),n.set(ct(G,r),l+s)}return t.pending=it(e,l),n}async function st(n,s,r,i){n.password=null;const c=await(async(t,e,n,s,r)=>{if(!Y)return U.importKey(e);try{return await N.importKey("raw",e,n,!1,r)}catch{return Y=!1,U.importKey(e)}})(0,r,E,0,O),a=await(async(t,e,n)=>{if(!$)return U._(e,t.salt,L.iterations,n);try{return await N.deriveBits(t,e,n)}catch{return $=!1,U._(e,t.salt,L.iterations,n)}})(e.assign({salt:i},L),c,8*(2*j[s]+2)),h=new o(a),f=at(G,it(h,0,j[s])),l=at(G,it(h,j[s],2*j[s])),u=it(h,2*j[s]);return e.assign(n,{keys:{key:f,$:l,passwordVerification:u},X:new Q(new J(f),t.from(Z)),Y:new X(l)}),u}function rt(t,e){return e===b?(t=>{if(typeof u==v){const e=new o((t=unescape(encodeURIComponent(t))).length);for(let n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e}return(new u).encode(t)})(t):e}function ot(t,e){let n=t;return t.length+e.length&&(n=new o(t.length+e.length),n.set(t,0),n.set(e,t.length)),n}function it(t,e,n){return t.subarray(e,n)}function ct(t,e){return t.p(e)}function at(t,e){return t.m(e)}class ht extends d{constructor({password:t,passwordVerification:n,checkPasswordOnly:s}){super({start(){e.assign(this,{password:t,passwordVerification:n}),wt(this,t)},transform(t,e){const n=this;if(n.password){const e=lt(n,t.subarray(0,12));if(n.password=null,e.at(-1)!=n.passwordVerification)throw new r(M);t=t.subarray(12)}s?e.error(new r(B)):e.enqueue(lt(n,t))}})}}class ft extends d{constructor({password:t,passwordVerification:n}){super({start(){e.assign(this,{password:t,passwordVerification:n}),wt(this,t)},transform(t,e){const n=this;let s,r;if(n.password){n.password=null;const e=D(new o(12));e[11]=n.passwordVerification,s=new o(t.length+e.length),s.set(ut(n,e),0),r=12}else s=new o(t.length),r=0;s.set(ut(n,t),r),e.enqueue(s)}})}}function lt(t,e){const n=new o(e.length);for(let s=0;s<e.length;s++)n[s]=dt(t)^e[s],pt(t,n[s]);return n}function ut(t,e){const n=new o(e.length);for(let s=0;s<e.length;s++)n[s]=dt(t)^e[s],pt(t,e[s]);return n}function wt(t,n){const s=[305419896,591751049,878082192];e.assign(t,{keys:s,tt:new C(s[0]),et:new C(s[2])});for(let e=0;e<n.length;e++)pt(t,n.charCodeAt(e))}function pt(t,e){let[n,r,o]=t.keys;t.tt.append([e]),n=~t.tt.get(),r=mt(s.imul(mt(r+yt(n)),134775813)+1),t.et.append([r>>>24]),o=~t.et.get(),t.keys=[n,r,o]}function dt(t){const e=2|t.keys[2];return yt(s.imul(e,1^e)>>>8)}function yt(t){return 255&t}function mt(t){return 4294967295&t}class gt extends d{constructor(t,{chunkSize:e,nt:n,CompressionStream:s}){super({});const{compressed:r,encrypted:o,useCompressionStream:i,zipCrypto:c,signed:a,level:h}=t,l=this;let u,w,p=super.readable;o&&!c||!a||(u=new A,p=kt(p,u)),r&&(p=vt(p,i,{level:h,chunkSize:e},s,n,s)),o&&(c?p=kt(p,new ft(t)):(w=new et(t),p=kt(p,w))),bt(l,p,()=>{let t;o&&!c&&(t=w.signature),o&&!c||!a||(t=new f(u.value.buffer).getUint32(0)),l.signature=t})}}class St extends d{constructor(t,{chunkSize:e,st:n,DecompressionStream:s}){super({});const{zipCrypto:o,encrypted:i,signed:c,signature:a,compressed:h,useCompressionStream:l,rt:u}=t;let w,p,d=super.readable;i&&(o?d=kt(d,new ht(t)):(p=new tt(t),d=kt(d,p))),h&&(d=vt(d,l,{chunkSize:e,rt:u},s,n,s)),i&&!o||!c||(w=new A,d=kt(d,w)),bt(this,d,()=>{if((!i||o)&&c){const t=new f(w.value.buffer);if(a!=t.getUint32(0,!1))throw new r(_)}})}}function bt(t,n,s){n=kt(n,new d({flush:s})),e.defineProperty(t,"readable",{get:()=>n})}function vt(t,e,n,s,r,o){const i=e&&s?s:r||o,c=n.rt?"deflate64-raw":"deflate-raw";try{t=kt(t,new i(c,n))}catch(s){if(!e)throw s;if(r)t=kt(t,new r(c,n));else{if(!o)throw s;t=kt(t,new o(c,n))}}return t}function kt(t,e){return t.pipeThrough(e)}const zt="data",Ct="close";class At extends d{constructor(t,n){super({});const s=this,{codecType:o}=t;let i;o.startsWith("deflate")?i=gt:o.startsWith("inflate")&&(i=St),s.outputSize=0;let c=0;const a=new i(t,n),h=super.readable,f=new d({transform(t,e){t&&t.length&&(c+=t.length,e.enqueue(t))},flush(){e.assign(s,{inputSize:c})}}),l=new d({transform(e,n){if(e&&e.length&&(n.enqueue(e),s.outputSize+=e.length,t.outputSize!==b&&s.outputSize>t.outputSize))throw new r("Invalid uncompressed size")},flush(){const{signature:t}=a;e.assign(s,{signature:t,inputSize:c})}});e.defineProperty(s,"readable",{get:()=>h.pipeThrough(f).pipeThrough(a).pipeThrough(l)})}}class xt extends d{constructor(t){let e;super({transform:function n(s,r){if(e){const t=new o(e.length+s.length);t.set(e),t.set(s,e.length),s=t,e=null}s.length>t?(r.enqueue(s.slice(0,t)),n(s.slice(t),r)):e=s},flush(t){e&&e.length&&t.enqueue(e)}})}}const It=new h,Rt=new h;let Pt,Ut,Vt,Mt,_t,Bt=0;async function Dt(t){try{const{options:e,config:s}=t;if(!e.useCompressionStream)try{await self.initModule(t.config)}catch{e.useCompressionStream=!0}s.CompressionStream=self.CompressionStream,s.DecompressionStream=self.DecompressionStream;const r={highWaterMark:1},o=t.readable||new y({async pull(t){const e=new l(t=>It.set(Bt,t));Wt({type:"pull",messageId:Bt}),Bt=(Bt+1)%n.MAX_SAFE_INTEGER;const{value:s,done:r}=await e;t.enqueue(s),r&&t.close()}},r),i=t.writable||new m({async write(t){let e;const s=new l(t=>e=t);Rt.set(Bt,e),Wt({type:zt,value:t,messageId:Bt}),Bt=(Bt+1)%n.MAX_SAFE_INTEGER,await s}},r),c=new At(e,s);Pt=new AbortController;const{signal:a}=Pt;await o.pipeThrough(c).pipeThrough(new xt(s.chunkSize)).pipeTo(i,{signal:a,preventClose:!0,preventAbort:!0}),await i.getWriter().close();const{signature:h,inputSize:f,outputSize:u}=c;Wt({type:Ct,result:{signature:h,inputSize:f,outputSize:u}})}catch(t){t.outputSize=0,Kt(t)}}function Wt(t){let{value:e}=t;if(e)if(e.length)try{e=new o(e),t.value=e.buffer,p(t,[t.value])}catch{p(t)}else p(t);else p(t)}function Kt(t=new r("Unknown error")){const{message:e,stack:n,code:s,name:o,outputSize:i}=t;p({error:{message:e,stack:n,code:s,name:o,outputSize:i}})}function Et(t,e,n={}){const i="number"==typeof n.level?n.level:-1,c="number"==typeof n.ot?n.ot:65536,a="number"==typeof n.it?n.it:65536;return new d({start(){let n;if(this.ct=Vt(c),this.in=Vt(a),this.it=a,this.ht=new o(c),t?(this.ft=Ut.deflate_process,this.lt=Ut.deflate_last_consumed,this.ut=Ut.deflate_end,this.wt=Ut.deflate_new(),n="gzip"===e?Ut.deflate_init_gzip(this.wt,i):"deflate-raw"===e?Ut.deflate_init_raw(this.wt,i):Ut.deflate_init(this.wt,i)):"deflate64-raw"===e?(this.ft=Ut.inflate9_process,this.lt=Ut.inflate9_last_consumed,this.ut=Ut.inflate9_end,this.wt=Ut.inflate9_new(),n=Ut.inflate9_init_raw(this.wt)):(this.ft=Ut.inflate_process,this.lt=Ut.inflate_last_consumed,this.ut=Ut.inflate_end,this.wt=Ut.inflate_new(),n="deflate-raw"===e?Ut.inflate_init_raw(this.wt):"gzip"===e?Ut.inflate_init_gzip(this.wt):Ut.inflate_init(this.wt)),0!==n)throw new r("init failed:"+n)},transform(e,n){try{const i=e,a=new o(_t.buffer),h=this.ft,f=this.lt,l=this.ct,u=this.ht;let w=0;for(;w<i.length;){const e=s.min(i.length-w,32768);this.in&&this.it>=e||(this.in&&Mt&&Mt(this.in),this.in=Vt(e),this.it=e),a.set(i.subarray(w,w+e),this.in);const o=h(this.wt,this.in,e,l,c,0),p=16777215&o;if(p&&(u.set(a.subarray(l,l+p),0),n.enqueue(u.slice(0,p))),!t){const t=o>>24&255,e=128&t?t-256:t;if(0>e)throw new r("process error:"+e)}const d=f(this.wt);if(0===d)break;w+=d}}catch(t){this.ut&&this.wt&&this.ut(this.wt),this.in&&Mt&&Mt(this.in),this.ct&&Mt&&Mt(this.ct),n.error(t)}},flush(e){try{const n=new o(_t.buffer),s=this.ft,i=this.ct,a=this.ht;for(;;){const o=s(this.wt,0,0,i,c,4),h=16777215&o,f=o>>24&255;if(!t){const t=128&f?f-256:f;if(0>t)throw new r("process error:"+t)}if(h&&(a.set(n.subarray(i,i+h),0),e.enqueue(a.slice(0,h))),1===f||0===h)break}}catch(t){e.error(t)}finally{if(this.ut&&this.wt){const t=this.ut(this.wt);0!==t&&e.error(new r("end error:"+t))}this.in&&Mt&&Mt(this.in),this.ct&&Mt&&Mt(this.ct)}}})}addEventListener("message",({data:t})=>{const{type:e,messageId:n,value:s,done:r}=t;try{if("start"==e&&Dt(t),e==zt){const t=It.get(n);It.delete(n),t({value:new o(s),done:r})}if("ack"==e){const t=Rt.get(n);Rt.delete(n),t()}e==Ct&&Pt.abort()}catch(t){Kt(t)}});class Lt{constructor(t="deflate",e){return Et(!0,t,e)}}class Ot{constructor(t="deflate",e){return Et(!1,t,e)}}let Tt=!1;self.initModule=async t=>{try{const e=await(async(t,{baseURI:e})=>{if(!Tt){let n,s;try{try{s=new URL(t,e)}catch{}const r=await fetch(s);n=await r.arrayBuffer()}catch(e){if(!t.startsWith("data:application/wasm;base64,"))throw e;n=(t=>{const e=t.split(",")[1],n=atob(e),s=n.length,r=new o(s);for(let t=0;s>t;++t)r[t]=n.charCodeAt(t);return r.buffer})(t)}(t=>{if(Ut=t,({malloc:Vt,free:Mt,memory:_t}=Ut),"function"!=typeof Vt||"function"!=typeof Mt||!_t)throw Ut=Vt=Mt=_t=null,new r("Invalid WASM module")})((await WebAssembly.instantiate(n)).instance.exports),Tt=!0}})(t.wasmURI,t);return t.nt=Lt,t.st=Ot,e}catch{}}});\n')),t)})}(Cg);const Qy=e=>{const t=/[<>:""\\\/|?*]/g,n=new Qf(e),r=[];for(const s of e.layouts)r.push(new Promise(e=>n.generateLayoutImageBlob(s.id).then(n=>{const r=new um(n);e({name:"Layouts/".concat(s.name.replaceAll(t,"_"),".png"),reader:r})})));r.push(new Promise(n=>n({name:"".concat(e.workspaceName.replace(t,"_"),".json"),reader:new dm(JSON.stringify(e))})));for(const s of e.tileSheets)r.push(new Promise(e=>e({name:"Tile Sheets/".concat(s.name.replace(t,"_"),".png"),reader:new cm(s.imageDataUrl)})));const i=new hm,o=new py(i);Promise.all(r).then(e=>Promise.all(e.map(e=>new Promise(t=>{o.add("".concat(e.name),e.reader).then(()=>t())})))).then(()=>(o.close(),i.getData())).then(t=>{const n=document.createElement("a");n.download="".concat(e.workspaceName.replaceAll(/[<>:""\\\/|?*]/g,"-"),".zip"),n.href=URL.createObjectURL(t),document.body.appendChild(n),n.click(),document.body.removeChild(n)})},Yy=(0,e.createContext)(new Fi),Uy=t=>{var n,r;let{isModalHidden:i,onReturnToEditor:o,onWorkspaceChange:s,workspace:a}=t;const l=Object.freeze({HELP:"HELP",SETTINGS:"SETTINGS",TILE_SHEET:"TILE_SHEET",TILE_SET_DEFINITION:"TILE_SET_DEFINITION",TILE_SET:"TILE_SET",PRESET:"PRESET",LAYOUT:"LAYOUT",WINDOW:"WINDOW",VARIABLE:"VARIABLE"}),[c,u]=(0,e.useState)(l.SETTINGS),[h,d]=(0,e.useState)(!0),[f,g]=(0,e.useState)(!0),[p,m]=(0,e.useState)(!0),[A,y]=(0,e.useState)(!0),[v,b]=(0,e.useState)(!0),[w,x]=(0,e.useState)(!0),[E,_]=(0,e.useState)(null),[C,S]=(0,e.useState)(null),[k,B]=(0,e.useState)(null),[I,T]=(0,e.useState)(null),[D,O]=(0,e.useState)(null),[M,F]=(0,e.useState)(null),j=(0,e.useRef)(null),[P,R]=(0,e.useState)(null===a||void 0===a?void 0:a.workspaceName),[L,N]=(0,e.useState)(null!==(n=null===a||void 0===a?void 0:a.width)&&void 0!==n?n:1920),[z,Q]=(0,e.useState)(null!==(r=null===a||void 0===a?void 0:a.height)&&void 0!==r?r:1080),Y=()=>{const e=JSON.stringify(a),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="".concat(a.workspaceName,".choco.json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},U=()=>{Qy(a)},G=()=>{j.current&&j.current.click()},H=e=>{s(e)},W=e=>{const t=new Ui(a);let n=t.tileSheets.findIndex(t=>t.id==e.id);n<0&&(n=t.tileSheets.length),t.tileSheets[n]=e,H(t),_(e)},V=e=>{const t=new Ui(a);let n=t.tileSetDefinitions.findIndex(t=>t.id==e.id);n<0&&(n=t.tileSetDefinitions.length),t.tileSetDefinitions[n]=e,H(t),B(e)},K=e=>{u(l.SETTINGS);const t=new Ui(a),n=t.tileSheets.findIndex(t=>t.id==e);n>=0&&t.tileSheets.splice(n,1),H(t),_(null)},q=e=>{u(l.SETTINGS);const t=new Ui(a),n=t.tileSetDefinitions.findIndex(t=>t.id==e);n>=0&&t.tileSetDefinitions.splice(n,1),H(t),S(null)},X=e=>{const t=new Ui(a);let n=t.presets.findIndex(t=>t.id==e.id);n<0&&(n=t.presets.length),t.presets[n]=e,H(t),T(e)},Z=e=>{u(l.SETTINGS);const t=new Ui(a),n=t.presets.findIndex(t=>t.id==e);n>=0&&t.presets.splice(n,1),H(t),T(null)},$=e=>{const t=new Ui(a);let n=t.layouts.findIndex(t=>t.id==e.id);n<0&&(n=t.layouts.length),t.layouts[n]=e,H(t),O(e)},ee=e=>{u(l.SETTINGS);const t=new Ui(a),n=t.layouts.findIndex(t=>t.id==e);n>=0&&t.layouts.splice(n,1),H(t)},te=e=>{const t=new Ui(a);let n=t.windows.findIndex(t=>t.id==e.id);n<0&&(n=t.windows.length),t.windows[n]=e,H(t),F(e)},ne=e=>{u(l.SETTINGS);const t=new Ui(a),n=t.windows.findIndex(t=>t.id==e);n>=0&&t.windows.splice(n,1),H(t),F(null)},re=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result),n=new Ui(t);H(n),j.current.value=null}catch(J){console.error(J),alert("An unexpected error occurred; check the console log for details.")}},e.readAsText(t)}},ie=e=>{const t=e.target.value;a.workspaceName=t,R(t),H(a)},oe=e=>{const t=e.target.value;a.width=t,N(t),H(a)},se=e=>{const t=e.target.value;a.height=t,Q(t),H(a)};return(0,or.jsx)("div",{id:"modal",className:"settings-modal fixed inset-0 ".concat(i?"hidden":""," bg-black bg-opacity-50 z-40"),children:(0,or.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,or.jsxs)("div",{className:"rounded-lg shadow-lg w-5/6 h-5/6 flex relative bg-white dark:bg-gray-600 dark:text-gray-100 ",children:[(0,or.jsx)("div",{className:"bg-gray-300 dark:bg-gray-800 text-gray-700 dark:text-white p-4 pr-6 rounded-l-lg flex-none",children:(0,or.jsxs)("nav",{className:"h-full overflow-y-auto",children:[(0,or.jsx)("h2",{className:"font-bold text-lg sticky top-0 bg-gray-300 dark:bg-gray-800",children:"Workspace"}),(0,or.jsxs)("ul",{children:[(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>u(l.HELP),className:"block py-1 hover:underline",children:"How to Use This Tool"})}),(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>u(l.SETTINGS),className:"block py-1 hover:underline",children:"Workspace Settings"})}),(0,or.jsxs)("li",{children:[(0,or.jsxs)("button",{onClick:()=>g(!f),className:"block py-1 hover:underline",children:[(0,or.jsx)(Yr,{icon:f?$r:Vr}),"Tile Sheets"]}),(0,or.jsxs)("ul",{className:"ml-8 ".concat(f?"":"hidden"),children:[(0,or.jsx)("button",{onClick:()=>{l.TILE_SHEET!=c&&u(l.TILE_SHEET);const e=new ji;_(e)},className:"block py-1 hover:underline",children:"Add New..."}),a.tileSheets.map(e=>(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>(e=>{l.TILE_SHEET!=c&&u(l.TILE_SHEET),_(e)})(e),className:"block py-1 hover:underline",children:String(e.name).trim()||(0,or.jsx)("span",{className:"italic",children:"no name"})})},e.id))]})]}),(0,or.jsxs)("li",{children:[(0,or.jsxs)("button",{onClick:()=>d(!h),className:"block py-1 hover:underline",children:[(0,or.jsx)(Yr,{icon:h?$r:Vr}),"Tile Set Definitions"]}),(0,or.jsxs)("ul",{className:"ml-8 ".concat(h?"":"hidden"),children:[(0,or.jsx)("button",{onClick:()=>{l.TILE_SET_DEFINITION!=c&&u(l.TILE_SET_DEFINITION);const e=new Li;B(e)},className:"block py-1 hover:underline",children:"Add New..."}),a.tileSetDefinitions.map(e=>(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>(e=>{l.TILE_SET_DEFINITION!=c&&u(l.TILE_SET_DEFINITION),B(e)})(e),className:"block py-1 hover:underline",children:String(e.name).trim()||(0,or.jsx)("span",{className:"italic",children:"no name"})})},e.id))]})]}),(0,or.jsxs)("li",{children:[(0,or.jsxs)("button",{onClick:()=>m(!p),className:"block py-1 hover:underline",children:[(0,or.jsx)(Yr,{icon:p?$r:Vr}),"Presets"]}),(0,or.jsxs)("ul",{className:"ml-8 ".concat(p?"":"hidden"),children:[(0,or.jsx)("button",{onClick:()=>{l.PRESET!=c&&u(l.PRESET);const e=new Ni;T(e)},className:"block py-1 hover:underline",children:"Add New..."}),a.presets.map(e=>(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>(e=>{l.PRESET!=c&&u(l.PRESET),T(e)})(e),className:"block py-1 hover:underline",children:String(e.name).trim()||(0,or.jsx)("span",{className:"italic",children:"no name"})})},e.id))]})]}),(0,or.jsxs)("li",{children:[(0,or.jsxs)("button",{onClick:()=>b(!v),className:"block py-1 hover:underline",children:[(0,or.jsx)(Yr,{icon:v?$r:Vr}),"Windows"]}),(0,or.jsxs)("ul",{className:"ml-8 ".concat(v?"":"hidden"),children:[(0,or.jsx)("button",{onClick:()=>{l.WINDOW!=c&&u(l.WINDOW);const e=new Qi;F(e)},className:"block py-1 hover:underline",children:"Add New..."}),a.windows.map(e=>(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>(e=>{l.WINDOW!=c&&u(l.WINDOW),F(e)})(e),className:"block py-1 hover:underline",children:String(e.name).trim()||(0,or.jsx)("span",{className:"italic",children:"no name"})})},e.id))]})]}),(0,or.jsxs)("li",{children:[(0,or.jsxs)("button",{onClick:()=>y(!A),className:"block py-1 hover:underline",children:[(0,or.jsx)(Yr,{icon:A?$r:Vr}),"Layouts"]}),(0,or.jsxs)("ul",{className:"ml-8 ".concat(A?"":"hidden"),children:[(0,or.jsx)("button",{onClick:()=>{l.LAYOUT!=c&&u(l.LAYOUT);const e=new zi;O(e)},className:"block py-1 hover:underline",children:"Add New..."}),a.layouts.map(e=>(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>(e=>{l.LAYOUT!=c&&u(l.LAYOUT),O(e)})(e),className:"block py-1 hover:underline",children:String(e.name).trim()||(0,or.jsx)("span",{className:"italic",children:"no name"})})},e.id))]})]})]})]})}),(0,or.jsx)("div",{className:"flex-grow p-6 rounded-lg",children:(0,or.jsx)("div",{className:"h-full overflow-y-auto",children:(()=>{switch(c){case l.HELP:return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("h2",{className:"mb-3 text-2xl font-bold sticky top-0 bg-white dark:bg-gray-600",children:"How to Use This Tool"}),(0,or.jsxs)("p",{className:"mb-2 text-sm italic",children:["Studio Version ",gi.CURRENT_VERSION]}),(0,or.jsx)("p",{className:"mb-2 text-sm",children:"This tool lets you take tile sheets containing tiles for window backgrounds and create layouts using windows derived from those tiles."}),(0,or.jsx)("h3",{className:"mb-2 text-xl",children:"Using Configuration Mode"}),(0,or.jsx)("p",{className:"mb-2 text-sm",children:"In general, navigating the settings on the left side of this dialog box from top to bottom will result in creating usable layouts. Each layout can also be edited graphically once windows have been added to the layouts."}),(0,or.jsx)("h3",{className:"mb-2 text-xl",children:"Using Graphical Mode"}),(0,or.jsxs)("p",{className:"mb-2 text-sm",children:["Graphical mode lets you edit the position and dimensions of each window within a layout. If you hold down the ",(0,or.jsx)("span",{className:"italic",children:"Control"})," or ",(0,or.jsx)("span",{className:"italic",children:"Command"})," key, changes will snap to the nearest 10 pixels."]}),(0,or.jsx)("h3",{className:"mb-2 text-xl",children:"Concepts"}),(0,or.jsxs)("ul",{className:"list-disc pl-10",children:[(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Layout: "})," A collection of windows that can be exported as a PNG image for use as backgrounds."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Workspace: "})," A group of definitions for those layouts. The width and height of all layouts are defined as part of the workspace."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Tile Sheet: "})," A tile sheet is a single PNG image containing the tiles to use. Color substitution currently only works if the selected tiles for a window contain ",gi.suggestedMaximumTileSheetColorCount," or fewer colors."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsxs)("p",{children:[(0,or.jsx)("span",{className:"font-bold",children:"Tile Set Definition: "})," A tile-by-tile definition of the set of tiles that makes up a window. This is the most complicated part of this tool."]}),(0,or.jsxs)("ul",{className:"list-[square] pl-10",children:[(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Tile Size: "})," The size (in pixels) of each tile. Tiles must be square, and all tiles must be the same size."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsxs)("p",{children:[(0,or.jsx)("span",{className:"font-bold",children:"Window Region: "})," When editing the tile set definition, this selects which region of the window you're editing."]}),(0,or.jsxs)("ul",{className:"list-[square] pl-10",children:[(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"italic",children:"Corners: "})," Select the tiles for the chosen corner. Corners do not repeat."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"italic",children:"Edges: "})," Select the tiles for the chosen edge. Edges repeat in only one direction and can be multiple tiles wide (for top and bottom edges) or tall (for left and right edges)."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"italic",children:"Center: "})," Select the tiles for the center. The center will repeat in both directions and can be any number of tiles wide or tall."]})]})]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsxs)("p",{children:[(0,or.jsx)("span",{className:"font-bold",children:"Tile Selection: "}),"Select the position in the window region for each tile from the tile sheet."]}),(0,or.jsxs)("ul",{className:"list-[square] pl-10",children:[(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Sheet Snap Mode: "}),"When selecting a tile from the tile sheet PNG, the selection can be made in increments of one tile size at a time or in increments of one pixel."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Approximate Tile Selection: "}),"Click on the approximate location of a tile in the tile sheet to assign it to a location in the window region."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Precise Tile Selection: "}),"Optionally make the selection more precise by clicking on an adjacent tile or adjusting the position numerically."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Tile Assignment: "}),"Click on one of the positions to assign the selected tile to that position."]})]})]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsxs)("p",{children:[(0,or.jsx)("span",{className:"font-bold",children:"Window Preview: "}),"A quick preview of how the selected window will look."]}),(0,or.jsx)("ul",{className:"list-[square] pl-10",children:(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Preview Tile Scale: "}),'How "zoomed in" the tiles should be in the window preview.']})})]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsxs)("p",{children:[(0,or.jsx)("span",{className:"font-bold",children:"Color Palette: "}),"If the selected tiles between them have ",gi.suggestedMaximumTileSheetColorCount," or fewer colors, you can generate a list of substitutable colors."]}),(0,or.jsx)("ul",{className:"list-[square] pl-10",children:(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Preview Tile Scale: "}),'How "zoomed in" the tiles should be in the window preview.']})})]})]})]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsxs)("p",{children:[(0,or.jsx)("span",{className:"font-bold",children:"Preset: "})," A preset is a reusable configuration of tile set definition, tile scale, and color substitutions that can optionally be used in multiple windows."]}),(0,or.jsxs)("ul",{className:"list-[square] pl-10",children:[(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Tile Set Definition: "})," The tile set windows using this preset should use."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Tile Scale: "}),' How "zoomed in" the tiles should be in windows that use this preset.']}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Color Substitutions: "})," For each color in the chosen tile set definition, substitute that color with a chosen color."]})]})]}),(0,or.jsx)("li",{className:"mb-2",children:(0,or.jsxs)("p",{children:[(0,or.jsx)("span",{className:"font-bold",children:"Window: "})," A window to be drawn as part of the background layout. Each window has a position in pixels and dimensions in pixels. The pixels are relative to the workspace dimensions. If a preset is not used, those settings will have to be defined on a per-window basis."]})}),(0,or.jsx)("li",{className:"mb-2",children:(0,or.jsxs)("p",{children:[(0,or.jsx)("span",{className:"font-bold",children:"Layout: "})," A collection of windows that can be used to generate a PNG image for use as a background. The windows are layered one atop the other."]})})]}),(0,or.jsx)("h3",{className:"mb-2 text-xl",children:"Known Issues"}),(0,or.jsxs)("ul",{className:"list-disc pl-10",children:[(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"italics",children:"Better Corners: "}),"Currently corners can only be a single tile."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"italics",children:"Preferences for Numerical Limitations: "}),"Maximum substitutable color counts and graphical editor snap size should be user settings."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"italics",children:"Deleting Components Causes Crashes: "}),"Deleting components that are used lower in the workspace configuration, for example presets that are used in windows, can cause crashes."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"italics",children:"New Workspace: "}),"There is no way to start an entirely new workspace."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"italics",children:"User Interface Feedback: "}),"Asynchronous operations should provide an indication that an asynchronous operation is happening until it's done."]}),(0,or.jsxs)("li",{className:"mb-2",children:[(0,or.jsx)("span",{className:"italics",children:"Color Inconsistencies: "}),"There are some color inconsistencies that arise from using built-in HTML canvas objects. This seems to be limited to exported PNGs."]})]}),(0,or.jsx)("h3",{className:"mb-2 text-xl",children:"Repository"}),(0,or.jsxs)("p",{className:"mb-2 text-sm italic",children:["The code for this tool and related tools is available on ",(0,or.jsx)("a",{className:"underline text-blue-700 dark:text-blue-300",href:"https://github.com/codergal6502/ChocoWindow",target:"_blank",children:"Git Hub"})," and is released under the ",(0,or.jsx)("a",{className:"underline text-blue-700 dark:text-blue-300",href:"https://www.gnu.org/licenses/gpl-3.0.en.html",target:"_blank",children:"GPL 3.0 License"})]})]});case l.SETTINGS:default:return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("h2",{className:"mb-3 text-2xl font-bold sticky top-0 bg-white dark:bg-gray-600",children:"Export/Load Workspace"}),(0,or.jsxs)("div",{className:"flex justify-around items-center w-full",children:[(0,or.jsxs)("button",{className:"flex flex-col items-center",onClick:G,children:[(0,or.jsx)(Yr,{className:"text-6xl",icon:Hr}),(0,or.jsx)("div",{children:"Load Workspace..."})]}),(0,or.jsxs)("button",{className:"flex flex-col items-center",onClick:Y,children:[(0,or.jsx)(Yr,{className:"text-6xl",icon:Ur}),(0,or.jsx)("div",{children:"Export Workspace..."})]}),(0,or.jsxs)("button",{className:"flex flex-col items-center",onClick:U,children:[(0,or.jsx)(Yr,{className:"text-6xl",icon:Jr}),(0,or.jsx)("div",{children:"Download Assets..."})]}),(0,or.jsx)("input",{className:"hidden",accept:"application/json",type:"file",onChange:re,ref:j})]}),(0,or.jsx)("h2",{className:"mt-3 mb-3 text-2xl font-bold sticky top-0",children:"Workspace Settings"}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"ccd163fa-8b14-4f68-9b0d-753b093c28ff",children:"Name: "}),(0,or.jsx)("input",{placeholder:"Workspace Name",type:"text",autoComplete:"off",id:"ccd163fa-8b14-4f68-9b0d-753b093c28ff",className:oi,onChange:ie,value:P})]}),(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"063ce7b6-c327-4ab2-b343-0556f0e7158d",children:"Width: "}),(0,or.jsx)("input",{placeholder:"Width",type:"number",id:"063ce7b6-c327-4ab2-b343-0556f0e7158d",className:oi,value:L,onChange:oe})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"c3efc55a-36cd-4f12-b546-308893448ade",children:"Height: "}),(0,or.jsx)("input",{placeholder:"Height",type:"number",id:"c3efc55a-36cd-4f12-b546-308893448ade",className:oi,value:z,onChange:se})]})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsx)("div",{className:"flex justify-between",children:(0,or.jsx)("button",{onClick:()=>o(a),className:"bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-700 dark:bg-teal-700 dark:hover:bg-teal-500",children:"Close"})})]});case l.TILE_SHEET:return E?(0,or.jsx)(Nf,{tileSheet:E,onTileSheetChange:W,onTileSheetDelete:K,onReturnToEditor:()=>o(a)},E.id):"";case l.TILE_SET_DEFINITION:return k?(0,or.jsx)(jf,{tileSetDefinition:k,tileSheets:a.tileSheets,onTileSetDefinitionChange:V,onTileSetDefinitionDelete:q,onReturnToEditor:()=>o(a)},k.id):"";case l.PRESET:return I?(0,or.jsx)(Pf,{preset:I,tileSheets:a.tileSheets,tileSetDefinitions:a.tileSetDefinitions,onPresetChange:X,onPresetDelete:Z,onReturnToEditor:()=>o(a)},I.id):"";case l.WINDOW:return M?(0,or.jsx)(Lf,{window:M,presets:a.presets,tileSetDefinitions:a.tileSetDefinitions,tileSheets:a.tileSheets,onWindowChange:te,onWindowDelete:ne,onReturnToEditor:()=>o(a)},M.id):"";case l.LAYOUT:return D?(0,or.jsx)(Rf,{layout:D,windows:a.windows,onLayoutChange:$,onLayoutDelete:ee,onReturnToEditor:()=>o(a),onEditThisLayout:e=>{o(a,e)}},D.id):"";case l.VARIABLE:return(0,or.jsx)("h2",{className:"text-2xl font-bold sticky top-0",children:"variable"})}})()})})]})})})};var Gy=n(936),Hy=n.n(Gy);const Wy=t=>{let{workspace:n,onWorkspaceChange:r,editorLayoutId:i,ignoreKeyInputs:o,lastResizeTimestamp:s}=t;const a=(0,e.useRef)(null),l=(0,e.useRef)(null),c=(0,e.useRef)(o);(0,e.useEffect)(()=>{c.current=o},[o]);const u=()=>Array.from(document.getElementsByClassName("chocoWinBoundingBox")).forEach(e=>{e.classList.remove("active")}),h=(e,t)=>{let n,r;if(e.classList&&(e.classList.contains("dimensions")||e.classList.contains("window-name"))){r=e.parentNode,n=Array.from(r.childNodes).filter(e=>e.classList.contains("dimensions"))[0]}else r=e,n=Array.from(r.childNodes).filter(e=>e.classList.contains("dimensions"))[0];const i=Math.floor(r.style.width.replace("px","")),o=Math.floor(r.style.height.replace("px","")),s=Math.floor(r.style.left.replace("px","")),a=Math.floor(r.style.top.replace("px",""));if(n.innerText="".concat(i," x ").concat(o," @ (").concat(s,", ").concat(a,")"),t){const e=Array.from(r.childNodes).find(e=>e.classList.contains("window-name"));e&&(e.innerText=t)}},d=e=>function(){const e=navigator.userAgent;return/Macintosh/.test(e)}()&&e.metaKey||function(){const e=navigator.userAgent;return/Linux/.test(e)&&!/Android|CrOS/.test(e)}()&&e.controlKey||function(){const e=navigator.userAgent;return/Windows/.test(e)}()&&e.controlKey,f=e=>10*Math.floor(1*e/10),g=(e,t)=>{let{x:n,y:r}=e;return d(t)?{x:f(n),y:f(r)}:{x:n,y:r}},p=e=>{let t=e.target.classList&&e.target.classList.contains("dimensions")?e.target.parentNode:e.target;Array.from(document.getElementsByClassName("chocoWinBoundingBox")).forEach(e=>{e.classList.remove("active")}),t.classList.add("active"),h(t)},m=()=>{const e=window.innerWidth,t=window.innerHeight,r=1*e/n.width,i=1*t/n.height,o=Math.min(r,i,1);if(o<1){const r=document.getElementById("graphical-editor-div"),i=(r.parentNode.clientWidth-r.clientWidth*o)/2,s=(r.parentNode.clientHeight-r.clientHeight*o)/2;r.setAttribute("data-editor-div-offset-x",i),r.setAttribute("data-editor-div-offset-y",s),r.setAttribute("data-ui-scale",o),r.style.scale="".concat(100*o,"%"),r.style.left="-".concat((n.width-e)/2,"px"),r.style.top="-".concat((n.height-t)/2,"px")}};let A=0;return(0,e.useEffect)(()=>{a.current&&(a.current.onclick=e=>{e.target==a.current&&u()}),m();const e=e=>{if(!(null===c||void 0===c?void 0:c.current)&&e.timeStamp!=A)switch(A=e.timeStamp,e.key){case"Escape":u();break;case"ArrowUp":{const e=document.querySelector("div.chocoWinBoundingBox.active");if(e){e.style.top="".concat(Number(e.style.top.replace("px",""))-1,"px");document.getElementById(e.getAttribute("data-choco-win-id")).style.top=e.style.top,h(e)}break}case"ArrowDown":{const e=document.querySelector("div.chocoWinBoundingBox.active");if(e){e.style.top="".concat(Number(e.style.top.replace("px",""))+1,"px");document.getElementById(e.getAttribute("data-choco-win-id")).style.top=e.style.top,h(e)}break}case"ArrowLeft":{const e=document.querySelector("div.chocoWinBoundingBox.active");if(e){e.style.left="".concat(Number(e.style.left.replace("px",""))-1,"px");document.getElementById(e.getAttribute("data-choco-win-id")).style.left=e.style.left,h(e)}break}case"ArrowRight":{const e=document.querySelector("div.chocoWinBoundingBox.active");if(e){e.style.left="".concat(Number(e.style.left.replace("px",""))+1,"px");document.getElementById(e.getAttribute("data-choco-win-id")).style.left=e.style.left,h(e)}break}}};document.addEventListener("keydown",e);if(n){const e=n;a.current.style.width="".concat(e.width,"px"),a.current.style.height="".concat(e.height,"px");const t=e.layouts.filter(e=>i==e.id)[0]||e.layouts[0];if(a.current&&l.current&&t){document.querySelectorAll("[data-studio-window-id], [data-choco-win-id]").forEach(e=>e.remove());const i=l.current.sheet;new Array(i.cssRules);t.windowIds.forEach(t=>{const i=e.windows.find(e=>e.id==t),o="win-".concat(i.id);if(document.getElementById(o))return;const s=document.createElement("canvas"),c=s.getContext("2d",{willReadFrequently:!0});s.width=i.w,s.height=i.h;const u=document.createElement("div");u.setAttribute("id",o),u.setAttribute("data-studio-window-id",i.id),u.style.position="absolute",u.style.top="".concat(i.y,"px"),u.style.left="".concat(i.x,"px"),u.style.width="".concat(i.w,"px"),u.style.height="".concat(i.h,"px"),u.style.color="white",u.style.fontSize="20px",u.style.fontFamily="sans-serif",u.style.touchAction="none",u.style.boxSizing="border-box",u.style.backgroundSize="100%",a.current.appendChild(u);const m="bnd-".concat(i.id),A=document.createElement("div");A.setAttribute("id",m),A.setAttribute("data-choco-win-id",o),A.setAttribute("data-studio-window-id",i.id),A.classList.add("chocoWinBoundingBox"),A.style.position="absolute",A.style.top="".concat(i.y,"px"),A.style.left="".concat(i.x,"px"),A.style.width="".concat(i.w,"px"),A.style.height="".concat(i.h,"px");const y=document.createElement("div");y.classList.add("dimensions"),A.appendChild(y);const v=document.createElement("div");if(v.classList.add("window-name"),v.textContent=i.name,A.appendChild(v),a.current.append(A),A.onclick=p,i){const t=i.singularPreset||e.presets.find(e=>e.id==i.presetId);if(!t)return;const a=e.tileSetDefinitions.find(e=>e.id==t.tileSetDefinitionId);if(!a)return;const u=e.tileSheets.find(e=>e.id==a.tileSheetId);if(!u)return;const m=a.toChocoWinTileSet(u.imageDataUrl);if(!m)return;const y=new Ii(m,t.tileScale,0,0,i.w,i.h,t.substituteColors);y.isReady().then(()=>{const e=l.current.sheet;y.drawTo(c);const t=s.toDataURL(),i="#".concat(o," { background-image: url(").concat(t,") }"),a=Array.from(e.cssRules).findIndex(e=>e.selectorText=="#".concat(o));var u;a>=0&&e.deleteRule(a),e.insertRule(i),u=A,Hy()(u).draggable({listeners:{start(e){e.target.setAttribute("data-drag-start-x",e.pageX),e.target.setAttribute("data-drag-start-y",e.pageY),e.target.setAttribute("data-drag-delta-x",0),e.target.setAttribute("data-drag-delta-y",0),e.target.setAttribute("data-window-start-x",e.target.style.left.replace("px","")),e.target.setAttribute("data-window-start-y",e.target.style.top.replace("px",""))},move(e){p(e);const t=Number(e.target.getAttribute("data-window-start-x").replace("px","")),n=Number(e.target.getAttribute("data-window-start-y").replace("px","")),r=Number(e.target.getAttribute("data-drag-delta-x"))+e.dx,i=Number(e.target.getAttribute("data-drag-delta-y"))+e.dy;e.target.setAttribute("data-drag-delta-x",r),e.target.setAttribute("data-drag-delta-y",i);const{x:o,y:s}=g({x:t+r,y:n+i},e);e.target.style.left="".concat(Math.round(o),"px"),e.target.style.top="".concat(Math.round(s),"px"),h(e.target)},end(e){const t=e.target.getAttribute("data-drag-start-x"),i=e.target.getAttribute("data-drag-start-y");e.target.removeAttribute("data-drag-start-x"),e.target.removeAttribute("data-drag-start-y"),e.target.removeAttribute("data-window-start-x"),e.target.removeAttribute("data-window-start-y");const o=e.pageX-t,s=e.pageY-i,a=document.getElementById(e.target.getAttribute("data-choco-win-id")),l=Number(a.style.left.replace("px","")),c=Number(a.style.top.replace("px","")),{x:u,y:h}=g({x:l+o,y:c+s},e);if(a.style.left="".concat(Math.round(u),"px"),a.style.top="".concat(Math.round(h),"px"),e.target.style.transform="",e.target.style.top=a.style.top,e.target.style.left=a.style.left,n){const e=n.windows.filter(e=>a.dataset.studioWindowId==e.id)[0];e.x=Math.round(u),e.y=Math.round(h),r(n)}}}}).resizable({edges:{top:!0,left:!0,bottom:!0,right:!0},listeners:{start(e){const t=e.target;p(e);const n=e.interaction.prepared.edges;t.setAttribute("data-resize-logical-start-x",t.offsetLeft),t.setAttribute("data-resize-logical-start-y",t.offsetTop),t.setAttribute("data-resize-logical-start-width",t.offsetWidth),t.setAttribute("data-resize-logical-start-height",t.offsetHeight),t.setAttribute("data-resize-left",n.left),t.setAttribute("data-resize-right",n.right),t.setAttribute("data-resize-top",n.top),t.setAttribute("data-resize-bottom",n.bottom),t.setAttribute("data-drag-delta-x",0),t.setAttribute("data-drag-delta-y",0)},move:function(e){const t=document.getElementById("graphical-editor-div"),n=Number(t.getAttribute("data-editor-div-offset-x")),r=Number(t.getAttribute("data-editor-div-offset-y")),i=Number(t.getAttribute("data-ui-scale")),o=e.interaction.prepared.edges.left,s=e.interaction.prepared.edges.right,a=e.interaction.prepared.edges.top,l=e.interaction.prepared.edges.bottom;if(d(e)&&o){const t=(e.rect.left-n)/i,r=f(t),o=r-t;e.target.style.left="".concat(r,"px"),e.target.style.width="".concat(f((e.rect.width-o)/i),"px")}else d(e)&&s?e.target.style.width="".concat(f(e.rect.width/i),"px"):(e.target.style.left="".concat((e.rect.left-n)/i,"px"),e.target.style.width="".concat(e.rect.width/i,"px"));if(d(e)&&a){const t=(e.rect.top-r)/i,n=f(t),o=n-t;e.target.style.top="".concat(n,"px"),e.target.style.height="".concat(f((e.rect.height-o)/i),"px")}else d(e)&&l?e.target.style.height="".concat(f(e.rect.height/i),"px"):(e.target.style.top="".concat((e.rect.top-r)/i,"px"),e.target.style.height="".concat(e.rect.height/i,"px"));h(e.target)},end(e){const t=document.getElementById(e.target.getAttribute("data-choco-win-id"));t.style.top=e.target.style.top,t.style.height=e.target.style.height,t.style.left=e.target.style.left,t.style.width=e.target.style.width;const i=n.windows.find(t=>"win-".concat(t.id)==e.target.dataset.chocoWinId),o="win-".concat(i.id);i.w=Math.round(t.style.width.replace("px","")),i.h=Math.round(t.style.height.replace("px","")),i.x=Math.round(t.style.left.replace("px","")),i.y=Math.round(t.style.top.replace("px","")),r&&r(n);const s=i.singularPreset||n.presets.find(e=>e.id==i.presetId);if(!s)return;const a=n.tileSetDefinitions.find(e=>e.id==s.tileSetDefinitionId);if(!a)return;const c=n.tileSheets.find(e=>e.id==a.tileSheetId);if(!c)return;const u=a.toChocoWinTileSet(c.imageDataUrl);if(!u)return;const h=new Ii(u,s.tileScale,0,0,i.w,i.h,s.substituteColors);h.isReady().then(()=>{const e=document.createElement("canvas"),t=e.getContext("2d",{willReadFrequently:!0});e.width=i.w,e.height=i.h;const n=l.current.sheet;h.drawTo(t);const r=e.toDataURL(),s="#".concat(o," { background-image: url(").concat(r,") }"),a=Array.from(n.cssRules).findIndex(e=>e.selectorText=="#".concat(o));a>=0&&n.deleteRule(a),n.insertRule(s)})}}})})}})}}return()=>{document.removeEventListener("keydown",e)}},[n,i]),(0,e.useEffect)(()=>{s&&m()},[s]),(0,or.jsx)("div",{id:"graphical-editor-div",ref:a,children:(0,or.jsx)("style",{ref:l})})},Vy=t=>{var n;let{workspace:r,currentLayoutId:i,isModalHidden:o,onReturnToEditor:s}=t;const[a,l]=(0,e.useState)(null);return(0,or.jsx)("div",{className:"settings-modal fixed inset-0 ".concat(o?"hidden":""," bg-black bg-opacity-50 z-40"),children:(0,or.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,or.jsx)("div",{className:"rounded-lg shadow-lg flex relative bg-white dark:bg-gray-600 dark:text-gray-100",children:(0,or.jsxs)("div",{className:"flex-grow p-6 rounded-lg dark:text-gray-300",children:[(0,or.jsxs)("label",{children:[(0,or.jsx)("span",{children:"Select Layout:"}),(0,or.jsx)("select",{name:"name",className:oi,onChange:e=>{const t=e.target.value;l(t)},value:null!==(n=null!==a&&void 0!==a?a:i)&&void 0!==n?n:"",autoComplete:"false",children:r.layouts.map(e=>(0,or.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:()=>{s(a)},className:"m-2 w-[12em] bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-700 dark:bg-teal-700 dark:hover:bg-teal-500",children:"Select"}),(0,or.jsx)("button",{onClick:()=>{s(null)},className:"m-2 w-[12em] bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-500",children:"Cancel"})]})]})})})})},Ky=t=>{let{isModalHidden:n,dataUrl:r,downloadName:i,onReturnToEditor:o}=t;const s=(0,e.useRef)(null);(0,e.useEffect)(()=>{s.current.src=r},[s]);return(0,or.jsx)("div",{id:"modal",className:"settings-modal fixed inset-0 ".concat(n?"hidden":""," bg-black bg-opacity-50 z-40"),children:(0,or.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,or.jsx)("div",{className:"rounded-lg shadow-lg flex relative bg-white dark:bg-gray-600 dark:text-gray-100",children:(0,or.jsx)("div",{className:"flex-grow p-6 rounded-lg dark:text-gray-300",children:(0,or.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,or.jsx)("h3",{className:"mb-2 text-xl",children:"Preview"}),(0,or.jsx)("div",{className:"flex-grow p-6 rounded-lg dark:text-gray-300",children:(0,or.jsx)("img",{style:{width:"400px"},ref:s})}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.download=i,e.href=r,document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-700 dark:bg-teal-700 dark:hover:bg-teal-500",children:"Download Layout PNG"}),(0,or.jsx)("button",{onClick:o,className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-500",children:"Close"})]})]})})})})})},qy=()=>{gi.ignoreScaleMisalignmentErrors=!0;const t="workspace",[n,r]=(0,e.useState)(!0),[i,o]=(0,e.useState)(!0),[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(null),[u,h]=(0,e.useState)(null),[d,f]=(0,e.useState)(!1),[g,p]=(0,e.useState)(!1),[m,A]=(0,e.useState)(null),[y,v]=(0,e.useState)(null),[b,w]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=(()=>{try{const e=window.localStorage.getItem(t);if(e){const t=window.atob(e),n=JSON.parse(t);return new Ui(n)}return null}catch(J){console.error(J),alert("An unexpected error occurred; check the console log for details.")}return new Ui})();e?(c(new Ui(e)),h(new Ui(e))):(c(new Ui(null)),h(new Ui(null)),r(!1))},[]);const x=e=>{const n=JSON.stringify(e),r=btoa(n);window.localStorage.setItem(t,r)};let E;const _=()=>{clearTimeout(E),E=setTimeout(()=>{w(Date.now())},125)};return(0,e.useEffect)(()=>{window.removeEventListener("resize",_),window.addEventListener("resize",_)},[]),l&&u&&(0,or.jsxs)("div",{id:"app-div",children:[(0,or.jsx)(ii,{onGearClick:()=>{r(!1),f(!0)},onSelectLayoutClick:()=>{o(!1),f(!0)},onDownloadPngClick:()=>{var e;const t=new Qf(u),n=s||u.layouts[0].id,r=((null===(e=u.layouts.find(e=>e.id==n))||void 0===e?void 0:e.name)||"window")+".png";v(r),t.generateLayoutImageDataUrl(n).then(e=>{A(e),p(!0)})}}),n||(0,or.jsx)(Uy,{isModalHidden:n,onReturnToEditor:(e,t)=>{f(!1),r(!0),h(new Ui(e)),t&&a(t)},onWorkspaceChange:e=>{c(e),x(e)},workspace:l}),i||(0,or.jsx)(Vy,{workspace:u,currentLayoutId:s,isModalHidden:i,onReturnToEditor:e=>{f(!1),e&&a(e),o(!0)}}),g&&(0,or.jsx)(Ky,{isModalHidden:!g,dataUrl:m,downloadName:y,onReturnToEditor:()=>{p(!1),A(null),v("")}}),(0,or.jsx)(Wy,{ignoreKeyInputs:d,workspace:u,onWorkspaceChange:e=>{e=new Ui(e),c(e),x(e)},editorLayoutId:s,lastResizeTimestamp:b})]})};document.body.className="dark:bg-gray-800";t.createRoot(document.getElementById("root")).render((0,or.jsx)(e.StrictMode,{children:(0,or.jsx)(qy,{})}))})()})();
//# sourceMappingURL=main.15f655f8.js.map