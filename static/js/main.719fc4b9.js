/*! For license information please see main.719fc4b9.js.LICENSE.txt */
(()=>{var e={4(e,t,n){"use strict";var r=n(234),i=n(43),o=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(a(188))}function f(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=f(e)))return t;e=e.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),_=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var O=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var j=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===j?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case k:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case _:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}var M=Array.isArray,L=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},N=[],F=-1;function z(e){return{current:e}}function B(e){0>F||(e.current=N[F],N[F]=null,F--)}function U(e,t){F++,N[F]=e.current,e.current=t}var W,H,Y=z(null),V=z(null),G=z(null),X=z(null);function q(e,t){switch(U(G,t),U(V,e),U(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vh(t=yh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(Y),U(Y,e)}function Z(){B(Y),B(V),B(G)}function K(e){null!==e.memoizedState&&U(X,e);var t=Y.current,n=vh(t,e.type);t!==n&&(U(V,e),U(Y,n))}function $(e){V.current===e&&(B(Y),B(V)),X.current===e&&(B(X),hf._currentValue=R)}function Q(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+H}var J=!1;function ee(e,t){if(!e||J)return"";J=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{J=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Q(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return e.child!==t&&null!==t?Q("Suspense Fallback"):Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Q("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,ae=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,fe=r.unstable_NormalPriority,de=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof ge&&me(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_e(e)/xe|0)|0},_e=Math.log,xe=Math.LN2;var Se=256,ke=262144,Te=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=Ce(r):0!==(a&=s)?i=Ce(a):n||0!==(n=s&~e)&&(i=Ce(n)):0!==(s=r&~o)?i=Ce(s):0!==a?i=Ce(a):n||0!==(n=r&~e)&&(i=Ce(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function Oe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Te;return 0===(62914560&(Te<<=1))&&(Te=4194304),e}function je(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Le(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ie(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Re(n))&(e.suspendedLanes|t))?0:n}function Re(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:Ef(e.type)}function ze(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var Be=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Be,We="__reactProps$"+Be,He="__reactContainer$"+Be,Ye="__reactEvents$"+Be,Ve="__reactListeners$"+Be,Ge="__reactHandles$"+Be,Xe="__reactResources$"+Be,qe="__reactMarker$"+Be;function Ze(e){delete e[Ue],delete e[We],delete e[Ye],delete e[Ve],delete e[Ge]}function Ke(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Rh(e);null!==e;){if(n=e[Ue])return n;e=Rh(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Ue]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Je(e){var t=e[Xe];return t||(t=e[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},st={};function lt(e,t,n){if(i=t,re.call(st,i)||!re.call(at,i)&&(ot.test(i)?st[i]=!0:(at[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ft(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){if(!e._valueTracker){var t=ft(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ft(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function yt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?wt(e,a,ht(t)):null!=n?wt(e,a,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ht(s):e.removeAttribute("name")}function bt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void dt(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),dt(e)}function wt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(M(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),dt(e)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Tt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Tt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Ct(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function Ot(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dt(){}var Mt=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Rt=null;function Nt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[We]||null;if(!i)throw Error(a(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Ft=!1;function zt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==It||null!==Rt)&&(Jc(),It&&(t=It,e=Rt,Rt=It=null,Nt(t),e)))for(t=0;t<e.length;t++)Nt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[We]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(Ut)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Qf){Wt=!1}var Yt=null,Vt=null,Gt=null;function Xt(){if(Gt)return Gt;var e,t,n=Vt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function Kt(){return!1}function $t(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zt:Kt,this.isPropagationStopped=Kt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var Qt,Jt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=d({},tn,{view:0,detail:0}),on=$t(rn),an=d({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Qt=e.screenX-en.screenX,Jt=e.screenY-en.screenY):Jt=Qt=0,en=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),sn=$t(an),ln=$t(d({},an,{dataTransfer:0})),cn=$t(d({},rn,{relatedTarget:0})),un=$t(d({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=$t(d({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=$t(d({},tn,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function yn(){return mn}var vn=$t(d({},rn,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=$t(d({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=$t(d({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),_n=$t(d({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=$t(d({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=$t(d({},tn,{newState:0,oldState:0})),kn=[9,13,27,32],Tn=Ut&&"CompositionEvent"in window,Cn=null;Ut&&"documentMode"in document&&(Cn=document.documentMode);var En=Ut&&"TextEvent"in window&&!Cn,On=Ut&&(!Tn||Cn&&8<Cn&&11>=Cn),Pn=String.fromCharCode(32),An=!1;function jn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Rn(e,t,n,r){It?Rt?Rt.push(r):Rt=[r]:It=r,0<(t=rh(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nn=null,Fn=null;function zn(e){Zu(e,0)}function Bn(e){if(pt(Qe(e)))return e}function Un(e,t){if("change"===e)return t}var Wn=!1;if(Ut){var Hn;if(Ut){var Yn="oninput"in document;if(!Yn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Yn="function"===typeof Vn.oninput}Hn=Yn}else Hn=!1;Wn=Hn&&(!document.documentMode||9<document.documentMode)}function Gn(){Nn&&(Nn.detachEvent("onpropertychange",Xn),Fn=Nn=null)}function Xn(e){if("value"===e.propertyName&&Bn(Fn)){var t=[];Rn(t,Fn,e,Lt(e)),zt(zn,t)}}function qn(e,t,n){"focusin"===e?(Gn(),Fn=n,(Nn=t).attachEvent("onpropertychange",Xn)):"focusout"===e&&Gn()}function Zn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Fn)}function Kn(e,t){if("click"===e)return Bn(t)}function $n(e,t){if("input"===e||"change"===e)return Bn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Ut&&"documentMode"in document&&11>=document.documentMode,ar=null,sr=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ar||ar!==gt(r)||("selectionStart"in(r=ar)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Jn(lr,r)||(lr=r,0<(r=rh(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},dr={},pr={};function gr(e){if(dr[e])return dr[e];if(!fr[e])return e;var t,n=fr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return dr[e]=n[t];return e}Ut&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);var mr=gr("animationend"),yr=gr("animationiteration"),vr=gr("animationstart"),br=gr("transitionrun"),wr=gr("transitionstart"),_r=gr("transitioncancel"),xr=gr("transitionend"),Sr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Sr.set(e,t),rt(t,[e])}kr.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Er=[],Or=0,Pr=0;function Ar(){for(var e=Or,t=Pr=Or=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var o=Er[t];if(Er[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Lr(n,i,o)}}function jr(e,t,n,r){Er[Or++]=e,Er[Or++]=t,Er[Or++]=n,Er[Or++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Dr(e,t,n,r){return jr(e,t,n,r),Ir(e)}function Mr(e,t){return jr(e,null,null,t),Ir(e)}function Lr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Ir(e){if(50<Yc)throw Yc=0,Vc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Nr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Nr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,r,i,o){var s=0;if(r=e,"function"===typeof e)zr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Fr(31,n,t,i)).elementType=E,e.lanes=o,e;case y:return Hr(n.children,i,o,t);case v:s=8,i|=24;break;case b:return(e=Fr(12,n,t,2|i)).elementType=b,e.lanes=o,e;case S:return(e=Fr(13,n,t,i)).elementType=S,e.lanes=o,e;case k:return(e=Fr(19,n,t,i)).elementType=k,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case w:s=9;break e;case x:s=11;break e;case T:s=14;break e;case C:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Hr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function Yr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Vr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xr=new WeakMap;function qr(e,t){if("object"===typeof e&&null!==e){var n=Xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Xr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Zr=[],Kr=0,$r=null,Qr=0,Jr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Zr[Kr++]=Qr,Zr[Kr++]=$r,$r=e,Qr=t}function oi(e,t,n){Jr[ei++]=ni,Jr[ei++]=ri,Jr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-we(r)-1;r&=~(1<<i),n+=1;var o=32-we(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ni=1<<32-we(t)+i|n<<i|r,ri=o+e}else ni=1<<o|n<<i|r,ri=e}function ai(e){null!==e.return&&(ii(e,1),oi(e,1,0))}function si(e){for(;e===$r;)$r=Zr[--Kr],Zr[Kr]=null,Qr=Zr[--Kr],Zr[Kr]=null;for(;e===ti;)ti=Jr[--ei],Jr[ei]=null,ri=Jr[--ei],Jr[ei]=null,ni=Jr[--ei],Jr[ei]=null}function li(e,t){Jr[ei++]=ni,Jr[ei++]=ri,Jr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,hi=!1,fi=null,di=!1,pi=Error(a(519));function gi(e){throw _i(qr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function mi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[We]=r,n){case"dialog":Ku("cancel",t),Ku("close",t);break;case"iframe":case"object":case"embed":Ku("load",t);break;case"video":case"audio":for(n=0;n<Xu.length;n++)Ku(Xu[n],t);break;case"source":Ku("error",t);break;case"img":case"image":case"link":Ku("error",t),Ku("load",t);break;case"details":Ku("toggle",t);break;case"input":Ku("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ku("invalid",t);break;case"textarea":Ku("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ch(t.textContent,n)?(null!=r.popover&&(Ku("beforetoggle",t),Ku("toggle",t)),null!=r.onScroll&&Ku("scroll",t),null!=r.onScrollEnd&&Ku("scrollend",t),null!=r.onClick&&(t.onclick=Dt),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(di=!1);case 27:case 3:return void(di=!0);default:ci=ci.return}}function vi(e){if(e!==ci)return!1;if(!hi)return yi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bh(e.type,e.memoizedProps)),t=!t),t&&ui&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ui=Ih(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ui=Ih(e)}else 27===n?(n=ui,Ch(e.type)?(e=Lh,Lh=null,ui=e):ui=n):ui=ci?Mh(e.stateNode.nextSibling):null;return!0}function bi(){ui=ci=null,hi=!1}function wi(){var e=fi;return null!==e&&(null===Ac?Ac=e:Ac.push.apply(Ac,e),fi=null),e}function _i(e){null===fi?fi=[e]:fi.push(e)}var xi=z(null),Si=null,ki=null;function Ti(e,t,n){U(xi,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=xi.current,B(xi)}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ei(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Ei(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Pi(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===X.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(hf):e=[hf])}i=i.return}null!==e&&Oi(t,e,n,r),t.flags|=262144}function Ai(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){Si=e,ki=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Di(e){return Li(Si,e)}function Mi(e,t){return null===Si&&ji(e),Li(e,t)}function Li(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ki){if(null===e)throw Error(a(308));ki=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ki=ki.next=t;return n}var Ii="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ri=r.unstable_scheduleCallback,Ni=r.unstable_NormalPriority,Fi={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Ii,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&Ri(Ni,function(){e.controller.abort()})}var Ui=null,Wi=0,Hi=0,Yi=null;function Vi(){if(0===--Wi&&null!==Ui){null!==Yi&&(Yi.status="fulfilled");var e=Ui;Ui=null,Hi=0,Yi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=L.S;L.S=function(e,t){Mc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ui){var n=Ui=[];Wi=0,Hi=Wu(),Yi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wi++,t.then(Vi,Vi)}(0,t),null!==Gi&&Gi(e,t)};var Xi=z(null);function qi(){var e=Xi.current;return null!==e?e:pc.pooledCache}function Zi(e,t){U(Xi,null===t?Xi.current:t.pool)}function Ki(){var e=qi();return null===e?null:{parent:Fi._currentValue,pool:e}}var $i=Error(a(460)),Qi=Error(a(474)),Ji=Error(a(542)),eo={then:function(){}};function to(e){return"fulfilled"===(e=e.status)||"rejected"===e}function no(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Dt,Dt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ao(e=t.reason),e;default:if("string"===typeof t.status)t.then(Dt,Dt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ao(e=t.reason),e}throw io=t,$i}}function ro(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw io=t,$i;throw t}}var io=null;function oo(){if(null===io)throw Error(a(459));var e=io;return io=null,e}function ao(e){if(e===$i||e===Ji)throw Error(a(483))}var so=null,lo=0;function co(e){var t=lo;return lo+=1,null===so&&(so=[]),no(so,e,t)}function uo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ho(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===y?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&ro(o)===t.type)?(uo(t=i(t,n.props),n),t.return=e,t):(uo(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Yr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return uo(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Gr(t,e.mode,n)).return=e,t;case C:return f(e,t=ro(t),n)}if(M(t)||A(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,co(t),n);if(t.$$typeof===_)return f(e,Mi(e,t),n);ho(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case C:return d(e,t,n=ro(n),r)}if(M(n)||A(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return d(e,t,co(n),r);if(n.$$typeof===_)return d(e,t,Mi(e,n),r);ho(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return p(e,t,n,r=ro(r),i)}if(M(r)||A(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,co(r),i);if(r.$$typeof===_)return p(e,t,n,Mi(t,r),i);ho(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&ro(b)===c.type){n(l,c.sibling),uo(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((h=Hr(u.props.children,l.mode,h,u.key)).return=l,l=h):(uo(h=Wr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Gr(u,l.mode,h)).return=l,l=h}return s(l);case C:return v(l,c,u=ro(u),h)}if(M(u))return function(i,a,s,l){for(var c=null,u=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=d(i,h,s[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,g),null===u?c=y:u.sibling=y,u=y,h=m}if(g===s.length)return n(i,h),hi&&ii(i,g),c;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],l))&&(a=o(h,a,g),null===u?c=h:u.sibling=h,u=h);return hi&&ii(i,g),c}for(h=r(h);g<s.length;g++)null!==(m=p(h,i,g,s[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),hi&&ii(i,g),c}(l,c,u,h);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=d(i,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===h?u=b:h.sibling=b,h=b,g=y}if(v.done)return n(i,g),hi&&ii(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=f(i,v.value,c))&&(s=o(v,s,m),null===h?u=v:h.sibling=v,h=v);return hi&&ii(i,m),u}for(g=r(g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=o(v,s,m),null===h?u=v:h.sibling=v,h=v);return e&&g.forEach(function(e){return t(i,e)}),hi&&ii(i,m),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return v(l,c,co(u),h);if(u.$$typeof===_)return v(l,c,Mi(l,u),h);ho(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Yr(u,l.mode,h)).return=l,l=h),s(l)):n(l,c)}return function(e,t,n,r){try{lo=0;var i=v(e,t,n,r);return so=null,i}catch(a){if(a===$i||a===Ji)throw a;var o=Fr(29,a,null,e.mode);return o.lanes=r,o.return=e,o}}}var po=fo(!0),go=fo(!1),mo=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&dc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ir(e),Lr(e,null,n),t}return jr(e,r,t,n),Ir(e)}function _o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}function xo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var So=!1;function ko(){if(So){if(null!==Yi)throw Yi}}function To(e,t,n,r){So=!1;var i=e.updateQueue;mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(mc&f)===f:(r&f)===f){0!==f&&f===Hi&&(So=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;f=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(y,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(y,h,f):g)||void 0===f)break e;h=d({},h,f);break e;case 2:mo=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),kc|=a,e.lanes=a,e.memoizedState=h}}function Co(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Eo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Co(n[e],t)}var Oo=z(null),Po=z(0);function Ao(e,t){U(Po,e=xc),U(Oo,t),xc=e|t.baseLanes}function jo(){U(Po,xc),U(Oo,Oo.current)}function Do(){xc=Po.current,B(Oo),B(Po)}var Mo=z(null),Lo=null;function Io(e){var t=e.alternate;U(Bo,1&Bo.current),U(Mo,e),null===Lo&&(null===t||null!==Oo.current||null!==t.memoizedState)&&(Lo=e)}function Ro(e){U(Bo,Bo.current),U(Mo,e),null===Lo&&(Lo=e)}function No(e){22===e.tag?(U(Bo,Bo.current),U(Mo,e),null===Lo&&(Lo=e)):Fo()}function Fo(){U(Bo,Bo.current),U(Mo,Mo.current)}function zo(e){B(Mo),Lo===e&&(Lo=null),B(Bo)}var Bo=z(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||jh(n)||Dh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wo=0,Ho=null,Yo=null,Vo=null,Go=!1,Xo=!1,qo=!1,Zo=0,Ko=0,$o=null,Qo=0;function Jo(){throw Error(a(321))}function ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function ta(e,t,n,r,i,o){return Wo=o,Ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?ms:ys,qo=!1,o=n(r,i),qo=!1,Xo&&(o=ra(t,n,r,i)),na(e),o}function na(e){L.H=gs;var t=null!==Yo&&null!==Yo.next;if(Wo=0,Vo=Yo=Ho=null,Go=!1,Ko=0,$o=null,t)throw Error(a(300));null===e||Ms||null!==(e=e.dependencies)&&Ai(e)&&(Ms=!0)}function ra(e,t,n,r){Ho=e;var i=0;do{if(Xo&&($o=null),Ko=0,Xo=!1,25<=i)throw Error(a(301));if(i+=1,Vo=Yo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}L.H=vs,o=t(n,r)}while(Xo);return o}function ia(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?ua(t):t,e=e.useState()[0],(null!==Yo?Yo.memoizedState:null)!==e&&(Ho.flags|=1024),t}function oa(){var e=0!==Zo;return Zo=0,e}function aa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function sa(e){if(Go){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Go=!1}Wo=0,Vo=Yo=Ho=null,Xo=!1,Ko=Zo=0,$o=null}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vo?Ho.memoizedState=Vo=e:Vo=Vo.next=e,Vo}function ca(){if(null===Yo){var e=Ho.alternate;e=null!==e?e.memoizedState:null}else e=Yo.next;var t=null===Vo?Ho.memoizedState:Vo.next;if(null!==t)Vo=t,Yo=e;else{if(null===e){if(null===Ho.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Yo=e).memoizedState,baseState:Yo.baseState,baseQueue:Yo.baseQueue,queue:Yo.queue,next:null},null===Vo?Ho.memoizedState=Vo=e:Vo=Vo.next=e}return Vo}function ua(e){var t=Ko;return Ko+=1,null===$o&&($o=[]),e=no($o,e,t),t=Ho,null===(null===Vo?t.memoizedState:Vo.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?ms:ys),e}function ha(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ua(e);if(e.$$typeof===_)return Di(e)}throw Error(a(438,String(e)))}function fa(e){var t=null,n=Ho.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ho.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=O;return t.index++,n}function da(e,t){return"function"===typeof t?t(e):t}function pa(e){return ga(ca(),Yo,e)}function ga(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,c=null,u=t=i.next,h=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(mc&f)===f:(Wo&f)===f){var d=u.revertLane;if(0===d)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Hi&&(h=!0);else{if((Wo&d)===d){u=u.next,d===Hi&&(h=!0);continue}f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,Ho.lanes|=d,kc|=d}f=u.action,qo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else d={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=o):c=c.next=d,Ho.lanes|=f,kc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Qn(o,e.memoizedState)&&(Ms=!0,h&&null!==(n=Yi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ma(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Qn(o,t.memoizedState)||(Ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ya(e,t,n){var r=Ho,i=ca(),o=hi;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Qn((Yo||i).memoizedState,n);if(s&&(i.memoizedState=n,Ms=!0),i=i.queue,Wa(wa.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==Vo&&1&Vo.memoizedState.tag){if(r.flags|=2048,Na(9,{destroy:void 0},ba.bind(null,r,i,n,t),null),null===pc)throw Error(a(349));o||0!==(127&Wo)||va(r,t,n)}return n}function va(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ho.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ba(e,t,n,r){t.value=n,t.getSnapshot=r,_a(t)&&xa(e)}function wa(e,t,n){return n(function(){_a(t)&&xa(e)})}function _a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function xa(e){var t=Mr(e,2);null!==t&&qc(t,e,2)}function Sa(e){var t=la();if("function"===typeof e){var n=e;if(e=n(),qo){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t}function ka(e,t,n,r){return e.baseState=n,ga(e,Yo,"function"===typeof r?r:da)}function Ta(e,t,n,r,i){if(fs(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==L.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Ca(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ca(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=L.T,a={};L.T=a;try{var s=n(i,r),l=L.S;null!==l&&l(a,s),Ea(e,t,s)}catch(c){Pa(e,t,c)}finally{null!==o&&null!==a.types&&(o.types=a.types),L.T=o}}else try{Ea(e,t,o=n(i,r))}catch(u){Pa(e,t,u)}}function Ea(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Oa(e,t,n)},function(n){return Pa(e,t,n)}):Oa(e,t,n)}function Oa(e,t,n){t.status="fulfilled",t.value=n,Aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ca(e,n)))}function Pa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Aa(t),t=t.next}while(t!==r)}e.action=null}function Aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ja(e,t){return t}function Da(e,t){if(hi){var n=pc.formState;if(null!==n){e:{var r=Ho;if(hi){if(ui){t:{for(var i=ui,o=di;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Mh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ui=Mh(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=la()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},n.queue=r,n=cs.bind(null,Ho,r),r.dispatch=n,r=Sa(!1),o=hs.bind(null,Ho,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=la()).queue=i,n=Ta.bind(null,Ho,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ma(e){return La(ca(),Yo,e)}function La(e,t,n){if(t=ga(e,t,ja)[0],e=pa(da)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ua(t)}catch(a){if(a===$i)throw Ji;throw a}else r=t;var i=(t=ca()).queue,o=i.dispatch;return n!==t.memoizedState&&(Ho.flags|=2048,Na(9,{destroy:void 0},Ia.bind(null,i,n),null)),[r,o,e]}function Ia(e,t){e.action=t}function Ra(e){var t=ca(),n=Yo;if(null!==n)return La(t,n,e);ca(),t=t.memoizedState;var r=(n=ca()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Na(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ho.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return ca().memoizedState}function za(e,t,n,r){var i=la();Ho.flags|=e,i.memoizedState=Na(1|t,{destroy:void 0},n,void 0===r?null:r)}function Ba(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Yo&&null!==r&&ea(r,Yo.memoizedState.deps)?i.memoizedState=Na(t,o,n,r):(Ho.flags|=e,i.memoizedState=Na(1|t,o,n,r))}function Ua(e,t){za(8390656,8,e,t)}function Wa(e,t){Ba(2048,8,e,t)}function Ha(e){var t=ca().memoizedState;return function(e){Ho.flags|=4;var t=Ho.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&dc))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ya(e,t){return Ba(4,2,e,t)}function Va(e,t){return Ba(4,4,e,t)}function Ga(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Xa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ga.bind(null,t,e),n)}function qa(){}function Za(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ka(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ea(t,r[1]))return r[0];if(r=e(),qo){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function $a(e,t,n){return void 0===n||0!==(1073741824&Wo)&&0===(261930&mc)?e.memoizedState=t:(e.memoizedState=n,e=Xc(),Ho.lanes|=e,kc|=e,n)}function Qa(e,t,n,r){return Qn(n,t)?n:null!==Oo.current?(e=$a(e,n,r),Qn(e,t)||(Ms=!0),e):0===(42&Wo)||0!==(1073741824&Wo)&&0===(261930&mc)?(Ms=!0,e.memoizedState=n):(e=Xc(),Ho.lanes|=e,kc|=e,t)}function Ja(e,t,n,r,i){var o=I.p;I.p=0!==o&&8>o?o:8;var a=L.T,s={};L.T=s,hs(e,!1,t,n);try{var l=i(),c=L.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gc());else us(e,t,r,Gc())}catch(u){us(e,t,{then:function(){},status:"rejected",reason:u},Gc())}finally{I.p=o,null!==a&&null!==s.types&&(a.types=s.types),L.T=a}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=ns(e).queue;Ja(e,i,t,R,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},Gc())}function is(){return Di(hf)}function os(){return ca().memoizedState}function as(){return ca().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=wo(t,e=bo(n),n);return null!==r&&(qc(r,t,n),_o(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fs(e)?ds(t,n):null!==(n=Dr(e,t,n,r))&&(qc(n,e,r),ps(n,t,r))}function cs(e,t,n){us(e,t,n,Gc())}function us(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fs(e))ds(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Qn(s,a))return jr(e,t,i,0),null===pc&&Ar(),!1}catch(l){}if(null!==(n=Dr(e,t,i,r)))return qc(n,e,r),ps(n,t,r),!0}return!1}function hs(e,t,n,r){if(r={lane:2,revertLane:Wu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fs(e)){if(t)throw Error(a(479))}else null!==(t=Dr(e,n,r,2))&&qc(t,e,2)}function fs(e){var t=e.alternate;return e===Ho||null!==t&&t===Ho}function ds(e,t){Xo=Go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ps(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}var gs={readContext:Di,use:ha,useCallback:Jo,useContext:Jo,useEffect:Jo,useImperativeHandle:Jo,useLayoutEffect:Jo,useInsertionEffect:Jo,useMemo:Jo,useReducer:Jo,useRef:Jo,useState:Jo,useDebugValue:Jo,useDeferredValue:Jo,useTransition:Jo,useSyncExternalStore:Jo,useId:Jo,useHostTransitionStatus:Jo,useFormState:Jo,useActionState:Jo,useOptimistic:Jo,useMemoCache:Jo,useCacheRefresh:Jo};gs.useEffectEvent=Jo;var ms={readContext:Di,use:ha,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:Di,useEffect:Ua,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){za(4,2,e,t)},useMemo:function(e,t){var n=la();t=void 0===t?null:t;var r=e();if(qo){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=la();if(void 0!==n){var i=n(t);if(qo){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ls.bind(null,Ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},la().memoizedState=e},useState:function(e){var t=(e=Sa(e)).queue,n=cs.bind(null,Ho,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:qa,useDeferredValue:function(e,t){return $a(la(),e,t)},useTransition:function(){var e=Sa(!1);return e=Ja.bind(null,Ho,e.queue,!0,!1),la().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ho,i=la();if(hi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===pc)throw Error(a(349));0!==(127&mc)||va(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ua(wa.bind(null,r,o,e),[e]),r.flags|=2048,Na(9,{destroy:void 0},ba.bind(null,r,o,n,t),null),n},useId:function(){var e=la(),t=pc.identifierPrefix;if(hi){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-we(ni)-1)).toString(32)+n),0<(n=Zo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Qo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:is,useFormState:Da,useActionState:Da,useOptimistic:function(e){var t=la();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=hs.bind(null,Ho,!0,n),n.dispatch=t,[e,t]},useMemoCache:fa,useCacheRefresh:function(){return la().memoizedState=ss.bind(null,Ho)},useEffectEvent:function(e){var t=la(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&dc))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},ys={readContext:Di,use:ha,useCallback:Za,useContext:Di,useEffect:Wa,useImperativeHandle:Xa,useInsertionEffect:Ya,useLayoutEffect:Va,useMemo:Ka,useReducer:pa,useRef:Fa,useState:function(){return pa(da)},useDebugValue:qa,useDeferredValue:function(e,t){return Qa(ca(),Yo.memoizedState,e,t)},useTransition:function(){var e=pa(da)[0],t=ca().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:ya,useId:os,useHostTransitionStatus:is,useFormState:Ma,useActionState:Ma,useOptimistic:function(e,t){return ka(ca(),0,e,t)},useMemoCache:fa,useCacheRefresh:as};ys.useEffectEvent=Ha;var vs={readContext:Di,use:ha,useCallback:Za,useContext:Di,useEffect:Wa,useImperativeHandle:Xa,useInsertionEffect:Ya,useLayoutEffect:Va,useMemo:Ka,useReducer:ma,useRef:Fa,useState:function(){return ma(da)},useDebugValue:qa,useDeferredValue:function(e,t){var n=ca();return null===Yo?$a(n,e,t):Qa(n,Yo.memoizedState,e,t)},useTransition:function(){var e=ma(da)[0],t=ca().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:ya,useId:os,useHostTransitionStatus:is,useFormState:Ra,useActionState:Ra,useOptimistic:function(e,t){var n=ca();return null!==Yo?ka(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fa,useCacheRefresh:as};function bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vs.useEffectEvent=Ha;var ws={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bo(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wo(e,i,r))&&(qc(t,e,r),_o(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bo(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wo(e,i,r))&&(qc(t,e,r),_o(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=bo(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=wo(e,r,n))&&(qc(t,e,n),_o(t,e,n))}};function _s(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(i,o))}function xs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ws.enqueueReplaceState(t,t.state,null)}function Ss(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function ks(e){Cr(e)}function Ts(e){console.error(e)}function Cs(e){Cr(e)}function Es(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Os(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ps(e,t,n){return(n=bo(n)).tag=3,n.payload={element:null},n.callback=function(){Es(e,t)},n}function As(e){return(e=bo(e)).tag=3,e}function js(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Os(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Os(t,n,r),"function"!==typeof i&&(null===Rc?Rc=new Set([this]):Rc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ds=Error(a(461)),Ms=!1;function Ls(e,t,n,r){t.child=null===e?go(t,null,n,r):po(t,e.child,n,r)}function Is(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return ji(t),r=ta(e,t,n,a,o,i),s=oa(),null===e||Ms?(hi&&s&&ai(t),t.flags|=1,Ls(e,t,r,i),t.child):(aa(e,t,i),il(e,t,i))}function Rs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||zr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ns(e,t,o,r,i))}if(o=e.child,!ol(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(a,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=Br(o,r)).ref=t.ref,e.return=t,t.child=e}function Ns(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Jn(o,r)&&e.ref===t.ref){if(Ms=!1,t.pendingProps=r=o,!ol(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Ms=!0)}}return Ys(e,t,n,r,i)}function Fs(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return Bs(e,t,o,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Bs(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Zi(0,null!==o?o.cachePool:null),null!==o?Ao(t,o):jo(),No(t)}else null!==o?(Zi(0,o.cachePool),Ao(t,o),Fo(),t.memoizedState=null):(null!==e&&Zi(0,null),jo(),Fo());return Ls(e,t,i,n),t.child}function zs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bs(e,t,n,r,i){var o=qi();return o=null===o?null:{parent:Fi._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Zi(0,null),jo(),No(t),null!==e&&Pi(e,t,r,!0),t.childLanes=i,null}function Us(e,t){return(t=Js({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ws(e,t,n){return po(t,e.child,null,n),(e=Us(t,t.pendingProps)).flags|=2,zo(t),t.memoizedState=null,e}function Hs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ys(e,t,n,r,i){return ji(t),n=ta(e,t,n,r,void 0,i),r=oa(),null===e||Ms?(hi&&r&&ai(t),t.flags|=1,Ls(e,t,n,i),t.child):(aa(e,t,i),il(e,t,i))}function Vs(e,t,n,r,i,o){return ji(t),t.updateQueue=null,n=ra(t,r,n,i),na(e),r=oa(),null===e||Ms?(hi&&r&&ai(t),t.flags|=1,Ls(e,t,n,o),t.child):(aa(e,t,o),il(e,t,o))}function Gs(e,t,n,r,i){if(ji(t),null===t.stateNode){var o=Rr,a=n.contextType;"object"===typeof a&&null!==a&&(o=Di(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ws,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},yo(t),a=n.contextType,o.context="object"===typeof a&&null!==a?Di(a):Rr,o.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(bs(t,n,a,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&ws.enqueueReplaceState(o,o.state,null),To(t,r,o,i),ko(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=Ss(n,s);o.props=l;var c=o.context,u=n.contextType;a=Rr,"object"===typeof u&&null!==u&&(a=Di(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==a)&&xs(t,o,r,a),mo=!1;var f=t.memoizedState;o.state=f,To(t,r,o,i),ko(),c=t.memoizedState,s||f!==c||mo?("function"===typeof h&&(bs(t,n,h,r),c=t.memoizedState),(l=mo||_s(t,n,l,r,f,c,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vo(e,t),u=Ss(n,a=t.memoizedProps),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Di(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||f!==l)&&xs(t,o,r,l),mo=!1,f=t.memoizedState,o.state=f,To(t,r,o,i),ko();var d=t.memoizedState;a!==h||f!==d||mo||null!==e&&null!==e.dependencies&&Ai(e.dependencies)?("function"===typeof s&&(bs(t,n,s,r),d=t.memoizedState),(u=mo||_s(t,n,u,r,f,d,l)||null!==e&&null!==e.dependencies&&Ai(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Hs(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=po(t,e.child,null,i),t.child=po(t,null,n,i)):Ls(e,t,n,i),t.memoizedState=o.state,e=t.child):e=il(e,t,i),e}function Xs(e,t,n,r){return bi(),t.flags|=256,Ls(e,t,n,r),t.child}var qs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zs(e){return{baseLanes:e,cachePool:Ki()}}function Ks(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ec),e}function $s(e,t,n){var r,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Bo.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(o?Io(t):Fo(),(e=ui)?null!==(e=null!==(e=Ah(e,di))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw gi(t);return Dh(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,o?(Fo(),l=Js({mode:"hidden",children:l},o=t.mode),i=Hr(i,o,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Zs(n),i.childLanes=Ks(e,r,n),t.memoizedState=qs,zs(null,i)):(Io(t),Qs(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Io(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Fo(),t.child=e.child,t.flags|=128,t=null):(Fo(),l=i.fallback,o=t.mode,i=Js({mode:"visible",children:i.children},o),(l=Hr(l,o,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,po(t,e.child,null,n),(i=t.child).memoizedState=Zs(n),i.childLanes=Ks(e,r,n),t.memoizedState=qs,t=zs(null,i));else if(Io(t),Dh(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,_i({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Ms||Pi(e,t,n,!1),r=0!==(n&e.childLanes),Ms||r){if(null!==(r=pc)&&(0!==(i=Ie(r,n))&&i!==c.retryLane))throw c.retryLane=i,Mr(e,i),qc(r,e,i),Ds;jh(l)||au(),t=el(e,t,n)}else jh(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Mh(l.nextSibling),ci=t,hi=!0,fi=null,di=!1,null!==e&&li(t,e),(t=Qs(t,i.children)).flags|=4096);return t}return o?(Fo(),l=i.fallback,o=t.mode,u=(c=e.child).sibling,(i=Br(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Br(u,l):(l=Hr(l,o,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,zs(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Zs(n):(null!==(o=l.cachePool)?(c=Fi._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Ki(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=Ks(e,r,n),t.memoizedState=qs,zs(e.child,i)):(Io(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Qs(e,t){return(t=Js({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Js(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function el(e,t,n){return po(t,e.child,null,n),(e=Qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function nl(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=o)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var a=Bo.current,s=0!==(2&a);if(s?(a=1&a|2,t.flags|=128):a&=1,U(Bo,a),Ls(e,t,r,n),r=hi?Qr:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,o,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ai(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ms=!0;else{if(!ol(e,n)&&0===(128&t.flags))return Ms=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),Ti(0,Fi,e.memoizedState.cache),bi();break;case 27:case 5:K(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:Ti(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ro(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$s(e,t,n):(Io(t),null!==(e=il(e,t,n))?e.sibling:null);Io(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Pi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(Bo,Bo.current),r)break;return null;case 22:return t.lanes=0,Fs(e,t,n,t.pendingProps);case 24:Ti(0,Fi,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Ms=0!==(131072&e.flags)}else Ms=!1,hi&&0!==(1048576&t.flags)&&oi(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ro(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===x){t.tag=11,t=Is(null,t,e,r,n);break e}if(i===T){t.tag=14,t=Rs(null,t,e,r,n);break e}}throw t=D(e)||e,Error(a(306,t,""))}zr(e)?(r=Ss(e,r),t.tag=1,t=Gs(null,t,e,r,n)):(t.tag=0,t=Ys(null,t,e,r,n))}return t;case 0:return Ys(e,t,t.type,t.pendingProps,n);case 1:return Gs(e,t,r=t.type,i=Ss(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,vo(e,t),To(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Ti(0,Fi,r),r!==o.cache&&Oi(t,[Fi],n,!0),ko(),r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Xs(e,t,r,n);break e}if(r!==i){_i(i=qr(Error(a(424)),t)),t=Xs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Mh(e.firstChild),ci=t,hi=!0,fi=null,di=!0,n=go(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=il(e,t,n);break e}Ls(e,t,r,n)}t=t.child}return t;case 26:return Hs(e,t),null===e?(n=Vh(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=mh(G.current).createElement(n))[Ue]=t,r[We]=e,fh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Vh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&hi&&(r=t.stateNode=Nh(t.type,t.pendingProps,G.current),ci=t,di=!0,i=ui,Ch(t.type)?(Lh=i,ui=Mh(r.firstChild)):ui=i),Ls(e,t,t.pendingProps.children,n),Hs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Mh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,di))?(t.stateNode=r,ci=t,ui=Mh(r.firstChild),di=!1,i=!0):i=!1),i||gi(t)),K(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,bh(i,o)?r=null:null!==s&&bh(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=ta(e,t,ia,null,null,n),hf._currentValue=i),Hs(e,t),Ls(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Mh(e.nextSibling)))return null}return e}(n,t.pendingProps,di))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||gi(t)),null;case 13:return $s(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=po(t,null,r,n):Ls(e,t,r,n),t.child;case 11:return Is(e,t,t.type,t.pendingProps,n);case 7:return Ls(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ls(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ti(0,t.type,r.value),Ls(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ji(t),r=r(i=Di(i)),t.flags|=1,Ls(e,t,r,n),t.child;case 14:return Rs(e,t,t.type,t.pendingProps,n);case 15:return Ns(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=Us(t,r),t.lanes=536870912,zs(null,e);if(Ro(t),(e=ui)?null!==(e=null!==(e=Ah(e,di))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Us(t,r)}var o=e.memoizedState;if(null!==o){var s=o.dehydrated;if(Ro(t),i)if(256&t.flags)t.flags&=-257,t=Ws(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Ms||Pi(e,t,n,!1),i=0!==(n&e.childLanes),Ms||i){if(null!==(r=pc)&&0!==(s=Ie(r,n))&&s!==o.retryLane)throw o.retryLane=s,Mr(e,s),qc(r,e,s),Ds;au(),t=Ws(e,t,n)}else e=o.treeContext,ui=Mh(s.nextSibling),ci=t,hi=!0,fi=null,di=!1,null!==e&&li(t,e),(t=Us(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fs(e,t,n,t.pendingProps);case 24:return ji(t),r=Di(Fi),null===e?(null===(i=qi())&&(i=pc,o=zi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},yo(t),Ti(0,Fi,i)):(0!==(e.lanes&n)&&(vo(e,t),To(t,null,null,n),ko()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ti(0,Fi,r)):(r=o.cache,Ti(0,Fi,r),r!==i.cache&&Oi(t,[Fi],n,!0))),Ls(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function sl(e){e.flags|=4}function ll(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw io=eo,Qi;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!of(t)){if(!ru())throw io=eo,Qi;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Oc|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dl(e,t,n){var r=t.pendingProps;switch(si(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(Fi),Z(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?sl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wi())),fl(t),null;case 26:var i=t.type,o=t.memoizedState;return null===e?(sl(t),null!==o?(fl(t),cl(t,o)):(fl(t),ll(t,i,0,0,n))):o?o!==e.memoizedState?(sl(t),fl(t),cl(t,o)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&sl(t),fl(t),ll(t,i,0,0,n)),null;case 27:if($(t),n=G.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return fl(t),null}e=Y.current,vi(t)?mi(t):(e=Nh(i,r,n),t.stateNode=e,sl(t))}return fl(t),null;case 5:if($(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return fl(t),null}if(o=Y.current,vi(t))mi(t);else{var s=mh(G.current);switch(o){case 1:o=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(o=s.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?s.createElement(i,{is:r.is}):s.createElement(i)}}o[Ue]=t,o[We]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)o.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;e:switch(fh(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&sl(t)}}return fl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=G.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ch(e.nodeValue,n)))||gi(t,!0)}else(e=mh(e).createTextNode(r))[Ue]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[Ue]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zo(t),t):(zo(t),null);if(0!==(128&t.flags))throw Error(a(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ue]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(zo(t),t):(zo(t),null)}return zo(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),fl(t),null);case 4:return Z(),null===e&&Ju(t.stateNode.containerInfo),fl(t),null;case 10:return Ci(t.type),fl(t),null;case 19:if(B(Bo),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(o=r.rendering))if(i)hl(r,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Uo(e))){for(t.flags|=128,hl(r,!1),e=o.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return U(Bo,1&Bo.current|2),hi&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Lc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Uo(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!hi)return fl(t),null}else 2*le()-r.renderingStartTime>Lc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Bo.current,U(Bo,i?1&n|2:1&n),hi&&ii(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return zo(t),Do(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Xi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(Fi),fl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function pl(e,t){switch(si(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(Fi),Z(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(zo(t),null===t.alternate)throw Error(a(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Bo),null;case 4:return Z(),null;case 10:return Ci(t.type),null;case 22:case 23:return zo(t),Do(),null!==e&&B(Xi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(Fi),null;default:return null}}function gl(e,t){switch(si(t),t.tag){case 3:Ci(Fi),Z();break;case 26:case 27:case 5:$(t);break;case 4:Z();break;case 31:null!==t.memoizedState&&zo(t);break;case 13:zo(t);break;case 19:B(Bo);break;case 10:Ci(t.type);break;case 22:case 23:zo(t),Do(),null!==e&&B(Xi);break;case 24:Ci(Fi)}}function ml(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){Su(t,t.return,s)}}function yl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){Su(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){Su(t,t.return,u)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Eo(t,n)}catch(r){Su(e,e.return,r)}}}function bl(e,t,n){n.props=Ss(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Su(e,t,r)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Su(e,t,i)}}function _l(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Su(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){Su(e,t,o)}else n.current=null}function xl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Su(e,e.return,i)}}function Sl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,h=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(p)||uh(e,t,p,null,r,f)}}for(var d in r){var p=r[d];if(f=n[d],r.hasOwnProperty(d)&&(null!=p||null!=f))switch(d){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==f&&uh(e,t,d,p,r,f)}}return void vt(e,s,l,c,u,h,o,i);case"select":for(o in p=s=l=d=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||uh(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":d=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&uh(e,t,i,o,r,c)}return t=l,n=s,r=p,void(null!=d?_t(e,!!n,d,!1):!!r!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=d=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:uh(e,t,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":d=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&uh(e,t,s,i,r,o)}return void xt(e,d,p);case"option":for(var g in n)if(d=n[g],n.hasOwnProperty(g)&&null!=d&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else uh(e,t,g,null,r,d);for(c in r)if(d=r[c],p=n[c],r.hasOwnProperty(c)&&d!==p&&(null!=d||null!=p))if("selected"===c)e.selected=d&&"function"!==typeof d&&"symbol"!==typeof d;else uh(e,t,c,d,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)d=n[m],n.hasOwnProperty(m)&&null!=d&&!r.hasOwnProperty(m)&&uh(e,t,m,null,r,d);for(u in r)if(d=r[u],p=n[u],r.hasOwnProperty(u)&&d!==p&&(null!=d||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:uh(e,t,u,d,r,p)}return;default:if(Ot(t)){for(var y in n)d=n[y],n.hasOwnProperty(y)&&void 0!==d&&!r.hasOwnProperty(y)&&hh(e,t,y,void 0,r,d);for(h in r)d=r[h],p=n[h],!r.hasOwnProperty(h)||d===p||void 0===d&&void 0===p||hh(e,t,h,d,r,p);return}}for(var v in n)d=n[v],n.hasOwnProperty(v)&&null!=d&&!r.hasOwnProperty(v)&&uh(e,t,v,null,r,d);for(f in r)d=r[f],p=n[f],!r.hasOwnProperty(f)||d===p||null==d&&null==p||uh(e,t,f,d,r,p)}(r,e.type,n,t),r[We]=t}catch(i){Su(e,e.return,i)}}function kl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ch(e.type)||4===e.tag}function Tl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||kl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ch(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Dt));else if(4!==r&&(27===r&&Ch(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ch(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Ol(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fh(t,r,n),t[Ue]=e,t[We]=n}catch(o){Su(e,e.return,o)}}var Pl=!1,Al=!1,jl=!1,Dl="function"===typeof WeakSet?WeakSet:Set,Ml=null;function Ll(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ql(e,n),4&r&&ml(5,n);break;case 1:if(ql(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){Su(n,n.return,a)}else{var i=Ss(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Su(n,n.return,s)}}64&r&&vl(n),512&r&&wl(n,n.return);break;case 3:if(ql(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Eo(e,t)}catch(a){Su(n,n.return,a)}}break;case 27:null===t&&4&r&&Ol(n);case 26:case 5:ql(e,n),null===t&&4&r&&xl(n),512&r&&wl(n,n.return);break;case 12:ql(e,n);break;case 31:ql(e,n),4&r&&Bl(e,n);break;case 13:ql(e,n),4&r&&Ul(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Eu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||Al,i=Pl;var o=Al;Pl=r,(Al=t)&&!o?Kl(e,n,0!==(8772&n.subtreeFlags)):ql(e,n),Pl=i,Al=o}break;case 30:break;default:ql(e,n)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rl=null,Nl=!1;function Fl(e,t,n){for(n=n.child;null!==n;)zl(e,t,n),n=n.sibling}function zl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(o){}switch(n.tag){case 26:Al||_l(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Al||_l(n,t);var r=Rl,i=Nl;Ch(n.type)&&(Rl=n.stateNode,Nl=!1),Fl(e,t,n),Fh(n.stateNode),Rl=r,Nl=i;break;case 5:Al||_l(n,t);case 6:if(r=Rl,i=Nl,Rl=null,Fl(e,t,n),Nl=i,null!==(Rl=r))if(Nl)try{(9===Rl.nodeType?Rl.body:"HTML"===Rl.nodeName?Rl.ownerDocument.body:Rl).removeChild(n.stateNode)}catch(a){Su(n,t,a)}else try{Rl.removeChild(n.stateNode)}catch(a){Su(n,t,a)}break;case 18:null!==Rl&&(Nl?(Eh(9===(e=Rl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vf(e)):Eh(Rl,n.stateNode));break;case 4:r=Rl,i=Nl,Rl=n.stateNode.containerInfo,Nl=!0,Fl(e,t,n),Rl=r,Nl=i;break;case 0:case 11:case 14:case 15:yl(2,n,t),Al||yl(4,n,t),Fl(e,t,n);break;case 1:Al||(_l(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Al=(r=Al)||null!==n.memoizedState,Fl(e,t,n),Al=r;break;default:Fl(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vf(e)}catch(n){Su(t,t.return,n)}}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vf(e)}catch(n){Su(t,t.return,n)}}function Wl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Dl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Dl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ou.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Ch(l.type)){Rl=l.stateNode,Nl=!1;break e}break;case 5:Rl=l.stateNode,Nl=!1;break e;case 3:case 4:Rl=l.stateNode.containerInfo,Nl=!0;break e}l=l.return}if(null===Rl)throw Error(a(160));zl(o,s,i),Rl=null,Nl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vl(t,e),t=t.sibling}var Yl=null;function Vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Gl(e),4&r&&(yl(3,e,e.return),ml(3,e),yl(5,e,e.return));break;case 1:Hl(t,e),Gl(e),512&r&&(Al||null===n||_l(n,n.return)),64&r&&Pl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Yl;if(Hl(t,e),Gl(e),512&r&&(Al||null===n||_l(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[qe]||o[Ue]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),fh(o,r,n),o[Ue]=e,et(o),r=o;break e;case"link":var s=nf("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}fh(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=nf("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}fh(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[Ue]=e,et(o),r=o}e.stateNode=r}else rf(i,e.type,e.stateNode);else e.stateNode=$h(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?rf(i,e.type,e.stateNode):$h(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Sl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Gl(e),512&r&&(Al||null===n||_l(n,n.return)),null!==n&&4&r&&Sl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Gl(e),512&r&&(Al||null===n||_l(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(g){Su(e,e.return,g)}}4&r&&null!=e.stateNode&&Sl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(jl=!0);break;case 6:if(Hl(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){Su(e,e.return,g)}}break;case 3:if(tf=null,i=Yl,Yl=Uh(t.containerInfo),Hl(t,e),Yl=i,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vf(t.containerInfo)}catch(g){Su(e,e.return,g)}jl&&(jl=!1,Xl(e));break;case 4:r=Yl,Yl=Uh(e.stateNode.containerInfo),Hl(t,e),Gl(e),Yl=r;break;case 12:default:Hl(t,e),Gl(e);break;case 31:case 19:Hl(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wl(e,r)));break;case 13:Hl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Dc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Pl,h=Al;if(Pl=u||i,Al=h||c,Hl(t,e),Al=h,Pl=u,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Pl||Al||Zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,d=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;l.style.display=null==d||"boolean"===typeof d?"":(""+d).trim()}}catch(g){Su(c,c.return,g)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(g){Su(c,c.return,g)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Oh(p,!0):Oh(c.stateNode,!1)}catch(g){Su(c,c.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Wl(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(kl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;El(e,Tl(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(kt(o,""),n.flags&=-33),El(e,Tl(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Cl(e,Tl(e),s);break;default:throw Error(a(161))}}catch(l){Su(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Xl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Xl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ll(e,t.alternate,t),t=t.sibling}function Zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Zl(t);break;case 1:_l(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),Zl(t);break;case 27:Fh(t.stateNode);case 26:case 5:_l(t,t.return),Zl(t);break;case 22:null===t.memoizedState&&Zl(t);break;default:Zl(t)}e=e.sibling}}function Kl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Kl(i,o,n),ml(4,o);break;case 1:if(Kl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Su(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Co(l[i],s)}catch(c){Su(r,r.return,c)}}n&&64&a&&vl(o),wl(o,o.return);break;case 27:Ol(o);case 26:case 5:Kl(i,o,n),n&&null===r&&4&a&&xl(o),wl(o,o.return);break;case 12:Kl(i,o,n);break;case 31:Kl(i,o,n),n&&4&a&&Bl(i,o);break;case 13:Kl(i,o,n),n&&4&a&&Ul(i,o);break;case 22:null===o.memoizedState&&Kl(i,o,n),wl(o,o.return);break;case 30:break;default:Kl(i,o,n)}t=t.sibling}}function $l(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function Ql(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function Jl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Jl(e,t,n,r),2048&i&&ml(9,t);break;case 1:case 31:case 13:default:Jl(e,t,n,r);break;case 3:Jl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){Jl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Su(t,t.return,l)}}else Jl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?Jl(e,t,n,r):nc(e,t):2&o._visibility?Jl(e,t,n,r):(o._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&$l(a,t);break;case 24:Jl(e,t,n,r),2048&i&&Ql(t.alternate,t)}}function tc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:tc(o,a,s,l,i),ml(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?tc(o,a,s,l,i):nc(o,a):(u._visibility|=2,tc(o,a,s,l,i)),i&&2048&c&&$l(a.alternate,a);break;case 24:tc(o,a,s,l,i),i&&2048&c&&Ql(a.alternate,a);break;default:tc(o,a,s,l,i)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nc(n,r),2048&i&&$l(r.alternate,r);break;case 24:nc(n,r),2048&i&&Ql(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ic(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gh(r.href),o=t.querySelector(Xh(i));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,r=qh(r),(i=zh.get(i))&&Jh(r,i),et(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),fh(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Yl,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=Yl;Yl=Uh(e.stateNode.containerInfo),ic(e,t,n),Yl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ic(e,t,n),rc=r):ic(e,t,n))}}function ac(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function sc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ml=r,uc(r,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:sc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:sc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):sc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ml=r,uc(r,e)}ac(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Ml;){var n=Ml;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ml=r;else e:for(n=e;null!==Ml;){var i=(r=Ml).sibling,o=r.return;if(Il(r),r===n){Ml=null;break e}if(null!==i){i.return=o,Ml=i;break e}Ml=o}}}var hc={getCacheForType:function(e){var t=Di(Fi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Di(Fi).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,dc=0,pc=null,gc=null,mc=0,yc=0,vc=null,bc=!1,wc=!1,_c=!1,xc=0,Sc=0,kc=0,Tc=0,Cc=0,Ec=0,Oc=0,Pc=null,Ac=null,jc=!1,Dc=0,Mc=0,Lc=1/0,Ic=null,Rc=null,Nc=0,Fc=null,zc=null,Bc=0,Uc=0,Wc=null,Hc=null,Yc=0,Vc=null;function Gc(){return 0!==(2&dc)&&0!==mc?mc&-mc:null!==L.T?Wu():Fe()}function Xc(){if(0===Ec)if(0===(536870912&mc)||hi){var e=ke;0===(3932160&(ke<<=1))&&(ke=262144),Ec=e}else Ec=536870912;return null!==(e=Mo.current)&&(e.flags|=32),Ec}function qc(e,t,n){(e!==pc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(tu(e,0),Qc(e,mc,Ec,!1)),De(e,n),0!==(2&dc)&&e===pc||(e===pc&&(0===(2&dc)&&(Tc|=n),4===Sc&&Qc(e,mc,Ec,!1)),Iu(e))}function Zc(e,t,n){if(0!==(6&dc))throw Error(a(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Oe(e,t),i=r?function(e,t){var n=dc;dc|=2;var r=iu(),i=ou();pc!==e||mc!==t?(Ic=null,Lc=le()+500,tu(e,t)):wc=Oe(e,t);e:for(;;)try{if(0!==yc&&null!==gc){t=gc;var o=vc;t:switch(yc){case 1:yc=0,vc=null,fu(e,t,o,1);break;case 2:case 9:if(to(o)){yc=0,vc=null,hu(t);break}t=function(){2!==yc&&9!==yc||pc!==e||(yc=7),Iu(e)},o.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:to(o)?(yc=0,vc=null,hu(t)):(yc=0,vc=null,fu(e,t,o,7));break;case 5:var s=null;switch(gc.tag){case 26:s=gc.memoizedState;case 5:case 27:var l=gc;if(s?of(s):l.stateNode.complete){yc=0,vc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,du(u)):gc=null}break t}}yc=0,vc=null,fu(e,t,o,5);break;case 6:yc=0,vc=null,fu(e,t,o,6);break;case 8:eu(),Sc=6;break e;default:throw Error(a(462))}}cu();break}catch(h){nu(e,h)}return ki=Si=null,L.H=r,L.A=i,dc=n,null!==gc?0:(pc=null,mc=0,Ar(),Sc)}(e,t):su(e,t,!0),o=r;;){if(0===i){wc&&!r&&Qc(e,t,0,!1);break}if(n=e.current.alternate,!o||$c(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=Pc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,s).flags|=256),2!==(s=su(l,s,!1))){if(_c&&!c){l.errorRecoveryDisabledLanes|=o,Tc|=o,i=4;break e}o=Ac,Ac=i,null!==o&&(null===Ac?Ac=o:Ac.push.apply(Ac,o))}i=s}if(o=!1,2!==i)continue}}if(1===i){tu(e,0),Qc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Qc(r,t,Ec,!bc);break e;case 2:Ac=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=Dc+300-le())){if(Qc(r,t,Ec,!bc),0!==Ee(r,0,!0))break e;Bc=t,r.timeoutHandle=_h(Kc.bind(null,r,n,Ac,Ic,jc,t,Ec,Tc,Oc,bc,o,"Throttled",-0,0),i)}else Kc(r,n,Ac,Ic,jc,t,Ec,Tc,Oc,bc,o,null,-0,0)}break}i=su(e,t,!1),o=!1}Iu(e)}function Kc(e,t,n,r,i,o,a,s,l,c,u,h,f,d){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){oc(t,o,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dt});var p=(62914560&o)===o?Dc-le():(4194048&o)===o?Mc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&cf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&cf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===af&&(af=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,a=i.initiatorType,s=i.duration;if(o&&s&&dh(a)){for(a=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,h=l.initiatorType;u&&dh(h)&&(a+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(o+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>af?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p)))return Bc=o,e.cancelPendingCommit=p(gu.bind(null,e,t,o,n,r,i,a,s,l,u,h,null,f,d)),void Qc(e,o,a,!c)}gu(e,t,o,n,r,i,a,s,l)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qn(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qc(e,t,n,r){t&=~Cc,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-we(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Me(e,n,t)}function Jc(){return 0!==(6&dc)||(Ru(0,!1),!1)}function eu(){if(null!==gc){if(0===yc)var e=gc.return;else ki=Si=null,sa(e=gc),so=null,lo=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,eu(),pc=e,gc=n=Br(e.current,null),mc=t,yc=0,vc=null,bc=!1,wc=Oe(e,t),_c=!1,Oc=Ec=Cc=Tc=kc=Sc=0,Ac=Pc=null,jc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),o=1<<i;t|=e[i],r&=~o}return xc=t,Ar(),n}function nu(e,t){Ho=null,L.H=gs,t===$i||t===Ji?(t=oo(),yc=3):t===Qi?(t=oo(),yc=4):yc=t===Ds?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vc=t,null===gc&&(Sc=1,Es(e,qr(t,e.current)))}function ru(){var e=Mo.current;return null===e||((4194048&mc)===mc?null===Lo:((62914560&mc)===mc||0!==(536870912&mc))&&e===Lo)}function iu(){var e=L.H;return L.H=gs,null===e?gs:e}function ou(){var e=L.A;return L.A=hc,e}function au(){Sc=4,bc||(4194048&mc)!==mc&&null!==Mo.current||(wc=!0),0===(134217727&kc)&&0===(134217727&Tc)||null===pc||Qc(pc,mc,Ec,!1)}function su(e,t,n){var r=dc;dc|=2;var i=iu(),o=ou();pc===e&&mc===t||(Ic=null,tu(e,t)),t=!1;var a=Sc;e:for(;;)try{if(0!==yc&&null!==gc){var s=gc,l=vc;switch(yc){case 8:eu(),a=6;break e;case 3:case 2:case 9:case 6:null===Mo.current&&(t=!0);var c=yc;if(yc=0,vc=null,fu(e,s,l,c),n&&wc){a=0;break e}break;default:c=yc,yc=0,vc=null,fu(e,s,l,c)}}lu(),a=Sc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,ki=Si=null,dc=r,L.H=i,L.A=o,null===gc&&(pc=null,mc=0,Ar()),a}function lu(){for(;null!==gc;)uu(gc)}function cu(){for(;null!==gc&&!ae();)uu(gc)}function uu(e){var t=al(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===t?du(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vs(n,t,t.pendingProps,t.type,void 0,mc);break;case 11:t=Vs(n,t,t.pendingProps,t.type.render,t.ref,mc);break;case 5:sa(t);default:gl(n,t),t=al(n,t=gc=Ur(t,xc),xc)}e.memoizedProps=e.pendingProps,null===t?du(e):gc=t}function fu(e,t,n,r){ki=Si=null,sa(t),so=null,lo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Pi(t,n,i,!0),null!==(n=Mo.current)){switch(n.tag){case 31:case 13:return null===Lo?au():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ku(e,r,i)),!1;case 22:return n.flags|=65536,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ku(e,r,i)),!1}throw Error(a(435,n.tag))}return ku(e,r,i),au(),!1}if(hi)return null!==(t=Mo.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&_i(qr(e=Error(a(422),{cause:r}),n))):(r!==pi&&_i(qr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=qr(r,n),xo(e,i=Ps(e.stateNode,r,i)),4!==Sc&&(Sc=2)),!1;var o=Error(a(520),{cause:r});if(o=qr(o,n),null===Pc?Pc=[o]:Pc.push(o),4!==Sc&&(Sc=2),null===t)return!0;r=qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,xo(n,e=Ps(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Rc||!Rc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,js(i=As(i),e,n,r),xo(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,mc))return Sc=1,Es(e,qr(n,e.current)),void(gc=null)}catch(o){if(null!==i)throw gc=i,o;return Sc=1,Es(e,qr(n,e.current)),void(gc=null)}32768&t.flags?(hi||1===r?e=!0:wc||0!==(536870912&mc)?e=!1:(bc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Mo.current)&&13===r.tag&&(r.flags|=16384))),pu(t,e)):du(t)}function du(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bc);e=t.return;var n=dl(t.alternate,t,xc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Sc&&(Sc=5)}function pu(e,t){do{var n=pl(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Sc=6,gc=null}function gu(e,t,n,r,i,o,s,l,c){e.cancelPendingCommit=null;do{wu()}while(0!==Nc);if(0!==(6&dc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),h=1<<u;s[u]=0,l[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var d=f[u];null!==d&&(d.lane&=-536870913)}n&=~h}0!==r&&Me(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,o|=Pr,s,l,c),e===pc&&(gc=pc=null,mc=0),zc=t,Fc=e,Bc=n,Uc=o,Wc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(fe,function(){return _u(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=L.T,L.T=null,i=I.p,I.p=2,s=dc,dc|=4;try{!function(e,t){if(e=e.containerInfo,ph=wf,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===i&&(l=s),d===o&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:e,selectionRange:n},wf=!1,Ml=t;null!==Ml;)if(e=(t=Ml).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ml=e;else for(;null!==Ml;){switch(o=(t=Ml).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var g=Ss(n.type,i);e=r.getSnapshotBeforeUpdate(g,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Su(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ph(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ph(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Ml=e;break}Ml=t.return}}(e,t)}finally{dc=s,I.p=i,L.T=r}}Nc=1,mu(),yu(),vu()}}function mu(){if(1===Nc){Nc=0;var e=Fc,t=zc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=L.T,L.T=null;var r=I.p;I.p=2;var i=dc;dc|=4;try{Vl(t,e);var o=gh,a=rr(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&ir(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var d=f.getSelection(),p=s.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!d.extend&&g>m&&(a=m,m=g,g=a);var y=tr(s,g),v=tr(s,m);if(y&&v&&(1!==d.rangeCount||d.anchorNode!==y.node||d.anchorOffset!==y.offset||d.focusNode!==v.node||d.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),d.removeAllRanges(),g>m?(d.addRange(b),d.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),d.addRange(b))}}}}for(h=[],d=s;d=d.parentNode;)1===d.nodeType&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<h.length;s++){var w=h[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wf=!!ph,gh=ph=null}finally{dc=i,I.p=r,L.T=n}}e.current=t,Nc=2}}function yu(){if(2===Nc){Nc=0;var e=Fc,t=zc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=L.T,L.T=null;var r=I.p;I.p=2;var i=dc;dc|=4;try{Ll(e,t.alternate,t)}finally{dc=i,I.p=r,L.T=n}}Nc=3}}function vu(){if(4===Nc||3===Nc){Nc=0,se();var e=Fc,t=zc,n=Bc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Nc=5:(Nc=0,zc=Fc=null,bu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Rc=null),Ne(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=L.T,i=I.p,I.p=2,L.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{L.T=t,I.p=i}}0!==(3&Bc)&&wu(),Iu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Vc?Yc++:(Yc=0,Vc=e):Yc=0,Ru(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function wu(){return mu(),yu(),vu(),_u()}function _u(){if(5!==Nc)return!1;var e=Fc,t=Uc;Uc=0;var n=Ne(Bc),r=L.T,i=I.p;try{I.p=32>n?32:n,L.T=null,n=Wc,Wc=null;var o=Fc,s=Bc;if(Nc=0,zc=Fc=null,Bc=0,0!==(6&dc))throw Error(a(331));var l=dc;if(dc|=4,lc(o.current),ec(o,o.current,s,n),dc=l,Ru(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,o)}catch(c){}return!0}finally{I.p=i,L.T=r,bu(e,t)}}function xu(e,t,n){t=qr(n,t),null!==(e=wo(e,t=Ps(e.stateNode,t,2),2))&&(De(e,2),Iu(e))}function Su(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Rc||!Rc.has(r))){e=qr(n,e),null!==(r=wo(t,n=As(2),2))&&(js(n,r,t,e),De(r,2),Iu(r));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(_c=!0,i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(mc&n)===n&&(4===Sc||3===Sc&&(62914560&mc)===mc&&300>le()-Dc?0===(2&dc)&&tu(e,0):Cc|=n,Oc===mc&&(Oc=0)),Iu(e)}function Cu(e,t){0===t&&(t=Ae()),null!==(e=Mr(e,t))&&(De(e,t),Iu(e))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Ou(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cu(e,n)}var Pu=null,Au=null,ju=!1,Du=!1,Mu=!1,Lu=0;function Iu(e){e!==Au&&null===e.next&&(null===Au?Pu=Au=e:Au=Au.next=e),Du=!0,ju||(ju=!0,kh(function(){0!==(6&dc)?ie(ue,Nu):Fu()}))}function Ru(e,t){if(!Mu&&Du){Mu=!0;do{for(var n=!1,r=Pu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-we(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Uu(r,o))}else o=mc,0===(3&(o=Ee(r,r===pc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Oe(r,o)||(n=!0,Uu(r,o));r=r.next}}while(n);Mu=!1}}function Nu(){Fu()}function Fu(){Du=ju=!1;var e=0;0!==Lu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wh&&(wh=e,!0);return wh=null,!1}()&&(e=Lu);for(var t=le(),n=null,r=Pu;null!==r;){var i=r.next,o=zu(r,t);0===o?(r.next=null,null===n?Pu=i:n.next=i,null===i&&(Au=n)):(n=r,(0!==e||0!==(3&o))&&(Du=!0)),r=i}0!==Nc&&5!==Nc||Ru(e,!1),0!==Lu&&(Lu=0)}function zu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-we(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=Pe(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=mc,n=Ee(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Oe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Ne(n)){case 2:case 8:n=he;break;case 32:default:n=fe;break;case 268435456:n=pe}return r=Bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Bu(e,t){if(0!==Nc&&5!==Nc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=mc;return 0===(r=Ee(e,e===pc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Zc(e,r,t),zu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Bu.bind(null,e):null)}function Uu(e,t){if(wu())return null;Zc(e,t,!0)}function Wu(){if(0===Lu){var e=Hi;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Lu=e}return Lu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:jt(""+e)}function Yu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Vu=0;Vu<kr.length;Vu++){var Gu=kr[Vu];Tr(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}Tr(mr,"onAnimationEnd"),Tr(yr,"onAnimationIteration"),Tr(vr,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(br,"onTransitionRun"),Tr(wr,"onTransitionStart"),Tr(_r,"onTransitionCancel"),Tr(xr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xu));function Zu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){Cr(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){Cr(u)}i.currentTarget=null,o=l}}}}function Ku(e,t){var n=t[Ye];void 0===n&&(n=t[Ye]=new Set);var r=e+"__bubble";n.has(r)||(eh(t,e,2,!1),n.add(r))}function $u(e,t,n){var r=0;t&&(r|=4),eh(n,e,r,t)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[Qu]){e[Qu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(qu.has(t)||$u(t,!1,e),$u(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qu]||(t[Qu]=!0,$u("selectionchange",!1,t))}}function eh(e,t,n,r){switch(Ef(t)){case 2:var i=_f;break;case 8:i=xf;break;default:i=Sf}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function th(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==s;){if(null===(a=Ke(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=o=a;continue e}s=s.parentNode}}r=r.return}zt(function(){var r=o,i=Lt(n),a=[];e:{var s=Sr.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case mr:case yr:case vr:c=un;break;case xr:c=_n;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Sn}var h=0!==(4&t),f=!h&&("scroll"===e||"scrollend"===e),d=h?null!==s?s+"Capture":null:s;h=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===d||null!=(m=Bt(g,d))&&h.push(nh(g,m,p)),f)break;g=g.return}0<h.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Mt||!(u=n.relatedTarget||n.fromElement)||!Ke(u)&&!u[He])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ke(u):null)&&(f=l(u),h=u.tag,u!==f||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=sn,m="onMouseLeave",d="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=bn,m="onPointerLeave",d="onPointerEnter",g="pointer"),f=null==c?s:Qe(c),p=null==u?s:Qe(u),(s=new h(m,g+"leave",c,n,i)).target=f,s.relatedTarget=p,m=null,Ke(i)===r&&((h=new h(d,g+"enter",u,n,i)).target=p,h.relatedTarget=f,m=h),f=m,c&&u)e:{for(h=ih,g=u,p=0,m=d=c;m;m=h(m))p++;m=0;for(var y=g;y;y=h(y))m++;for(;0<p-m;)d=h(d),p--;for(;0<m-p;)g=h(g),m--;for(;p--;){if(d===g||null!==g&&d===g.alternate){h=d;break e}d=h(d),g=h(g)}h=null}else h=null;null!==c&&oh(a,s,c,h,!1),null!==u&&null!==f&&oh(a,f,u,h,!0)}if("select"===(c=(s=r?Qe(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Un;else if(In(s))if(Wn)v=$n;else{v=Zn;var b=qn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Ot(r.elementType)&&(v=Un):v=Kn;switch(v&&(v=v(e,r))?Rn(a,v,n,i):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&wt(s,"number",s.value)),b=r?Qe(r):window,e){case"focusin":(In(b)||"true"===b.contentEditable)&&(ar=b,sr=r,lr=null);break;case"focusout":lr=sr=ar=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(a,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":ur(a,n,i)}var w;if(Tn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Mn?jn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(On&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Mn&&(w=Xt()):(Vt="value"in(Yt=i)?Yt.value:Yt.textContent,Mn=!0)),0<(b=rh(r,_)).length&&(_=new fn(_,e,null,n,i),a.push({event:_,listeners:b}),w?_.data=w:null!==(w=Dn(n))&&(_.data=w))),(w=En?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(An=!0,Pn);case"textInput":return(e=t.data)===Pn&&An?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!Tn&&jn(e,t)?(e=Xt(),Gt=Vt=Yt=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(_=rh(r,"onBeforeInput")).length&&(b=new fn("onBeforeInput","beforeinput",null,n,i),a.push({event:b,listeners:_}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Hu((i[We]||null).action),a=r.submitter;a&&null!==(t=(t=a[We]||null)?Hu(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new nn("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Lu){var e=a?Yu(i,a):new FormData(i);ts(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?Yu(i,a):new FormData(i),ts(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,r,n,i)}Zu(a,t)})}function nh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rh(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Bt(e,n))&&r.unshift(nh(e,i,o)),null!=(i=Bt(e,t))&&r.push(nh(e,i,o))),3===e.tag)return r;e=e.return}return[]}function ih(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function oh(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Bt(n,o))&&a.unshift(nh(n,c,l)):i||null!=(c=Bt(n,o))&&a.push(nh(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ah=/\r\n?/g,sh=/\u0000|\uFFFD/g;function lh(e){return("string"===typeof e?e:""+e).replace(ah,"\n").replace(sh,"")}function ch(e,t){return t=lh(t),lh(e)===t}function uh(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Et(e,r,o);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&uh(e,t,"name",i.name,i,null),uh(e,t,"formEncType",i.formEncType,i,null),uh(e,t,"formMethod",i.formMethod,i,null),uh(e,t,"formTarget",i.formTarget,i,null)):(uh(e,t,"encType",i.encType,i,null),uh(e,t,"method",i.method,i,null),uh(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Dt);break;case"onScroll":null!=r&&Ku("scroll",e);break;case"onScrollEnd":null!=r&&Ku("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=jt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ku("beforetoggle",e),Ku("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Pt.get(n)||n,r)}}function hh(e,t,n,r,i,o){switch(n){case"style":Et(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Ku("scroll",e);break;case"onScrollEnd":null!=r&&Ku("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Dt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[We]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ku("error",e),Ku("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:uh(e,t,r,s,n,null)}}return o&&uh(e,t,"srcSet",n.srcSet,n,null),void(i&&uh(e,t,"src",n.src,n,null));case"input":Ku("invalid",e);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":o=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:uh(e,t,i,h,n,null)}}return void bt(e,r,l,c,u,s,o,!1);case"select":for(o in Ku("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:uh(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=n&&_t(e,!!i,n,!0));case"textarea":for(s in Ku("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:uh(e,t,s,l,n,null)}return void St(e,i,o,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else uh(e,t,c,i,n,null);return;case"dialog":Ku("beforetoggle",e),Ku("toggle",e),Ku("cancel",e),Ku("close",e);break;case"iframe":case"object":Ku("load",e);break;case"video":case"audio":for(i=0;i<Xu.length;i++)Ku(Xu[i],e);break;case"image":Ku("error",e),Ku("load",e);break;case"details":Ku("toggle",e);break;case"embed":case"source":case"link":Ku("error",e),Ku("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:uh(e,t,u,i,n,null)}return;default:if(Ot(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&hh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&uh(e,t,l,i,n,null))}function dh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var ph=null,gh=null;function mh(e){return 9===e.nodeType?e:e.ownerDocument}function yh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wh=null;var _h="function"===typeof setTimeout?setTimeout:void 0,xh="function"===typeof clearTimeout?clearTimeout:void 0,Sh="function"===typeof Promise?Promise:void 0,kh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sh?function(e){return Sh.resolve(null).then(e).catch(Th)}:_h;function Th(e){setTimeout(function(){throw e})}function Ch(e){return"head"===e}function Eh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vf(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fh(e.ownerDocument.documentElement);else if("head"===n){Fh(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var a=o.nextSibling,s=o.nodeName;o[qe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}else"body"===n&&Fh(e.ownerDocument.body);n=i}while(n);Vf(t)}function Oh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ph(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ph(n),Ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ah(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Mh(e.nextSibling)))return null}return e}function jh(e){return"$?"===e.data||"$~"===e.data}function Dh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Mh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Lh=null;function Ih(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Mh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Rh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Nh(e,t,n){switch(t=mh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Fh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ze(e)}var zh=new Map,Bh=new Set;function Uh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Wh=I.d;I.d={f:function(){var e=Wh.f(),t=Jc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):Wh.r(e)},D:function(e){Wh.D(e),Yh("dns-prefetch",e,null)},C:function(e,t){Wh.C(e,t),Yh("preconnect",e,t)},L:function(e,t,n){Wh.L(e,t,n);var r=Hh;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var o=i;switch(t){case"style":o=Gh(e);break;case"script":o=Zh(e)}zh.has(o)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zh.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Xh(o))||"script"===t&&r.querySelector(Kh(o))||(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Wh.m(e,t);var n=Hh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Zh(e)}if(!zh.has(o)&&(e=d({rel:"modulepreload",href:e},t),zh.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Kh(o)))return}fh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Wh.X(e,t);var n=Hh;if(n&&e){var r=Je(n).hoistableScripts,i=Zh(e),o=r.get(i);o||((o=n.querySelector(Kh(i)))||(e=d({src:e,async:!0},t),(t=zh.get(i))&&ef(e,t),et(o=n.createElement("script")),fh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Wh.S(e,t,n);var r=Hh;if(r&&e){var i=Je(r).hoistableStyles,o=Gh(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Xh(o)))s.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zh.get(o))&&Jh(e,n);var l=a=r.createElement("link");et(l),fh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Qh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){Wh.M(e,t);var n=Hh;if(n&&e){var r=Je(n).hoistableScripts,i=Zh(e),o=r.get(i);o||((o=n.querySelector(Kh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=zh.get(i))&&ef(e,t),et(o=n.createElement("script")),fh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Hh="undefined"===typeof document?null:document;function Yh(e,t,n){var r=Hh;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Bh.has(i)||(Bh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Vh(e,t,n,r){var i,o,s,l,c=(c=G.current)?Uh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gh(n.href),(r=(n=Je(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gh(n.href);var u=Je(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Xh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),zh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zh.set(e,n),u||(i=c,o=e,s=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),fh(o,"link",s),et(o),i.head.appendChild(o))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Zh(n),(r=(n=Je(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Gh(e){return'href="'+yt(e)+'"'}function Xh(e){return'link[rel="stylesheet"]['+e+"]"}function qh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Zh(e){return'[src="'+yt(e)+'"]'}function Kh(e){return"script[async]"+e}function $h(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fh(r,"style",i),Qh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gh(n.href);var o=e.querySelector(Xh(i));if(o)return t.state.loading|=4,t.instance=o,et(o),o;r=qh(n),(i=zh.get(i))&&Jh(r,i),et(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fh(o,"link",r),t.state.loading|=4,Qh(o,n.precedence,e),t.instance=o;case"script":return o=Zh(n.src),(i=e.querySelector(Kh(o)))?(t.instance=i,et(i),i):(r=n,(i=zh.get(o))&&ef(r=d({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Qh(r,n.precedence,e));return t.instance}function Qh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Jh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ef(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tf=null;function nf(e,t,n){if(null===tf){var r=new Map,i=tf=new Map;i.set(n,r)}else(r=(i=tf).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[qe]||o[Ue]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function rf(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function of(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var af=0;function sf(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lf=null;function cf(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lf=new Map,t.forEach(uf,e),lf=null,sf.call(e))}function uf(e,t){if(!(4&t.state.loading)){var n=lf.get(e);if(n)var r=n.get(null);else{n=new Map,lf.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=sf.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var hf={$$typeof:_,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function ff(e,t,n,r,i,o,a,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.hiddenUpdates=je(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function df(e,t,n,r,i,o,a,s,l,c,u,h){return e=new ff(e,t,n,a,l,c,u,h,s),t=1,!0===o&&(t|=24),o=Fr(3,null,null,t),e.current=o,o.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},yo(o),e}function pf(e){return e?e=Rr:Rr}function gf(e,t,n,r,i,o){i=pf(i),null===r.context?r.context=i:r.pendingContext=i,(r=bo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=wo(e,r,t))&&(qc(n,0,t),_o(n,e,t))}function mf(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yf(e,t){mf(e,t),(e=e.alternate)&&mf(e,t)}function vf(e){if(13===e.tag||31===e.tag){var t=Mr(e,67108864);null!==t&&qc(t,0,67108864),yf(e,67108864)}}function bf(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Mr(e,t=Re(t));null!==n&&qc(n,0,t),yf(e,t)}}var wf=!0;function _f(e,t,n,r){var i=L.T;L.T=null;var o=I.p;try{I.p=2,Sf(e,t,n,r)}finally{I.p=o,L.T=i}}function xf(e,t,n,r){var i=L.T;L.T=null;var o=I.p;try{I.p=8,Sf(e,t,n,r)}finally{I.p=o,L.T=i}}function Sf(e,t,n,r){if(wf){var i=kf(r);if(null===i)th(e,t,r,Tf,n),Rf(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pf=Nf(Pf,e,t,n,r,i),!0;case"dragenter":return Af=Nf(Af,e,t,n,r,i),!0;case"mouseover":return jf=Nf(jf,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Df.set(o,Nf(Df.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mf.set(o,Nf(Mf.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rf(e,r),4&t&&-1<If.indexOf(e)){for(;null!==i;){var o=$e(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=Ce(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-we(a);s.entanglements[1]|=l,a&=~l}Iu(o),0===(6&dc)&&(Lc=le()+500,Ru(0,!1))}}break;case 31:case 13:null!==(s=Mr(o,2))&&qc(s,0,2),Jc(),yf(o,2)}if(null===(o=kf(r))&&th(e,t,r,Tf,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else th(e,t,r,null,n)}}function kf(e){return Cf(e=Lt(e))}var Tf=null;function Cf(e){if(Tf=null,null!==(e=Ke(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Tf=e,null}function Ef(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case he:return 8;case fe:case de:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Of=!1,Pf=null,Af=null,jf=null,Df=new Map,Mf=new Map,Lf=[],If="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rf(e,t){switch(e){case"focusin":case"focusout":Pf=null;break;case"dragenter":case"dragleave":Af=null;break;case"mouseover":case"mouseout":jf=null;break;case"pointerover":case"pointerout":Df.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mf.delete(t.pointerId)}}function Nf(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&vf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ff(e){var t=Ke(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){bf(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void ze(e.priority,function(){bf(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=kf(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&vf(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Mt=r,n.target.dispatchEvent(r),Mt=null,t.shift()}return!0}function Bf(e,t,n){zf(e)&&n.delete(t)}function Uf(){Of=!1,null!==Pf&&zf(Pf)&&(Pf=null),null!==Af&&zf(Af)&&(Af=null),null!==jf&&zf(jf)&&(jf=null),Df.forEach(Bf),Mf.forEach(Bf)}function Wf(e,t){e.blockedOn===t&&(e.blockedOn=null,Of||(Of=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Uf)))}var Hf=null;function Yf(e){Hf!==e&&(Hf=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hf===e&&(Hf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Cf(r||n))continue;break}var o=$e(n);null!==o&&(e.splice(t,3),t-=3,ts(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vf(e){function t(t){return Wf(t,e)}null!==Pf&&Wf(Pf,e),null!==Af&&Wf(Af,e),null!==jf&&Wf(jf,e),Df.forEach(t),Mf.forEach(t);for(var n=0;n<Lf.length;n++){var r=Lf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Lf.length&&null===(n=Lf[0]).blockedOn;)Ff(n),null===n.blockedOn&&Lf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[We]||null;if("function"===typeof o)a||Yf(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[We]||null)s=a.formAction;else if(null!==Cf(i))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Yf(n)}}}function Gf(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Xf(e){this._internalRoot=e}function qf(e){this._internalRoot=e}qf.prototype.render=Xf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));gf(t.current,Gc(),e,t,null,null)},qf.prototype.unmount=Xf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gf(e.current,2,null,e,null,null),Jc(),t[He]=null}},qf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lf.length&&0!==t&&t<Lf[n].priority;n++);Lf.splice(n,0,e),0===n&&Ff(e)}};var Zf=i.version;if("19.2.3"!==Zf)throw Error(a(527,Zf,"19.2.3"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return h(i),e;if(o===r)return h(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?f(e):null)?null:e.stateNode};var Kf={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{ye=$f.inject(Kf),ve=$f}catch(Jf){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",i=ks,o=Ts,l=Cs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=df(e,1,!1,null,0,n,r,null,i,o,l,Gf),e[He]=t.current,Ju(e),new Xf(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,i="",o=ks,l=Ts,c=Cs,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=df(e,1,!0,t,0,r,i,u,o,l,c,Gf)).context=pf(null),n=t.current,(i=bo(r=Re(r=Gc()))).callback=null,wo(n,i,r),n=r,t.current.lanes=n,De(t,n),Iu(t),e[He]=t.current,Ju(e),new qf(t)},t.version="19.2.3"},43(e,t,n){"use strict";e.exports=n(288)},224(e,t,n){e.exports=function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){return i(t[a][1][e]||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){(function(t){(function(){"use strict";let r=e("./interlace"),i=[function(){},function(e,t,n,r){if(r===t.length)throw new Error("Ran out of data");let i=t[r];e[n]=i,e[n+1]=i,e[n+2]=i,e[n+3]=255},function(e,t,n,r){if(r+1>=t.length)throw new Error("Ran out of data");let i=t[r];e[n]=i,e[n+1]=i,e[n+2]=i,e[n+3]=t[r+1]},function(e,t,n,r){if(r+2>=t.length)throw new Error("Ran out of data");e[n]=t[r],e[n+1]=t[r+1],e[n+2]=t[r+2],e[n+3]=255},function(e,t,n,r){if(r+3>=t.length)throw new Error("Ran out of data");e[n]=t[r],e[n+1]=t[r+1],e[n+2]=t[r+2],e[n+3]=t[r+3]}],o=[function(){},function(e,t,n,r){let i=t[0];e[n]=i,e[n+1]=i,e[n+2]=i,e[n+3]=r},function(e,t,n){let r=t[0];e[n]=r,e[n+1]=r,e[n+2]=r,e[n+3]=t[1]},function(e,t,n,r){e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=r},function(e,t,n){e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3]}];function a(e,t){let n=[],r=0;function i(){if(r===e.length)throw new Error("Ran out of data");let i,o,a,s,l,c,u,h,f=e[r];switch(r++,t){default:throw new Error("unrecognised depth");case 16:u=e[r],r++,n.push((f<<8)+u);break;case 4:u=15&f,h=f>>4,n.push(h,u);break;case 2:l=3&f,c=f>>2&3,u=f>>4&3,h=f>>6&3,n.push(h,u,c,l);break;case 1:i=1&f,o=f>>1&1,a=f>>2&1,s=f>>3&1,l=f>>4&1,c=f>>5&1,u=f>>6&1,h=f>>7&1,n.push(h,u,c,l,s,a,o,i)}}return{get:function(e){for(;n.length<e;)i();let t=n.slice(0,e);return n=n.slice(e),t},resetAfterLine:function(){n.length=0},end:function(){if(r!==e.length)throw new Error("extra data found")}}}function s(e,t,n,r,o,a){let s=e.width,l=e.height,c=e.index;for(let u=0;u<l;u++)for(let e=0;e<s;e++){let s=n(e,u,c);i[r](t,o,s,a),a+=r}return a}function l(e,t,n,r,i,a){let s=e.width,l=e.height,c=e.index;for(let u=0;u<l;u++){for(let e=0;e<s;e++){let s=i.get(r),l=n(e,u,c);o[r](t,s,l,a)}i.resetAfterLine()}}n.dataToBitMap=function(e,n){let i,o,c=n.width,u=n.height,h=n.depth,f=n.bpp,d=n.interlace;8!==h&&(i=a(e,h)),o=h<=8?t.alloc(c*u*4):new Uint16Array(c*u*4);let p,g,m=Math.pow(2,h)-1,y=0;if(d)p=r.getImagePasses(c,u),g=r.getInterlaceIterator(c,u);else{let e=0;g=function(){let t=e;return e+=4,t},p=[{width:c,height:u}]}for(let t=0;t<p.length;t++)8===h?y=s(p[t],o,g,f,e,y):l(p[t],o,g,f,i,m);if(8===h){if(y!==e.length)throw new Error("extra data found")}else i.end();return o}}).call(this)}).call(this,e("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(e,t,n){(function(n){(function(){"use strict";let r=e("./constants");t.exports=function(e,t,i,o){let a=-1!==[r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(o.colorType);if(o.colorType===o.inputColorType){let t=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256!==new Int16Array(e)[0]}();if(8===o.bitDepth||16===o.bitDepth&&t)return e}let s=16!==o.bitDepth?e:new Uint16Array(e.buffer),l=255,c=r.COLORTYPE_TO_BPP_MAP[o.inputColorType];4!==c||o.inputHasAlpha||(c=3);let u=r.COLORTYPE_TO_BPP_MAP[o.colorType];16===o.bitDepth&&(l=65535,u*=2);let h=n.alloc(t*i*u),f=0,d=0,p=o.bgColor||{};function g(){let e,t,n,i=l;switch(o.inputColorType){case r.COLORTYPE_COLOR_ALPHA:i=s[f+3],e=s[f],t=s[f+1],n=s[f+2];break;case r.COLORTYPE_COLOR:e=s[f],t=s[f+1],n=s[f+2];break;case r.COLORTYPE_ALPHA:i=s[f+1],e=s[f],t=e,n=e;break;case r.COLORTYPE_GRAYSCALE:e=s[f],t=e,n=e;break;default:throw new Error("input color type:"+o.inputColorType+" is not supported at present")}return o.inputHasAlpha&&(a||(i/=l,e=Math.min(Math.max(Math.round((1-i)*p.red+i*e),0),l),t=Math.min(Math.max(Math.round((1-i)*p.green+i*t),0),l),n=Math.min(Math.max(Math.round((1-i)*p.blue+i*n),0),l))),{red:e,green:t,blue:n,alpha:i}}void 0===p.red&&(p.red=l),void 0===p.green&&(p.green=l),void 0===p.blue&&(p.blue=l);for(let n=0;n<i;n++)for(let e=0;e<t;e++){let e=g(s,f);switch(o.colorType){case r.COLORTYPE_COLOR_ALPHA:case r.COLORTYPE_COLOR:8===o.bitDepth?(h[d]=e.red,h[d+1]=e.green,h[d+2]=e.blue,a&&(h[d+3]=e.alpha)):(h.writeUInt16BE(e.red,d),h.writeUInt16BE(e.green,d+2),h.writeUInt16BE(e.blue,d+4),a&&h.writeUInt16BE(e.alpha,d+6));break;case r.COLORTYPE_ALPHA:case r.COLORTYPE_GRAYSCALE:{let t=(e.red+e.green+e.blue)/3;8===o.bitDepth?(h[d]=t,a&&(h[d+1]=e.alpha)):(h.writeUInt16BE(t,d),a&&h.writeUInt16BE(e.alpha,d+2));break}default:throw new Error("unrecognised color Type "+o.colorType)}f+=c,d+=u}return h}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(e,t,n){(function(n,r){(function(){"use strict";let i=e("util"),o=e("stream"),a=t.exports=function(){o.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};i.inherits(a,o),a.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),n.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},a.prototype.write=function(e,t){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let n;return n=r.isBuffer(e)?e:r.from(e,t||this._encoding),this._buffers.push(n),this._buffered+=n.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused},a.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},a.prototype.destroySoon=a.prototype.end,a.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},a.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},a.prototype._processReadAllowingLess=function(e){this._reads.shift();let t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},a.prototype._processRead=function(e){this._reads.shift();let t=0,n=0,i=r.alloc(e.length);for(;t<e.length;){let r=this._buffers[n++],o=Math.min(r.length,e.length-t);r.copy(i,t,0,o),t+=o,o!==r.length&&(this._buffers[--n]=r.slice(o))}n>0&&this._buffers.splice(0,n),this._buffered-=e.length,e.func.call(this,i)},a.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else{if(!(this._buffered>=e.length))break;this._processRead(e)}}this._buffers&&!this.writable&&this._end()}catch(e){this.emit("error",e)}}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(e,t,n){"use strict";t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(e,t,n){"use strict";let r=[];!function(){for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;r[e]=t}}();let i=t.exports=function(){this._crc=-1};i.prototype.write=function(e){for(let t=0;t<e.length;t++)this._crc=r[255&(this._crc^e[t])]^this._crc>>>8;return!0},i.prototype.crc32=function(){return-1^this._crc},i.crc32=function(e){let t=-1;for(let n=0;n<e.length;n++)t=r[255&(t^e[n])]^t>>>8;return-1^t}},{}],6:[function(e,t,n){(function(n){(function(){"use strict";let r=e("./paeth-predictor");function i(e,t,n,r,i){for(let o=0;o<n;o++)r[i+o]=e[t+o]}function o(e,t,n){let r=0,i=t+n;for(let o=t;o<i;o++)r+=Math.abs(e[o]);return r}function a(e,t,n,r,i,o){for(let a=0;a<n;a++){let n=a>=o?e[t+a-o]:0,s=e[t+a]-n;r[i+a]=s}}function s(e,t,n,r){let i=0;for(let o=0;o<n;o++){let n=o>=r?e[t+o-r]:0,a=e[t+o]-n;i+=Math.abs(a)}return i}function l(e,t,n,r,i){for(let o=0;o<n;o++){let a=t>0?e[t+o-n]:0,s=e[t+o]-a;r[i+o]=s}}function c(e,t,n){let r=0,i=t+n;for(let o=t;o<i;o++){let i=t>0?e[o-n]:0,a=e[o]-i;r+=Math.abs(a)}return r}function u(e,t,n,r,i,o){for(let a=0;a<n;a++){let s=a>=o?e[t+a-o]:0,l=t>0?e[t+a-n]:0,c=e[t+a]-(s+l>>1);r[i+a]=c}}function h(e,t,n,r){let i=0;for(let o=0;o<n;o++){let a=o>=r?e[t+o-r]:0,s=t>0?e[t+o-n]:0,l=e[t+o]-(a+s>>1);i+=Math.abs(l)}return i}function f(e,t,n,i,o,a){for(let s=0;s<n;s++){let l=s>=a?e[t+s-a]:0,c=t>0?e[t+s-n]:0,u=t>0&&s>=a?e[t+s-(n+a)]:0,h=e[t+s]-r(l,c,u);i[o+s]=h}}function d(e,t,n,i){let o=0;for(let a=0;a<n;a++){let s=a>=i?e[t+a-i]:0,l=t>0?e[t+a-n]:0,c=t>0&&a>=i?e[t+a-(n+i)]:0,u=e[t+a]-r(s,l,c);o+=Math.abs(u)}return o}let p={0:i,1:a,2:l,3:u,4:f},g={0:o,1:s,2:c,3:h,4:d};t.exports=function(e,t,r,i,o){let a;if("filterType"in i&&-1!==i.filterType){if("number"!==typeof i.filterType)throw new Error("unrecognised filter types");a=[i.filterType]}else a=[0,1,2,3,4];16===i.bitDepth&&(o*=2);let s=t*o,l=0,c=0,u=n.alloc((s+1)*r),h=a[0];for(let n=0;n<r;n++){if(a.length>1){let t=1/0;for(let n=0;n<a.length;n++){let r=g[a[n]](e,c,s,o);r<t&&(h=a[n],t=r)}}u[l]=h,l++,p[h](e,c,s,u,l,o),l+=s,c+=s}return u}}).call(this)}).call(this,e("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(e,t,n){(function(n){(function(){"use strict";let r=e("util"),i=e("./chunkstream"),o=e("./filter-parse"),a=t.exports=function(e){i.call(this);let t=[],r=this;this._filter=new o(e,{read:this.read.bind(this),write:function(e){t.push(e)},complete:function(){r.emit("complete",n.concat(t))}}),this._filter.start()};r.inherits(a,i)}).call(this)}).call(this,e("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(e,t,n){(function(t){(function(){"use strict";let r=e("./sync-reader"),i=e("./filter-parse");n.process=function(e,n){let o=[],a=new r(e);return new i(n,{read:a.read.bind(a),write:function(e){o.push(e)},complete:function(){}}).start(),a.process(),t.concat(o)}}).call(this)}).call(this,e("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(e,t,n){(function(n){(function(){"use strict";let r=e("./interlace"),i=e("./paeth-predictor");function o(e,t,n){let r=e*t;return 8!==n&&(r=Math.ceil(r/(8/n))),r}let a=t.exports=function(e,t){let n=e.width,i=e.height,a=e.interlace,s=e.bpp,l=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],a){let e=r.getImagePasses(n,i);for(let t=0;t<e.length;t++)this._images.push({byteWidth:o(e[t].width,s,l),height:e[t].height,lineIndex:0})}else this._images.push({byteWidth:o(n,s,l),height:i,lineIndex:0});this._xComparison=8===l?s:16===l?2*s:1};a.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},a.prototype._unFilterType1=function(e,t,n){let r=this._xComparison,i=r-1;for(let o=0;o<n;o++){let n=e[1+o],a=o>i?t[o-r]:0;t[o]=n+a}},a.prototype._unFilterType2=function(e,t,n){let r=this._lastLine;for(let i=0;i<n;i++){let n=e[1+i],o=r?r[i]:0;t[i]=n+o}},a.prototype._unFilterType3=function(e,t,n){let r=this._xComparison,i=r-1,o=this._lastLine;for(let a=0;a<n;a++){let n=e[1+a],s=o?o[a]:0,l=a>i?t[a-r]:0,c=Math.floor((l+s)/2);t[a]=n+c}},a.prototype._unFilterType4=function(e,t,n){let r=this._xComparison,o=r-1,a=this._lastLine;for(let s=0;s<n;s++){let n=e[1+s],l=a?a[s]:0,c=s>o?t[s-r]:0,u=s>o&&a?a[s-r]:0,h=i(c,l,u);t[s]=n+h}},a.prototype._reverseFilterLine=function(e){let t,r=e[0],i=this._images[this._imageIndex],o=i.byteWidth;if(0===r)t=e.slice(1,o+1);else switch(t=n.alloc(o),r){case 1:this._unFilterType1(e,t,o);break;case 2:this._unFilterType2(e,t,o);break;case 3:this._unFilterType3(e,t,o);break;case 4:this._unFilterType4(e,t,o);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(t),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=t,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,e("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(e,t,n){(function(e){(function(){"use strict";function n(e,t,n,r,i){let o=0;for(let a=0;a<r;a++)for(let r=0;r<n;r++){let n=i[e[o]];if(!n)throw new Error("index "+e[o]+" not in palette");for(let e=0;e<4;e++)t[o+e]=n[e];o+=4}}function r(e,t,n,r,i){let o=0;for(let a=0;a<r;a++)for(let r=0;r<n;r++){let n=!1;if(1===i.length?i[0]===e[o]&&(n=!0):i[0]===e[o]&&i[1]===e[o+1]&&i[2]===e[o+2]&&(n=!0),n)for(let e=0;e<4;e++)t[o+e]=0;o+=4}}function i(e,t,n,r,i){let o=255,a=Math.pow(2,i)-1,s=0;for(let l=0;l<r;l++)for(let r=0;r<n;r++){for(let n=0;n<4;n++)t[s+n]=Math.floor(e[s+n]*o/a+.5);s+=4}}t.exports=function(t,o){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=o.depth,l=o.width,c=o.height,u=o.colorType,h=o.transColor,f=o.palette,d=t;return 3===u?n(t,d,l,c,f):(h&&r(t,d,l,c,h),8===s||a||(16===s&&(d=e.alloc(l*c*4)),i(t,d,l,c,s))),d}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:32}],11:[function(e,t,n){"use strict";let r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];n.getImagePasses=function(e,t){let n=[],i=e%8,o=t%8,a=(e-i)/8,s=(t-o)/8;for(let l=0;l<r.length;l++){let e=r[l],t=a*e.x.length,c=s*e.y.length;for(let n=0;n<e.x.length&&e.x[n]<i;n++)t++;for(let n=0;n<e.y.length&&e.y[n]<o;n++)c++;t>0&&c>0&&n.push({width:t,height:c,index:l})}return n},n.getInterlaceIterator=function(e){return function(t,n,i){let o=t%r[i].x.length,a=(t-o)/r[i].x.length*8+r[i].x[o],s=n%r[i].y.length;return 4*a+((n-s)/r[i].y.length*8+r[i].y[s])*e*4}}},{}],12:[function(e,t,n){(function(n){(function(){"use strict";let r=e("util"),i=e("stream"),o=e("./constants"),a=e("./packer"),s=t.exports=function(e){i.call(this);let t=e||{};this._packer=new a(t),this._deflate=this._packer.createDeflate(),this.readable=!0};r.inherits(s,i),s.prototype.pack=function(e,t,r,i){this.emit("data",n.from(o.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),i&&this.emit("data",this._packer.packGAMA(i));let a=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(e){this.emit("data",this._packer.packIDAT(e))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(a)}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(e,t,n){(function(n){(function(){"use strict";let r=!0,i=e("zlib");i.deflateSync||(r=!1);let o=e("./constants"),a=e("./packer");t.exports=function(e,t){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let s=new a(t||{}),l=[];l.push(n.from(o.PNG_SIGNATURE)),l.push(s.packIHDR(e.width,e.height)),e.gamma&&l.push(s.packGAMA(e.gamma));let c=s.filterData(e.data,e.width,e.height),u=i.deflateSync(c,s.getDeflateOptions());if(c=null,!u||!u.length)throw new Error("bad png - invalid compressed data response");return l.push(s.packIDAT(u)),l.push(s.packIEND()),n.concat(l)}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(e,t,n){(function(n){(function(){"use strict";let r=e("./constants"),i=e("./crc"),o=e("./bitpacker"),a=e("./filter-pack"),s=e("zlib"),l=t.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null==e.inputHasAlpha||e.inputHasAlpha,e.deflateFactory=e.deflateFactory||s.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType="number"===typeof e.colorType?e.colorType:r.COLORTYPE_COLOR_ALPHA,e.inputColorType="number"===typeof e.inputColorType?e.inputColorType:r.COLORTYPE_COLOR_ALPHA,-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.colorType))throw new Error("option color type:"+e.colorType+" is not supported at present");if(-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.inputColorType))throw new Error("option input color type:"+e.inputColorType+" is not supported at present");if(8!==e.bitDepth&&16!==e.bitDepth)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};l.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},l.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},l.prototype.filterData=function(e,t,n){let i=o(e,t,n,this._options),s=r.COLORTYPE_TO_BPP_MAP[this._options.colorType];return a(i,t,n,this._options,s)},l.prototype._packChunk=function(e,t){let r=t?t.length:0,o=n.alloc(r+12);return o.writeUInt32BE(r,0),o.writeUInt32BE(e,4),t&&t.copy(o,8),o.writeInt32BE(i.crc32(o.slice(4,o.length-4)),o.length-4),o},l.prototype.packGAMA=function(e){let t=n.alloc(4);return t.writeUInt32BE(Math.floor(e*r.GAMMA_DIVISION),0),this._packChunk(r.TYPE_gAMA,t)},l.prototype.packIHDR=function(e,t){let i=n.alloc(13);return i.writeUInt32BE(e,0),i.writeUInt32BE(t,4),i[8]=this._options.bitDepth,i[9]=this._options.colorType,i[10]=0,i[11]=0,i[12]=0,this._packChunk(r.TYPE_IHDR,i)},l.prototype.packIDAT=function(e){return this._packChunk(r.TYPE_IDAT,e)},l.prototype.packIEND=function(){return this._packChunk(r.TYPE_IEND,null)}}).call(this)}).call(this,e("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(e,t,n){"use strict";t.exports=function(e,t,n){let r=e+t-n,i=Math.abs(r-e),o=Math.abs(r-t),a=Math.abs(r-n);return i<=o&&i<=a?e:o<=a?t:n}},{}],16:[function(e,t,n){"use strict";let r=e("util"),i=e("zlib"),o=e("./chunkstream"),a=e("./filter-parse-async"),s=e("./parser"),l=e("./bitmapper"),c=e("./format-normaliser"),u=t.exports=function(e){o.call(this),this._parser=new s(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};r.inherits(u,o),u.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},u.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let e=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,t=Math.max(e,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:t});let n=e,r=this.emit.bind(this,"error");this._inflate.on("error",function(e){n&&r(e)}),this._filter.on("complete",this._complete.bind(this));let o=this._filter.write.bind(this._filter);this._inflate.on("data",function(e){n&&(e.length>n&&(e=e.slice(0,n)),n-=e.length,o(e))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},u.prototype._handleMetaData=function(e){this._metaData=e,this._bitmapInfo=Object.create(e),this._filter=new a(this._bitmapInfo)},u.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},u.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},u.prototype._simpleTransparency=function(){this._metaData.alpha=!0},u.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},u.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},u.prototype._complete=function(e){if(this.errord)return;let t;try{let n=l.dataToBitMap(e,this._bitmapInfo);t=c(n,this._bitmapInfo,this._options.skipRescale),n=null}catch(n){return void this._handleError(n)}this.emit("parsed",t)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(e,t,n){(function(n){(function(){"use strict";let r=!0,i=e("zlib"),o=e("./sync-inflate");i.deflateSync||(r=!1);let a=e("./sync-reader"),s=e("./filter-parse-sync"),l=e("./parser"),c=e("./bitmapper"),u=e("./format-normaliser");t.exports=function(e,t){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let h,f,d;function p(e){h=e}function g(e){f=e}function m(e){f.transColor=e}function y(e){f.palette=e}function v(){f.alpha=!0}function b(e){d=e}let w=[];function _(e){w.push(e)}let x=new a(e);if(new l(t,{read:x.read.bind(x),error:p,metadata:g,gamma:b,palette:y,transColor:m,inflateData:_,simpleTransparency:v}).start(),x.process(),h)throw h;let S,k=n.concat(w);if(w.length=0,f.interlace)S=i.inflateSync(k);else{let e=(1+(f.width*f.bpp*f.depth+7>>3))*f.height;S=o(k,{chunkSize:e,maxLength:e})}if(k=null,!S||!S.length)throw new Error("bad png - invalid inflate data response");let T=s.process(S,f);k=null;let C=c.dataToBitMap(T,f);T=null;let E=u(C,f,t.skipRescale);return f.data=E,f.gamma=d||0,f}}).call(this)}).call(this,e("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(e,t,n){(function(n){(function(){"use strict";let r=e("./constants"),i=e("./crc"),o=t.exports=function(e,t){this._options=e,e.checkCRC=!1!==e.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[r.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[r.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[r.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[r.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[r.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[r.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished,this.simpleTransparency=t.simpleTransparency,this.headersFinished=t.headersFinished||function(){}};o.prototype.start=function(){this.read(r.PNG_SIGNATURE.length,this._parseSignature.bind(this))},o.prototype._parseSignature=function(e){let t=r.PNG_SIGNATURE;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},o.prototype._parseChunkBegin=function(e){let t=e.readUInt32BE(0),o=e.readUInt32BE(4),a="";for(let n=4;n<8;n++)a+=String.fromCharCode(e[n]);let s=Boolean(32&e[4]);if(this._hasIHDR||o===r.TYPE_IHDR){if(this._crc=new i,this._crc.write(n.from(a)),this._chunks[o])return this._chunks[o](t);s?this.read(t+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+a))}else this.error(new Error("Expected IHDR on beggining"))},o.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},o.prototype._parseChunkEnd=function(e){let t=e.readInt32BE(0),n=this._crc.crc32();this._options.checkCRC&&n!==t?this.error(new Error("Crc error - "+t+" - "+n)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},o.prototype._parseIHDR=function(e){this._crc.write(e);let t=e.readUInt32BE(0),n=e.readUInt32BE(4),i=e[8],o=e[9],a=e[10],s=e[11],l=e[12];if(8!==i&&4!==i&&2!==i&&1!==i&&16!==i)return void this.error(new Error("Unsupported bit depth "+i));if(!(o in r.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(0!==a)return void this.error(new Error("Unsupported compression method"));if(0!==s)return void this.error(new Error("Unsupported filter method"));if(0!==l&&1!==l)return void this.error(new Error("Unsupported interlace method"));this._colorType=o;let c=r.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:n,depth:i,interlace:Boolean(l),palette:Boolean(o&r.COLORTYPE_PALETTE),color:Boolean(o&r.COLORTYPE_COLOR),alpha:Boolean(o&r.COLORTYPE_ALPHA),bpp:c,colorType:o}),this._handleChunkEnd()},o.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},o.prototype._parsePLTE=function(e){this._crc.write(e);let t=Math.floor(e.length/3);for(let n=0;n<t;n++)this._palette.push([e[3*n],e[3*n+1],e[3*n+2],255]);this.palette(this._palette),this._handleChunkEnd()},o.prototype._handleTRNS=function(e){this.simpleTransparency(),this.read(e,this._parseTRNS.bind(this))},o.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===r.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(e.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===r.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===r.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()},o.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},o.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/r.GAMMA_DIVISION),this._handleChunkEnd()},o.prototype._handleIDAT=function(e){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-e,this._parseIDAT.bind(this,e))},o.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===r.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(t);let n=e-t.length;n>0?this._handleIDAT(n):this._handleChunkEnd()},o.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},o.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(e,t,n){"use strict";let r=e("./parser-sync"),i=e("./packer-sync");n.read=function(e,t){return r(e,t||{})},n.write=function(e,t){return i(e,t)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(e,t,n){(function(t,r){(function(){"use strict";let i=e("util"),o=e("stream"),a=e("./parser-async"),s=e("./packer-async"),l=e("./png-sync"),c=n.PNG=function(e){o.call(this),e=e||{},this.width=0|e.width,this.height=0|e.height,this.data=this.width>0&&this.height>0?r.alloc(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new a(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new s(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};i.inherits(c,o),c.sync=l,c.prototype.pack=function(){return this.data&&this.data.length?(t.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},c.prototype.parse=function(e,t){if(t){let e,n;e=function(e){this.removeListener("error",n),this.data=e,t(null,this)}.bind(this),n=function(n){this.removeListener("parsed",e),t(n,null)}.bind(this),this.once("parsed",e),this.once("error",n)}return this.end(e),this},c.prototype.write=function(e){return this._parser.write(e),!0},c.prototype.end=function(e){this._parser.end(e)},c.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},c.prototype._gamma=function(e){this.gamma=e},c.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},c.bitblt=function(e,t,n,r,i,o,a,s){if(r|=0,i|=0,o|=0,a|=0,s|=0,(n|=0)>e.width||r>e.height||n+i>e.width||r+o>e.height)throw new Error("bitblt reading outside image");if(a>t.width||s>t.height||a+i>t.width||s+o>t.height)throw new Error("bitblt writing outside image");for(let l=0;l<o;l++)e.data.copy(t.data,(s+l)*t.width+a<<2,(r+l)*e.width+n<<2,(r+l)*e.width+n+i<<2)},c.prototype.bitblt=function(e,t,n,r,i,o,a){return c.bitblt(this,e,t,n,r,i,o,a),this},c.adjustGamma=function(e){if(e.gamma){for(let t=0;t<e.height;t++)for(let n=0;n<e.width;n++){let r=e.width*t+n<<2;for(let t=0;t<3;t++){let n=e.data[r+t]/255;n=Math.pow(n,1/2.2/e.gamma),e.data[r+t]=Math.round(255*n)}}e.gamma=0}},c.prototype.adjustGamma=function(){c.adjustGamma(this)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(e,t,n){(function(r,i){(function(){"use strict";let o=e("assert").ok,a=e("zlib"),s=e("util"),l=e("buffer").kMaxLength;function c(e){if(!(this instanceof c))return new c(e);e&&e.chunkSize<a.Z_MIN_CHUNK&&(e.chunkSize=a.Z_MIN_CHUNK),a.Inflate.call(this,e),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&null!=e.maxLength&&(this._maxLength=e.maxLength)}function u(e){return new c(e)}function h(e,t){t&&r.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function f(e,t){if("string"===typeof t&&(t=i.from(t)),!(t instanceof i))throw new TypeError("Not a string or buffer");let n=e._finishFlushFlag;return null==n&&(n=a.Z_FINISH),e._processChunk(t,n)}function d(e,t){return f(new c(t),e)}c.prototype._processChunk=function(e,t,n){if("function"===typeof n)return a.Inflate._processChunk.call(this,e,t,n);let r,s,c=this,u=e&&e.length,f=this._chunkSize-this._offset,d=this._maxLength,p=0,g=[],m=0;function y(e,t){if(c._hadError)return;let n=f-t;if(o(n>=0,"have should not go down"),n>0){let e=c._buffer.slice(c._offset,c._offset+n);if(c._offset+=n,e.length>d&&(e=e.slice(0,d)),g.push(e),m+=e.length,d-=e.length,0===d)return!1}return(0===t||c._offset>=c._chunkSize)&&(f=c._chunkSize,c._offset=0,c._buffer=i.allocUnsafe(c._chunkSize)),0===t&&(p+=u-e,u=e,!0)}this.on("error",function(e){r=e}),o(this._handle,"zlib binding closed");do{s=this._handle.writeSync(t,e,p,u,this._buffer,this._offset,f),s=s||this._writeState}while(!this._hadError&&y(s[0],s[1]));if(this._hadError)throw r;if(m>=l)throw h(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes");let v=i.concat(g,m);return h(this),v},s.inherits(c,a.Inflate),t.exports=n=d,n.Inflate=c,n.createInflate=u,n.inflateSync=d}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(e,t,n){"use strict";let r=t.exports=function(e){this._buffer=e,this._reads=[]};r.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},r.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;{this._reads.shift();let t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(e,t,r){(function(n){(function(){"use strict";var r=e("object-assign");function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return n.Buffer&&"function"===typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=e("util/"),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function h(e){return!o(e)&&"function"===typeof n.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var f=t.exports=b,d=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(d);return t&&t[1]}}function g(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(c||!a.isFunction(e))return a.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function y(e){return g(m(e.actual),128)+" "+e.operator+" "+g(m(e.expected),128)}function v(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function b(e,t){e||v(e,!0,t,"==",f.ok)}function w(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(h(e)&&h(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),x(e,t,n,r))}return n?e===t:e==t}function _(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function x(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=_(e),o=_(t);if(i&&!o||!i&&o)return!1;if(i)return w(e=l.call(e),t=l.call(t),n);var s,c,u=O(e),h=O(t);if(u.length!==h.length)return!1;for(u.sort(),h.sort(),c=u.length-1;c>=0;c--)if(u[c]!==h[c])return!1;for(c=u.length-1;c>=0;c--)if(!w(e[s=u[c]],t[s],n,r))return!1;return!0}function S(e,t,n){w(e,t,!0)&&v(e,t,n,"notDeepStrictEqual",S)}function k(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function T(e){var t;try{e()}catch(n){t=n}return t}function C(e,t,n,r){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(r=n,n=null),i=T(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&v(i,n,"Missing expected exception"+r);var o="string"===typeof r,s=!e&&i&&!n;if((!e&&a.isError(i)&&o&&k(i,n)||s)&&v(i,n,"Got unwanted exception"+r),e&&i&&n&&!k(i,n)||!e&&i)throw i}function E(e,t){e||v(e,!0,t,"==",E)}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=y(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=p(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(f.AssertionError,Error),f.fail=v,f.ok=b,f.equal=function(e,t,n){e!=t&&v(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){w(e,t,!1)||v(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){w(e,t,!0)||v(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){w(e,t,!1)&&v(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=S,f.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){C(!0,e,t,n)},f.doesNotThrow=function(e,t,n){C(!1,e,t,n)},f.ifError=function(e){if(e)throw e},f.strict=r(E,f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var O=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this)}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"object-assign":51,"util/":26}],24:[function(e,t,n){"function"===typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],25:[function(e,t,n){t.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},{}],26:[function(e,t,r){(function(t,n){(function(){var i=/%[sdj%]/g;r.format=function(e){if(!x(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),l=r[n];n<o;l=r[++n])b(l)||!C(l)?a+=" "+l:a+=" "+s(l);return a},r.deprecate=function(e,i){if(k(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;function a(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}return a};var o,a={};function s(e,t){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),v(t)?n.showHidden=t:t&&r._extend(n,t),k(n.showHidden)&&(n.showHidden=!1),k(n.depth)&&(n.depth=2),k(n.colors)&&(n.colors=!1),k(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),h(n,e,n.depth)}function l(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function c(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function h(e,t,n){if(e.customInspect&&t&&P(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return x(i)||(i=h(e,i,n)),i}var o=f(e,t);if(o)return o;var a=Object.keys(t),s=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),O(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(t);if(0===a.length){if(P(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(T(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(E(t))return e.stylize(Date.prototype.toString.call(t),"date");if(O(t))return d(t)}var c,v="",b=!1,w=["{","}"];return y(t)&&(b=!0,w=["[","]"]),P(t)&&(v=" [Function"+(t.name?": "+t.name:"")+"]"),T(t)&&(v=" "+RegExp.prototype.toString.call(t)),E(t)&&(v=" "+Date.prototype.toUTCString.call(t)),O(t)&&(v=" "+d(t)),0!==a.length||b&&0!=t.length?n<0?T(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=b?p(e,t,n,s,a):a.map(function(r){return g(e,t,n,s,r,b)}),e.seen.pop(),m(c,v,w)):w[0]+v+w[1]}function f(e,t){if(k(t))return e.stylize("undefined","undefined");if(x(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return _(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)I(t,String(a))?o.push(g(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(g(e,t,n,r,i,!0))}),o}function g(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),I(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=b(n)?h(e,l.value,null):h(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),k(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function m(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function y(e){return Array.isArray(e)}function v(e){return"boolean"===typeof e}function b(e){return null===e}function w(e){return null==e}function _(e){return"number"===typeof e}function x(e){return"string"===typeof e}function S(e){return"symbol"===typeof e}function k(e){return void 0===e}function T(e){return C(e)&&"[object RegExp]"===j(e)}function C(e){return"object"===typeof e&&null!==e}function E(e){return C(e)&&"[object Date]"===j(e)}function O(e){return C(e)&&("[object Error]"===j(e)||e instanceof Error)}function P(e){return"function"===typeof e}function A(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function j(e){return Object.prototype.toString.call(e)}function D(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(k(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=t.pid;a[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else a[e]=function(){};return a[e]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=y,r.isBoolean=v,r.isNull=b,r.isNullOrUndefined=w,r.isNumber=_,r.isString=x,r.isSymbol=S,r.isUndefined=k,r.isRegExp=T,r.isObject=C,r.isDate=E,r.isError=O,r.isFunction=P,r.isPrimitive=A,r.isBuffer=e("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var e=new Date,t=[D(e.getHours()),D(e.getMinutes()),D(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",L(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!C(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this)}).call(this,e("_process"),"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(e,t,r){(function(e){(function(){"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],r="undefined"===typeof globalThis?e:globalThis;t.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"===typeof r[n[t]]&&(e[e.length]=n[t]);return e}}).call(this)}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],28:[function(e,t,n){"use strict";n.byteLength=u,n.toByteArray=f,n.fromByteArray=g;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function h(e,t,n){return 3*(t+n)/4-n}function f(e){var t,n,r=c(e),a=r[0],s=r[1],l=new o(h(e,a,s)),u=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l}function d(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(d(r));return i.join("")}function g(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(p(e,s,s+a>l?l:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],29:[function(e,t,n){},{}],30:[function(e,t,n){(function(t,r){(function(){"use strict";var i=e("assert"),o=e("pako/lib/zlib/zstream"),a=e("pako/lib/zlib/deflate.js"),s=e("pako/lib/zlib/inflate.js"),l=e("pako/lib/zlib/constants");for(var c in l)n[c]=l[c];n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7;var u=31,h=139;function f(e){if("number"!==typeof e||e<n.DEFLATE||e>n.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}f.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=n.UNZIP),this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==n.INFLATE&&this.mode!==n.GUNZIP&&this.mode!==n.INFLATERAW&&this.mode!==n.UNZIP||s.inflateEnd(this.strm),this.mode=n.NONE,this.dictionary=null)},f.prototype.write=function(e,t,n,r,i,o,a){return this._write(!0,e,t,n,r,i,o,a)},f.prototype.writeSync=function(e,t,n,r,i,o,a){return this._write(!1,e,t,n,r,i,o,a)},f.prototype._write=function(e,o,a,s,l,c,u,h){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==n.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==n.Z_NO_FLUSH&&o!==n.Z_PARTIAL_FLUSH&&o!==n.Z_SYNC_FLUSH&&o!==n.Z_FULL_FLUSH&&o!==n.Z_FINISH&&o!==n.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=r.alloc(0),l=0,s=0),this.strm.avail_in=l,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=h,this.strm.output=c,this.strm.next_out=u,this.flush=o,!e)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return t.nextTick(function(){f._process(),f._after()}),this},f.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},f.prototype._process=function(){var e=null;switch(this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case n.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(this.strm.input[e]!==u){this.mode=n.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;this.strm.input[e]===h?(this.gzip_id_bytes_read=2,this.mode=n.GUNZIP):this.mode=n.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===n.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===n.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===n.Z_DATA_ERROR&&(this.err=n.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===n.GUNZIP&&this.err===n.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},f.prototype._checkError=function(){switch(this.err){case n.Z_OK:case n.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===n.Z_FINISH)return this._error("unexpected end of file"),!1;break;case n.Z_STREAM_END:break;case n.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},f.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},f.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},f.prototype.init=function(e,t,r,o,a){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(t>=-1&&t<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(o===n.Z_FILTERED||o===n.Z_HUFFMAN_ONLY||o===n.Z_RLE||o===n.Z_FIXED||o===n.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(t,e,r,o,a),this._setDictionary()},f.prototype.params=function(){throw new Error("deflateParams Not supported")},f.prototype.reset=function(){this._reset(),this._setDictionary()},f.prototype._init=function(e,t,r,i,l){switch(this.level=e,this.windowBits=t,this.memLevel=r,this.strategy=i,this.flush=n.Z_NO_FLUSH,this.err=n.Z_OK,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==n.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},f.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==n.Z_OK&&this._error("Failed to set dictionary")}},f.prototype._reset=function(){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:case n.GZIP:this.err=a.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:case n.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==n.Z_OK&&this._error("Failed to reset stream")},n.Zlib=f}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(e,t,n){(function(t){(function(){"use strict";var r=e("buffer").Buffer,i=e("stream").Transform,o=e("./binding"),a=e("util"),s=e("assert").ok,l=e("buffer").kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(o),h=0;h<u.length;h++){var f=u[h];f.match(/^Z/)&&Object.defineProperty(n,f,{enumerable:!0,value:o[f],writable:!1})}for(var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},p=Object.keys(d),g=0;g<p.length;g++){var m=p[g];d[d[m]]=m}function y(e,t,n){var i=[],o=0;function a(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",a)}function s(t){e.removeListener("end",u),e.removeListener("readable",a),n(t)}function u(){var t,a=null;o>=l?a=new RangeError(c):t=r.concat(i,o),i=[],e.close(),n(a,t)}e.on("error",s),e.on("end",u),e.end(t),a()}function v(e,t){if("string"===typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function b(e){if(!(this instanceof b))return new b(e);E.call(this,e,o.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);E.call(this,e,o.INFLATE)}function _(e){if(!(this instanceof _))return new _(e);E.call(this,e,o.GZIP)}function x(e){if(!(this instanceof x))return new x(e);E.call(this,e,o.GUNZIP)}function S(e){if(!(this instanceof S))return new S(e);E.call(this,e,o.DEFLATERAW)}function k(e){if(!(this instanceof k))return new k(e);E.call(this,e,o.INFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);E.call(this,e,o.UNZIP)}function C(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function E(e,t){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||n.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!C(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!C(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag="undefined"!==typeof e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<n.Z_MIN_CHUNK||e.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<n.Z_MIN_WINDOWBITS||e.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<n.Z_MIN_LEVEL||e.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<n.Z_MIN_MEMLEVEL||e.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=n.Z_FILTERED&&e.strategy!=n.Z_HUFFMAN_ONLY&&e.strategy!=n.Z_RLE&&e.strategy!=n.Z_FIXED&&e.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(t);var s=this;this._hadError=!1,this._handle.onerror=function(e,t){O(s),s._hadError=!0;var r=new Error(e);r.errno=t,r.code=n.codes[t],s.emit("error",r)};var l=n.Z_DEFAULT_COMPRESSION;"number"===typeof e.level&&(l=e.level);var c=n.Z_DEFAULT_STRATEGY;"number"===typeof e.strategy&&(c=e.strategy),this._handle.init(e.windowBits||n.Z_DEFAULT_WINDOWBITS,l,e.memLevel||n.Z_DEFAULT_MEMLEVEL,c,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function O(e,n){n&&t.nextTick(n),e._handle&&(e._handle.close(),e._handle=null)}function P(e){e.emit("close")}Object.defineProperty(n,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),n.Deflate=b,n.Inflate=w,n.Gzip=_,n.Gunzip=x,n.DeflateRaw=S,n.InflateRaw=k,n.Unzip=T,n.createDeflate=function(e){return new b(e)},n.createInflate=function(e){return new w(e)},n.createDeflateRaw=function(e){return new S(e)},n.createInflateRaw=function(e){return new k(e)},n.createGzip=function(e){return new _(e)},n.createGunzip=function(e){return new x(e)},n.createUnzip=function(e){return new T(e)},n.deflate=function(e,t,n){return"function"===typeof t&&(n=t,t={}),y(new b(t),e,n)},n.deflateSync=function(e,t){return v(new b(t),e)},n.gzip=function(e,t,n){return"function"===typeof t&&(n=t,t={}),y(new _(t),e,n)},n.gzipSync=function(e,t){return v(new _(t),e)},n.deflateRaw=function(e,t,n){return"function"===typeof t&&(n=t,t={}),y(new S(t),e,n)},n.deflateRawSync=function(e,t){return v(new S(t),e)},n.unzip=function(e,t,n){return"function"===typeof t&&(n=t,t={}),y(new T(t),e,n)},n.unzipSync=function(e,t){return v(new T(t),e)},n.inflate=function(e,t,n){return"function"===typeof t&&(n=t,t={}),y(new w(t),e,n)},n.inflateSync=function(e,t){return v(new w(t),e)},n.gunzip=function(e,t,n){return"function"===typeof t&&(n=t,t={}),y(new x(t),e,n)},n.gunzipSync=function(e,t){return v(new x(t),e)},n.inflateRaw=function(e,t,n){return"function"===typeof t&&(n=t,t={}),y(new k(t),e,n)},n.inflateRawSync=function(e,t){return v(new k(t),e)},a.inherits(E,i),E.prototype.params=function(e,r,i){if(e<n.Z_MIN_LEVEL||e>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(r!=n.Z_FILTERED&&r!=n.Z_HUFFMAN_ONLY&&r!=n.Z_RLE&&r!=n.Z_FIXED&&r!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==e||this._strategy!==r){var a=this;this.flush(o.Z_SYNC_FLUSH,function(){s(a._handle,"zlib binding closed"),a._handle.params(e,r),a._hadError||(a._level=e,a._strategy=r,i&&i())})}else t.nextTick(i)},E.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},E.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},E.prototype.flush=function(e,n){var i=this,a=this._writableState;("function"===typeof e||void 0===e&&!n)&&(n=e,e=o.Z_FULL_FLUSH),a.ended?n&&t.nextTick(n):a.ending?n&&this.once("end",n):a.needDrain?n&&this.once("drain",function(){return i.flush(e,n)}):(this._flushFlag=e,this.write(r.alloc(0),"",n))},E.prototype.close=function(e){O(this,e),t.nextTick(P,this)},E.prototype._transform=function(e,t,n){var i,a=this._writableState,s=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||r.isBuffer(e)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},E.prototype._processChunk=function(e,t,n){var i=e&&e.length,o=this._chunkSize-this._offset,a=0,u=this,h="function"===typeof n;if(!h){var f,d=[],p=0;this.on("error",function(e){f=e}),s(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(t,e,a,i,this._buffer,this._offset,o)}while(!this._hadError&&v(g[0],g[1]));if(this._hadError)throw f;if(p>=l)throw O(this),new RangeError(c);var m=r.concat(d,p);return O(this),m}s(this._handle,"zlib binding closed");var y=this._handle.write(t,e,a,i,this._buffer,this._offset,o);function v(l,c){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var f=o-c;if(s(f>=0,"have should not go down"),f>0){var g=u._buffer.slice(u._offset,u._offset+f);u._offset+=f,h?u.push(g):(d.push(g),p+=g.length)}if((0===c||u._offset>=u._chunkSize)&&(o=u._chunkSize,u._offset=0,u._buffer=r.allocUnsafe(u._chunkSize)),0===c){if(a+=i-l,i=l,!h)return!0;var m=u._handle.write(t,e,a,i,u._buffer,u._offset,u._chunkSize);return m.callback=v,void(m.buffer=e)}if(!h)return!1;n()}}y.buffer=e,y.callback=v},a.inherits(b,E),a.inherits(w,E),a.inherits(_,E),a.inherits(x,E),a.inherits(S,E),a.inherits(k,E),a.inherits(T,E)}).call(this)}).call(this,e("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(e,t,n){(function(t){(function(){"use strict";var t=e("base64-js"),r=e("ieee754");n.Buffer=s,n.SlowBuffer=y,n.INSPECT_MAX_BYTES=50;var i=2147483647;function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}function a(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return l(e,t,n)}function l(e,t,n){if("string"===typeof e)return f(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var i=g(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e,t,n){return c(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}function h(e){return c(e),a(e<0?0:0|m(e))}function f(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|v(e,t),r=a(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function d(e){for(var t=e.length<0?0:0|m(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=s.prototype,r}function g(e){if(s.isBuffer(e)){var t=0|m(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!==typeof e.length||$(e.length)?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}function m(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),s.alloc(+e)}function v(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:x(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,f=0;f<l;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function S(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if($(s))return a;e[n+a]=s}return a}function k(e,t,n,r){return Z(V(t,e.length-n),e,n,r)}function T(e,t,n,r){return Z(G(t),e,n,r)}function C(e,t,n,r){return T(e,t,n,r)}function E(e,t,n,r){return Z(q(t),e,n,r)}function O(e,t,n,r){return Z(X(t,e.length-n),e,n,r)}function P(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128===(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return D(r)}n.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),s.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!==typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,n){return u(e,t,n)},s.allocUnsafe=function(e){return h(e)},s.allocUnsafeSlow=function(e){return h(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(K(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(K(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):b.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,i){if(K(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),l=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),h=0;h<l;++h)if(c[h]!==u[h]){o=c[h],a=u[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function D(e){var t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=j));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Y(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function z(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,i,o){return t=+t,n>>>=0,o||z(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function U(e,t,n,i,o){return t=+t,n>>>=0,o||z(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=s.prototype,r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),r.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),r.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),r.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),r.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},s.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:s.from(e,r),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%l]}return this};var W=/[^+/0-9A-Za-z-_]/g;function H(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function X(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function q(e){return t.toByteArray(H(e))}function Z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!==e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(e,t,n){"use strict";var r=e("get-intrinsic"),i=e("./"),o=i(r("String.prototype.indexOf"));t.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i(n):n}},{"./":34,"get-intrinsic":39}],34:[function(e,t,n){"use strict";var r=e("function-bind"),i=e("get-intrinsic"),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),l=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),u=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(f){c=null}t.exports=function(e){var t=s(r,a,arguments);return l&&c&&l(t,"length").configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))}),t};var h=function(){return s(r,o,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h},{"function-bind":38,"get-intrinsic":39}],35:[function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function a(e){console&&console.warn&&console.warn(e)}r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!==e};function l(){l.init.call(this)}t.exports=l,t.exports.once=w,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,s;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"===typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=h(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a(l)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function g(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?b(i):y(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function b(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function w(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}x(e,t,o,{once:!0}),"error"!==t&&_(e,i,{once:!0})})}function _(e,t,n){"function"===typeof e.on&&x(e,"error",t,n)}function x(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"===typeof l)o(l,this,t);else{var c=l.length,u=y(l,c);for(n=0;n<c;++n)o(u[n],this,t)}return!0},l.prototype.addListener=function(e,t){return f(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return f(this,e,t,!0)},l.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},l.prototype.removeListener=function(e,t){var n,r,i,o,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():v(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},l.prototype.listeners=function(e){return g(this,e,!0)},l.prototype.rawListeners=function(e){return g(this,e,!1)},l.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},l.prototype.listenerCount=m,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],36:[function(e,t,n){"use strict";var r=e("is-callable"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,a=function(e,t,n){for(var r=0,i=e.length;r<i;r++)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},s=function(e,t,n){for(var r=0,i=e.length;r<i;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},l=function(e,t,n){for(var r in e)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},c=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===i.call(e)?a(e,t,o):"string"===typeof e?s(e,t,o):l(e,t,o)};t.exports=c},{"is-callable":48}],37:[function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,a="[object Function]";t.exports=function(e){var t=this;if("function"!==typeof t||o.call(t)!==a)throw new TypeError(r+t);for(var n,s=i.call(arguments,1),l=function(){if(this instanceof n){var r=t.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,s.concat(i.call(arguments)))},c=Math.max(0,t.length-s.length),u=[],h=0;h<c;h++)u.push("$"+h);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var f=function(){};f.prototype=t.prototype,n.prototype=new f,f.prototype=null}return n}},{}],38:[function(e,t,n){"use strict";var r=e("./implementation");t.exports=Function.prototype.bind||r},{"./implementation":37}],39:[function(e,t,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(A){l=null}var c=function(){throw new a},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(t){return c}}}():c,h=e("has-symbols")(),f=Object.getPrototypeOf||function(e){return e.__proto__},d={},p="undefined"===typeof Uint8Array?r:f(Uint8Array),g={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":h?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?f(f([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&h?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&h?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?f(""[Symbol.iterator]()):r,"%Symbol%":h?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":u,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet};try{null.error}catch(A){var m=f(f(A));g["%Error.prototype%"]=m}var y=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=f(i.prototype))}return g[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=e("function-bind"),w=e("has"),_=b.call(Function.call,Array.prototype.concat),x=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),k=b.call(Function.call,String.prototype.slice),T=b.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,O=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return S(e,C,function(e,t,n,i){r[r.length]=n?S(i,E,"$1"):t||e}),r},P=function(e,t){var n,r=e;if(w(v,r)&&(r="%"+(n=v[r])[0]+"%"),w(g,r)){var o=g[r];if(o===d&&(o=y(r)),"undefined"===typeof o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===T(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=O(e),r=n.length>0?n[0]:"",o=P("%"+r+"%",t),s=o.name,c=o.value,u=!1,h=o.alias;h&&(r=h[0],x(n,_([0,1],h)));for(var f=1,d=!0;f<n.length;f+=1){var p=n[f],m=k(p,0,1),y=k(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(u=!0),w(g,s="%"+(r+="."+p)+"%"))c=g[s];else if(null!=c){if(!(p in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&f+1>=n.length){var v=l(c,p);c=(d=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[p]}else d=w(c,p),c=c[p];d&&!u&&(g[s]=c)}}return c}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(e,t,n){"use strict";var r=e("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(i){r=null}t.exports=r},{"get-intrinsic":39}],41:[function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=e("./shams");t.exports=function(){return"function"===typeof r&&"function"===typeof Symbol&&"symbol"===typeof r("foo")&&"symbol"===typeof Symbol("bar")&&i()}},{"./shams":42}],42:[function(e,t,n){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(t in e[t]=r,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==r||!0!==o.enumerable)return!1}return!0}},{}],43:[function(e,t,n){"use strict";var r=e("has-symbols/shams");t.exports=function(){return r()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(e,t,n){"use strict";var r=e("function-bind");t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+h],h+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+d]=255&a,d+=p,a/=256,c-=8);e[n+d-p]|=128*g}},{}],46:[function(e,t,n){"function"===typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],47:[function(e,t,n){"use strict";var r=e("has-tostringtag/shams")(),i=e("call-bind/callBound")("Object.prototype.toString"),o=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,t.exports=s?o:a},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(e,t,n){"use strict";var r,i,o=Function.prototype.toString,a="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof a&&"function"===typeof Object.defineProperty)try{r=Object.defineProperty({},"length",{get:function(){throw i}}),i={},a(function(){throw 42},null,r)}catch(_){_!==i&&(a=null)}else a=null;var s=/^\s*class\b/,l=function(e){try{var t=o.call(e);return s.test(t)}catch(n){return!1}},c=function(e){try{return!l(e)&&(o.call(e),!0)}catch(t){return!1}},u=Object.prototype.toString,h="[object Object]",f="[object Function]",d="[object GeneratorFunction]",p="[object HTMLAllCollection]",g="[object HTML document.all class]",m="[object HTMLCollection]",y="function"===typeof Symbol&&!!Symbol.toStringTag,v=!(0 in[,]),b=function(){return!1};if("object"===typeof document){var w=document.all;u.call(w)===u.call(document.all)&&(b=function(e){if((v||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=u.call(e);return(t===p||t===g||t===m||t===h)&&null==e("")}catch(n){}return!1})}t.exports=a?function(e){if(b(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;try{a(e,null,r)}catch(t){if(t!==i)return!1}return!l(e)&&c(e)}:function(e){if(b(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(y)return c(e);if(l(e))return!1;var t=u.call(e);return!(t!==f&&t!==d&&!/^\[object HTML/.test(t))&&c(e)}},{}],49:[function(e,t,n){"use strict";var r,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=e("has-tostringtag/shams")(),l=Object.getPrototypeOf,c=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}};t.exports=function(e){if("function"!==typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!l)return!1;if("undefined"===typeof r){var t=c();r=!!t&&l(t)}return l(e)===r}},{"has-tostringtag/shams":43}],50:[function(e,t,r){(function(n){(function(){"use strict";var r=e("for-each"),i=e("available-typed-arrays"),o=e("call-bind/callBound"),a=o("Object.prototype.toString"),s=e("has-tostringtag/shams")(),l=e("gopd"),c="undefined"===typeof globalThis?n:globalThis,u=i(),h=o("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},f=o("String.prototype.slice"),d={},p=Object.getPrototypeOf;s&&l&&p&&r(u,function(e){var t=new c[e];if(Symbol.toStringTag in t){var n=p(t),r=l(n,Symbol.toStringTag);if(!r){var i=p(n);r=l(i,Symbol.toStringTag)}d[e]=r.get}});var g=function(e){var t=!1;return r(d,function(n,r){if(!t)try{t=n.call(e)===r}catch(i){}}),t};t.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=f(a(e),8,-1);return h(u,t)>-1}return!!l&&g(e)}}).call(this)}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}t.exports=s()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},{}],52:[function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],53:[function(e,t,n){"use strict";function r(e,t,n,r){for(var i=65535&e,o=e>>>16&65535,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16}t.exports=r},{}],54:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var i=r();function o(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}t.exports=o},{}],56:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=0,u=1,h=3,f=4,d=5,p=0,g=1,m=-2,y=-3,v=-5,b=-1,w=1,_=2,x=3,S=4,k=0,T=2,C=8,E=9,O=15,P=8,A=286,j=30,D=19,M=2*A+1,L=15,I=3,R=258,N=R+I+1,F=32,z=42,B=69,U=73,W=91,H=103,Y=113,V=666,G=1,X=2,q=3,Z=4,K=3;function $(e,t){return e.msg=l[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function J(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ie(e,t,n,r){var o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,i.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=a(e.adler,t,o,n):2===e.state.wrap&&(e.adler=s(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function oe(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-N?e.strstart-(e.w_size-N):0,c=e.window,u=e.w_mask,h=e.prev,f=e.strstart+R,d=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===d&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=R-(f-o),o=f-R,r>a){if(e.match_start=t,a=r,r>=s)break;d=c[o+a-1],p=c[o+a]}}}while((t=h[t&u])>l&&0!==--i);return a<=e.lookahead?a:e.lookahead}function ae(e){var t,n,r,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-N)){i.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=s?r-s:0}while(--n);t=n=s;do{r=e.prev[--t],e.prev[t]=r>=s?r-s:0}while(--n);o+=s}if(0===e.strm.avail_in)break;if(n=ie(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=I)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+I-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<I)););}while(e.lookahead<N&&0!==e.strm.avail_in)}function se(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===c)return G;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out))return G;if(e.strstart-e.block_start>=e.w_size-N&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?q:Z):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),G)}function le(e,t){for(var n,r;;){if(e.lookahead<N){if(ae(e),e.lookahead<N&&t===c)return G;if(0===e.lookahead)break}if(n=0,e.lookahead>=I&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+I-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-N&&(e.match_length=oe(e,n)),e.match_length>=I)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-I),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=I){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+I-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=e.strstart<I-1?e.strstart:I-1,t===f?(te(e,!0),0===e.strm.avail_out?q:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:X}function ce(e,t){for(var n,r,i;;){if(e.lookahead<N){if(ae(e),e.lookahead<N&&t===c)return G;if(0===e.lookahead)break}if(n=0,e.lookahead>=I&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+I-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=I-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-N&&(e.match_length=oe(e,n),e.match_length<=5&&(e.strategy===w||e.match_length===I&&e.strstart-e.match_start>4096)&&(e.match_length=I-1)),e.prev_length>=I&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-I,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-I),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+I-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=I-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return G}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return G}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<I-1?e.strstart:I-1,t===f?(te(e,!0),0===e.strm.avail_out?q:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:X}function ue(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=R){if(ae(e),e.lookahead<=R&&t===c)return G;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=I&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+R;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=R-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=I?(n=o._tr_tally(e,1,e.match_length-I),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?q:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:X}function he(e,t){for(var n;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===c)return G;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?q:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:X}function fe(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function de(e){e.window_size=2*e.w_size,J(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=I-1,e.match_available=0,e.ins_h=0}function pe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*M),this.dyn_dtree=new i.Buf16(2*(2*j+1)),this.bl_tree=new i.Buf16(2*(2*D+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(L+1),this.heap=new i.Buf16(2*A+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*A+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ge(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=T,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?z:Y,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),p):$(e,m)}function me(e){var t=ge(e);return t===p&&de(e.state),t}function ye(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,p):m}function ve(e,t,n,r,o,a){if(!e)return m;var s=1;if(t===b&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>E||n!==C||r<8||r>15||t<0||t>9||a<0||a>S)return $(e,m);8===r&&(r=9);var l=new pe;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+I-1)/I),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,me(e)}function be(e,t){return ve(e,t,C,O,P,k)}function we(e,t){var n,i,a,l;if(!e||!e.state||t>d||t<0)return e?$(e,m):m;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===V&&t!==f)return $(e,0===e.avail_out?v:m);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===z)if(2===i.wrap)e.adler=0,ne(i,31),ne(i,139),ne(i,8),i.gzhead?(ne(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ne(i,255&i.gzhead.time),ne(i,i.gzhead.time>>8&255),ne(i,i.gzhead.time>>16&255),ne(i,i.gzhead.time>>24&255),ne(i,9===i.level?2:i.strategy>=_||i.level<2?4:0),ne(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(ne(i,255&i.gzhead.extra.length),ne(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=B):(ne(i,0),ne(i,0),ne(i,0),ne(i,0),ne(i,0),ne(i,9===i.level?2:i.strategy>=_||i.level<2?4:0),ne(i,K),i.status=Y);else{var y=C+(i.w_bits-8<<4)<<8;y|=(i.strategy>=_||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(y|=F),y+=31-y%31,i.status=Y,re(i,y),0!==i.strstart&&(re(i,e.adler>>>16),re(i,65535&e.adler)),e.adler=1}if(i.status===B)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending!==i.pending_buf_size));)ne(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=U)}else i.status=U;if(i.status===U)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,ne(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=W)}else i.status=W;if(i.status===W)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,ne(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=H)}else i.status=H;if(i.status===H&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ee(e),i.pending+2<=i.pending_buf_size&&(ne(i,255&e.adler),ne(i,e.adler>>8&255),e.adler=0,i.status=Y)):i.status=Y),0!==i.pending){if(ee(e),0===e.avail_out)return i.last_flush=-1,p}else if(0===e.avail_in&&Q(t)<=Q(n)&&t!==f)return $(e,v);if(i.status===V&&0!==e.avail_in)return $(e,v);if(0!==e.avail_in||0!==i.lookahead||t!==c&&i.status!==V){var b=i.strategy===_?he(i,t):i.strategy===x?ue(i,t):r[i.level].func(i,t);if(b!==q&&b!==Z||(i.status=V),b===G||b===q)return 0===e.avail_out&&(i.last_flush=-1),p;if(b===X&&(t===u?o._tr_align(i):t!==d&&(o._tr_stored_block(i,0,0,!1),t===h&&(J(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ee(e),0===e.avail_out))return i.last_flush=-1,p}return t!==f?p:i.wrap<=0?g:(2===i.wrap?(ne(i,255&e.adler),ne(i,e.adler>>8&255),ne(i,e.adler>>16&255),ne(i,e.adler>>24&255),ne(i,255&e.total_in),ne(i,e.total_in>>8&255),ne(i,e.total_in>>16&255),ne(i,e.total_in>>24&255)):(re(i,e.adler>>>16),re(i,65535&e.adler)),ee(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:g)}function _e(e){var t;return e&&e.state?(t=e.state.status)!==z&&t!==B&&t!==U&&t!==W&&t!==H&&t!==Y&&t!==V?$(e,m):(e.state=null,t===Y?$(e,y):p):m}function xe(e,t){var n,r,o,s,l,c,u,h,f=t.length;if(!e||!e.state)return m;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==z||n.lookahead)return m;for(1===s&&(e.adler=a(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,f-n.w_size,n.w_size,0),t=h,f=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,ae(n);n.lookahead>=I;){r=n.strstart,o=n.lookahead-(I-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+I-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=I-1,ae(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=I-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=s,p}r=[new fe(0,0,0,0,se),new fe(4,4,8,4,le),new fe(4,5,16,8,le),new fe(4,6,32,32,le),new fe(4,4,16,16,ce),new fe(8,16,32,32,ce),new fe(8,16,128,128,ce),new fe(8,32,128,256,ce),new fe(32,128,258,1024,ce),new fe(32,258,258,4096,ce)],n.deflateInit=be,n.deflateInit2=ve,n.deflateReset=me,n.deflateResetKeep=ge,n.deflateSetHeader=ye,n.deflate=we,n.deflateEnd=_e,n.deflateSetDictionary=xe,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(e,t,n){"use strict";var r=30,i=12;t.exports=function(e,t){var n,o,a,s,l,c,u,h,f,d,p,g,m,y,v,b,w,_,x,S,k,T,C,E,O;n=e.state,o=e.next_in,E=e.input,a=o+(e.avail_in-5),s=e.next_out,O=e.output,l=s-(t-e.avail_out),c=s+(e.avail_out-257),u=n.dmax,h=n.wsize,f=n.whave,d=n.wnext,p=n.window,g=n.hold,m=n.bits,y=n.lencode,v=n.distcode,b=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{m<15&&(g+=E[o++]<<m,m+=8,g+=E[o++]<<m,m+=8),_=y[g&b];t:for(;;){if(g>>>=x=_>>>24,m-=x,0===(x=_>>>16&255))O[s++]=65535&_;else{if(!(16&x)){if(0===(64&x)){_=y[(65535&_)+(g&(1<<x)-1)];continue t}if(32&x){n.mode=i;break e}e.msg="invalid literal/length code",n.mode=r;break e}S=65535&_,(x&=15)&&(m<x&&(g+=E[o++]<<m,m+=8),S+=g&(1<<x)-1,g>>>=x,m-=x),m<15&&(g+=E[o++]<<m,m+=8,g+=E[o++]<<m,m+=8),_=v[g&w];n:for(;;){if(g>>>=x=_>>>24,m-=x,!(16&(x=_>>>16&255))){if(0===(64&x)){_=v[(65535&_)+(g&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=r;break e}if(k=65535&_,m<(x&=15)&&(g+=E[o++]<<m,(m+=8)<x&&(g+=E[o++]<<m,m+=8)),(k+=g&(1<<x)-1)>u){e.msg="invalid distance too far back",n.mode=r;break e}if(g>>>=x,m-=x,k>(x=s-l)){if((x=k-x)>f&&n.sane){e.msg="invalid distance too far back",n.mode=r;break e}if(T=0,C=p,0===d){if(T+=h-x,x<S){S-=x;do{O[s++]=p[T++]}while(--x);T=s-k,C=O}}else if(d<x){if(T+=h+d-x,(x-=d)<S){S-=x;do{O[s++]=p[T++]}while(--x);if(T=0,d<S){S-=x=d;do{O[s++]=p[T++]}while(--x);T=s-k,C=O}}}else if(T+=d-x,x<S){S-=x;do{O[s++]=p[T++]}while(--x);T=s-k,C=O}for(;S>2;)O[s++]=C[T++],O[s++]=C[T++],O[s++]=C[T++],S-=3;S&&(O[s++]=C[T++],S>1&&(O[s++]=C[T++]))}else{T=s-k;do{O[s++]=O[T++],O[s++]=O[T++],O[s++]=O[T++],S-=3}while(S>2);S&&(O[s++]=O[T++],S>1&&(O[s++]=O[T++]))}break}}break}}while(o<a&&s<c);o-=S=m>>3,g&=(1<<(m-=S<<3))-1,e.next_in=o,e.next_out=s,e.avail_in=o<a?a-o+5:5-(o-a),e.avail_out=s<c?c-s+257:257-(s-c),n.hold=g,n.bits=m}},{}],58:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=0,c=1,u=2,h=4,f=5,d=6,p=0,g=1,m=2,y=-2,v=-3,b=-4,w=-5,_=8,x=1,S=2,k=3,T=4,C=5,E=6,O=7,P=8,A=9,j=10,D=11,M=12,L=13,I=14,R=15,N=16,F=17,z=18,B=19,U=20,W=21,H=22,Y=23,V=24,G=25,X=26,q=27,Z=28,K=29,$=30,Q=31,J=852,ee=592,te=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function re(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(J),t.distcode=t.distdyn=new r.Buf32(ee),t.sane=1,t.back=-1,p):y}function oe(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ie(e)):y}function ae(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?y:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,oe(e))):y}function se(e,t){var n,r;return e?(r=new re,e.state=r,r.window=null,(n=ae(e,t))!==p&&(e.state=null),n):y}function le(e){return se(e,te)}var ce,ue,he=!0;function fe(e){if(he){var t;for(ce=new r.Buf32(512),ue=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,ce,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,ue,0,e.work,{bits:5}),he=!1}e.lencode=ce,e.lenbits=9,e.distcode=ue,e.distbits=5}function de(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}function pe(e,t){var n,J,ee,te,re,ie,oe,ae,se,le,ce,ue,he,pe,ge,me,ye,ve,be,we,_e,xe,Se,ke,Te=0,Ce=new r.Buf8(4),Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return y;(n=e.state).mode===M&&(n.mode=L),re=e.next_out,ee=e.output,oe=e.avail_out,te=e.next_in,J=e.input,ie=e.avail_in,ae=n.hold,se=n.bits,le=ie,ce=oe,xe=p;e:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=L;break}for(;se<16;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(2&n.wrap&&35615===ae){n.check=0,Ce[0]=255&ae,Ce[1]=ae>>>8&255,n.check=o(n.check,Ce,2,0),ae=0,se=0,n.mode=S;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&ae)<<8)+(ae>>8))%31){e.msg="incorrect header check",n.mode=$;break}if((15&ae)!==_){e.msg="unknown compression method",n.mode=$;break}if(se-=4,_e=8+(15&(ae>>>=4)),0===n.wbits)n.wbits=_e;else if(_e>n.wbits){e.msg="invalid window size",n.mode=$;break}n.dmax=1<<_e,e.adler=n.check=1,n.mode=512&ae?j:M,ae=0,se=0;break;case S:for(;se<16;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(n.flags=ae,(255&n.flags)!==_){e.msg="unknown compression method",n.mode=$;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=$;break}n.head&&(n.head.text=ae>>8&1),512&n.flags&&(Ce[0]=255&ae,Ce[1]=ae>>>8&255,n.check=o(n.check,Ce,2,0)),ae=0,se=0,n.mode=k;case k:for(;se<32;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.head&&(n.head.time=ae),512&n.flags&&(Ce[0]=255&ae,Ce[1]=ae>>>8&255,Ce[2]=ae>>>16&255,Ce[3]=ae>>>24&255,n.check=o(n.check,Ce,4,0)),ae=0,se=0,n.mode=T;case T:for(;se<16;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.head&&(n.head.xflags=255&ae,n.head.os=ae>>8),512&n.flags&&(Ce[0]=255&ae,Ce[1]=ae>>>8&255,n.check=o(n.check,Ce,2,0)),ae=0,se=0,n.mode=C;case C:if(1024&n.flags){for(;se<16;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.length=ae,n.head&&(n.head.extra_len=ae),512&n.flags&&(Ce[0]=255&ae,Ce[1]=ae>>>8&255,n.check=o(n.check,Ce,2,0)),ae=0,se=0}else n.head&&(n.head.extra=null);n.mode=E;case E:if(1024&n.flags&&((ue=n.length)>ie&&(ue=ie),ue&&(n.head&&(_e=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,J,te,ue,_e)),512&n.flags&&(n.check=o(n.check,J,ue,te)),ie-=ue,te+=ue,n.length-=ue),n.length))break e;n.length=0,n.mode=O;case O:if(2048&n.flags){if(0===ie)break e;ue=0;do{_e=J[te+ue++],n.head&&_e&&n.length<65536&&(n.head.name+=String.fromCharCode(_e))}while(_e&&ue<ie);if(512&n.flags&&(n.check=o(n.check,J,ue,te)),ie-=ue,te+=ue,_e)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=P;case P:if(4096&n.flags){if(0===ie)break e;ue=0;do{_e=J[te+ue++],n.head&&_e&&n.length<65536&&(n.head.comment+=String.fromCharCode(_e))}while(_e&&ue<ie);if(512&n.flags&&(n.check=o(n.check,J,ue,te)),ie-=ue,te+=ue,_e)break e}else n.head&&(n.head.comment=null);n.mode=A;case A:if(512&n.flags){for(;se<16;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(ae!==(65535&n.check)){e.msg="header crc mismatch",n.mode=$;break}ae=0,se=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=M;break;case j:for(;se<32;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}e.adler=n.check=ne(ae),ae=0,se=0,n.mode=D;case D:if(0===n.havedict)return e.next_out=re,e.avail_out=oe,e.next_in=te,e.avail_in=ie,n.hold=ae,n.bits=se,m;e.adler=n.check=1,n.mode=M;case M:if(t===f||t===d)break e;case L:if(n.last){ae>>>=7&se,se-=7&se,n.mode=q;break}for(;se<3;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}switch(n.last=1&ae,se-=1,3&(ae>>>=1)){case 0:n.mode=I;break;case 1:if(fe(n),n.mode=U,t===d){ae>>>=2,se-=2;break e}break;case 2:n.mode=F;break;case 3:e.msg="invalid block type",n.mode=$}ae>>>=2,se-=2;break;case I:for(ae>>>=7&se,se-=7&se;se<32;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if((65535&ae)!==(ae>>>16^65535)){e.msg="invalid stored block lengths",n.mode=$;break}if(n.length=65535&ae,ae=0,se=0,n.mode=R,t===d)break e;case R:n.mode=N;case N:if(ue=n.length){if(ue>ie&&(ue=ie),ue>oe&&(ue=oe),0===ue)break e;r.arraySet(ee,J,te,ue,re),ie-=ue,te+=ue,oe-=ue,re+=ue,n.length-=ue;break}n.mode=M;break;case F:for(;se<14;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(n.nlen=257+(31&ae),ae>>>=5,se-=5,n.ndist=1+(31&ae),ae>>>=5,se-=5,n.ncode=4+(15&ae),ae>>>=4,se-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=$;break}n.have=0,n.mode=z;case z:for(;n.have<n.ncode;){for(;se<3;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.lens[Ee[n.have++]]=7&ae,ae>>>=3,se-=3}for(;n.have<19;)n.lens[Ee[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Se={bits:n.lenbits},xe=s(l,n.lens,0,19,n.lencode,0,n.work,Se),n.lenbits=Se.bits,xe){e.msg="invalid code lengths set",n.mode=$;break}n.have=0,n.mode=B;case B:for(;n.have<n.nlen+n.ndist;){for(;me=(Te=n.lencode[ae&(1<<n.lenbits)-1])>>>16&255,ye=65535&Te,!((ge=Te>>>24)<=se);){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(ye<16)ae>>>=ge,se-=ge,n.lens[n.have++]=ye;else{if(16===ye){for(ke=ge+2;se<ke;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(ae>>>=ge,se-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=$;break}_e=n.lens[n.have-1],ue=3+(3&ae),ae>>>=2,se-=2}else if(17===ye){for(ke=ge+3;se<ke;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}se-=ge,_e=0,ue=3+(7&(ae>>>=ge)),ae>>>=3,se-=3}else{for(ke=ge+7;se<ke;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}se-=ge,_e=0,ue=11+(127&(ae>>>=ge)),ae>>>=7,se-=7}if(n.have+ue>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=$;break}for(;ue--;)n.lens[n.have++]=_e}}if(n.mode===$)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=$;break}if(n.lenbits=9,Se={bits:n.lenbits},xe=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,Se),n.lenbits=Se.bits,xe){e.msg="invalid literal/lengths set",n.mode=$;break}if(n.distbits=6,n.distcode=n.distdyn,Se={bits:n.distbits},xe=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se),n.distbits=Se.bits,xe){e.msg="invalid distances set",n.mode=$;break}if(n.mode=U,t===d)break e;case U:n.mode=W;case W:if(ie>=6&&oe>=258){e.next_out=re,e.avail_out=oe,e.next_in=te,e.avail_in=ie,n.hold=ae,n.bits=se,a(e,ce),re=e.next_out,ee=e.output,oe=e.avail_out,te=e.next_in,J=e.input,ie=e.avail_in,ae=n.hold,se=n.bits,n.mode===M&&(n.back=-1);break}for(n.back=0;me=(Te=n.lencode[ae&(1<<n.lenbits)-1])>>>16&255,ye=65535&Te,!((ge=Te>>>24)<=se);){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(me&&0===(240&me)){for(ve=ge,be=me,we=ye;me=(Te=n.lencode[we+((ae&(1<<ve+be)-1)>>ve)])>>>16&255,ye=65535&Te,!(ve+(ge=Te>>>24)<=se);){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}ae>>>=ve,se-=ve,n.back+=ve}if(ae>>>=ge,se-=ge,n.back+=ge,n.length=ye,0===me){n.mode=X;break}if(32&me){n.back=-1,n.mode=M;break}if(64&me){e.msg="invalid literal/length code",n.mode=$;break}n.extra=15&me,n.mode=H;case H:if(n.extra){for(ke=n.extra;se<ke;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.length+=ae&(1<<n.extra)-1,ae>>>=n.extra,se-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Y;case Y:for(;me=(Te=n.distcode[ae&(1<<n.distbits)-1])>>>16&255,ye=65535&Te,!((ge=Te>>>24)<=se);){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(0===(240&me)){for(ve=ge,be=me,we=ye;me=(Te=n.distcode[we+((ae&(1<<ve+be)-1)>>ve)])>>>16&255,ye=65535&Te,!(ve+(ge=Te>>>24)<=se);){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}ae>>>=ve,se-=ve,n.back+=ve}if(ae>>>=ge,se-=ge,n.back+=ge,64&me){e.msg="invalid distance code",n.mode=$;break}n.offset=ye,n.extra=15&me,n.mode=V;case V:if(n.extra){for(ke=n.extra;se<ke;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}n.offset+=ae&(1<<n.extra)-1,ae>>>=n.extra,se-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=$;break}n.mode=G;case G:if(0===oe)break e;if(ue=ce-oe,n.offset>ue){if((ue=n.offset-ue)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=$;break}ue>n.wnext?(ue-=n.wnext,he=n.wsize-ue):he=n.wnext-ue,ue>n.length&&(ue=n.length),pe=n.window}else pe=ee,he=re-n.offset,ue=n.length;ue>oe&&(ue=oe),oe-=ue,n.length-=ue;do{ee[re++]=pe[he++]}while(--ue);0===n.length&&(n.mode=W);break;case X:if(0===oe)break e;ee[re++]=n.length,oe--,n.mode=W;break;case q:if(n.wrap){for(;se<32;){if(0===ie)break e;ie--,ae|=J[te++]<<se,se+=8}if(ce-=oe,e.total_out+=ce,n.total+=ce,ce&&(e.adler=n.check=n.flags?o(n.check,ee,ce,re-ce):i(n.check,ee,ce,re-ce)),ce=oe,(n.flags?ae:ne(ae))!==n.check){e.msg="incorrect data check",n.mode=$;break}ae=0,se=0}n.mode=Z;case Z:if(n.wrap&&n.flags){for(;se<32;){if(0===ie)break e;ie--,ae+=J[te++]<<se,se+=8}if(ae!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=$;break}ae=0,se=0}n.mode=K;case K:xe=g;break e;case $:xe=v;break e;case Q:return b;default:return y}return e.next_out=re,e.avail_out=oe,e.next_in=te,e.avail_in=ie,n.hold=ae,n.bits=se,(n.wsize||ce!==e.avail_out&&n.mode<$&&(n.mode<q||t!==h))&&de(e,e.output,e.next_out,ce-e.avail_out)?(n.mode=Q,b):(le-=e.avail_in,ce-=e.avail_out,e.total_in+=le,e.total_out+=ce,n.total+=ce,n.wrap&&ce&&(e.adler=n.check=n.flags?o(n.check,ee,ce,e.next_out-ce):i(n.check,ee,ce,e.next_out-ce)),e.data_type=n.bits+(n.last?64:0)+(n.mode===M?128:0)+(n.mode===U||n.mode===R?256:0),(0===le&&0===ce||t===h)&&xe===p&&(xe=w),xe)}function ge(e){if(!e||!e.state)return y;var t=e.state;return t.window&&(t.window=null),e.state=null,p}function me(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?y:(n.head=t,t.done=!1,p):y}function ye(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==D?y:n.mode===D&&i(1,t,r,0)!==n.check?v:de(e,t,r,r)?(n.mode=Q,b):(n.havedict=1,p):y}n.inflateReset=oe,n.inflateReset2=ae,n.inflateResetKeep=ie,n.inflateInit=le,n.inflateInit2=se,n.inflate=pe,n.inflateEnd=ge,n.inflateGetHeader=me,n.inflateSetDictionary=ye,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(e,t,n){"use strict";var r=e("../utils/common"),i=15,o=852,a=592,s=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,p,g,m,y,v){var b,w,_,x,S,k,T,C,E,O=v.bits,P=0,A=0,j=0,D=0,M=0,L=0,I=0,R=0,N=0,F=0,z=null,B=0,U=new r.Buf16(i+1),W=new r.Buf16(i+1),H=null,Y=0;for(P=0;P<=i;P++)U[P]=0;for(A=0;A<p;A++)U[t[n+A]]++;for(M=O,D=i;D>=1&&0===U[D];D--);if(M>D&&(M=D),0===D)return g[m++]=20971520,g[m++]=20971520,v.bits=1,0;for(j=1;j<D&&0===U[j];j++);for(M<j&&(M=j),R=1,P=1;P<=i;P++)if(R<<=1,(R-=U[P])<0)return-1;if(R>0&&(e===s||1!==D))return-1;for(W[1]=0,P=1;P<i;P++)W[P+1]=W[P]+U[P];for(A=0;A<p;A++)0!==t[n+A]&&(y[W[t[n+A]]++]=A);if(e===s?(z=H=y,k=19):e===l?(z=u,B-=257,H=h,Y-=257,k=256):(z=f,H=d,k=-1),F=0,A=0,P=j,S=m,L=M,I=0,_=-1,x=(N=1<<M)-1,e===l&&N>o||e===c&&N>a)return 1;for(;;){T=P-I,y[A]<k?(C=0,E=y[A]):y[A]>k?(C=H[Y+y[A]],E=z[B+y[A]]):(C=96,E=0),b=1<<P-I,j=w=1<<L;do{g[S+(F>>I)+(w-=b)]=T<<24|C<<16|E}while(0!==w);for(b=1<<P-1;F&b;)b>>=1;if(0!==b?(F&=b-1,F+=b):F=0,A++,0===--U[P]){if(P===D)break;P=t[n+y[A]]}if(P>M&&(F&x)!==_){for(0===I&&(I=M),S+=j,R=1<<(L=P-I);L+I<D&&!((R-=U[L+I])<=0);)L++,R<<=1;if(N+=1<<L,e===l&&N>o||e===c&&N>a)return 1;g[_=F&x]=M<<24|L<<16|S-m}}return 0!==F&&(g[S+F]=P-I<<24|64<<16),v.bits=M,0}},{"../utils/common":52}],60:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(e,t,n){"use strict";var r=e("../utils/common"),i=4,o=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,u=1,h=2,f=3,d=258,p=29,g=256,m=g+1+p,y=30,v=19,b=2*m+1,w=15,_=16,x=7,S=256,k=16,T=17,C=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=512,D=new Array(2*(m+2));l(D);var M=new Array(2*y);l(M);var L=new Array(j);l(L);var I=new Array(d-f+1);l(I);var R=new Array(p);l(R);var N,F,z,B=new Array(y);function U(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function W(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function H(e){return e<256?L[e]:L[256+(e>>>7)]}function Y(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function V(e,t,n){e.bi_valid>_-n?(e.bi_buf|=t<<e.bi_valid&65535,Y(e,e.bi_buf),e.bi_buf=t>>_-e.bi_valid,e.bi_valid+=n-_):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function G(e,t,n){V(e,n[2*t],n[2*t+1])}function X(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function q(e){16===e.bi_valid?(Y(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Z(e,t){var n,r,i,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(o=0;o<=w;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<b;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,g++),l[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=d&&(a=f[r-d]),s=l[2*r],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==g){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>c||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}function K(e,t,n){var r,i,o=new Array(w+1),a=0;for(r=1;r<=w;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=X(o[s]++,s))}}function $(){var e,t,n,r,i,o=new Array(w+1);for(n=0,r=0;r<p-1;r++)for(R[r]=n,e=0;e<1<<E[r];e++)I[n++]=r;for(I[n-1]=r,i=0,r=0;r<16;r++)for(B[r]=i,e=0;e<1<<O[r];e++)L[i++]=r;for(i>>=7;r<y;r++)for(B[r]=i<<7,e=0;e<1<<O[r]-7;e++)L[256+i++]=r;for(t=0;t<=w;t++)o[t]=0;for(e=0;e<=143;)D[2*e+1]=8,e++,o[8]++;for(;e<=255;)D[2*e+1]=9,e++,o[9]++;for(;e<=279;)D[2*e+1]=7,e++,o[7]++;for(;e<=287;)D[2*e+1]=8,e++,o[8]++;for(K(D,m+1,o),e=0;e<y;e++)M[2*e+1]=5,M[2*e]=X(e,5);N=new U(D,E,g+1,m,w),F=new U(M,O,0,y,w),z=new U(new Array(0),P,0,v,x)}function Q(e){var t;for(t=0;t<m;t++)e.dyn_ltree[2*t]=0;for(t=0;t<y;t++)e.dyn_dtree[2*t]=0;for(t=0;t<v;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*S]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function J(e){e.bi_valid>8?Y(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,i){J(e),i&&(Y(e,n),Y(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function ne(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!te(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function re(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?G(e,i,t):(G(e,(o=I[i])+g+1,t),0!==(a=E[o])&&V(e,i-=R[o],a),G(e,o=H(--r),n),0!==(a=O[o])&&V(e,r-=B[o],a))}while(s<e.last_lit);G(e,S,t)}function ie(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=b,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)ne(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,ne(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Z(e,t),K(o,c,e.bl_count)}function oe(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*k]++):s<=10?e.bl_tree[2*T]++:e.bl_tree[2*C]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))}function ae(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<c)do{G(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(G(e,i,e.bl_tree),s--),G(e,k,e.bl_tree),V(e,s-3,2)):s<=10?(G(e,T,e.bl_tree),V(e,s-3,3)):(G(e,C,e.bl_tree),V(e,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}}function se(e){var t;for(oe(e,e.dyn_ltree,e.l_desc.max_code),oe(e,e.dyn_dtree,e.d_desc.max_code),ie(e,e.bl_desc),t=v-1;t>=3&&0===e.bl_tree[2*A[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function le(e,t,n,r){var i;for(V(e,t-257,5),V(e,n-1,5),V(e,r-4,4),i=0;i<r;i++)V(e,e.bl_tree[2*A[i]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)}function ce(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<g;t++)if(0!==e.dyn_ltree[2*t])return a;return o}l(B);var ue=!1;function he(e){ue||($(),ue=!0),e.l_desc=new W(e.dyn_ltree,N),e.d_desc=new W(e.dyn_dtree,F),e.bl_desc=new W(e.bl_tree,z),e.bi_buf=0,e.bi_valid=0,Q(e)}function fe(e,t,n,r){V(e,(c<<1)+(r?1:0),3),ee(e,t,n,!0)}function de(e){V(e,u<<1,3),G(e,S,D),q(e)}function pe(e,t,n,r){var o,a,l=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=ce(e)),ie(e,e.l_desc),ie(e,e.d_desc),l=se(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?fe(e,t,n,r):e.strategy===i||a===o?(V(e,(u<<1)+(r?1:0),3),re(e,D,M)):(V(e,(h<<1)+(r?1:0),3),le(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),re(e,e.dyn_ltree,e.dyn_dtree)),Q(e),r&&J(e)}function ge(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(I[n]+g+1)]++,e.dyn_dtree[2*H(t)]++),e.last_lit===e.lit_bufsize-1}n._tr_init=he,n._tr_stored_block=fe,n._tr_flush_block=pe,n._tr_tally=ge,n._tr_align=de},{"../utils/common":52}],62:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],63:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,h=[],f=!1,d=-1;function p(){f&&u&&(f=!1,u.length?h=u.concat(h):d=-1,h.length&&g())}function g(){if(!f){var e=l(p);f=!0;for(var t=h.length;t;){for(u=h,h=[];++d<t;)u&&u[d].run();d=-1,t=h.length}u=null,f=!1,c(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new m(e,t)),1!==h.length||f||l(g)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],64:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:32}],65:[function(e,t,n){t.exports=i;var r=e("events").EventEmitter;function i(){r.call(this)}e("inherits")(i,r),i.Readable=e("readable-stream/lib/_stream_readable.js"),i.Writable=e("readable-stream/lib/_stream_writable.js"),i.Duplex=e("readable-stream/lib/_stream_duplex.js"),i.Transform=e("readable-stream/lib/_stream_transform.js"),i.PassThrough=e("readable-stream/lib/_stream_passthrough.js"),i.finished=e("readable-stream/lib/internal/streams/end-of-stream.js"),i.pipeline=e("readable-stream/lib/internal/streams/pipeline.js"),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i={};function o(e,t,n){function o(e,n,r){return"string"===typeof t?t:t(e,n,r)}n||(n=Error);var a=function(e){function t(t,n,r){return e.call(this,o(t,n,r))||this}return r(t,e),t}(n);a.prototype.name=n.name,a.prototype.code=e,i[e]=a}function a(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function s(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function l(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function c(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}o("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(e,t,n){var r,i;if("string"===typeof t&&s(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",l(e," argument"))i="The ".concat(e," ").concat(r," ").concat(a(t,"type"));else{var o=c(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(r," ").concat(a(t,"type"))}return i+=". Received type ".concat(typeof n)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],67:[function(e,t,n){(function(n){(function(){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=c;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(c,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var l=a[s];c.prototype[l]||(c.prototype[l]=o.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":70,inherits:46}],69:[function(e,t,r){(function(n,r){(function(){"use strict";var i;t.exports=O,O.ReadableState=E,e("events").EventEmitter;var o=function(e,t){return e.listeners(t).length},a=e("./internal/streams/stream"),s=e("buffer").Buffer,l=r.Uint8Array||function(){};function c(e){return s.from(e)}function u(e){return s.isBuffer(e)||e instanceof l}var h,f=e("util");h=f&&f.debuglog?f.debuglog("stream"):function(){};var d,p,g,m=e("./internal/streams/buffer_list"),y=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,b=e("../errors").codes,w=b.ERR_INVALID_ARG_TYPE,_=b.ERR_STREAM_PUSH_AFTER_EOF,x=b.ERR_METHOD_NOT_IMPLEMENTED,S=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(O,a);var k=y.errorOrDestroy,T=["error","close","destroy","pause","resume"];function C(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function E(t,n,r){i=i||e("./_stream_duplex"),t=t||{},"boolean"!==typeof r&&(r=n instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",r),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=e("string_decoder/").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function O(t){if(i=i||e("./_stream_duplex"),!(this instanceof O))return new O(t);var n=this instanceof i;this._readableState=new E(t,this,n),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function P(e,t,n,r,i){h("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,I(e,a);else if(i||(o=j(a,t)),o)k(e,o);else if(a.objectMode||t&&t.length>0)if("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=c(t)),r)a.endEmitted?k(e,new S):A(e,a,t,!0);else if(a.ended)k(e,new _);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?A(e,a,t,!1):F(e,a)):A(e,a,t,!1)}else r||(a.reading=!1,F(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function A(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&R(e)),F(e,t)}function j(e,t){var n;return u(t)||"string"===typeof t||void 0===t||e.objectMode||(n=new w("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=y.destroy,O.prototype._undestroy=y.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),P(this,e,t,!1,n)},O.prototype.unshift=function(e){return P(this,e,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(t){d||(d=e("string_decoder/").StringDecoder);var n=new d(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var D=1073741824;function M(e){return e>=D?e=D:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=M(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e,t){if(h("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}}function R(e){var t=e._readableState;h("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(N,e))}function N(e){var t=e._readableState;h("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,V(e)}function F(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(z,e,t))}function z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(h("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function B(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,V(e))}}function U(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function W(e){h("readable nexttick read 0"),e.read(0)}function H(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(Y,e,t))}function Y(e,t){h("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),V(e),t.flowing&&!t.reading&&e.read(0)}function V(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function G(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function X(e){var t=e._readableState;h("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(q,t,e))}function q(e,t){if(h("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function Z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}O.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?X(this):R(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&X(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(n,t))),null===(r=e>0?G(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&X(this)),null!==r&&this.emit("data",r),r},O.prototype._read=function(e){k(this,new x("_read()"))},O.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===n.stdout||e===n.stderr?y:l;function s(e,t){h("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,f())}function l(){h("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",s);var c=B(r);e.on("drain",c);var u=!1;function f(){h("cleanup"),e.removeListener("close",g),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),r.removeListener("end",l),r.removeListener("end",y),r.removeListener("data",d),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function d(t){h("ondata");var n=e.write(t);h("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==Z(i.pipes,e))&&!u&&(h("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function p(t){h("onerror",t),y(),e.removeListener("error",p),0===o(e,"error")&&k(e,t)}function g(){e.removeListener("finish",m),y()}function m(){h("onfinish"),e.removeListener("close",g),y()}function y(){h("unpipe"),r.unpipe(e)}return r.on("data",d),C(e,"error",p),e.once("close",g),e.once("finish",m),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},O.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Z(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},O.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,h("on readable",i.length,i.reading),i.length?R(this):i.reading||n.nextTick(W,this))),r},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(U,this),r},O.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(U,this),t},O.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!e.readableListening,H(this,e)),e.paused=!1,this},O.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<T.length;o++)e.on(T[o],this.emit.bind(this,T[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(O.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=e("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),O._fromList=G,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(O.from=function(t,n){return void 0===g&&(g=e("./internal/streams/from")),g(O,t,n)})}).call(this)}).call(this,e("_process"),"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(e,t,n){"use strict";t.exports=u;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,n){f(e,t,n)})}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(e,t,r){(function(n,r){(function(){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Y(t,e)}}var o;t.exports=E,E.WritableState=C;var a={deprecate:e("util-deprecate")},s=e("./internal/streams/stream"),l=e("buffer").Buffer,c=r.Uint8Array||function(){};function u(e){return l.from(e)}function h(e){return l.isBuffer(e)||e instanceof c}var f,d=e("./internal/streams/destroy"),p=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,m=g.ERR_INVALID_ARG_TYPE,y=g.ERR_METHOD_NOT_IMPLEMENTED,v=g.ERR_MULTIPLE_CALLBACK,b=g.ERR_STREAM_CANNOT_PIPE,w=g.ERR_STREAM_DESTROYED,_=g.ERR_STREAM_NULL_VALUES,x=g.ERR_STREAM_WRITE_AFTER_END,S=g.ERR_UNKNOWN_ENCODING,k=d.errorOrDestroy;function T(){}function C(t,n,r){o=o||e("./_stream_duplex"),t=t||{},"boolean"!==typeof r&&(r=n instanceof o),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=p(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){I(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function E(t){var n=this instanceof(o=o||e("./_stream_duplex"));if(!n&&!f.call(E,this))return new E(t);this._writableState=new C(t,this,n),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),s.call(this)}function O(e,t){var r=new x;k(e,r),n.nextTick(t,r)}function P(e,t,r,i){var o;return null===r?o=new _:"string"===typeof r||t.objectMode||(o=new m("chunk",["string","Buffer"],r)),!o||(k(e,o),n.nextTick(i,o),!1)}function A(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=l.from(t,n)),t}function j(e,t,n,r,i,o){if(!n){var a=A(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else D(e,t,!1,s,r,i,o);return l}function D(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new w("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function M(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(W,e,t),e._writableState.errorEmitted=!0,k(e,i)):(o(i),e._writableState.errorEmitted=!0,k(e,i),W(e,t))}function L(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function I(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!==typeof o)throw new v;if(L(r),t)M(e,r,i,t,o);else{var a=z(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||F(e,r),i?n.nextTick(R,e,r,a,o):R(e,r,a,o)}}function R(e,t,n,r){n||N(e,t),t.pendingcb--,r(),W(e,t)}function N(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function F(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,l=!0;n;)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,D(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,h=n.callback;if(D(e,t,!1,t.objectMode?1:c.length,c,u,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function z(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function B(e,t){e._final(function(n){t.pendingcb--,n&&k(e,n),t.prefinished=!0,e.emit("prefinish"),W(e,t)})}function U(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(B,e,t)))}function W(e,t){var n=z(t);if(n&&(U(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}function H(e,t,r){t.ending=!0,W(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Y(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}e("inherits")(E,s),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===E&&e&&e._writableState instanceof C}})):f=function(e){return e instanceof this},E.prototype.pipe=function(){k(this,new b)},E.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!l.isBuffer(e)&&(e=u(e)),"function"===typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=T),r.ending?O(this,n):(o||P(this,r,e,n))&&(r.pendingcb++,i=j(this,r,o,e,t,n)),i},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||F(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,n){n(new y("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||H(this,r,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=d.destroy,E.prototype._undestroy=d.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(e,t,n){(function(n){(function(){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=e("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[f].read();null!==n&&(e[u]=null,e[a]=null,e[s]=null,t(d(n,!1)))}}function g(e){n.nextTick(p,e)}function m(e,t){return function(n,r){e.then(function(){t[c]?n(d(void 0,!0)):t[h](n,r)},r)}}var y=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(t,r){n.nextTick(function(){e[l]?r(e[l]):t(d(void 0,!0))})});var r,i=this[u];if(i)r=new Promise(m(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[h])}return this[u]=r,r}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var e=this;return new Promise(function(t,n){e[f].destroy(null,function(e){e?n(e):t(d(void 0,!0))})})}),r),y),b=function(e){var t,n=Object.create(v,(i(t={},f,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[f].read();r?(n[u]=null,n[a]=null,n[s]=null,e(d(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[u]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[u]=null,n[a]=null,n[s]=null,t(e)),void(n[l]=e)}var r=n[a];null!==r&&(n[u]=null,n[a]=null,n[s]=null,r(d(void 0,!0))),n[c]=!0}),e.on("readable",g.bind(null,n)),n};t.exports=b}).call(this)}).call(this,e("_process"))},{"./end-of-stream":75,_process:63}],73:[function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var c=e("buffer").Buffer,u=e("util").inspect,h=u&&u.custom||"inspect";function f(e,t,n){c.prototype.copy.call(e,t,n)}t.exports=function(){function e(){a(this,e),this.head=null,this.tail=null,this.length=0}return l(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t=c.allocUnsafe(e>>>0),n=this.head,r=0;n;)f(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:h,value:function(e,t){return u(this,i({},t,{depth:0,customInspect:!1}))}}]),e}()},{buffer:32,util:29}],74:[function(e,t,n){(function(e){(function(){"use strict";function n(t,n){var o=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?(n?n(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(a,this,t)):e.nextTick(a,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!n&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(i,o):(o._writableState.errorEmitted=!0,e.nextTick(r,o,t)):e.nextTick(r,o,t):n?(e.nextTick(i,o),n(t)):e.nextTick(i,o)}),this)}function r(e,t){a(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}function s(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}t.exports={destroy:n,undestroy:o,errorOrDestroy:s}}).call(this)}).call(this,e("_process"))},{_process:63}],75:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function o(){}function a(e){return e.setHeader&&"function"===typeof e.abort}function s(e,t,n){if("function"===typeof t)return s(e,null,t);t||(t={}),n=i(n||o);var l=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||f()},h=e._writableState&&e._writableState.finished,f=function(){c=!1,h=!0,l||n.call(e)},d=e._readableState&&e._readableState.endEmitted,p=function(){l=!1,d=!0,c||n.call(e)},g=function(t){n.call(e,t)},m=function(){var t;return l&&!d?(e._readableState&&e._readableState.ended||(t=new r),n.call(e,t)):c&&!h?(e._writableState&&e._writableState.ended||(t=new r),n.call(e,t)):void 0},y=function(){e.req.on("finish",f)};return a(e)?(e.on("complete",f),e.on("abort",m),e.req?y():e.on("request",y)):c&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",p),e.on("finish",f),!1!==t.error&&e.on("error",g),e.on("close",m),function(){e.removeListener("complete",f),e.removeListener("abort",m),e.removeListener("request",y),e.req&&e.req.removeListener("finish",f),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",f),e.removeListener("end",p),e.removeListener("error",g),e.removeListener("close",m)}}t.exports=s},{"../../../errors":66}],76:[function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(e,t,n){"use strict";var r;function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var o=e("../../../errors").codes,a=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function l(e){if(e)throw e}function c(e){return e.setHeader&&"function"===typeof e.abort}function u(t,n,o,a){a=i(a);var l=!1;t.on("close",function(){l=!0}),void 0===r&&(r=e("./end-of-stream")),r(t,{readable:n,writable:o},function(e){if(e)return a(e);l=!0,a()});var u=!1;return function(e){if(!l&&!u)return u=!0,c(t)?t.abort():"function"===typeof t.destroy?t.destroy():void a(e||new s("pipe"))}}function h(e){e()}function f(e,t){return e.pipe(t)}function d(e){return e.length?"function"!==typeof e[e.length-1]?l:e.pop():l}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var o=t.map(function(e,n){var a=n<t.length-1;return u(e,a,n>0,function(e){r||(r=e),e&&o.forEach(h),a||(o.forEach(h),i(r))})});return t.reduce(f)}t.exports=p},{"../../../errors":66,"./end-of-stream":75}],78:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function i(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}function o(e,t,n,o){var a=i(t,o,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new r(o?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}t.exports={getHighWaterMark:o}},{"../../../errors":66}],79:[function(e,t,n){t.exports=e("events").EventEmitter},{events:35}],80:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=p,this.end=g,t=4;break;case"utf8":this.fillLast=h,t=4;break;case"base64":this.text=m,this.end=y,t=3;break;default:return this.write=v,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function l(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function c(e,t,n){var r=t.length-1;if(r<n)return 0;var i=l(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=l(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=l(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function u(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}function h(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function f(e,t){var n=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t}function p(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function m(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function y(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}n.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=d,s.prototype.text=f,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":64}],81:[function(e,t,r){(function(e){(function(){function n(e,t){if(r("noDeprecation"))return e;var n=!1;function i(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return i}function r(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(this)}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],82:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],83:[function(e,t,n){"use strict";var r=e("is-arguments"),i=e("is-generator-function"),o=e("which-typed-array"),a=e("is-typed-array");function s(e){return e.call.bind(e)}var l="undefined"!==typeof BigInt,c="undefined"!==typeof Symbol,u=s(Object.prototype.toString),h=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),d=s(Boolean.prototype.valueOf);if(l)var p=s(BigInt.prototype.valueOf);if(c)var g=s(Symbol.prototype.valueOf);function m(e,t){if("object"!==typeof e)return!1;try{return t(e),!0}catch(n){return!1}}function y(e){return"undefined"!==typeof Promise&&e instanceof Promise||null!==e&&"object"===typeof e&&"function"===typeof e.then&&"function"===typeof e.catch}function v(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||U(e)}function b(e){return"Uint8Array"===o(e)}function w(e){return"Uint8ClampedArray"===o(e)}function _(e){return"Uint16Array"===o(e)}function x(e){return"Uint32Array"===o(e)}function S(e){return"Int8Array"===o(e)}function k(e){return"Int16Array"===o(e)}function T(e){return"Int32Array"===o(e)}function C(e){return"Float32Array"===o(e)}function E(e){return"Float64Array"===o(e)}function O(e){return"BigInt64Array"===o(e)}function P(e){return"BigUint64Array"===o(e)}function A(e){return"[object Map]"===u(e)}function j(e){return"undefined"!==typeof Map&&(A.working?A(e):e instanceof Map)}function D(e){return"[object Set]"===u(e)}function M(e){return"undefined"!==typeof Set&&(D.working?D(e):e instanceof Set)}function L(e){return"[object WeakMap]"===u(e)}function I(e){return"undefined"!==typeof WeakMap&&(L.working?L(e):e instanceof WeakMap)}function R(e){return"[object WeakSet]"===u(e)}function N(e){return R(e)}function F(e){return"[object ArrayBuffer]"===u(e)}function z(e){return"undefined"!==typeof ArrayBuffer&&(F.working?F(e):e instanceof ArrayBuffer)}function B(e){return"[object DataView]"===u(e)}function U(e){return"undefined"!==typeof DataView&&(B.working?B(e):e instanceof DataView)}n.isArgumentsObject=r,n.isGeneratorFunction=i,n.isTypedArray=a,n.isPromise=y,n.isArrayBufferView=v,n.isUint8Array=b,n.isUint8ClampedArray=w,n.isUint16Array=_,n.isUint32Array=x,n.isInt8Array=S,n.isInt16Array=k,n.isInt32Array=T,n.isFloat32Array=C,n.isFloat64Array=E,n.isBigInt64Array=O,n.isBigUint64Array=P,A.working="undefined"!==typeof Map&&A(new Map),n.isMap=j,D.working="undefined"!==typeof Set&&D(new Set),n.isSet=M,L.working="undefined"!==typeof WeakMap&&L(new WeakMap),n.isWeakMap=I,R.working="undefined"!==typeof WeakSet&&R(new WeakSet),n.isWeakSet=N,F.working="undefined"!==typeof ArrayBuffer&&F(new ArrayBuffer),n.isArrayBuffer=z,B.working="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView&&B(new DataView(new ArrayBuffer(1),0,1)),n.isDataView=U;var W="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function H(e){return"[object SharedArrayBuffer]"===u(e)}function Y(e){return"undefined"!==typeof W&&("undefined"===typeof H.working&&(H.working=H(new W)),H.working?H(e):e instanceof W)}function V(e){return"[object AsyncFunction]"===u(e)}function G(e){return"[object Map Iterator]"===u(e)}function X(e){return"[object Set Iterator]"===u(e)}function q(e){return"[object Generator]"===u(e)}function Z(e){return"[object WebAssembly.Module]"===u(e)}function K(e){return m(e,h)}function $(e){return m(e,f)}function Q(e){return m(e,d)}function J(e){return l&&m(e,p)}function ee(e){return c&&m(e,g)}function te(e){return K(e)||$(e)||Q(e)||J(e)||ee(e)}function ne(e){return"undefined"!==typeof Uint8Array&&(z(e)||Y(e))}n.isSharedArrayBuffer=Y,n.isAsyncFunction=V,n.isMapIterator=G,n.isSetIterator=X,n.isGeneratorObject=q,n.isWebAssemblyCompiledModule=Z,n.isNumberObject=K,n.isStringObject=$,n.isBooleanObject=Q,n.isBigIntObject=J,n.isSymbolObject=ee,n.isBoxedPrimitive=te,n.isAnyArrayBuffer=ne,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(n,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(e,t,n){(function(t){(function(){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;n.format=function(e){if(!S(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(l(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])w(s)||!E(s)?a+=" "+s:a+=" "+l(s);return a},n.deprecate=function(e,r){if("undefined"!==typeof t&&!0===t.noDeprecation)return e;if("undefined"===typeof t)return function(){return n.deprecate(e,r).apply(this,arguments)};var i=!1;function o(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}return o};var o={},a=/^$/;if(t.env.NODE_DEBUG){var s=t.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+s+"$","i")}function l(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(t)?r.showHidden=t:t&&n._extend(r,t),T(r.showHidden)&&(r.showHidden=!1),T(r.depth)&&(r.depth=2),T(r.colors)&&(r.colors=!1),T(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),f(r,e,r.depth)}function c(e,t){var n=l.styles[t];return n?"\x1b["+l.colors[n][0]+"m"+e+"\x1b["+l.colors[n][1]+"m":e}function u(e,t){return e}function h(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function f(e,t,r){if(e.customInspect&&t&&A(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return S(i)||(i=f(e,i,r)),i}var o=d(e,t);if(o)return o;var a=Object.keys(t),s=h(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),P(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(t);if(0===a.length){if(A(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(C(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(O(t))return e.stylize(Date.prototype.toString.call(t),"date");if(P(t))return p(t)}var c,u="",b=!1,w=["{","}"];return v(t)&&(b=!0,w=["[","]"]),A(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),C(t)&&(u=" "+RegExp.prototype.toString.call(t)),O(t)&&(u=" "+Date.prototype.toUTCString.call(t)),P(t)&&(u=" "+p(t)),0!==a.length||b&&0!=t.length?r<0?C(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=b?g(e,t,r,s,a):a.map(function(n){return m(e,t,r,s,n,b)}),e.seen.pop(),y(c,u,w)):w[0]+u+w[1]}function d(e,t){if(T(t))return e.stylize("undefined","undefined");if(S(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return x(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):w(t)?e.stylize("null","null"):void 0}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)R(t,String(a))?o.push(m(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(m(e,t,n,r,i,!0))}),o}function m(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),R(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=w(n)?f(e,l.value,null):f(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").slice(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),T(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function y(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function v(e){return Array.isArray(e)}function b(e){return"boolean"===typeof e}function w(e){return null===e}function _(e){return null==e}function x(e){return"number"===typeof e}function S(e){return"string"===typeof e}function k(e){return"symbol"===typeof e}function T(e){return void 0===e}function C(e){return E(e)&&"[object RegExp]"===D(e)}function E(e){return"object"===typeof e&&null!==e}function O(e){return E(e)&&"[object Date]"===D(e)}function P(e){return E(e)&&("[object Error]"===D(e)||e instanceof Error)}function A(e){return"function"===typeof e}function j(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function D(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}n.debuglog=function(e){if(e=e.toUpperCase(),!o[e])if(a.test(e)){var r=t.pid;o[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},n.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.types=e("./support/types"),n.isArray=v,n.isBoolean=b,n.isNull=w,n.isNullOrUndefined=_,n.isNumber=x,n.isString=S,n.isSymbol=k,n.isUndefined=T,n.isRegExp=C,n.types.isRegExp=C,n.isObject=E,n.isDate=O,n.types.isDate=O,n.isError=P,n.types.isNativeError=P,n.isFunction=A,n.isPrimitive=j,n.isBuffer=e("./support/isBuffer");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.log=function(){console.log("%s - %s",I(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var N="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function F(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function z(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(a.bind(null,null,e))},function(e){t.nextTick(F.bind(null,e,a))})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}n.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){var t;if("function"!==typeof(t=e[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},n.promisify.custom=N,n.callbackify=z}).call(this)}).call(this,e("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(e,t,r){(function(n){(function(){"use strict";var r=e("for-each"),i=e("available-typed-arrays"),o=e("call-bind/callBound"),a=e("gopd"),s=o("Object.prototype.toString"),l=e("has-tostringtag/shams")(),c="undefined"===typeof globalThis?n:globalThis,u=i(),h=o("String.prototype.slice"),f={},d=Object.getPrototypeOf;l&&a&&d&&r(u,function(e){if("function"===typeof c[e]){var t=new c[e];if(Symbol.toStringTag in t){var n=d(t),r=a(n,Symbol.toStringTag);if(!r){var i=d(n);r=a(i,Symbol.toStringTag)}f[e]=r.get}}});var p=function(e){var t=!1;return r(f,function(n,r){if(!t)try{var i=n.call(e);i===r&&(t=i)}catch(o){}}),t},g=e("is-typed-array");t.exports=function(e){return!!g(e)&&(l&&Symbol.toStringTag in e?p(e):h(s(e),8,-1))}}).call(this)}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20)},234(e,t,n){"use strict";e.exports=n(896)},288(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var _=w.prototype=new b;_.constructor=w,m(_,v.prototype),_.isPureReactComponent=!0;var x=Array.isArray;function S(){}var k={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function C(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case f:return A((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+P(e,0):o,x(a)?(i="",null!=u&&(i=u.replace(O,"$&/")+"/"),A(a,t,i,"",function(e){return e})):null!=a&&(E(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+u,a=C(l.type,c,l.props)),t.push(a)),1;u=0;var h,d=""===o?".":o+":";if(x(e))for(var g=0;g<e.length;g++)u+=A(o=e[g],t,i,s=d+P(o,g),a);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=A(o=o.value,t,i,s=d+P(o,g++),a);else if("object"===s){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function j(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},L={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=d,t.Children=L,t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)!T.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return C(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return C(e,o,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,M)}catch(o){M(o)}finally{null!==t&&null!==n.types&&(t.types=n.types),k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useEffectEvent=function(e){return k.H.useEffectEvent(e)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.2.3"},391(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){"use strict";e.exports=n(799)},672(e,t,n){"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},896(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,f=null,d=3,p=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(m=!1,_(e),!g)if(null!==r(c))g=!0,k||(k=!0,S());else{var t=r(u);null!==t&&D(x,t.startTime-e)}}var S,k=!1,T=-1,C=5,E=-1;function O(){return!!y||!(t.unstable_now()-E<C)}function P(){if(y=!1,k){var e=t.unstable_now();E=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(T),T=-1),p=!0;var o=d;try{t:{for(_(e),f=r(c);null!==f&&!(f.expirationTime>e&&O());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){f.callback=s,_(e),n=!0;break t}f===r(c)&&i(c),_(e)}else i(c);f=r(c)}if(null!==f)n=!0;else{var l=r(u);null!==l&&D(x,l.startTime-e),n=!1}}break e}finally{f=null,d=o,p=!1}n=void 0}}finally{n?S():k=!1}}}if("function"===typeof w)S=function(){w(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,j=A.port2;A.port1.onmessage=P,S=function(){j.postMessage(null)}}else S=function(){v(P,0)};function D(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(b(T),T=-1):m=!0,D(x,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,k||(k=!0,S()))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},936(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var g=function(e){return!(!e||!e.Window)&&e instanceof e.Window},m=void 0,y=void 0;function v(e){m=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(t)===t&&(e=e.wrap(e)),y=e}function b(e){return g(e)?e:(e.ownerDocument||e).defaultView||y.window}"undefined"!=typeof window&&window&&v(window);var w=function(e){return!!e&&"object"===r(e)},_=function(e){return"function"==typeof e},x={window:function(e){return e===y||g(e)},docFrag:function(e){return w(e)&&11===e.nodeType},object:w,func:_,number:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e},string:function(e){return"string"==typeof e},element:function(e){if(!e||"object"!==r(e))return!1;var t=b(e)||y;return/object|function/.test("undefined"==typeof Element?"undefined":r(Element))?e instanceof Element||e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName},plainObject:function(e){return w(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return w(e)&&void 0!==e.length&&_(e.splice)}};function S(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.prepared.axis;"x"===n?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):"y"===n&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function k(e){var t=e.iEvent,n=e.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var i="x"===r?"y":"x";t.page[i]=n.coords.start.page[i],t.client[i]=n.coords.start.client[i],t.delta[i]=0}}}var T={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.draggable=T.draggable,t.map.drag=T,t.methodDict.drag="draggable",r.actions.drag=T.defaults},listeners:{"interactions:before-action-move":S,"interactions:action-resume":S,"interactions:action-move":k,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.buttons,i=n.options.drag;if(i&&i.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(r&n.options.drag.mouseButtons)))return e.action={name:"drag",axis:"start"===i.lockAxis?i.startAxis:i.lockAxis},!1}},draggable:function(e){return x.object(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):x.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:S,move:k,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(e){return 0===e.search("drag")}},C=T,E={init:function(e){var t=e;E.document=t.document,E.DocumentFragment=t.DocumentFragment||O,E.SVGElement=t.SVGElement||O,E.SVGSVGElement=t.SVGSVGElement||O,E.SVGElementInstance=t.SVGElementInstance||O,E.Element=t.Element||O,E.HTMLElement=t.HTMLElement||E.Element,E.Event=t.Event,E.Touch=t.Touch||O,E.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function O(){}var P=E,A={init:function(e){var t=P.Element,n=e.navigator||{};A.supportsTouch="ontouchstart"in e||x.func(e.DocumentTouch)&&P.document instanceof e.DocumentTouch,A.supportsPointerEvent=!1!==n.pointerEnabled&&!!P.PointerEvent,A.isIOS=/iP(hone|od|ad)/.test(n.platform),A.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),A.isIe9=/MSIE 9/.test(n.userAgent),A.isOperaMobile="Opera"===n.appName&&A.supportsTouch&&/Presto/.test(n.userAgent),A.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",A.pEventTypes=A.supportsPointerEvent?P.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,A.wheelEvent=P.document&&"onmousewheel"in P.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},j=A;function D(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function M(e,t){for(;x.element(e);){if(I(e,t))return e;e=L(e)}return null}function L(e){var t=e.parentNode;if(x.docFrag(t)){for(;(t=t.host)&&x.docFrag(t););return t}return t}function I(e,t){return y!==m&&(t=t.replace(/\/deep\//g," ")),e[j.prefixedMatchesSelector](t)}var R=function(e){return e.parentNode||e.host};function N(e,t){for(var n,r=[],i=e;(n=R(i))&&i!==t&&n!==i.ownerDocument;)r.unshift(i),i=n;return r}function F(e,t,n){for(;x.element(e);){if(I(e,t))return!0;if((e=L(e))===n)return I(e,t)}return!1}function z(e){return e.correspondingUseElement||e}function B(e){var t=e instanceof P.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function U(e){var t,n=B(e);if(!j.isIOS7&&n){var r={x:(t=(t=b(e))||y).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop};n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y}return n}function W(e){for(var t=[];e;)t.push(e),e=L(e);return t}function H(e){return!!x.string(e)&&(P.document.querySelector(e),!0)}function Y(e,t){for(var n in t)e[n]=t[n];return e}function V(e,t,n){return"parent"===e?L(n):"self"===e?t.getRect(n):M(n,e)}function G(e,t,n,r){var i=e;return x.string(i)?i=V(i,t,n):x.func(i)&&(i=i.apply(void 0,r)),x.element(i)&&(i=U(i)),i}function X(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function q(e){return!e||"x"in e&&"y"in e||((e=Y({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function Z(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function K(e,t,n){var r=n&&e.options[n];return X(G(r&&r.origin||e.options.origin,e,t,[e&&t]))||{x:0,y:0}}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},r=arguments.length>3?arguments[3]:void 0;if(r=r||{},x.string(e)&&-1!==e.search(" ")&&(e=Q(e)),x.array(e))return e.forEach(function(e){return $(e,t,n,r)}),r;if(x.object(e)&&(t=e,e=""),x.func(t)&&n(e))r[e]=r[e]||[],r[e].push(t);else if(x.array(t))for(var i=0,o=t;i<o.length;i++){var a=o[i];$(e,a,n,r)}else if(x.object(t))for(var s in t)$(Q(s).map(function(t){return"".concat(e).concat(t)}),t[s],n,r);return r}function Q(e){return e.trim().split(/ +/)}var J=function(e,t){return Math.sqrt(e*e+t*t)},ee=["webkit","moz"];function te(e,t){e.__set||(e.__set={});var n=function(n){if(ee.some(function(e){return 0===n.indexOf(e)}))return 1;"function"!=typeof e[n]&&"__set"!==n&&Object.defineProperty(e,n,{get:function(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set:function(t){e.__set[n]=t},configurable:!0})};for(var r in t)n(r);return e}function ne(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function re(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function ie(e){return e instanceof P.Event||e instanceof P.Touch}function oe(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function ae(e,t){return t=t||{x:0,y:0},j.isOperaMobile&&ie(e)?(oe("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):oe("page",e,t),t}function se(e){return x.number(e.pointerId)?e.pointerId:e.identifier}function le(e,t,n){var r=t.length>1?ue(t):t[0];ae(r,e.page),function(e,t){t=t||{},j.isOperaMobile&&ie(e)?oe("screen",e,t):oe("client",e,t)}(r,e.client),e.timeStamp=n}function ce(e){var t=[];return x.array(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function ue(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var i in t)t[i]+=r[i]}for(var o in t)t[o]/=e.length;return t}function he(e){if(!e.length)return null;var t=ce(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),o=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:i,bottom:o,width:i-n,height:o-r}}function fe(e,t){var n=t+"X",r=t+"Y",i=ce(e),o=i[0][n]-i[1][n],a=i[0][r]-i[1][r];return J(o,a)}function de(e,t){var n=t+"X",r=t+"Y",i=ce(e),o=i[1][n]-i[0][n],a=i[1][r]-i[0][r];return 180*Math.atan2(a,o)/Math.PI}function pe(e){return x.string(e.pointerType)?e.pointerType:x.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof P.Touch?"touch":"mouse"}function ge(e){var t=x.func(e.composedPath)?e.composedPath():e.path;return[z(t?t[0]:e.target),z(e.currentTarget)]}var me=function(){function e(t){i(this,e),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}return a(e,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),e}();Object.defineProperty(me.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var ye=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e},ve=function(e){return ye([],e)},be=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},we=function(e,t){return e[be(e,t)]},_e=function(e){l(n,e);var t=f(n);function n(e,r,o){var a;i(this,n),(a=t.call(this,r._interaction)).dropzone=void 0,a.dragEvent=void 0,a.relatedTarget=void 0,a.draggable=void 0,a.propagationStopped=!1,a.immediatePropagationStopped=!1;var s="dragleave"===o?e.prev:e.cur,l=s.element,c=s.dropzone;return a.type=o,a.target=l,a.currentTarget=l,a.dropzone=c,a.dragEvent=r,a.relatedTarget=r.target,a.draggable=r.interactable,a.timeStamp=r.timeStamp,a}return a(n,[{key:"reject",value:function(){var e=this,t=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&t.cur.dropzone===this.dropzone&&t.cur.element===this.target)if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var r=t.activeDrops,i=be(r,function(t){var n=t.dropzone,r=t.element;return n===e.dropzone&&r===e.target});t.activeDrops.splice(i,1);var o=new n(t,this.dragEvent,"dropdeactivate");o.dropzone=this.dropzone,o.target=this.target,this.dropzone.fire(o)}else this.dropzone.fire(new n(t,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}(me);function xe(e,t){for(var n=0,r=e.slice();n<r.length;n++){var i=r[n],o=i.dropzone,a=i.element;t.dropzone=o,t.target=a,o.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function Se(e,t){for(var n=function(e,t){for(var n=[],r=0,i=e.interactables.list;r<i.length;r++){var o=i[r];if(o.options.drop.enabled){var a=o.options.drop.accept;if(!(x.element(a)&&a!==t||x.string(a)&&!I(t,a)||x.func(a)&&!a({dropzone:o,draggableElement:t})))for(var s=0,l=o.getAllElements();s<l.length;s++){var c=l[s];c!==t&&n.push({dropzone:o,element:c,rect:o.getRect(c)})}}}return n}(e,t),r=0;r<n.length;r++){var i=n[r];i.rect=i.dropzone.getRect(i.element)}return n}function ke(e,t,n){for(var r=e.dropState,i=e.interactable,o=e.element,a=[],s=0,l=r.activeDrops;s<l.length;s++){var c=l[s],u=c.dropzone,h=c.element,f=c.rect,d=u.dropCheck(t,n,i,o,h,f);a.push(d?h:null)}var p=function(e){for(var t,n,r,i=[],o=0;o<e.length;o++){var a=e[o],s=e[t];if(a&&o!==t)if(s){var l=R(a),c=R(s);if(l!==a.ownerDocument)if(c!==a.ownerDocument)if(l!==c){i=i.length?i:N(s);var u=void 0;if(s instanceof P.HTMLElement&&a instanceof P.SVGElement&&!(a instanceof P.SVGSVGElement)){if(a===c)continue;u=a.ownerSVGElement}else u=a;for(var h=N(u,s.ownerDocument),f=0;h[f]&&h[f]===i[f];)f++;var d=[h[f-1],h[f],i[f]];if(d[0])for(var p=d[0].lastChild;p;){if(p===d[1]){t=o,i=h;break}if(p===d[2])break;p=p.previousSibling}}else r=s,(parseInt(b(n=a).getComputedStyle(n).zIndex,10)||0)>=(parseInt(b(r).getComputedStyle(r).zIndex,10)||0)&&(t=o);else t=o}else t=o}return t}(a);return r.activeDrops[p]||null}function Te(e,t,n){var r=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(i.activate=new _e(r,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===n.type&&(i.deactivate=new _e(r,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(i.leave=new _e(r,n,"dragleave"),n.dragLeave=i.leave.target=r.prev.element,n.prevDropzone=i.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(i.enter=new _e(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(i.drop=new _e(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(i.move=new _e(r,n,"dropmove"),n.dropzone=r.cur.dropzone)),i}function Ce(e,t){var n=e.dropState,r=n.activeDrops,i=n.cur,o=n.prev;t.leave&&o.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&xe(r,t.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function Ee(e,t){var n=e.interaction,r=e.iEvent,i=e.event;if("dragmove"===r.type||"dragend"===r.type){var o=n.dropState;t.dynamicDrop&&(o.activeDrops=Se(t,n.element));var a=r,s=ke(n,a,i);o.rejected=o.rejected&&!!s&&s.dropzone===o.cur.dropzone&&s.element===o.cur.element,o.cur.dropzone=s&&s.dropzone,o.cur.element=s&&s.element,o.events=Te(n,0,a)}}var Oe={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,r=e.Interactable,i=e.defaults;e.usePlugin(C),r.prototype.dropzone=function(e){return function(e,t){if(x.object(t)){if(e.options.drop.enabled=!1!==t.enabled,t.listeners){var n=$(t.listeners),r=Object.keys(n).reduce(function(e,t){return e[/^(enter|leave)/.test(t)?"drag".concat(t):/^(activate|deactivate|move)/.test(t)?"drop".concat(t):t]=n[t],e},{}),i=e.options.drop.listeners;i&&e.off(i),e.on(r),e.options.drop.listeners=r}return x.func(t.ondrop)&&e.on("drop",t.ondrop),x.func(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),x.func(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),x.func(t.ondragenter)&&e.on("dragenter",t.ondragenter),x.func(t.ondragleave)&&e.on("dragleave",t.ondragleave),x.func(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:x.number(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return x.bool(t)?(e.options.drop.enabled=t,e):e.options.drop}(this,e)},r.prototype.dropCheck=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s=!1;if(!(a=a||e.getRect(o)))return!!e.options.drop.checker&&e.options.drop.checker(t,n,s,e,o,r,i);var l=e.options.drop.overlap;if("pointer"===l){var c=K(r,i,"drag"),u=ae(t);u.x+=c.x,u.y+=c.y;var h=u.x>a.left&&u.x<a.right,f=u.y>a.top&&u.y<a.bottom;s=h&&f}var d=r.getRect(i);if(d&&"center"===l){var p=d.left+d.width/2,g=d.top+d.height/2;s=p>=a.left&&p<=a.right&&g>=a.top&&g<=a.bottom}return d&&x.number(l)&&(s=Math.max(0,Math.min(a.right,d.right)-Math.max(a.left,d.left))*Math.max(0,Math.min(a.bottom,d.bottom)-Math.max(a.top,d.top))/(d.width*d.height)>=l),e.options.drop.checker&&(s=e.options.drop.checker(t,n,s,e,o,r,i)),s}(this,e,t,n,r,i,o)},n.dynamicDrop=function(t){return x.bool(t)?(e.dynamicDrop=t,n):e.dynamicDrop},Y(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=Oe.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;"drag"===t.prepared.name&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if("drag"===n.prepared.name){var i=n.dropState;i.activeDrops=[],i.events={},i.activeDrops=Se(t,n.element),i.events=Te(n,0,r),i.events.activate&&(xe(i.activeDrops,i.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":Ee,"interactions:after-action-move":function(e,t){var n=e.interaction,r=e.iEvent;if("drag"===n.prepared.name){var i=n.dropState;Ce(n,i.events),t.fire("actions/drop:move",{interaction:n,dragEvent:r}),i.events={}}},"interactions:action-end":function(e,t){if("drag"===e.interaction.prepared.name){var n=e.interaction,r=e.iEvent;Ee(e,t),Ce(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:Se,getDrop:ke,getDropEvents:Te,fireDropEvents:Ce,filterEventType:function(e){return 0===e.search("drag")||0===e.search("drop")},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Pe=Oe;function Ae(e){var t=e.interaction,n=e.iEvent,r=e.phase;if("gesture"===t.prepared.name){var i=t.pointers.map(function(e){return e.pointer}),o="start"===r,a="end"===r,s=t.interactable.options.deltaSource;if(n.touches=[i[0],i[1]],o)n.distance=fe(i,s),n.box=he(i),n.scale=1,n.ds=0,n.angle=de(i,s),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(a||t.pointers.length<2){var l=t.prevEvent;n.distance=l.distance,n.box=l.box,n.scale=l.scale,n.ds=0,n.angle=l.angle,n.da=0}else n.distance=fe(i,s),n.box=he(i),n.scale=n.distance/t.gesture.startDistance,n.angle=de(i,s),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,x.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}var je={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(e){return x.object(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):x.bool(e)?(this.options.gesture.enabled=e,this):this.options.gesture},t.map.gesture=je,t.methodDict.gesture="gesturable",r.actions.gesture=je.defaults},listeners:{"interactions:action-start":Ae,"interactions:action-move":Ae,"interactions:action-end":Ae,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(e){return 0===e.search("gesture")}},De=je;function Me(e,t,n,r,i,o,a){if(!t)return!1;if(!0===t){var s=x.number(o.width)?o.width:o.right-o.left,l=x.number(o.height)?o.height:o.bottom-o.top;if(a=Math.min(a,Math.abs(("left"===e||"right"===e?s:l)/2)),s<0&&("left"===e?e="right":"right"===e&&(e="left")),l<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e){var c=s>=0?o.left:o.right;return n.x<c+a}if("top"===e){var u=l>=0?o.top:o.bottom;return n.y<u+a}if("right"===e)return n.x>(s>=0?o.right:o.left)-a;if("bottom"===e)return n.y>(l>=0?o.bottom:o.top)-a}return!!x.element(r)&&(x.element(t)?t===r:F(r,t,i))}function Le(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var r=t;n.interactable.options.resize.square?("y"===n.resizeAxes?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,"x"===n.resizeAxes?r.delta.y=0:"y"===n.resizeAxes&&(r.delta.x=0))}}var Ie,Re,Ne={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,i=e.defaults;Ne.cursors=function(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Ne.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(t){return function(e,t,n){return x.object(t)?(e.options.resize.enabled=!1!==t.enabled,e.setPerAction("resize",t),e.setOnEvents("resize",t),x.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:null===t.axis&&(e.options.resize.axis=n.defaults.actions.resize.axis),x.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:x.bool(t.square)&&(e.options.resize.square=t.square),e):x.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}(this,t,e)},t.map.resize=Ne,t.methodDict.resize="resizable",i.actions.resize=Ne.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,i=n.rect;n._rects={start:Y({},i),corrected:Y({},i),previous:Y({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}}(e),Le(e)},"interactions:action-move":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,i=n.interactable.options.resize.invert,o="reposition"===i||"negate"===i,a=n.rect,s=n._rects,l=s.start,c=s.corrected,u=s.delta,h=s.previous;if(Y(h,c),o){if(Y(c,a),"reposition"===i){if(c.top>c.bottom){var f=c.top;c.top=c.bottom,c.bottom=f}if(c.left>c.right){var d=c.left;c.left=c.right,c.right=d}}}else c.top=Math.min(a.top,l.bottom),c.bottom=Math.max(a.bottom,l.top),c.left=Math.min(a.left,l.right),c.right=Math.max(a.right,l.left);for(var p in c.width=c.right-c.left,c.height=c.bottom-c.top,c)u[p]=c[p]-h[p];r.edges=n.prepared.edges,r.rect=c,r.deltaRect=u}}(e),Le(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.element,i=e.rect,o=e.buttons;if(i){var a=Y({},t.coords.cur.page),s=n.options.resize;if(s&&s.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(o&s.mouseButtons))){if(x.object(s.edges)){var l={left:!1,right:!1,top:!1,bottom:!1};for(var c in l)l[c]=Me(c,s.edges[c],a,t._latestPointer.eventTarget,r,i,s.margin||Ne.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(e.action={name:"resize",edges:l})}else{var u="y"!==s.axis&&a.x>i.right-Ne.defaultMargin,h="x"!==s.axis&&a.y>i.bottom-Ne.defaultMargin;(u||h)&&(e.action={name:"resize",axes:(u?"x":"")+(h?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,i=Ne.cursors,o=null;if(n)o=i[r+n];else if(t){for(var a="",s=0,l=["top","bottom","left","right"];s<l.length;s++){var c=l[s];t[c]&&(a+=c)}o=i[a]}return o},filterEventType:function(e){return 0===e.search("resize")},defaultMargin:null},Fe=Ne,ze={id:"actions",install:function(e){e.usePlugin(De),e.usePlugin(Fe),e.usePlugin(C),e.usePlugin(Pe)}},Be=0,Ue={request:function(e){return Ie(e)},cancel:function(e){return Re(e)},init:function(e){if(Ie=e.requestAnimationFrame,Re=e.cancelAnimationFrame,!Ie)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];Ie=e["".concat(r,"RequestAnimationFrame")],Re=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}Ie=Ie&&Ie.bind(e),Re=Re&&Re.bind(e),Ie||(Ie=function(t){var n=Date.now(),r=Math.max(0,16-(n-Be)),i=e.setTimeout(function(){t(n+r)},r);return Be=n+r,i},Re=function(e){return clearTimeout(e)})}},We={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){We.isScrolling=!0,Ue.cancel(We.i),e.autoScroll=We,We.interaction=e,We.prevTime=We.now(),We.i=Ue.request(We.scroll)},stop:function(){We.isScrolling=!1,We.interaction&&(We.interaction.autoScroll=null),Ue.cancel(We.i)},scroll:function(){var e=We.interaction,t=e.interactable,n=e.element,r=e.prepared.name,i=t.options[r].autoScroll,o=He(i.container,t,n),a=We.now(),s=(a-We.prevTime)/1e3,l=i.speed*s;if(l>=1){var c={x:We.x*l,y:We.y*l};if(c.x||c.y){var u=Ye(o);x.window(o)?o.scrollBy(c.x,c.y):o&&(o.scrollLeft+=c.x,o.scrollTop+=c.y);var h=Ye(o),f={x:h.x-u.x,y:h.y-u.y};(f.x||f.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:f,interaction:e,container:o})}We.prevTime=a}We.isScrolling&&(Ue.cancel(We.i),We.i=Ue.request(We.scroll))},check:function(e,t){var n;return null==(n=e.options[t].autoScroll)?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&We.check(t.interactable,t.prepared.name))if(t.simulation)We.x=We.y=0;else{var r,i,o,a,s=t.interactable,l=t.element,c=t.prepared.name,u=s.options[c].autoScroll,h=He(u.container,s,l);if(x.window(h))a=n.clientX<We.margin,r=n.clientY<We.margin,i=n.clientX>h.innerWidth-We.margin,o=n.clientY>h.innerHeight-We.margin;else{var f=B(h);a=n.clientX<f.left+We.margin,r=n.clientY<f.top+We.margin,i=n.clientX>f.right-We.margin,o=n.clientY>f.bottom-We.margin}We.x=i?1:a?-1:0,We.y=o?1:r?-1:0,We.isScrolling||(We.margin=u.margin,We.speed=u.speed,We.start(t))}}};function He(e,t,n){return(x.string(e)?V(e,t,n):e)||b(n)}function Ye(e){return x.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var Ve={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=We,We.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=We.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,We.stop(),We.interaction&&(We.interaction=null)},"interactions:stop":We.stop,"interactions:action-move":function(e){return We.onInteractionMove(e)}}},Ge=Ve;function Xe(e,t){var n=!1;return function(){return n||(y.console.warn(t),n=!0),e.apply(this,arguments)}}function qe(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function Ze(e){return x.bool(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function Ke(e){return x.func(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}var $e={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(t,n,r,i){var o=function(e,t,n,r,i){var o=e.getRect(r),a={action:null,interactable:e,interaction:n,element:r,rect:o,buttons:t.buttons||{0:1,1:4,3:8,4:16}[t.button]};return i.fire("auto-start:check",a),a.action}(this,n,r,i,e);return this.options.actionChecker?this.options.actionChecker(t,n,o,this,i,r):o},t.prototype.ignoreFrom=Xe(function(e){return this._backCompatOption("ignoreFrom",e)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=Xe(function(e){return this._backCompatOption("allowFrom",e)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Ke,t.prototype.styleCursor=Ze}};function Qe(e,t,n,r,i){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&nt(t,n,e,i)?e:null}function Je(e,t,n,r,i,o,a){for(var s=0,l=r.length;s<l;s++){var c=r[s],u=i[s],h=c.getAction(t,n,e,u);if(h){var f=Qe(h,c,u,o,a);if(f)return{action:f,interactable:c,element:u}}}return{action:null,interactable:null,element:null}}function et(e,t,n,r,i){var o=[],a=[],s=r;function l(e){o.push(e),a.push(s)}for(;x.element(s);){o=[],a=[],i.interactables.forEachMatch(s,l);var c=Je(e,t,n,o,a,r,i);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;s=L(s)}return{action:null,interactable:null,element:null}}function tt(e,t,n){var r=t.action,i=t.interactable,o=t.element;r=r||{name:null},e.interactable=i,e.element=o,qe(e.prepared,r),e.rect=i&&r.name?i.getRect(o):null,ot(e,n),n.fire("autoStart:prepared",{interaction:e})}function nt(e,t,n,r){var i=e.options,o=i[n.name].max,a=i[n.name].maxPerElement,s=r.autoStart.maxInteractions,l=0,c=0,u=0;if(!(o&&a&&s))return!1;for(var h=0,f=r.interactions.list;h<f.length;h++){var d=f[h],p=d.prepared.name;if(d.interacting()){if(++l>=s)return!1;if(d.interactable===e){if((c+=p===n.name?1:0)>=o)return!1;if(d.element===t&&(u++,p===n.name&&u>=a))return!1}}}return s>0}function rt(e,t){return x.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function it(e,t,n){var r=n.autoStart.cursorElement;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function ot(e,t){var n=e.interactable,r=e.element,i=e.prepared;if("mouse"===e.pointerType&&n&&n.options.styleCursor){var o="";if(i.name){var a=n.options[i.name].cursorChecker;o=x.func(a)?a(i,n,r,e._interacting):t.actions.map[i.name].getCursor(i)}it(e.element,o||"",t)}else t.autoStart.cursorElement&&it(t.autoStart.cursorElement,"",t)}var at={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin($e),n.base.actionChecker=null,n.base.styleCursor=!0,Y(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(t){return rt(t,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:nt,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;n.interacting()||tt(n,et(n,r,i,o,t),t)},"interactions:move":function(e,t){!function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||tt(n,et(n,r,i,o,t),t)}(e,t),function(e,t){var n=e.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){t.fire("autoStart:before-start",e);var r=n.interactable,i=n.prepared.name;i&&r&&(r.options[i].manualStart||!nt(r,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,r,n.element),ot(n,t)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&it(n.element,"",t)}},maxInteractions:rt,withinInteractionLimit:nt,validateAction:Qe},st=at,lt={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,i=e.dx,o=e.dy;if("drag"===n.prepared.name){var a=Math.abs(i),s=Math.abs(o),l=n.interactable.options.drag,c=l.startAxis,u=a>s?"x":a<s?"y":"xy";if(n.prepared.axis="start"===l.lockAxis?u[0]:l.lockAxis,"xy"!==u&&"xy"!==c&&c!==u){n.prepared.name=null;for(var h=r,f=function(e){if(e!==n.interactable){var i=n.interactable.options.drag;if(!i.manualStart&&e.testIgnoreAllow(i,h,r)){var o=e.getAction(n.downPointer,n.downEvent,n,h);if(o&&"drag"===o.name&&function(e,t){if(!t)return!1;var n=t.options.drag.startAxis;return"xy"===e||"xy"===n||n===e}(u,e)&&st.validateAction(o,e,h,r,t))return e}}};x.element(h);){var d=t.interactables.forEachMatch(h,f);if(d){n.prepared.name="drag",n.interactable=d,n.element=h;break}h=L(h)}}}}}};function ct(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}var ut={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(st),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=ct(t);n>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;ct(t)>0&&(t.prepared.name=null)}},getHoldDuration:ct},ht=ut,ft={id:"auto-start",install:function(e){e.usePlugin(st),e.usePlugin(ht),e.usePlugin(lt)}},dt=function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):x.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault};function pt(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}var gt={id:"core/interactablePreventDefault",install:function(e){var t=e.Interactable;t.prototype.preventDefault=dt,t.prototype.checkAndPreventDefault=function(t){return function(e,t,n){var r=e.options.preventDefault;if("never"!==r)if("always"!==r){if(t.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){var i=b(n.target).document,o=t.getDocOptions(i);if(!o||!o.events||!1!==o.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||x.element(n.target)&&I(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}else n.preventDefault()}(this,e,t)},e.interactions.docEvents.push({type:"dragstart",listener:function(t){for(var n=0,r=e.interactions.list;n<r.length;n++){var i=r[n];if(i.element&&(i.element===t.target||D(i.element,t.target)))return void i.interactable.checkAndPreventDefault(t)}}})},listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=pt,e},{})};function mt(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(0===e.indexOf(n)&&e.substr(n.length)in t.phases)return!0;return!1}function yt(e){var t={};for(var n in e){var r=e[n];x.plainObject(r)?t[n]=yt(r):x.array(r)?t[n]=ve(r):t[n]=r}return t}var vt=function(){function e(t){i(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=bt(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return a(e,[{key:"start",value:function(e,t){var n,r,i=e.phase,o=this.interaction,a=function(e){var t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(e){var n=t[e];return n&&n.enabled&&{options:n,methods:n._methods}}).filter(function(e){return!!e})}(o);this.prepareStates(a),this.startEdges=Y({},o.edges),this.edges=Y({},this.startEdges),this.startOffset=(r=t,(n=o.rect)?{left:r.x-n.left,top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var s=this.fillArg({phase:i,pageCoords:t,preEnd:!1});return this.result=bt(),this.startAll(s),this.result=this.setAll(s)}},{key:"fillArg",value:function(e){var t=this.interaction;return e.interaction=t,e.interactable=t.interactable,e.element=t.element,e.rect||(e.rect=t.rect),e.edges||(e.edges=this.startEdges),e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var t=0,n=this.states;t<n.length;t++){var r=n[t];r.methods.start&&(e.state=r,r.methods.start(e))}}},{key:"setAll",value:function(e){var t=e.phase,n=e.preEnd,r=e.skipModifiers,i=e.rect,o=e.edges;e.coords=Y({},e.pageCoords),e.rect=Y({},i),e.edges=Y({},o);for(var a=r?this.states.slice(r):this.states,s=bt(e.coords,e.rect),l=0;l<a.length;l++){var c,u=a[l],h=u.options,f=Y({},e.coords),d=null;null!=(c=u.methods)&&c.set&&this.shouldDo(h,n,t)&&(e.state=u,d=u.methods.set(e),Z(e.edges,e.rect,{x:e.coords.x-f.x,y:e.coords.y-f.y})),s.eventProps.push(d)}Y(this.edges,e.edges),s.delta.x=e.coords.x-e.pageCoords.x,s.delta.y=e.coords.y-e.pageCoords.y,s.rectDelta.left=e.rect.left-i.left,s.rectDelta.right=e.rect.right-i.right,s.rectDelta.top=e.rect.top-i.top,s.rectDelta.bottom=e.rect.bottom-i.bottom;var p=this.result.coords,g=this.result.rect;if(p&&g){var m=s.rect.left!==g.left||s.rect.right!==g.right||s.rect.top!==g.top||s.rect.bottom!==g.bottom;s.changed=m||p.x!==s.coords.x||p.y!==s.coords.y}return s}},{key:"applyToInteraction",value:function(e){var t=this.interaction,n=e.phase,r=t.coords.cur,i=t.coords.start,o=this.result,a=this.startDelta,s=o.delta;"start"===n&&Y(this.startDelta,o.delta);for(var l=0,c=[[i,a],[r,s]];l<c.length;l++){var u=c[l],h=u[0],f=u[1];h.page.x+=f.x,h.page.y+=f.y,h.client.x+=f.x,h.client.y+=f.y}var d=this.result.rectDelta,p=e.rect||t.rect;p.left+=d.left,p.right+=d.right,p.top+=d.top,p.bottom+=d.bottom,p.width=p.right-p.left,p.height=p.bottom-p.top}},{key:"setAndApply",value:function(e){var t=this.interaction,n=e.phase,r=e.preEnd,i=e.skipModifiers,o=this.setAll(this.fillArg({preEnd:r,phase:n,pageCoords:e.modifiedCoords||t.coords.cur.page}));if(this.result=o,!o.changed&&(!i||i<this.states.length)&&t.interacting())return!1;if(e.modifiedCoords){var a=t.coords.cur.page,s={x:e.modifiedCoords.x-a.x,y:e.modifiedCoords.y-a.y};o.coords.x+=s.x,o.coords.y+=s.y,o.delta.x+=s.x,o.delta.y+=s.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var t=e.interaction,n=e.event,r=this.states;if(r&&r.length){for(var i=!1,o=0;o<r.length;o++){var a=r[o];e.state=a;var s=a.options,l=a.methods,c=l.beforeEnd&&l.beforeEnd(e);if(c)return this.endResult=c,!1;i=i||!i&&this.shouldDo(s,!0,e.phase,!0)}i&&t.move({event:n,preEnd:!0})}}},{key:"stop",value:function(e){var t=e.interaction;if(this.states&&this.states.length){var n=Y({states:this.states,interactable:t.interactable,element:t.element,rect:null},e);this.fillArg(n);for(var r=0,i=this.states;r<i.length;r++){var o=i[r];n.state=o,o.methods.stop&&o.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.options,i=n.methods,o=n.name;this.states.push({options:r,methods:i,index:t,name:o})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var t=e.interaction,n=t.coords,r=t.rect,i=t.modification;if(i.result){for(var o=i.startDelta,a=i.result,s=a.delta,l=a.rectDelta,c=0,u=[[n.start,o],[n.cur,s]];c<u.length;c++){var h=u[c],f=h[0],d=h[1];f.page.x-=d.x,f.page.y-=d.y,f.client.x-=d.x,f.client.y-=d.y}r.left-=l.left,r.right-=l.right,r.top-=l.top,r.bottom-=l.bottom}}},{key:"shouldDo",value:function(e,t,n,r){return!(!e||!1===e.enabled||r&&!e.endOnly||e.endOnly&&!t||"start"===n&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.startEdges=e.startEdges,this.edges=e.edges,this.states=e.states.map(function(e){return yt(e)}),this.result=bt(Y({},e.result.coords),Y({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}]),e}();function bt(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function wt(e,t){var n=e.defaults,r={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=function(e){var i=e||{};for(var o in i.enabled=!1!==i.enabled,n)o in i||(i[o]=n[o]);var a={options:i,methods:r,name:t,enable:function(){return i.enabled=!0,a},disable:function(){return i.enabled=!1,a}};return a};return t&&"string"==typeof t&&(i._defaults=n,i._methods=r),i}function _t(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}var xt={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new vt(t)},"interactions:before-action-start":function(e){var t=e.interaction,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":function(e){var t=e.interaction,n=t.modification,r=n.setAndApply(e);return t.edges=n.edges,r},"interactions:before-action-end":function(e){var t=e.interaction,n=t.modification,r=n.beforeEnd(e);return t.edges=n.startEdges,r},"interactions:action-start":_t,"interactions:action-move":_t,"interactions:action-end":_t,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},St=xt,kt={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Tt=function(e){l(n,e);var t=f(n);function n(e,r,o,a,s,l,c){var u;i(this,n),(u=t.call(this,e)).relatedTarget=null,u.screenX=void 0,u.screenY=void 0,u.button=void 0,u.buttons=void 0,u.ctrlKey=void 0,u.shiftKey=void 0,u.altKey=void 0,u.metaKey=void 0,u.page=void 0,u.client=void 0,u.delta=void 0,u.rect=void 0,u.x0=void 0,u.y0=void 0,u.t0=void 0,u.dt=void 0,u.duration=void 0,u.clientX0=void 0,u.clientY0=void 0,u.velocity=void 0,u.speed=void 0,u.swipe=void 0,u.axes=void 0,u.preEnd=void 0,s=s||e.element;var f=e.interactable,d=(f&&f.options||kt).deltaSource,p=K(f,s,o),g="start"===a,m="end"===a,y=g?h(u):e.prevEvent,v=g?e.coords.start:m?{page:y.page,client:y.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return u.page=Y({},v.page),u.client=Y({},v.client),u.rect=Y({},e.rect),u.timeStamp=v.timeStamp,m||(u.page.x-=p.x,u.page.y-=p.y,u.client.x-=p.x,u.client.y-=p.y),u.ctrlKey=r.ctrlKey,u.altKey=r.altKey,u.shiftKey=r.shiftKey,u.metaKey=r.metaKey,u.button=r.button,u.buttons=r.buttons,u.target=s,u.currentTarget=s,u.preEnd=l,u.type=c||o+(a||""),u.interactable=f,u.t0=g?e.pointers[e.pointers.length-1].downTime:y.t0,u.x0=e.coords.start.page.x-p.x,u.y0=e.coords.start.page.y-p.y,u.clientX0=e.coords.start.client.x-p.x,u.clientY0=e.coords.start.client.y-p.y,u.delta=g||m?{x:0,y:0}:{x:u[d].x-y[d].x,y:u[d].y-y[d].y},u.dt=e.coords.delta.timeStamp,u.duration=u.timeStamp-u.t0,u.velocity=Y({},e.coords.velocity[d]),u.speed=J(u.velocity.x,u.velocity.y),u.swipe=m||"inertiastart"===a?u.getSwipe():null,u}return a(n,[{key:"getSwipe",value:function(){var e=this._interaction;if(e.prevEvent.speed<600||this.timeStamp-e.prevEvent.timeStamp>150)return null;var t=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;t<0&&(t+=360);var n=112.5<=t&&t<247.5,r=202.5<=t&&t<337.5;return{up:r,down:!r&&22.5<=t&&t<157.5,left:n,right:!n&&(292.5<=t||t<67.5),angle:t,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),n}(me);Object.defineProperties(Tt.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Ct=a(function e(t,n,r,o,a){i(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=r,this.downTime=o,this.downTarget=a}),Et=function(e){return e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy="",e}({}),Ot=function(e){return e.start="",e.move="",e.end="",e.stop="",e.interacting="",e}({}),Pt=0,At=function(){function e(t){var n=this,r=t.pointerType,o=t.scopeFire;i(this,e),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Xe(function(e){this.move(e)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Pt++,this._scopeFire=o,this.pointerType=r;var a=this;this._proxy={};var s=function(e){Object.defineProperty(n._proxy,e,{get:function(){return a[e]}})};for(var l in Et)s(l);var c=function(e){Object.defineProperty(n._proxy,e,{value:function(){return a[e].apply(a,arguments)}})};for(var u in Ot)c(u);this._scopeFire("interactions:new",{interaction:this})}return a(e,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,t,n){var r=this.updatePointer(e,t,n,!0),i=this.pointers[r];this._scopeFire("interactions:down",{pointer:e,event:t,eventTarget:n,pointerIndex:r,pointerInfo:i,type:"down",interaction:this})}},{key:"start",value:function(e,t,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===e.name?2:1)||!t.options[e.name].enabled)&&(qe(this.prepared,e),this.interactable=t,this.element=n,this.rect=t.getRect(n),this.edges=this.prepared.edges?Y({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,t,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,t,n,!1);var r,i,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=J(r,i)>this.pointerMoveTolerance);var a,s,l,c=this.getPointerIndex(e),u={pointer:e,pointerIndex:c,pointerInfo:this.pointers[c],event:t,type:"move",eventTarget:n,dx:r,dy:i,duplicate:o,interaction:this};o||(a=this.coords.velocity,s=this.coords.delta,l=Math.max(s.timeStamp/1e3,.001),a.page.x=s.page.x/l,a.page.y=s.page.y/l,a.client.x=s.client.x/l,a.client.y=s.client.y/l,a.timeStamp=l),this._scopeFire("interactions:move",u),o||this.simulation||(this.interacting()&&(u.type=null,this.move(u)),this.pointerWasMoved&&ne(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||re(this.coords.delta),(e=Y({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,t,n,r){var i=this.getPointerIndex(e);-1===i&&(i=this.updatePointer(e,t,n,!1));var o=/cancel$/i.test(t.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:e,pointerIndex:i,pointerInfo:this.pointers[i],event:t,eventTarget:n,type:o,curEventTarget:r,interaction:this}),this.simulation||this.end(t),this.removePointer(e,t)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var t;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(t=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,!0===t&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var t=se(e);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:be(this.pointers,function(e){return e.id===t})}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,t,n,r){var i,o,a,s=se(e),l=this.getPointerIndex(e),c=this.pointers[l];return r=!1!==r&&(r||/(down|start)$/i.test(t.type)),c?c.pointer=e:(c=new Ct(s,e,t,null,null),l=this.pointers.length,this.pointers.push(c)),le(this.coords.cur,this.pointers.map(function(e){return e.pointer}),this._now()),i=this.coords.delta,o=this.coords.prev,a=this.coords.cur,i.page.x=a.page.x-o.page.x,i.page.y=a.page.y-o.page.y,i.client.x=a.client.x-o.client.x,i.client.y=a.client.y-o.client.y,i.timeStamp=a.timeStamp-o.timeStamp,r&&(this.pointerIsDown=!0,c.downTime=this.coords.cur.timeStamp,c.downTarget=n,te(this.downPointer,e),this.interacting()||(ne(this.coords.start,this.coords.cur),ne(this.coords.prev,this.coords.cur),this.downEvent=t,this.pointerWasMoved=!1)),this._updateLatestPointer(e,t,n),this._scopeFire("interactions:update-pointer",{pointer:e,event:t,eventTarget:n,down:r,pointerInfo:c,pointerIndex:l,interaction:this}),l}},{key:"removePointer",value:function(e,t){var n=this.getPointerIndex(e);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:e,event:t,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,t,n){this._latestPointer.pointer=e,this._latestPointer.event=t,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,t,n,r){return new Tt(this,e,this.prepared.name,t,this.element,n,r)}},{key:"_fireEvent",value:function(e){var t;null==(t=this.interactable)||t.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var t=e.event,n=e.phase,r=e.preEnd,i=e.type,o=this.rect;if(o&&"move"===n&&(Z(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire("interactions:before-action-".concat(n),e))return!1;var a=e.iEvent=this._createPreparedEvent(t,n,r,i);return this._scopeFire("interactions:action-".concat(n),e),"start"===n&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-".concat(n),e),!0}},{key:"_now",value:function(){return Date.now()}}]),e}();function jt(e){Dt(e.interaction)}function Dt(e){if(!function(e){return!(!e.offset.pending.x&&!e.offset.pending.y)}(e))return!1;var t=e.offset.pending;return Lt(e.coords.cur,t),Lt(e.coords.delta,t),Z(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Mt(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function Lt(e,t){var n=e.page,r=e.client,i=t.x,o=t.y;n.x+=i,n.y+=o,r.x+=i,r.y+=o}Ot.offsetBy="";var It={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Mt},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return function(e){e.pointerIsDown&&(Lt(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}(e.interaction)},"interactions:before-action-start":jt,"interactions:before-action-move":jt,"interactions:before-action-end":function(e){var t=e.interaction;if(Dt(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},Rt=It,Nt=function(){function e(t){i(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=t}return a(e,[{key:"start",value:function(e){var t=this.interaction,n=Ft(t);if(!n||!n.enabled)return!1;var r=t.coords.velocity.client,i=J(r.x,r.y),o=this.modification||(this.modification=new vt(t));if(o.copyFrom(t.modification),this.t0=t._now(),this.allowResume=n.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=t.coords.cur.page,this.modifierArg=o.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-t.coords.cur.timeStamp<50&&i>n.minSpeed&&i>n.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return t.modification.result.rect=null,t.offsetBy(this.targetOffset),t._doPhase({interaction:t,event:e,phase:"inertiastart"}),t.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),t.modification.result.rect=null,this.active=!0,t.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,t=this.interaction.coords.velocity.client,n=Ft(this.interaction),r=n.resistance,i=-Math.log(n.endSpeed/this.v0)/r;this.targetOffset={x:(t.x-i)/r,y:(t.y-i)/r},this.te=i,this.lambda_v0=r/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var o=this.modification,a=this.modifierArg;a.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(a),o.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.onNextFrame(function(){return e.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return e.smoothEndTick()})}},{key:"onNextFrame",value:function(e){var t=this;this.timeout=Ue.request(function(){t.active&&e()})}},{key:"inertiaTick",value:function(){var e,t,n,r,i,o,a,s=this,l=this.interaction,c=Ft(l).resistance,u=(l._now()-this.t0)/1e3;if(u<this.te){var h,f=1-(Math.exp(-c*u)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=0,t=0,n=this.targetOffset.x,r=this.targetOffset.y,i=this.modifiedOffset.x,o=this.modifiedOffset.y,h={x:Bt(a=f,e,n,i),y:Bt(a,t,r,o)}):h={x:this.targetOffset.x*f,y:this.targetOffset.y*f};var d={x:h.x-this.currentOffset.x,y:h.y-this.currentOffset.y};this.currentOffset.x+=d.x,this.currentOffset.y+=d.y,l.offsetBy(d),l.move(),this.onNextFrame(function(){return s.inertiaTick()})}else l.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,t=this.interaction,n=t._now()-this.t0,r=Ft(t).smoothEndDuration;if(n<r){var i={x:Ut(n,0,this.targetOffset.x,r),y:Ut(n,0,this.targetOffset.y,r)},o={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=o.x,this.currentOffset.y+=o.y,t.offsetBy(o),t.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return e.smoothEndTick()})}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var t=e.pointer,n=e.event,r=e.eventTarget,i=this.interaction;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(t,n,r,!0),i._doPhase({interaction:i,event:n,phase:"resume"}),ne(i.coords.prev,i.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Ue.cancel(this.timeout)}}]),e}();function Ft(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}var zt={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Rt),e.usePlugin(St),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new Nt(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,r=t.inertia;if(r.active)for(var i=n;x.element(i);){if(i===t.element){r.resume(e);break}i=L(i)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":_t,"interactions:action-inertiastart":_t,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function Bt(e,t,n,r){var i=1-e;return i*i*t+2*i*e*n+e*e*r}function Ut(e,t,n,r){return-n*(e/=r)*(e-2)+t}var Wt=zt;function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}var Yt=function(){function e(t){i(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=Y({},t||{})}return a(e,[{key:"fire",value:function(e){var t,n=this.global;(t=this.types[e.type])&&Ht(e,t),!e.propagationStopped&&n&&(t=n[e.type])&&Ht(e,t)}},{key:"on",value:function(e,t){var n=$(e,t);for(e in n)this.types[e]=ye(this.types[e]||[],n[e])}},{key:"off",value:function(e,t){var n=$(e,t);for(e in n){var r=this.types[e];if(r&&r.length)for(var i=0,o=n[e];i<o.length;i++){var a=o[i],s=r.indexOf(a);-1!==s&&r.splice(s,1)}}}},{key:"getRect",value:function(e){return null}}]),e}(),Vt=function(){function e(t){i(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,te(this,t)}return a(e,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),e}();function Gt(e){return x.object(e)?{capture:!!e.capture,passive:!!e.passive}:{capture:!!e,passive:!1}}function Xt(e,t){return e===t||("boolean"==typeof e?!!t.capture===e&&0==!!t.passive:!!e.capture==!!t.capture&&!!e.passive==!!t.passive)}var qt={id:"events",install:function(e){var t,n=[],r={},i=[],o={add:a,remove:s,addDelegate:function(e,t,n,o,s){var u=Gt(s);if(!r[n]){r[n]=[];for(var h=0;h<i.length;h++){var f=i[h];a(f,n,l),a(f,n,c,!0)}}var d=r[n],p=we(d,function(n){return n.selector===e&&n.context===t});p||(p={selector:e,context:t,listeners:[]},d.push(p)),p.listeners.push({func:o,options:u})},removeDelegate:function(e,t,n,i,o){var a,u=Gt(o),h=r[n],f=!1;if(h)for(a=h.length-1;a>=0;a--){var d=h[a];if(d.selector===e&&d.context===t){for(var p=d.listeners,g=p.length-1;g>=0;g--){var m=p[g];if(m.func===i&&Xt(m.options,u)){p.splice(g,1),p.length||(h.splice(a,1),s(t,n,l),s(t,n,c,!0)),f=!0;break}}if(f)break}}},delegateListener:l,delegateUseCapture:c,delegatedEvents:r,documents:i,targets:n,supportsOptions:!1,supportsPassive:!1};function a(e,t,r,i){if(e.addEventListener){var a=Gt(i),s=we(n,function(t){return t.eventTarget===e});s||(s={eventTarget:e,events:{}},n.push(s)),s.events[t]||(s.events[t]=[]),we(s.events[t],function(e){return e.func===r&&Xt(e.options,a)})||(e.addEventListener(t,r,o.supportsOptions?a:a.capture),s.events[t].push({func:r,options:a}))}}function s(e,t,r,i){if(e.addEventListener&&e.removeEventListener){var a=be(n,function(t){return t.eventTarget===e}),l=n[a];if(l&&l.events)if("all"!==t){var c=!1,u=l.events[t];if(u){if("all"===r){for(var h=u.length-1;h>=0;h--){var f=u[h];s(e,t,f.func,f.options)}return}for(var d=Gt(i),p=0;p<u.length;p++){var g=u[p];if(g.func===r&&Xt(g.options,d)){e.removeEventListener(t,r,o.supportsOptions?d:d.capture),u.splice(p,1),0===u.length&&(delete l.events[t],c=!0);break}}}c&&!Object.keys(l.events).length&&n.splice(a,1)}else for(t in l.events)l.events.hasOwnProperty(t)&&s(e,t,"all")}}function l(e,t){for(var n=Gt(t),i=new Vt(e),o=r[e.type],a=ge(e)[0],s=a;x.element(s);){for(var l=0;l<o.length;l++){var c=o[l],u=c.selector,h=c.context;if(I(s,u)&&D(h,a)&&D(h,s)){var f=c.listeners;i.currentTarget=s;for(var d=0;d<f.length;d++){var p=f[d];Xt(p.options,n)&&p.func(i)}}}s=L(s)}}function c(e){return l(e,!0)}return null==(t=e.document)||t.createElement("div").addEventListener("test",null,{get capture(){return o.supportsOptions=!0},get passive(){return o.supportsPassive=!0}}),e.events=o,o}},Zt={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0,n=Zt.methodOrder;t<n.length;t++){var r=n[t],i=Zt[r](e);if(i)return i}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,i=e.scope;if(!/down|start/i.test(n))return null;for(var o=0,a=i.interactions.list;o<a.length;o++){var s=a[o],l=r;if(s.simulation&&s.simulation.allowResume&&s.pointerType===t)for(;l;){if(l===s.element)return s;l=L(l)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,i=e.eventType,o=e.scope;if("mouse"!==r&&"pen"!==r)return null;for(var a=0,s=o.interactions.list;a<s.length;a++){var l=s[a];if(l.pointerType===r){if(l.simulation&&!Kt(l,n))continue;if(l.interacting())return l;t||(t=l)}}if(t)return t;for(var c=0,u=o.interactions.list;c<u.length;c++){var h=u[c];if(!(h.pointerType!==r||/down/i.test(i)&&h.simulation))return h}return null},hasPointer:function(e){for(var t=e.pointerId,n=0,r=e.scope.interactions.list;n<r.length;n++){var i=r[n];if(Kt(i,t))return i}return null},idle:function(e){for(var t=e.pointerType,n=0,r=e.scope.interactions.list;n<r.length;n++){var i=r[n];if(1===i.pointers.length){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function Kt(e,t){return e.pointers.some(function(e){return e.id===t})}var $t=Zt,Qt=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Jt(e,t){return function(n){var r=t.interactions.list,i=pe(n),o=ge(n),a=o[0],s=o[1],l=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var c=0,u=n.changedTouches;c<u.length;c++){var h=u[c],f={pointer:h,pointerId:se(h),pointerType:i,eventType:n.type,eventTarget:a,curEventTarget:s,scope:t},d=en(f);l.push([f.pointer,f.eventTarget,f.curEventTarget,d])}}else{var p=!1;if(!j.supportsPointerEvent&&/mouse/.test(n.type)){for(var g=0;g<r.length&&!p;g++)p="mouse"!==r[g].pointerType&&r[g].pointerIsDown;p=p||t.now()-t.prevTouchTime<500||0===n.timeStamp}if(!p){var m={pointer:n,pointerId:se(n),pointerType:i,eventType:n.type,curEventTarget:s,eventTarget:a,scope:t},y=en(m);l.push([m.pointer,m.eventTarget,m.curEventTarget,y])}}for(var v=0;v<l.length;v++){var b=l[v],w=b[0],_=b[1],x=b[2];b[3][e](w,n,_,x)}}}function en(e){var t=e.pointerType,n=e.scope,r={interaction:$t.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function tn(e,t){var n=e.doc,r=e.scope,i=e.options,o=r.interactions.docEvents,a=r.events,s=a[t];for(var l in r.browser.isIOS&&!i.events&&(i.events={passive:!1}),a.delegatedEvents)s(n,l,a.delegateListener),s(n,l,a.delegateUseCapture,!0);for(var c=i&&i.events,u=0;u<o.length;u++){var h=o[u];s(n,h.type,h.listener,c)}}var nn={id:"core/interactions",install:function(e){for(var t={},n=0;n<Qt.length;n++){var r=Qt[n];t[r]=Jt(r,e)}var o,s=j.pEventTypes;function c(){for(var t=0,n=e.interactions.list;t<n.length;t++){var r=n[t];if(r.pointerIsDown&&"touch"===r.pointerType&&!r._interacting)for(var i=function(){var t=a[o];e.documents.some(function(e){return D(e.doc,t.downTarget)})||r.removePointer(t.pointer,t.event)},o=0,a=r.pointers;o<a.length;o++)i()}}(o=P.PointerEvent?[{type:s.down,listener:c},{type:s.down,listener:t.pointerDown},{type:s.move,listener:t.pointerMove},{type:s.up,listener:t.pointerUp},{type:s.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:c},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(t){for(var n=0,r=e.interactions.list;n<r.length;n++)r[n].documentBlur(t)}}),e.prevTouchTime=0,e.Interaction=function(t){l(r,t);var n=f(r);function r(){return i(this,r),n.apply(this,arguments)}return a(r,[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(t){e.interactions.pointerMoveTolerance=t}},{key:"_now",value:function(){return e.now()}}]),r}(At),e.interactions={list:[],new:function(t){t.scopeFire=function(t,n){return e.fire(t,n)};var n=new e.Interaction(t);return e.interactions.list.push(n),n},listeners:t,docEvents:o,pointerMoveTolerance:1},e.usePlugin(gt)},listeners:{"scope:add-document":function(e){return tn(e,"add")},"scope:remove-document":function(e){return tn(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,r=t.interactions.list.length-1;r>=0;r--){var i=t.interactions.list[r];i.interactable===n&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:tn,doOnInteractions:Jt,methodNames:Qt},rn=nn,on=function(e){return e[e.On=0]="On",e[e.Off=1]="Off",e}(on||{}),an=function(){function e(t,n,r,o){i(this,e),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Yt,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=t,this._context=n.context||r,this._win=b(H(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}return a(e,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,t){return x.func(t.onstart)&&this.on("".concat(e,"start"),t.onstart),x.func(t.onmove)&&this.on("".concat(e,"move"),t.onmove),x.func(t.onend)&&this.on("".concat(e,"end"),t.onend),x.func(t.oninertiastart)&&this.on("".concat(e,"inertiastart"),t.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,t,n){var r,i=this,o=null==(r=this._actions.map[e])?void 0:r.filterEventType,a=function(e){return(null==o||o(e))&&mt(e,i._actions)};(x.array(t)||x.object(t))&&this._onOff(on.Off,e,t,void 0,a),(x.array(n)||x.object(n))&&this._onOff(on.On,e,n,void 0,a)}},{key:"setPerAction",value:function(e,t){var n=this._defaults;for(var r in t){var i=r,o=this.options[e],a=t[i];"listeners"===i&&this.updatePerActionListeners(e,o.listeners,a),x.array(a)?o[i]=ve(a):x.plainObject(a)?(o[i]=Y(o[i]||{},yt(a)),x.object(n.perAction[i])&&"enabled"in n.perAction[i]&&(o[i].enabled=!1!==a.enabled)):x.bool(a)&&x.object(n.perAction[i])?o[i].enabled=a:o[i]=a}}},{key:"getRect",value:function(e){return e=e||(x.element(this.target)?this.target:null),x.string(this.target)&&(e=e||this._context.querySelector(this.target)),U(e)}},{key:"rectChecker",value:function(e){var t=this;return x.func(e)?(this.getRect=function(n){var r=Y({},e.apply(t,n));return"width"in r||(r.width=r.right-r.left,r.height=r.bottom-r.top),r},this):null===e?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,t){if(H(t)||x.object(t)){for(var n in this.options[e]=t,this._actions.map)this.options[n][e]=t;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var e=this.target;return x.string(e)?Array.from(this._context.querySelectorAll(e)):x.func(e)&&e.getAllElements?e.getAllElements():x.element(e)?[e]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||D(this._context,e)}},{key:"testIgnoreAllow",value:function(e,t,n){return!this.testIgnore(e.ignoreFrom,t,n)&&this.testAllow(e.allowFrom,t,n)}},{key:"testAllow",value:function(e,t,n){return!e||!!x.element(n)&&(x.string(e)?F(n,e,t):!!x.element(e)&&D(e,n))}},{key:"testIgnore",value:function(e,t,n){return!(!e||!x.element(n))&&(x.string(e)?F(n,e,t):!!x.element(e)&&D(e,n))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,t,n,r,i){x.object(t)&&!x.array(t)&&(r=n,n=null);var o=$(t,n,i);for(var a in o){"wheel"===a&&(a=j.wheelEvent);for(var s=0,l=o[a];s<l.length;s++){var c=l[s];mt(a,this._actions)?this.events[e===on.On?"on":"off"](a,c):x.string(this.target)?this._scopeEvents[e===on.On?"addDelegate":"removeDelegate"](this.target,this._context,a,c,r):this._scopeEvents[e===on.On?"add":"remove"](this.target,a,c,r)}}return this}},{key:"on",value:function(e,t,n){return this._onOff(on.On,e,t,n)}},{key:"off",value:function(e,t,n){return this._onOff(on.Off,e,t,n)}},{key:"set",value:function(e){var t=this._defaults;for(var n in x.object(e)||(e={}),this.options=yt(t.base),this._actions.methodDict){var r=n,i=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,Y(Y({},t.perAction),t.actions[r])),this[i](e[r])}for(var o in e)"getRect"!==o?x.func(this[o])&&this[o](e[o]):this.rectChecker(e.getRect);return this}},{key:"unset",value:function(){if(x.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var t=this._scopeEvents.delegatedEvents[e],n=t.length-1;n>=0;n--){var r=t[n],i=r.selector,o=r.context,a=r.listeners;i===this.target&&o===this._context&&t.splice(n,1);for(var s=a.length-1;s>=0;s--)this._scopeEvents.removeDelegate(this.target,this._context,e,a[s][0],a[s][1])}else this._scopeEvents.remove(this.target,"all")}}]),e}(),sn=function(){function e(t){var n=this;i(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":function(e){var t=e.interactable,r=t.target,i=x.string(r)?n.selectorMap[r]:r[n.scope.id],o=be(i,function(e){return e===t});i.splice(o,1)}})}return a(e,[{key:"new",value:function(e,t){t=Y(t||{},{actions:this.scope.actions});var n=new this.scope.Interactable(e,t,this.scope.document,this.scope.events);return this.scope.addDocument(n._doc),this.list.push(n),x.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(n)):(n.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(n)),this.scope.fire("interactable:new",{target:e,options:t,interactable:n,win:this.scope._win}),n}},{key:"getExisting",value:function(e,t){var n=t&&t.context||this.scope.document,r=x.string(e),i=r?this.selectorMap[e]:e[this.scope.id];if(i)return we(i,function(t){return t._context===n&&(r||t.inContext(e))})}},{key:"forEachMatch",value:function(e,t){for(var n=0,r=this.list;n<r.length;n++){var i=r[n],o=void 0;if((x.string(i.target)?x.element(e)&&I(e,i.target):e===i.target)&&i.inContext(e)&&(o=t(i)),void 0!==o)return o}}}]),e}(),ln=function(){function e(){var t=this;i(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=j,this.defaults=yt(kt),this.Eventable=Yt,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(e){var t=function t(n,r){var i=e.interactables.getExisting(n,r);return i||((i=e.interactables.new(n,r)).events.global=t.globalEvents),i};return t.getPointerAverage=ue,t.getTouchBBox=he,t.getTouchDistance=fe,t.getTouchAngle=de,t.getElementRect=U,t.getElementClientRect=B,t.matchesSelector=I,t.closest=M,t.globalEvents={},t.version="1.10.27",t.scope=e,t.use=function(e,t){return this.scope.usePlugin(e,t),this},t.isSet=function(e,t){return!!this.scope.interactables.get(e,t&&t.context)},t.on=Xe(function(e,t,n){if(x.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),x.array(e)){for(var r=0,i=e;r<i.length;r++){var o=i[r];this.on(o,t,n)}return this}if(x.object(e)){for(var a in e)this.on(a,e[a],t);return this}return mt(e,this.scope.actions)?this.globalEvents[e]?this.globalEvents[e].push(t):this.globalEvents[e]=[t]:this.scope.events.add(this.scope.document,e,t,{options:n}),this},"The interact.on() method is being deprecated"),t.off=Xe(function(e,t,n){if(x.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),x.array(e)){for(var r=0,i=e;r<i.length;r++){var o=i[r];this.off(o,t,n)}return this}if(x.object(e)){for(var a in e)this.off(a,e[a],t);return this}var s;return mt(e,this.scope.actions)?e in this.globalEvents&&-1!==(s=this.globalEvents[e].indexOf(t))&&this.globalEvents[e].splice(s,1):this.scope.events.remove(this.scope.document,e,t,n),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return j.supportsTouch},t.supportsPointerEvent=function(){return j.supportsPointerEvent},t.stop=function(){for(var e=0,t=this.scope.interactions.list;e<t.length;e++)t[e].stop();return this},t.pointerMoveTolerance=function(e){return x.number(e)?(this.scope.interactions.pointerMoveTolerance=e,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(e,t){this.scope.addDocument(e,t)},t.removeDocument=function(e){this.scope.removeDocument(e)},t}(this),this.InteractEvent=Tt,this.Interactable=void 0,this.interactables=new sn(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(e){return t.removeDocument(e.target)};var n=this;this.Interactable=function(e){l(r,e);var t=f(r);function r(){return i(this,r),t.apply(this,arguments)}return a(r,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(e){return d(c(r.prototype),"set",this).call(this,e),n.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){d(c(r.prototype),"unset",this).call(this);var e=n.interactables.list.indexOf(this);e<0||(n.interactables.list.splice(e,1),n.fire("interactable:unset",{interactable:this}))}}]),r}(an)}return a(e,[{key:"addListeners",value:function(e,t){this.listenerMaps.push({id:t,map:e})}},{key:"fire",value:function(e,t){for(var n=0,r=this.listenerMaps;n<r.length;n++){var i=r[n].map[e];if(i&&!1===i(t,this,e))return!1}}},{key:"init",value:function(e){return this.isInitialized?this:function(e,t){return e.isInitialized=!0,x.window(t)&&v(t),P.init(t),j.init(t),Ue.init(t),e.window=t,e.document=t.document,e.usePlugin(rn),e.usePlugin(qt),e}(this,e)}},{key:"pluginIsInstalled",value:function(e){var t=e.id;return t?!!this._plugins.map[t]:-1!==this._plugins.list.indexOf(e)}},{key:"usePlugin",value:function(e,t){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,t),e.listeners&&e.before){for(var n=0,r=this.listenerMaps.length,i=e.before.reduce(function(e,t){return e[t]=!0,e[cn(t)]=!0,e},{});n<r;n++){var o=this.listenerMaps[n].id;if(o&&(i[o]||i[cn(o)]))break}this.listenerMaps.splice(n,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,t){if(-1!==this.getDocIndex(e))return!1;var n=b(e);t=t?Y({},t):{},this.documents.push({doc:e,options:t}),this.events.documents.push(e),e!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:n,scope:this,options:t})}},{key:"removeDocument",value:function(e){var t=this.getDocIndex(e),n=b(e),r=this.documents[t].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(t,1),this.events.documents.splice(t,1),this.fire("scope:remove-document",{doc:e,window:n,scope:this,options:r})}},{key:"getDocIndex",value:function(e){for(var t=0;t<this.documents.length;t++)if(this.documents[t].doc===e)return t;return-1}},{key:"getDocOptions",value:function(e){var t=this.getDocIndex(e);return-1===t?null:this.documents[t].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function cn(e){return e&&e.replace(/\/.*$/,"")}var un=new ln,hn=un.interactStatic,fn="undefined"!=typeof globalThis?globalThis:window;un.init(fn);var dn=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(t){var n=t[0],r=t[1];return n in e||r in e}),n=function(n,r){for(var i=e.range,o=e.limits,a=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,s=e.offset,l=void 0===s?{x:0,y:0}:s,c={range:i,grid:e,x:null,y:null},u=0;u<t.length;u++){var h=t[u],f=h[0],d=h[1],p=Math.round((n-l.x)/e[f]),g=Math.round((r-l.y)/e[d]);c[f]=Math.max(a.left,Math.min(a.right,p*e[f]+l.x)),c[d]=Math.max(a.top,Math.min(a.bottom,g*e[d]+l.y))}return c};return n.grid=e,n.coordFields=t,n}}),pn={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=Y(t.snappers||{},dn),t.createSnapGrid=t.snappers.grid}},gn=pn,mn={start:function(e){var t=e.state,r=e.rect,i=e.edges,o=e.pageCoords,a=t.options,s=a.ratio,l=a.enabled,c=t.options,u=c.equalDelta,h=c.modifiers;"preserve"===s&&(s=r.width/r.height),t.startCoords=Y({},o),t.startRect=Y({},r),t.ratio=s,t.equalDelta=u;var f=t.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(t.xIsPrimaryAxis=!(!i.left&&!i.right),t.equalDelta){var d=(f.left?1:-1)*(f.top?1:-1);t.edgeSign={x:d,y:d}}else t.edgeSign={x:f.left?-1:1,y:f.top?-1:1};if(!1!==l&&Y(i,f),null!=h&&h.length){var p=new vt(e.interaction);p.copyFrom(e.interaction.modification),p.prepareStates(h),t.subModification=p,p.startAll(n({},e))}},set:function(e){var t=e.state,r=e.rect,i=e.coords,o=t.linkedEdges,a=Y({},i),s=t.equalDelta?yn:vn;if(Y(e.edges,o),s(t,t.xIsPrimaryAxis,i,r),!t.subModification)return null;var l=Y({},r);Z(o,l,{x:i.x-a.x,y:i.y-a.y});var c=t.subModification.setAll(n(n({},e),{},{rect:l,edges:o,pageCoords:i,prevCoords:i,prevRect:l})),u=c.delta;return c.changed&&(s(t,Math.abs(u.x)>Math.abs(u.y),c.coords,c.rect),Y(i,c.coords)),c.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function yn(e,t,n){var r=e.startCoords,i=e.edgeSign;t?n.y=r.y+(n.x-r.x)*i.y:n.x=r.x+(n.y-r.y)*i.x}function vn(e,t,n,r){var i=e.startRect,o=e.startCoords,a=e.ratio,s=e.edgeSign;if(t){var l=r.width/a;n.y=o.y+(l-i.height)*s.y}else{var c=r.height*a;n.x=o.x+(c-i.width)*s.x}}var bn=wt(mn,"aspectRatio"),wn=function(){};wn._defaults={};var _n=wn;function xn(e,t,n){return x.func(e)?G(e,t.interactable,t.element,[n.x,n.y,t]):G(e,t.interactable,t.element)}var Sn={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,i=e.interaction,o=e.pageCoords,a=r.options,s=a.elementRect,l=Y({left:0,top:0,right:0,bottom:0},a.offset||{});if(t&&s){var c=xn(a.restriction,i,o);if(c){var u=c.right-c.left-t.width,h=c.bottom-c.top-t.height;u<0&&(l.left+=u,l.right+=u),h<0&&(l.top+=h,l.bottom+=h)}l.left+=n.left-t.width*s.left,l.top+=n.top-t.height*s.top,l.right+=n.right-t.width*(1-s.right),l.bottom+=n.bottom-t.height*(1-s.bottom)}r.offset=l},set:function(e){var t=e.coords,n=e.interaction,r=e.state,i=r.options,o=r.offset,a=xn(i.restriction,n,t);if(a){var s=function(e){return!e||"left"in e&&"top"in e||((e=Y({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e}(a);t.x=Math.max(Math.min(s.right-o.right,t.x),s.left+o.left),t.y=Math.max(Math.min(s.bottom-o.bottom,t.y),s.top+o.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},kn=wt(Sn,"restrict"),Tn={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Cn={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function En(e,t){for(var n=0,r=["top","left","bottom","right"];n<r.length;n++){var i=r[n];i in e||(e[i]=t[i])}return e}var On={noInner:Tn,noOuter:Cn,start:function(e){var t,n=e.interaction,r=e.startOffset,i=e.state,o=i.options;o&&(t=X(xn(o.offset,n,n.coords.start.page))),t=t||{x:0,y:0},i.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(e){var t=e.coords,n=e.edges,r=e.interaction,i=e.state,o=i.offset,a=i.options;if(n){var s=Y({},t),l=xn(a.inner,r,s)||{},c=xn(a.outer,r,s)||{};En(l,Tn),En(c,Cn),n.top?t.y=Math.min(Math.max(c.top+o.top,s.y),l.top+o.top):n.bottom&&(t.y=Math.max(Math.min(c.bottom+o.bottom,s.y),l.bottom+o.bottom)),n.left?t.x=Math.min(Math.max(c.left+o.left,s.x),l.left+o.left):n.right&&(t.x=Math.max(Math.min(c.right+o.right,s.x),l.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Pn=wt(On,"restrictEdges"),An=Y({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},Sn.defaults),jn=wt({start:Sn.start,set:Sn.set,defaults:An},"restrictRect"),Dn={width:-1/0,height:-1/0},Mn={width:1/0,height:1/0},Ln=wt({start:function(e){return On.start(e)},set:function(e){var t=e.interaction,n=e.state,r=e.rect,i=e.edges,o=n.options;if(i){var a=q(xn(o.min,t,e.coords))||Dn,s=q(xn(o.max,t,e.coords))||Mn;n.options={endOnly:o.endOnly,inner:Y({},On.noInner),outer:Y({},On.noOuter)},i.top?(n.options.inner.top=r.bottom-a.height,n.options.outer.top=r.bottom-s.height):i.bottom&&(n.options.inner.bottom=r.top+a.height,n.options.outer.bottom=r.top+s.height),i.left?(n.options.inner.left=r.right-a.width,n.options.outer.left=r.right-s.width):i.right&&(n.options.inner.right=r.left+a.width,n.options.outer.right=r.left+s.width),On.set(e),n.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),In={start:function(e){var t,n=e.interaction,r=e.interactable,i=e.element,o=e.rect,a=e.state,s=e.startOffset,l=a.options,c=l.offsetWithOrigin?function(e){var t=e.interaction.element;return X(G(e.state.options.origin,null,null,[t]))||K(e.interactable,t,e.interaction.prepared.name)}(e):{x:0,y:0};if("startCoords"===l.offset)t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var u=G(l.offset,r,i,[n]);(t=X(u)||{x:0,y:0}).x+=c.x,t.y+=c.y}var h=l.relativePoints;a.offsets=o&&h&&h.length?h.map(function(e,n){return{index:n,relativePoint:e,x:s.left-o.width*e.x+t.x,y:s.top-o.height*e.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,r=e.state,i=r.options,o=r.offsets,a=K(t.interactable,t.element,t.prepared.name),s=Y({},n),l=[];i.offsetWithOrigin||(s.x-=a.x,s.y-=a.y);for(var c=0,u=o;c<u.length;c++)for(var h=u[c],f=s.x-h.x,d=s.y-h.y,p=0,g=i.targets.length;p<g;p++){var m=i.targets[p],y=void 0;(y=x.func(m)?m(f,d,t._proxy,h,p):m)&&l.push({x:(x.number(y.x)?y.x:f)+h.x,y:(x.number(y.y)?y.y:d)+h.y,range:x.number(y.range)?y.range:i.range,source:m,index:p,offset:h})}for(var v={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},b=0;b<l.length;b++){var w=l[b],_=w.range,S=w.x-s.x,k=w.y-s.y,T=J(S,k),C=T<=_;_===1/0&&v.inRange&&v.range!==1/0&&(C=!1),v.target&&!(C?v.inRange&&_!==1/0?T/_<v.distance/v.range:_===1/0&&v.range!==1/0||T<v.distance:!v.inRange&&T<v.distance)||(v.target=w,v.distance=T,v.range=_,v.inRange=C,v.delta.x=S,v.delta.y=k)}return v.inRange&&(n.x=v.target.x,n.y=v.target.y),r.closest=v,v},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Rn=wt(In,"snap"),Nn={start:function(e){var t=e.state,n=e.edges,r=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],In.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t=e.interaction,n=e.state,r=e.coords,i=n.options,o=n.offsets,a={x:r.x-o[0].x,y:r.y-o[0].y};n.options=Y({},i),n.options.targets=[];for(var s=0,l=i.targets||[];s<l.length;s++){var c=l[s],u=void 0;if(u=x.func(c)?c(a.x,a.y,t):c){for(var h=0,f=n.targetFields;h<f.length;h++){var d=f[h],p=d[0],g=d[1];if(p in u||g in u){u.x=u[p],u.y=u[g];break}}n.options.targets.push(u)}}var m=In.set(e);return n.options=i,m},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Fn=wt(Nn,"snapSize"),zn={aspectRatio:bn,restrictEdges:Pn,restrict:kn,restrictRect:jn,restrictSize:Ln,snapEdges:wt({start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Nn.start(e)):null},set:Nn.set,defaults:Y(yt(Nn.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Rn,snapSize:Fn,spring:_n,avoid:_n,transform:_n,rubberband:_n},Bn={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(St),e.usePlugin(gn),t.modifiers=zn,zn){var r=zn[n],i=r._defaults,o=r._methods;i._methods=o,e.defaults.perAction[n]=i}}},Un=Bn,Wn=function(e){l(n,e);var t=f(n);function n(e,r,o,a,s,l){var c;if(i(this,n),te(h(c=t.call(this,s)),o),o!==r&&te(h(c),r),c.timeStamp=l,c.originalEvent=o,c.type=e,c.pointerId=se(r),c.pointerType=pe(r),c.target=a,c.currentTarget=null,"tap"===e){var u=s.getPointerIndex(r);c.dt=c.timeStamp-s.pointers[u].downTime;var f=c.timeStamp-s.tapTime;c.double=!!s.prevTap&&"doubletap"!==s.prevTap.type&&s.prevTap.target===c.target&&f<500}else"doubletap"===e&&(c.dt=r.timeStamp-s.tapTime,c.double=!0);return c}return a(n,[{key:"_subtractOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX-=t,this.pageY-=n,this.clientX-=t,this.clientY-=n,this}},{key:"_addOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX+=t,this.pageY+=n,this.clientX+=t,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),n}(me),Hn={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Hn,e.defaults.actions.pointerEvents=Hn.defaults,Y(e.actions.phaselessTypes,Hn.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Gn(e),Yn({interaction:n,pointer:r,event:i,eventTarget:o,type:"move"},t))},"interactions:down":function(e,t){!function(e,t){for(var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,a=e.pointerIndex,s=n.pointers[a].hold,l=W(o),c={interaction:n,pointer:r,event:i,eventTarget:o,type:"hold",targets:[],path:l,node:null},u=0;u<l.length;u++){var h=l[u];c.node=h,t.fire("pointerEvents:collect-targets",c)}if(c.targets.length){for(var f=1/0,d=0,p=c.targets;d<p.length;d++){var g=p[d].eventable.options.holdDuration;g<f&&(f=g)}s.duration=f,s.timeout=setTimeout(function(){Yn({interaction:n,eventTarget:o,pointer:r,event:i,type:"hold"},t)},f)}}(e,t),Yn(e,t)},"interactions:up":function(e,t){Gn(e),Yn(e,t),function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;n.pointerWasMoved||Yn({interaction:n,eventTarget:o,pointer:r,event:i,type:"tap"},t)}(e,t)},"interactions:cancel":function(e,t){Gn(e),Yn(e,t)}},PointerEvent:Wn,fire:Yn,collectEventTargets:Vn,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Yn(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,a=e.type,s=e.targets,l=void 0===s?Vn(e,t):s,c=new Wn(a,r,i,o,n,t.now());t.fire("pointerEvents:new",{pointerEvent:c});for(var u={interaction:n,pointer:r,event:i,eventTarget:o,targets:l,type:a,pointerEvent:c},h=0;h<l.length;h++){var f=l[h];for(var d in f.props||{})c[d]=f.props[d];var p=K(f.eventable,f.node);if(c._subtractOrigin(p),c.eventable=f.eventable,c.currentTarget=f.node,f.eventable.fire(c),c._addOrigin(p),c.immediatePropagationStopped||c.propagationStopped&&h+1<l.length&&l[h+1].node!==c.currentTarget)break}if(t.fire("pointerEvents:fired",u),"tap"===a){var g=c.double?Yn({interaction:n,pointer:r,event:i,eventTarget:o,type:"doubletap"},t):c;n.prevTap=g,n.tapTime=g.timeStamp}return c}function Vn(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,a=e.type,s=n.getPointerIndex(r),l=n.pointers[s];if("tap"===a&&(n.pointerWasMoved||!l||l.downTarget!==o))return[];for(var c=W(o),u={interaction:n,pointer:r,event:i,eventTarget:o,type:a,path:c,targets:[],node:null},h=0;h<c.length;h++){var f=c[h];u.node=f,t.fire("pointerEvents:collect-targets",u)}return"hold"===a&&(u.targets=u.targets.filter(function(e){var t,r;return e.eventable.options.holdDuration===(null==(t=n.pointers[s])||null==(r=t.hold)?void 0:r.duration)})),u.targets}function Gn(e){var t=e.interaction,n=e.pointerIndex,r=t.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var Xn=Object.freeze({__proto__:null,default:Hn});function qn(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}var Zn={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(Hn);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=qn,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;"hold"===t.type&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,i=e.eventTarget,o=e.targets;if("hold"===r.type&&o.length){var a=o[0].eventable.options.holdRepeatInterval;a<=0||(n.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:n,eventTarget:i,type:"hold",pointer:r,event:r},t)},a))}}})},Kn=Zn,$n={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=function(e){return Y(this.events.options,e),this};var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(e,t){var r=n.call(this,e,t);return r===this&&(this.events.options[e]=t),r}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,i=e.type,o=e.eventTarget;t.interactables.forEachMatch(r,function(e){var t=e.events,a=t.options;t.types[i]&&t.types[i].length&&e.testIgnoreAllow(a,r,o)&&n.push({node:r,eventable:t,props:{interactable:e}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(e){return t.getRect(e)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;Y(n.events.options,t.pointerEvents.defaults),Y(n.events.options,r.pointerEvents||{})}}},Qn=$n,Jn={id:"pointer-events",install:function(e){e.usePlugin(Xn),e.usePlugin(Kn),e.usePlugin(Qn)}},er=Jn,tr={id:"reflow",install:function(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(t){return function(e,t,n){for(var r=e.getAllElements(),i=n.window.Promise,o=i?[]:null,a=function(){var a=r[s],l=e.getRect(a);if(!l)return 1;var c,u=we(n.interactions.list,function(n){return n.interacting()&&n.interactable===e&&n.element===a&&n.prepared.name===t.name});if(u)u.move(),o&&(c=u._reflowPromise||new i(function(e){u._reflowResolve=e}));else{var h=q(l),f=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:h.x,y:h.y},client:{x:h.x,y:h.y},timeStamp:n.now()});c=function(e,t,n,r,i){var o=e.interactions.new({pointerType:"reflow"}),a={interaction:o,event:i,pointer:i,eventTarget:n,phase:"reflow"};o.interactable=t,o.element=n,o.prevEvent=i,o.updatePointer(i,i,n,!0),re(o.coords.delta),qe(o.prepared,r),o._doPhase(a);var s=e.window.Promise,l=s?new s(function(e){o._reflowResolve=e}):void 0;return o._reflowPromise=l,o.start(r,t,n),o._interacting?(o.move(a),o.end(i)):(o.stop(),o._reflowResolve()),o.removePointer(i,i),l}(n,e,a,t,f)}o&&o.push(c)},s=0;s<r.length&&!a();s++);return o&&i.all(o).then(function(){return e})}(this,t,e)}},listeners:{"interactions:stop":function(e,t){var n=e.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),function(e,t){e.splice(e.indexOf(t),1)}(t.interactions.list,n))}}},nr=tr;if(hn.use(gt),hn.use(Rt),hn.use(er),hn.use(Wt),hn.use(Un),hn.use(ft),hn.use(ze),hn.use(Ge),hn.use(nr),hn.default=hn,"object"===r(e)&&e)try{e.exports=hn}catch(t){}return hn.default=hn,hn}()},950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=n(43),t=n(391);function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}var _=function(){},x={},S={},k=null,T={mark:_,measure:_};try{"undefined"!==typeof window&&(x=window),"undefined"!==typeof document&&(S=document),"undefined"!==typeof MutationObserver&&(k=MutationObserver),"undefined"!==typeof performance&&(T=performance)}catch($){}var C,E,O=(x.navigator||{}).userAgent,P=void 0===O?"":O,A=x,j=S,D=k,M=T,L=(A.document,!!j.documentElement&&!!j.head&&"function"===typeof j.addEventListener&&"function"===typeof j.createElement),I=~P.indexOf("MSIE")||~P.indexOf("Trident/"),R={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},N=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],F="classic",z="duotone",B="sharp",U="sharp-duotone",W="chisel",H="etch",Y="jelly",V="jelly-duo",G="jelly-fill",X="notdog",q="notdog-duo",Z="slab",K="slab-press",$="thumbprint",Q="utility",J="utility-duo",ee="utility-fill",te="whiteboard",ne=[F,z,B,U,W,H,Y,V,G,X,q,Z,K,$,Q,J,ee,te],re=(d(d(d(d(d(d(d(d(d(d(C={},F,"Classic"),z,"Duotone"),B,"Sharp"),U,"Sharp Duotone"),W,"Chisel"),H,"Etch"),Y,"Jelly"),V,"Jelly Duo"),G,"Jelly Fill"),X,"Notdog"),d(d(d(d(d(d(d(d(C,q,"Notdog Duo"),Z,"Slab"),K,"Slab Press"),$,"Thumbprint"),Q,"Utility"),J,"Utility Duo"),ee,"Utility Fill"),te,"Whiteboard"),new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]])),ie=["fak","fa-kit","fakd","fa-kit-duotone"],oe={fak:"kit","fa-kit":"kit"},ae={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},se=(d(d({},"kit","Kit"),"kit-duotone","Kit Duotone"),{kit:"fak"}),le={"kit-duotone":"fakd"},ce="duotone-group",ue="swap-opacity",he="primary",fe="secondary",de=(d(d(d(d(d(d(d(d(d(d(E={},"classic","Classic"),"duotone","Duotone"),"sharp","Sharp"),"sharp-duotone","Sharp Duotone"),"chisel","Chisel"),"etch","Etch"),"jelly","Jelly"),"jelly-duo","Jelly Duo"),"jelly-fill","Jelly Fill"),"notdog","Notdog"),d(d(d(d(d(d(d(d(E,"notdog-duo","Notdog Duo"),"slab","Slab"),"slab-press","Slab Press"),"thumbprint","Thumbprint"),"utility","Utility"),"utility-duo","Utility Duo"),"utility-fill","Utility Fill"),"whiteboard","Whiteboard"),d(d({},"kit","Kit"),"kit-duotone","Kit Duotone"),{classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}}),pe=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"]),ge=[1,2,3,4,5,6,7,8,9,10],me=ge.concat([11,12,13,14,15,16,17,18,19,20]),ye=[].concat(y(Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]})),["solid","regular","light","thin","duotone","brands","semibold"],["aw","fw","pull-left","pull-right"],["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",ce,ue,he,fe]).concat(ge.map(function(e){return"".concat(e,"x")})).concat(me.map(function(e){return"w-".concat(e)})),ve="___FONT_AWESOME___",be="svg-inline--fa",we="data-fa-i2svg",_e="data-fa-pseudo-element",xe="data-prefix",Se="data-icon",ke="fontawesome-i2svg",Te=["HTML","HEAD","STYLE","SCRIPT"],Ce=["::before","::after",":before",":after"],Ee=function(){try{return!0}catch(e){return!1}}();function Oe(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[F]}})}var Pe=g({},R);Pe[F]=g(g(g(g({},{"fa-duotone":"duotone"}),R[F]),oe),ae);var Ae=Oe(Pe),je=g({},{chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}});je[F]=g(g(g(g({},{duotone:"fad"}),je[F]),se),le);var De=Oe(je),Me=g({},de);Me[F]=g(g({},Me[F]),{fak:"fa-kit"});var Le=Oe(Me),Ie=g({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}});Ie[F]=g(g({},Ie[F]),{"fa-kit":"fak"});Oe(Ie);var Re=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Ne="fa-layers-text",Fe=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,ze=(Oe(g({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),Be={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ue=[].concat(y(["kit"]),y(ye)),We=A.FontAwesomeConfig||{};if(j&&"function"===typeof j.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=m(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=j.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(We[r]=i)})}var He={styleDefault:"solid",familyDefault:F,cssPrefix:"fa",replacementClass:be,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};We.familyPrefix&&(We.cssPrefix=We.familyPrefix);var Ye=g(g({},He),We);Ye.autoReplaceSvg||(Ye.observeMutations=!1);var Ve={};Object.keys(He).forEach(function(e){Object.defineProperty(Ve,e,{enumerable:!0,set:function(t){Ye[e]=t,Ge.forEach(function(e){return e(Ve)})},get:function(){return Ye[e]}})}),Object.defineProperty(Ve,"familyPrefix",{enumerable:!0,set:function(e){Ye.cssPrefix=e,Ge.forEach(function(e){return e(Ve)})},get:function(){return Ye.cssPrefix}}),A.FontAwesomeConfig=Ve;var Ge=[];var Xe=16,qe={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ze(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Ke(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function $e(e){return e.classList?Ke(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(e){return e})}function Qe(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Je(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function et(e){return e.size!==qe.size||e.x!==qe.x||e.y!==qe.y||e.rotate!==qe.rotate||e.flipX||e.flipY}function tt(){var e="fa",t=be,n=Ve.cssPrefix,r=Ve.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";\n  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";\n  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";\n  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";\n  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";\n  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";\n  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";\n  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";\n  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";\n  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";\n  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";\n  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";\n  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";\n  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";\n}\n\n.svg-inline--fa {\n  box-sizing: content-box;\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n  width: var(--fa-width, 1.25em);\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285714em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left,\n.svg-inline--fa .fa-pull-start {\n  float: inline-start;\n  margin-inline-end: var(--fa-pull-margin, 0.3em);\n}\n.svg-inline--fa.fa-pull-right,\n.svg-inline--fa .fa-pull-end {\n  float: inline-end;\n  margin-inline-start: var(--fa-pull-margin, 0.3em);\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));\n  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: var(--fa-width, 1.25em);\n}\n.fa-layers .svg-inline--fa {\n  inset: 0;\n  margin: auto;\n  position: absolute;\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-xs {\n  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-sm {\n  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-lg {\n  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-xl {\n  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-2xl {\n  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-width-auto {\n  --fa-width: auto;\n}\n\n.fa-fw,\n.fa-width-fixed {\n  --fa-width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-inline-start: var(--fa-li-margin, 2.5em);\n  padding-inline-start: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n/* Heads Up: Bordered Icons will not be supported in the future!\n  - This feature will be deprecated in the next major release of Font Awesome (v8)!\n  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.\n*/\n/* Notes:\n* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)\n* --@{v.$css-prefix}-border-padding =\n  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it\'s vertical alignment)\n  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)\n*/\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.0625em);\n  box-sizing: var(--fa-border-box-sizing, content-box);\n  padding: var(--fa-border-padding, 0.1875em 0.25em);\n}\n\n.fa-pull-left,\n.fa-pull-start {\n  float: inline-start;\n  margin-inline-end: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right,\n.fa-pull-end {\n  float: inline-end;\n  margin-inline-start: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n  .fa-bounce,\n  .fa-fade,\n  .fa-beat-fade,\n  .fa-flip,\n  .fa-pulse,\n  .fa-shake,\n  .fa-spin,\n  .fa-spin-pulse {\n    animation: none !important;\n    transition: none !important;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.svg-inline--fa.fa-inverse {\n  fill: var(--fa-inverse, #fff);\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  line-height: 2em;\n  position: relative;\n  vertical-align: middle;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  --fa-width: 1.25em;\n  height: 1em;\n  width: var(--fa-width);\n}\n.svg-inline--fa.fa-stack-2x {\n  --fa-width: 2.5em;\n  height: 2em;\n  width: var(--fa-width);\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  inset: 0;\n  margin: auto;\n  position: absolute;\n  z-index: var(--fa-stack-z-index, auto);\n}';if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var nt=!1;function rt(){Ve.autoAddCss&&!nt&&(!function(e){if(e&&L){var t=j.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=j.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}j.head.insertBefore(t,r)}}(tt()),nt=!0)}var it={mixout:function(){return{dom:{css:tt,insertCss:rt}}},hooks:function(){return{beforeDOMElementCreation:function(){rt()},beforeI2svg:function(){rt()}}}},ot=A||{};ot[ve]||(ot[ve]={}),ot[ve].styles||(ot[ve].styles={}),ot[ve].hooks||(ot[ve].hooks={}),ot[ve].shims||(ot[ve].shims=[]);var at=ot[ve],st=[],lt=function(){j.removeEventListener("DOMContentLoaded",lt),ct=1,st.map(function(e){return e()})},ct=!1;function ut(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"===typeof e?Qe(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(Qe(e[n]),'" ')},"").trim()}(r),">").concat(o.map(ut).join(""),"</").concat(t,">")}function ht(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}L&&((ct=(j.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(j.readyState))||j.addEventListener("DOMContentLoaded",lt));var ft=function(e,t,n,r){var i,o,a,s=Object.keys(e),l=s.length,c=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,a=e[s[0]]):(i=0,a=n);i<l;i++)a=c(a,e[o=s[i]],o,e);return a};function dt(e){return 1!==y(e).length?null:e.codePointAt(0).toString(16)}function pt(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function gt(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=pt(t);"function"!==typeof at.hooks.addPack||r?at.styles[e]=g(g({},at.styles[e]||{}),i):at.hooks.addPack(e,pt(t)),"fas"===e&&gt("fa",t)}var mt=at.styles,yt=at.shims,vt=Object.keys(Le),bt=vt.reduce(function(e,t){return e[t]=Object.keys(Le[t]),e},{}),wt=null,_t={},xt={},St={},kt={},Tt={};function Ct(e,t){var n,r=t.split("-"),i=r[0],o=r.slice(1).join("-");return i!==e||""===o||(n=o,~Ue.indexOf(n))?null:o}var Et,Ot=function(){var e=function(e){return ft(mt,function(t,n,r){return t[r]=ft(n,e,{}),t},{})};_t=e(function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter(function(e){return"number"===typeof e}).forEach(function(t){e[t.toString(16)]=n});return e}),xt=e(function(e,t,n){(e[n]=n,t[2])&&t[2].filter(function(e){return"string"===typeof e}).forEach(function(t){e[t]=n});return e}),Tt=e(function(e,t,n){var r=t[2];return e[n]=n,r.forEach(function(t){e[t]=n}),e});var t="far"in mt||Ve.autoFetchSvg,n=ft(yt,function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:o}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:o}),e},{names:{},unicodes:{}});St=n.names,kt=n.unicodes,wt=Mt(Ve.styleDefault,{family:Ve.familyDefault})};function Pt(e,t){return(_t[e]||{})[t]}function At(e,t){return(Tt[e]||{})[t]}function jt(e){return St[e]||{prefix:null,iconName:null}}function Dt(){return wt}Et=function(e){wt=Mt(e.styleDefault,{family:Ve.familyDefault})},Ge.push(Et),Ot();function Mt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?F:t,r=Ae[n][e];if(n===z&&!e)return"fad";var i=De[n][e]||De[n][r],o=e in at.styles?e:null;return i||o||null}function Lt(e){return e.sort().filter(function(e,t,n){return n.indexOf(e)===t})}var It=pe.concat(ie);function Rt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,n=void 0!==t&&t,r=null,i=Lt(e.filter(function(e){return It.includes(e)})),o=Lt(e.filter(function(e){return!It.includes(e)})),a=m(i.filter(function(e){return r=e,!N.includes(e)}),1)[0],s=void 0===a?null:a,l=function(e){var t=F,n=vt.reduce(function(e,t){return e[t]="".concat(Ve.cssPrefix,"-").concat(t),e},{});return ne.forEach(function(r){(e.includes(n[r])||e.some(function(e){return bt[r].includes(e)}))&&(t=r)}),t}(i),c=g(g({},function(e){var t=[],n=null;return e.forEach(function(e){var r=Ct(Ve.cssPrefix,e);r?n=r:e&&t.push(e)}),{iconName:n,rest:t}}(o)),{},{prefix:Mt(s,{family:l})});return g(g(g({},c),function(e){var t=e.values,n=e.family,r=e.canonical,i=e.givenPrefix,o=void 0===i?"":i,a=e.styles,s=void 0===a?{}:a,l=e.config,c=void 0===l?{}:l,u=n===z,h=t.includes("fa-duotone")||t.includes("fad"),f="duotone"===c.familyDefault,d="fad"===r.prefix||"fa-duotone"===r.prefix;!u&&(h||f||d)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&Nt.includes(n)){if(Object.keys(s).find(function(e){return Ft.includes(e)})||c.autoFetchSvg){var p=re.get(n).defaultShortPrefixId;r.prefix=p,r.iconName=At(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==o||(r.prefix=Dt()||"fas");return r}({values:e,family:l,styles:mt,config:Ve,canonical:c,givenPrefix:r})),function(e,t,n){var r=n.prefix,i=n.iconName;if(e||!r||!i)return{prefix:r,iconName:i};var o="fa"===t?jt(i):{},a=At(r,i);i=o.iconName||a||i,r=o.prefix||r,"far"!==r||mt.far||!mt.fas||Ve.autoFetchSvg||(r="fas");return{prefix:r,iconName:i}}(n,r,c))}var Nt=ne.filter(function(e){return e!==F||e!==z}),Ft=Object.keys(de).filter(function(e){return e!==F}).map(function(e){return Object.keys(de[e])}).flat();var zt=function(){return function(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}},[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(t){e.definitions[t]=g(g({},e.definitions[t]||{}),i[t]),gt(t,i[t]);var n=Le[F][t];n&&gt(n,i[t]),Ot()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon,s=a[2];e[i]||(e[i]={}),s.length>0&&s.forEach(function(t){"string"===typeof t&&(e[i][t]=a)}),e[i][o]=a}),e}}])}(),Bt=[],Ut={},Wt={},Ht=Object.keys(Wt);function Yt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Ut[e]||[]).forEach(function(e){t=e.apply(null,[t].concat(r))}),t}function Vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Ut[e]||[]).forEach(function(e){e.apply(null,n)})}function Gt(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Wt[e]?Wt[e].apply(null,t):void 0}function Xt(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Dt();if(t)return t=At(n,t)||t,ht(qt.definitions,n,t)||ht(at.styles,n,t)}var qt=new zt,Zt={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L?(Vt("beforeI2svg",e),Gt("pseudoElements2svg",e),Gt("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Ve.autoReplaceSvg&&(Ve.autoReplaceSvg=!0),Ve.observeMutations=!0,function(e){L&&(ct?setTimeout(e,0):st.push(e))}(function(){Qt({autoReplaceSvgRoot:t}),Vt("watch",e)})}},Kt={icon:function(e){if(null===e)return null;if("object"===b(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:At(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Mt(e[0]);return{prefix:n,iconName:At(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(Ve.cssPrefix,"-"))>-1||e.match(Re))){var r=Rt(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Dt(),iconName:At(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Dt();return{prefix:i,iconName:At(i,e)||e}}}},$t={noAuto:function(){Ve.autoReplaceSvg=!1,Ve.observeMutations=!1,Vt("noAuto")},config:Ve,dom:Zt,parse:Kt,library:qt,findIconDefinition:Xt,toHtml:ut},Qt=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?j:e;(Object.keys(at.styles).length>0||Ve.autoFetchSvg)&&L&&Ve.autoReplaceSvg&&$t.dom.i2svg({node:t})};function Jt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return ut(e)})}}),Object.defineProperty(e,"node",{get:function(){if(L){var t=j.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function en(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,s=e.symbol,l=e.maskId,c=e.extra,u=e.watchable,h=void 0!==u&&u,f=r.found?r:n,d=f.width,p=f.height,m=[Ve.replacementClass,o?"".concat(Ve.cssPrefix,"-").concat(o):""].filter(function(e){return-1===c.classes.indexOf(e)}).filter(function(e){return""!==e||!!e}).concat(c.classes).join(" "),y={children:[],attributes:g(g({},c.attributes),{},{"data-prefix":i,"data-icon":o,class:m,role:c.attributes.role||"img",viewBox:"0 0 ".concat(d," ").concat(p)})};(function(e){return["aria-label","aria-labelledby","title","role"].some(function(t){return t in e})})(c.attributes)||c.attributes["aria-hidden"]||(y.attributes["aria-hidden"]="true"),h&&(y.attributes[we]="");var v=g(g({},y),{},{prefix:i,iconName:o,main:n,mask:r,maskId:l,transform:a,symbol:s,styles:g({},c.styles)}),b=r.found&&n.found?Gt("generateAbstractMask",v)||{children:[],attributes:{}}:Gt("generateAbstractIcon",v)||{children:[],attributes:{}},w=b.children,_=b.attributes;return v.children=w,v.attributes=_,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol,a=!0===o?"".concat(t,"-").concat(Ve.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:g(g({},i),{},{id:a}),children:r}]}]}(v):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if(et(a)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=Je(g(g({},o),{},{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(v)}function tn(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.extra,a=e.watchable,s=void 0!==a&&a,l=g(g({},o.attributes),{},{class:o.classes.join(" ")});s&&(l[we]="");var c=g({},o.styles);et(i)&&(c.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,o=void 0===i?16:i,a=e.startCentered,s=void 0!==a&&a,l="";return l+=s&&I?"translate(".concat(t.x/Xe-r/2,"em, ").concat(t.y/Xe-o/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/Xe,"em), calc(-50% + ").concat(t.y/Xe,"em)) "):"translate(".concat(t.x/Xe,"em, ").concat(t.y/Xe,"em) "),l+="scale(".concat(t.size/Xe*(t.flipX?-1:1),", ").concat(t.size/Xe*(t.flipY?-1:1),") "),l+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);var u=Je(c);u.length>0&&(l.style=u);var h=[];return h.push({tag:"span",attributes:l,children:[t]}),h}var nn=at.styles;function rn(e){var t=e[0],n=e[1],r=m(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Ve.cssPrefix,"-").concat(Be.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ve.cssPrefix,"-").concat(Be.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ve.cssPrefix,"-").concat(Be.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var on={found:!1,width:512,height:512};function an(e,t){var n=t;return"fa"===t&&null!==Ve.styleDefault&&(t=Dt()),new Promise(function(r,i){if("fa"===n){var o=jt(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&nn[t]&&nn[t][e])return r(rn(nn[t][e]));!function(e,t){Ee||Ve.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(g(g({},on),{},{icon:Ve.showMissingIcons&&e&&Gt("missingIconAbstract")||{}}))})}var sn=function(){},ln=Ve.measurePerformance&&M&&M.mark&&M.measure?M:{mark:sn,measure:sn},cn='FA "7.1.0"',un=function(e){ln.mark("".concat(cn," ").concat(e," ends")),ln.measure("".concat(cn," ").concat(e),"".concat(cn," ").concat(e," begins"),"".concat(cn," ").concat(e," ends"))},hn=function(e){return ln.mark("".concat(cn," ").concat(e," begins")),function(){return un(e)}},fn=function(){};function dn(e){return"string"===typeof(e.getAttribute?e.getAttribute(we):null)}function pn(e){return j.createElementNS("http://www.w3.org/2000/svg",e)}function gn(e){return j.createElement(e)}function mn(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?pn:gn:t;if("string"===typeof e)return j.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(t){r.setAttribute(t,e.attributes[t])}),(e.children||[]).forEach(function(e){r.appendChild(mn(e,{ceFn:n}))}),r}var yn={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(e){t.parentNode.insertBefore(mn(e),t)}),null===t.getAttribute(we)&&Ve.keepOriginalSource){var n=j.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~$e(t).indexOf(Ve.replacementClass))return yn.replace(e);var r=new RegExp("".concat(Ve.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce(function(e,t){return t===Ve.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var o=n.map(function(e){return ut(e)}).join("\n");t.setAttribute(we,""),t.innerHTML=o}};function vn(e){e()}function bn(e,t){var n="function"===typeof t?t:fn;if(0===e.length)n();else{var r=vn;"async"===Ve.mutateApproach&&(r=A.requestAnimationFrame||vn),r(function(){var t=!0===Ve.autoReplaceSvg?yn.replace:yn[Ve.autoReplaceSvg]||yn.replace,r=hn("mutate");e.map(t),r(),n()})}}var wn=!1;function _n(){wn=!0}function xn(){wn=!1}var Sn=null;function kn(e){if(D&&Ve.observeMutations){var t=e.treeCallback,n=void 0===t?fn:t,r=e.nodeCallback,i=void 0===r?fn:r,o=e.pseudoElementsCallback,a=void 0===o?fn:o,s=e.observeMutationsRoot,l=void 0===s?j:s;Sn=new D(function(e){if(!wn){var t=Dt();Ke(e).forEach(function(e){if("childList"===e.type&&e.addedNodes.length>0&&!dn(e.addedNodes[0])&&(Ve.searchPseudoElements&&a(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&Ve.searchPseudoElements&&a([e.target],!0),"attributes"===e.type&&dn(e.target)&&~ze.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(xe):null,n=e.getAttribute?e.getAttribute(Se):null;return t&&n}(e.target)){var r=Rt($e(e.target)),o=r.prefix,s=r.iconName;e.target.setAttribute(xe,o||t),s&&e.target.setAttribute(Se,s)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(Ve.replacementClass)&&i(e.target);var l})}}),L&&Sn.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Tn(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Rt($e(e));return i.prefix||(i.prefix=Dt()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(xt[e]||{})[t]}(i.prefix,e.innerText)||Pt(i.prefix,dt(e.innerText))),!i.iconName&&Ve.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Tn(e),r=n.iconName,i=n.prefix,o=n.rest,a=function(e){return Ke(e.attributes).reduce(function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e},{})}(e),s=Yt("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e},{})),n}(e):[];return g({iconName:r,prefix:i,transform:qe,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:l,attributes:a}},s)}var En=at.styles;function On(e){var t="nest"===Ve.autoReplaceSvg?Cn(e,{styleParser:!1}):Cn(e);return~t.extra.classes.indexOf(Ne)?Gt("generateLayersText",e,t):Gt("generateSvgReplacementMutation",e,t)}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!L)return Promise.resolve();var n=j.documentElement.classList,r=function(e){return n.add("".concat(ke,"-").concat(e))},i=function(e){return n.remove("".concat(ke,"-").concat(e))},o=Ve.autoFetchSvg?[].concat(y(ie),y(pe)):N.concat(Object.keys(En));o.includes("fa")||o.push("fa");var a=[".".concat(Ne,":not([").concat(we,"])")].concat(o.map(function(e){return".".concat(e,":not([").concat(we,"])")})).join(", ");if(0===a.length)return Promise.resolve();var s=[];try{s=Ke(e.querySelectorAll(a))}catch(u){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var l=hn("onTree"),c=s.reduce(function(e,t){try{var n=On(t);n&&e.push(n)}catch(u){Ee||"MissingIcon"===u.name&&console.error(u)}return e},[]);return new Promise(function(e,n){Promise.all(c).then(function(n){bn(n,function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()})}).catch(function(e){l(),n(e)})})}function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;On(e).then(function(e){e&&bn([e],t)})}var jn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?qe:n,i=t.symbol,o=void 0!==i&&i,a=t.mask,s=void 0===a?null:a,l=t.maskId,c=void 0===l?null:l,u=t.classes,h=void 0===u?[]:u,f=t.attributes,d=void 0===f?{}:f,p=t.styles,m=void 0===p?{}:p;if(e){var y=e.prefix,v=e.iconName,b=e.icon;return Jt(g({type:"icon"},e),function(){return Vt("beforeDOMElementCreation",{iconDefinition:e,params:t}),en({icons:{main:rn(b),mask:s?rn(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:y,iconName:v,transform:g(g({},qe),r),symbol:o,maskId:c,extra:{attributes:d,styles:m,classes:h}})})}},Dn={mixout:function(){return{icon:(e=jn,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:Xt(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Xt(i||{})),e(r,g(g({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Pn,e.nodeCallback=An,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?j:t,r=e.callback;return Pn(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.prefix,i=t.transform,o=t.symbol,a=t.mask,s=t.maskId,l=t.extra;return new Promise(function(t,c){Promise.all([an(n,r),a.iconName?an(a.iconName,a.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(a){var c=m(a,2),u=c[0],h=c[1];t([e,en({icons:{main:u,mask:h},prefix:r,iconName:n,transform:i,symbol:o,maskId:s,extra:l,watchable:!0})])}).catch(c)})},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.transform,a=Je(e.styles);return a.length>0&&(r.style=a),et(o)&&(t=Gt("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Mn={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return Jt({type:"layer"},function(){Vt("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e(function(e){Array.isArray(e)?e.map(function(e){n=n.concat(e.abstract)}):n=n.concat(e.abstract)}),[{tag:"span",attributes:{class:["".concat(Ve.cssPrefix,"-layers")].concat(y(r)).join(" ")},children:n}]})}}}},Ln={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,o=void 0===i?[]:i,a=t.attributes,s=void 0===a?{}:a,l=t.styles,c=void 0===l?{}:l;return Jt({type:"counter",content:e},function(){return Vt("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.extra,r=g(g({},n.attributes),{},{class:n.classes.join(" ")}),i=Je(n.styles);i.length>0&&(r.style=i);var o=[];return o.push({tag:"span",attributes:r,children:[t]}),o}({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(Ve.cssPrefix,"-layers-counter")].concat(y(o))}})})}}}},In={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?qe:n,i=t.classes,o=void 0===i?[]:i,a=t.attributes,s=void 0===a?{}:a,l=t.styles,c=void 0===l?{}:l;return Jt({type:"text",content:e},function(){return Vt("beforeDOMElementCreation",{content:e,params:t}),tn({content:e,transform:g(g({},qe),r),extra:{attributes:s,styles:c,classes:["".concat(Ve.cssPrefix,"-layers-text")].concat(y(o))}})})}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.transform,r=t.extra,i=null,o=null;if(I){var a=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();i=s.width/a,o=s.height/a}return Promise.resolve([e,tn({content:e.innerHTML,width:i,height:o,transform:n,extra:r,watchable:!0})])}}},Rn=new RegExp('"',"ug"),Nn=[1105920,1112319],Fn=g(g(g(g({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),zn=Object.keys(Fn).reduce(function(e,t){return e[t.toLowerCase()]=Fn[t],e},{}),Bn=Object.keys(zn).reduce(function(e,t){var n=zn[t];return e[t]=n[900]||y(Object.entries(n))[0][1],e},{});function Un(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(r,i){if(null!==e.getAttribute(n))return r();var o=Ke(e.children).filter(function(e){return e.getAttribute(_e)===t})[0],a=A.getComputedStyle(e,t),s=a.getPropertyValue("font-family"),l=s.match(Fe),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return e.removeChild(o),r();if(l&&"none"!==u&&""!==u){var h=a.getPropertyValue("content"),f=function(e,t){var n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),i=isNaN(r)?"normal":r;return(zn[n]||{})[i]||Bn[n]}(s,c),d=function(e){return dt(y(e.replace(Rn,""))[0]||"")}(h),p=l[0].startsWith("FontAwesome"),m=function(e){var t=e.getPropertyValue("font-feature-settings").includes("ss01"),n=e.getPropertyValue("content").replace(Rn,""),r=n.codePointAt(0),i=r>=Nn[0]&&r<=Nn[1],o=2===n.length&&n[0]===n[1];return i||o||t}(a),v=Pt(f,d),b=v;if(p){var w=function(e){var t=kt[e],n=Pt("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);w.iconName&&w.prefix&&(v=w.iconName,f=w.prefix)}if(!v||m||o&&o.getAttribute(xe)===f&&o.getAttribute(Se)===b)r();else{e.setAttribute(n,b),o&&e.removeChild(o);var _={iconName:null,prefix:null,transform:qe,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},x=_.extra;x.attributes[_e]=t,an(v,f).then(function(i){var o=en(g(g({},_),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:b,extra:x,watchable:!0})),a=j.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=o.map(function(e){return ut(e)}).join("\n"),e.removeAttribute(n),r()}).catch(i)}}else r()})}function Wn(e){return Promise.all([Un(e,"::before"),Un(e,"::after")])}function Hn(e){return e.parentNode!==document.head&&!~Te.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(_e)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}var Yn=function(e){return!!e&&Ce.some(function(t){return e.includes(t)})},Vn=function(e){if(!e)return[];var t=new Set,n=e.split(/,(?![^()]*\))/).map(function(e){return e.trim()});n=n.flatMap(function(e){return e.includes("(")?e:e.split(",").map(function(e){return e.trim()})});var r,i=f(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(Yn(o)){var a=Ce.reduce(function(e,t){return e.replace(t,"")},o);""!==a&&"*"!==a&&t.add(a)}}}catch(s){i.e(s)}finally{i.f()}return t};function Gn(e){if(L){var t;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])t=e;else if(Ve.searchPseudoElementsFullScan)t=e.querySelectorAll("*");else{var n,r=new Set,i=f(document.styleSheets);try{for(i.s();!(n=i.n()).done;){var o=n.value;try{var a,s=f(o.cssRules);try{for(s.s();!(a=s.n()).done;){var l,c=a.value,u=f(Vn(c.selectorText));try{for(u.s();!(l=u.n()).done;){var h=l.value;r.add(h)}}catch(p){u.e(p)}finally{u.f()}}}catch(p){s.e(p)}finally{s.f()}}catch(g){Ve.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(o.href," (").concat(g.message,')\nIf it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.'))}}}catch(p){i.e(p)}finally{i.f()}if(!r.size)return;var d=Array.from(r).join(", ");try{t=e.querySelectorAll(d)}catch(m){}}return new Promise(function(e,n){var r=Ke(t).filter(Hn).map(Wn),i=hn("searchPseudoElements");_n(),Promise.all(r).then(function(){i(),xn(),e()}).catch(function(){i(),xn(),n()})})}}var Xn={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Gn,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?j:t;Ve.searchPseudoElements&&Gn(n)}}},qn=!1,Zn=function(e){return e.toLowerCase().split(" ").reduce(function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Kn={mixout:function(){return{parse:{transform:function(e){return Zn(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Zn(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,o={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:o,inner:{transform:"".concat(a," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:g({},c.outer),children:[{tag:"g",attributes:g({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:g(g({},t.icon.attributes),c.path)}]}]}}}},$n={x:0,y:0,width:"100%",height:"100%"};function Qn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Jn={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Rt(n.split(" ").map(function(e){return e.trim()})):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Dt()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,a=e.maskId,s=e.transform,l=i.width,c=i.icon,u=o.width,h=o.icon,f=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:u,iconWidth:l}),d={tag:"rect",attributes:g(g({},$n),{},{fill:"white"})},p=c.children?{children:c.children.map(Qn)}:{},m={tag:"g",attributes:g({},f.inner),children:[Qn(g({tag:c.tag,attributes:g(g({},c.attributes),f.path)},p))]},y={tag:"g",attributes:g({},f.outer),children:[m]},v="mask-".concat(a||Ze()),b="clip-".concat(a||Ze()),w={tag:"mask",attributes:g(g({},$n),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,y]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(t=h,"g"===t.tag?t.children:[t])},w]};return n.push(_,{tag:"rect",attributes:g({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(v,")")},$n)}),{children:n,attributes:r}}}},er={provides:function(e){var t=!1;A.matchMedia&&(t=A.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:g(g({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=g(g({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:g(g({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:g(g({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:g(g({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:g(g({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:g(g({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:g(g({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:g(g({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;Bt=e,Ut={},Object.keys(Wt).forEach(function(e){-1===Ht.indexOf(e)&&delete Wt[e]}),Bt.forEach(function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach(function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===b(t[e])&&Object.keys(t[e]).forEach(function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]})}),e.hooks){var r=e.hooks();Object.keys(r).forEach(function(e){Ut[e]||(Ut[e]=[]),Ut[e].push(r[e])})}e.provides&&e.provides(Wt)})}([it,Dn,Mn,Ln,In,Xn,{mixout:function(){return{dom:{unwatch:function(){_n(),qn=!0}}}},hooks:function(){return{bootstrap:function(){kn(Yt("mutationObserverCallbacks",{}))},noAuto:function(){Sn&&Sn.disconnect()},watch:function(e){var t=e.observeMutationsRoot;qn?xn():kn(Yt("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Kn,Jn,er,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:$t});var tr,nr=$t.config,rr=$t.parse,ir=$t.icon,or=n(579);const ar=["style","role","aria-label"];function sr(e){return t=e,(t-=0)===t?e:(e=e.replace(/[_-]+(.)?/g,(e,t)=>t?t.toUpperCase():"")).charAt(0).toLowerCase()+e.slice(1);var t}function lr(e){return e.charAt(0).toUpperCase()+e.slice(1)}var cr=new Map;function ur(e){if(cr.has(e))return cr.get(e);const t={};let n=0;const r=e.length;for(;n<r;){const i=e.indexOf(";",n),o=-1===i?r:i,a=e.slice(n,o).trim();if(a){const e=a.indexOf(":");if(e>0){const n=a.slice(0,e).trim(),r=a.slice(e+1).trim();if(n&&r){const e=sr(n);t[e.startsWith("webkit")?lr(e):e]=r}}}n=o+1}if(1e3===cr.size){const e=cr.keys().next().value;e&&cr.delete(e)}return cr.set(e,t),t}var hr=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;const i=(n.children||[]).map(n=>e(t,n)),o=n.attributes||{},a={};for(const[l,c]of Object.entries(o))switch(!0){case"class"===l:a.className=c;break;case"style"===l:a.style=ur(String(c));break;case l.startsWith("aria-"):case l.startsWith("data-"):a[l.toLowerCase()]=c;break;default:a[sr(l)]=c}const{style:s,role:u,"aria-label":h}=r,f=c(r,ar);return s&&(a.style=a.style?l(l({},a.style),s):s),u&&(a.role=u),h&&(a["aria-label"]=h,a["aria-hidden"]="false"),t(n.tag,l(l({},f),a),...i)}.bind(null,e.createElement),fr=(t,n)=>{const r=(0,e.useId)();return t||(n?r:void 0)},dr="searchPseudoElementsFullScan"in nr?"7.0.0":"6.0.0",pr=Number.parseInt(dr)>=7,gr="fa",mr="fa-beat",yr="fa-fade",vr="fa-beat-fade",br="fa-bounce",wr="fa-shake",_r="fa-spin",xr="fa-spin-pulse",Sr="fa-spin-reverse",kr="fa-pulse",Tr={left:"fa-pull-left",right:"fa-pull-right"},Cr={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},Er={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},Or="fa-border",Pr="fa-fw",Ar="fa-flip",jr="fa-flip-horizontal",Dr="fa-flip-vertical",Mr="fa-inverse",Lr="fa-rotate-by",Ir="fa-swap-opacity",Rr="fa-width-auto";function Nr(e){const t=nr.cssPrefix||nr.familyPrefix||gr;return t===gr?e:e.replace(new RegExp(String.raw(tr||(tr=r(["(?<=^|s)","-"],["(?<=^|\\s)","-"])),gr),"g"),"".concat(t,"-"))}function Fr(e){if(e)return(e=>"object"===typeof e&&"icon"in e&&!!e.icon)(e)?e:rr.icon(e)}var zr=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"react-fontawesome";this.enabled=!1;let t=!1;try{t="undefined"!==typeof process&&!1}catch(n){}this.scope=e,this.enabled=t}log(){if(this.enabled){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("[".concat(this.scope,"]"),...t)}}warn(){if(this.enabled){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn("[".concat(this.scope,"]"),...t)}}error(){if(this.enabled){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("[".concat(this.scope,"]"),...t)}}}("FontAwesomeIcon"),Br={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},Ur=new Set(Object.keys(Br)),Wr=e.forwardRef((e,t)=>{const n=l(l({},Br),e),{icon:r,mask:i,symbol:o,title:a,titleId:s,maskId:c,transform:u}=n,h=fr(c,Boolean(i)),f=fr(s,Boolean(a)),d=Fr(r);if(!d)return zr.error("Icon lookup is undefined",r),null;const p=function(e){const{beat:t,fade:n,beatFade:r,bounce:i,shake:o,spin:a,spinPulse:s,spinReverse:l,pulse:c,fixedWidth:u,inverse:h,border:f,flip:d,size:p,rotation:g,pull:m,swapOpacity:y,rotateBy:v,widthAuto:b,className:w}=e,_=[];return w&&_.push(...w.split(" ")),t&&_.push(mr),n&&_.push(yr),r&&_.push(vr),i&&_.push(br),o&&_.push(wr),a&&_.push(_r),l&&_.push(Sr),s&&_.push(xr),c&&_.push(kr),u&&_.push(Pr),h&&_.push(Mr),f&&_.push(Or),!0===d&&_.push(Ar),"horizontal"!==d&&"both"!==d||_.push(jr),"vertical"!==d&&"both"!==d||_.push(Dr),void 0!==p&&null!==p&&_.push(Er[p]),void 0!==g&&null!==g&&0!==g&&_.push(Cr[g]),void 0!==m&&null!==m&&_.push(Tr[m]),y&&_.push(Ir),pr?(v&&_.push(Lr),b&&_.push(Rr),(nr.cssPrefix||nr.familyPrefix||gr)===gr?_:_.map(Nr)):_}(n),g="string"===typeof u?rr.transform(u):u,m=Fr(i),y=ir(d,l(l(l(l({},p.length>0&&{classes:p}),g&&{transform:g}),m&&{mask:m}),{},{symbol:o,title:a,titleId:f,maskId:h}));if(!y)return zr.error("Could not find icon",d),null;const{abstract:v}=y,b={ref:t};for(const l of(w=n,Object.keys(w)))Ur.has(l)||(b[l]=n[l]);var w;return hr(v[0],b)});Wr.displayName="FontAwesomeIcon";"".concat("fa-layers"," ").concat(Pr);var Hr={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm32 96c0-17.7 14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},Yr={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Vr={prefix:"fas",iconName:"folder-open",icon:[576,512,[128194,128449,61717],"f07c","M56 225.6L32.4 296.2 32.4 96c0-35.3 28.7-64 64-64l138.7 0c13.8 0 27.3 4.5 38.4 12.8l38.4 28.8c5.5 4.2 12.3 6.4 19.2 6.4l117.3 0c35.3 0 64 28.7 64 64l0 16-365.4 0c-41.3 0-78 26.4-91.1 65.6zM477.8 448L99 448c-32.8 0-55.9-32.1-45.5-63.2l48-144C108 221.2 126.4 208 147 208l378.8 0c32.8 0 55.9 32.1 45.5 63.2l-48 144c-6.5 19.6-24.9 32.8-45.5 32.8z"]},Gr={prefix:"fas",iconName:"angles-down",icon:[384,512,["angle-double-down"],"f103","M214.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-160-160c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 402.7 329.4 265.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-160 160zm160-352l-160 160c-12.5 12.5-32.8 12.5-45.3 0l-160-160c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 210.7 329.4 73.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3z"]},Xr={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},qr={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"]},Zr={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},Kr={prefix:"fas",iconName:"circle-left",icon:[512,512,[61840,"arrow-alt-circle-left"],"f359","M512 256a256 256 0 1 0 -512 0 256 256 0 1 0 512 0zM124.7 244.7l104-104c4.6-4.6 11.5-5.9 17.4-3.5s9.9 8.3 9.9 14.8l0 56 96 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32l-96 0 0 56c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5l-104-104c-6.2-6.2-6.2-16.4 0-22.6z"]},$r={prefix:"fas",iconName:"images",icon:[576,512,[],"f302","M96 96c0-35.3 28.7-64 64-64l320 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64l-320 0c-35.3 0-64-28.7-64-64L96 96zM24 128c13.3 0 24 10.7 24 24l0 296c0 8.8 7.2 16 16 16l360 0c13.3 0 24 10.7 24 24s-10.7 24-24 24L64 512c-35.3 0-64-28.7-64-64L0 152c0-13.3 10.7-24 24-24zm168 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm196.5 11.5c-4.4-7.1-12.1-11.5-20.5-11.5s-16.1 4.4-20.5 11.5l-56.3 92.1-24.5-30.6c-4.6-5.7-11.4-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4S174.8 352 184 352l272 0c8.7 0 16.7-4.7 20.9-12.3s4.1-16.8-.5-24.3l-88-144z"]},Qr={prefix:"fas",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M0 256a256 256 0 1 0 512 0 256 256 0 1 0 -512 0zm387.3 11.3l-104 104c-4.6 4.6-11.5 5.9-17.4 3.5S256 366.5 256 360l0-56-96 0c-17.7 0-32-14.3-32-32l0-32c0-17.7 14.3-32 32-32l96 0 0-56c0-6.5 3.9-12.3 9.9-14.8s12.9-1.1 17.4 3.5l104 104c6.2 6.2 6.2 16.4 0 22.6z"]},Jr={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},ei={prefix:"fas",iconName:"download",icon:[448,512,[],"f019","M256 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 210.7-41.4-41.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 242.7 256 32zM64 320c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-46.9 0-56.6 56.6c-31.2 31.2-81.9 31.2-113.1 0L110.9 320 64 320zm304 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},ti={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},ni={prefix:"fas",iconName:"angles-up",icon:[384,512,["angle-double-up"],"f102","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 109.3 329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160zm160 352l-160-160c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 329.4 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3z"]},ri={prefix:"fas",iconName:"circle-minus",icon:[512,512,["minus-circle"],"f056","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM168 232l176 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-176 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]};function ii(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var oi=0;function ai(e){return"__private_"+oi+++"_"+e}function si(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function li(e,t,n){si(e,t),t.set(e,n)}function ci(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function ui(e,t){return e.get(ci(e,t))}function hi(e,t,n){return e.set(ci(e,t),n),n}class fi{}a(fi,"ignoreScaleMisalignmentErrors",!1);class di{constructor(e){if("string"==typeof e){/^#[0-9A-Fa-f]{6}/.test(e)?(e=e.replace(/^#/,""),this.r=parseInt(e.slice(0,2),16),this.g=parseInt(e.slice(2,4),16),this.b=parseInt(e.slice(4,6),16)):(this.r=0,this.g=0,this.b=0)}else!e||isNaN(e.r)||isNaN(e.g)||isNaN(e.b)?(this.r=0,this.g=0,this.b=0,this.a=255):(this.r=e.r,this.g=e.g,this.b=e.b,this.a=isNaN(e.a)?255:e.a)}toHexString(){return"#".concat(this.r.toString(16).padStart(2,"0")).concat(this.g.toString(16).padStart(2,"0")).concat(this.b.toString(16).padStart(2,"0"))}}class pi{constructor(e){!e||isNaN(e.x)||isNaN(e.y)?(this.x=0,this.y=0):(this.x=e.x,this.y=e.y)}}class gi{constructor(e){e&&e.TL&&e.TR&&e.BL&&e.BR?(this.TL=new pi(e.TL),this.TR=new pi(e.TR),this.BL=new pi(e.BL),this.BR=new pi(e.BR)):(this.TL={x:0,y:0},this.TR={x:0,y:0},this.BL={x:0,y:0},this.BR={x:0,y:0})}}class mi{constructor(e){e&&e.T&&e.B&&e.L&&e.R?(this.T=e.T.map(e=>new pi(e)),this.B=e.B.map(e=>new pi(e)),this.L=e.L.map(e=>new pi(e)),this.R=e.R.map(e=>new pi(e))):(this.T=[{x:0,y:0}],this.B=[{x:0,y:0}],this.L=[{x:0,y:0}],this.R=[{x:0,y:0}])}}class yi{constructor(e){e&&e.sourceFileUrl&&!isNaN(e.tileSize)&&e.corners&&e.edges&&e.patternRows?(this.id=e.id||null,this.name=e.name||null,this.sourceFileUrl=String(e.sourceFileUrl),this.tileSize=Number(e.tileSize),this.corners=new gi(e.corners),this.edges=new mi(e.edges),this.patternRows=e.patternRows.map(e=>e.map(e=>new pi(e))),e.substitutableColors&&(this.substitutableColors=e.substitutableColors.map(e=>new di(e)))):(this.sourceFileUrl="",this.name="",this.tileSize=0,this.corners={TL:{y:0,x:0},TR:{y:0,x:0},BL:{y:0,x:0},BR:{y:0,x:0}},this.edges={T:[{y:0,x:0}],L:[{y:0,x:0}],R:[{y:0,x:0}],B:[{y:0,x:0}]},this.patternRows=[[{y:0,x:0}]],this.substitutableColors=[])}}var vi=new WeakMap,bi=new WeakMap,wi=new WeakMap,_i=new WeakMap,xi=new WeakMap,Si=new WeakMap,ki=new WeakMap,Ti=new WeakMap,Ci=new WeakSet;class Ei{constructor(e,t,n,r,i,o,a){!function(e,t){si(e,t),t.add(e)}(this,Ci),li(this,vi,void 0),li(this,bi,void 0),li(this,wi,void 0),li(this,_i,void 0),li(this,xi,void 0),li(this,Si,void 0),li(this,ki,void 0),li(this,Ti,void 0),hi(vi,this,new Image),ui(vi,this).src=e.sourceFileUrl,hi(bi,this,e),hi(wi,this,t),hi(_i,this,n),hi(xi,this,r),hi(Si,this,i),hi(ki,this,o),hi(Ti,this,a||[]),1==fi.ignoreScaleMisalignmentErrors||ui(Si,this)%ui(wi,this)==0&&ui(ki,this)%ui(wi,this)==0||console.warn("Scale misalignment: one or both window dimensions [".concat(ui(Si,this),", ").concat(ui(ki,this),"] are not multiples of tile scale ").concat(t,". Artifacts may occur on the right and bottom edges as a result, especially if the sprite map includes transparency. To ignore this warning, set ChocoWinSettings.ignoreScaleMisalignmentErrors = true"))}isReady(){return new Promise(e=>{ui(vi,this).onload=()=>{e()},ui(vi,this).complete&&e()})}drawTo(e){const t=e.imageSmoothingEnabled;e.imageSmoothingEnabled=!1,ci(Ci,this,Pi).call(this,e),e.imageSmoothingEnabled=t}substituteColor(e,t){return ui(Ti,this)[e]=new di(t),this}hasColorSubstitutions(){return Object.keys(ui(Ti,this)).length>0}}function Oi(e,t,n,r,i,o,a,s){var l;let c=t*ui(wi,this),u=t*ui(wi,this),h=t,f=t;const d=ui(vi,this);if(1!=a&&i+c>ui(Si,this)-c){const e=ui(Si,this)-c-i,t=Math.ceil(e/ui(wi,this));1!=fi.ignoreScaleMisalignmentErrors&&t!=Math.floor(e/ui(wi,this))&&console.warn("Scale horizontal misalignment: cannot trim precisely at {".concat(i,", ").concat(o,"}; drawing desination tile size ").concat(c," will horizontally overrun right edge/corner tiles at x=").concat(ui(Si,this)-c,"; draw ").concat(t," source tile pixels where ").concat(e," destination pixels should be drawn.")),h=t,c=h*ui(wi,this)}if(1!=s&&o+u>ui(ki,this)-u){const e=ui(ki,this)-u-o,t=Math.ceil(e/ui(wi,this));1!=fi.ignoreScaleMisalignmentErrors&&t!=Math.floor(e/ui(wi,this))&&console.warn("Scale vertical misalignment: cannot trim precisely at {".concat(i,", ").concat(o,"}; drawing desination tile size ").concat(u," will vertically overrun right edge/corner tiles at y=").concat(ui(ki,this)-u,"; draw ").concat(t," source tile pixels where ").concat(e," destination pixels should be drawn.")),f=t,u=f*ui(wi,this)}const p=ui(_i,this)+i;if(e.drawImage(d,n,r,h,f,p,ui(xi,this)+o,c,u),this.hasColorSubstitutions()&&null!==(l=ui(bi,this).substitutableColors)&&void 0!==l&&l.length){const t=e.getImageData(p,ui(xi,this)+o,c,u),n=t.data;for(const e of Object.entries(ui(Ti,this))){const t=e[0],r=e[1],i=ui(bi,this).substitutableColors[t];if(!(t<0)&&!(t>=ui(bi,this).substitutableColors.length))for(let e=0;e<n.length;e+=4){const t=(e,t,n,r,i,o)=>{const a=t-e,s=r-n,l=o-i;return Math.sqrt(.33*a*a+.33*s*s+.33*l*l)<2};t(n[e],i.r,n[e+1],i.g,n[e+2],i.b)&&(n[e]=r.r,n[e+1]=r.g,n[e+2]=r.b)}}e.putImageData(t,p,ui(xi,this)+o)}}function Pi(e){const t=ui(bi,this),n=t.tileSize,r=n*ui(wi,this);if(0!=n){for(let i=r,o=0;i<ui(ki,this)-r;i+=r,o=(o+1)%t.patternRows.length){t.patternRows[o];for(let a=r,s=0;a<ui(Si,this)-r;a+=r,s=(s+1)%t.patternRows[o].length){let r=t.patternRows[o][s];ci(Ci,this,Oi).call(this,e,n,r.x,r.y,a,i)}}for(let i=r,o=0;i<ui(Si,this)-r;i+=r,o=(o+1)%t.edges.T.length){let r=t.edges.T[o];ci(Ci,this,Oi).call(this,e,n,r.x,r.y,i,0,!1,!1)}for(let i=r,o=0;i<ui(Si,this)-r;i+=r,o=(o+1)%t.edges.B.length){let a=t.edges.B[o];ci(Ci,this,Oi).call(this,e,n,a.x,a.y,i,ui(ki,this)-r,!1,!0)}for(let i=r,o=0;i<ui(ki,this)-r;i+=r,o=(o+1)%t.edges.L.length){let r=t.edges.L[o];ci(Ci,this,Oi).call(this,e,n,r.x,r.y,0,i,!1,!1)}for(let i=r,o=0;i<ui(ki,this)-r;i+=r,o=(o+1)%t.edges.R.length){let a=t.edges.R[o];ci(Ci,this,Oi).call(this,e,n,a.x,a.y,ui(Si,this)-r,i,!0,!1)}ci(Ci,this,Oi).call(this,e,n,t.corners.TL.x,t.corners.TL.y,0,0,!1,!1),ci(Ci,this,Oi).call(this,e,n,t.corners.TR.x,t.corners.TR.y,ui(Si,this)-r,0,!0,!1),ci(Ci,this,Oi).call(this,e,n,t.corners.BL.x,t.corners.BL.y,0,ui(ki,this)-r,!1,!0),ci(Ci,this,Oi).call(this,e,n,t.corners.BR.x,t.corners.BR.y,ui(Si,this)-r,ui(ki,this)-r,!0,!0)}else console.error("tile size cannot be zero")}var Ai=ai("map"),ji=ai("pngBase64DataUrlToBlob");class Di{constructor(){Object.defineProperty(this,Ai,{writable:!0,value:void 0}),ii(this,Ai)[Ai]=new Map}has(e){return ii(this,Ai)[Ai].has(String(e))}get(e){var t;return null!==(t=ii(this,Ai)[Ai].get(String(e)))&&void 0!==t?t:null}setBlob(e,t){const n=URL.createObjectURL(t);ii(this,Ai)[Ai].set(e,n)}setDataUrl(e,t){const n=this.get(e);n&&URL.revokeObjectURL(n);const r=ii(Di,ji)[ji](t),i=URL.createObjectURL(r);ii(this,Ai)[Ai].set(e,i)}}Object.defineProperty(Di,ji,{value:function(e){const[t,n,r,i]=e.split(/[:,;]/);if(!i||"base64"!=r||"image/png"!=n||"data"!=t)return console.warn("Got unexpected data url (truncated): ".concat(null===i||void 0===i?void 0:i.substring(0,30),":")),null;const o=atob(i),a=[];for(let s=0;s<o.length;s+=512){const e=o.slice(s,s+512),t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);const n=new Uint8Array(t);a.push(n)}return new Blob(a,{type:"image/png;base64"})}});class Mi{constructor(e){e?(this.id=e.id,this.name=e.name,this.attribution=e.attribution,this.imageDataUrl=e.imageDataUrl):(this.id=crypto.randomUUID(),this.name="",this.attribution="",this.imageDataUrl=null)}}const Li=Object.freeze({TOP_LEFT:"TOP_LEFT",TOP:"TOP",TOP_RIGHT:"TOP_RIGHT",LEFT:"LEFT",CENTER:"CENTER",RIGHT:"RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM:"BOTTOM",BOTTOM_RIGHT:"BOTTOM_RIGHT"});class Ii{constructor(e){e?(this.width=e.width,this.height=e.height,this.tileSheetPositions=e.tileSheetPositions.map(e=>e.map(e=>{var t,n;return{x:null!==(t=null===e||void 0===e?void 0:e.x)&&void 0!==t?t:null,y:null!==(n=null===e||void 0===e?void 0:e.y)&&void 0!==n?n:null}}))):(this.width=1,this.height=1,this.tileSheetPositions=[[{x:null,y:null}]])}}class Ri{constructor(e){var t;e?(this.id=e.id,this.name=e.name,this.tileSheetId=e.tileSheetId,this.tileSize=e.tileSize,this.regions={},this.regions[Li.TOP_LEFT]=new Ii(e.regions[Li.TOP_LEFT]),this.regions[Li.TOP]=new Ii(e.regions[Li.TOP]),this.regions[Li.TOP_RIGHT]=new Ii(e.regions[Li.TOP_RIGHT]),this.regions[Li.LEFT]=new Ii(e.regions[Li.LEFT]),this.regions[Li.CENTER]=new Ii(e.regions[Li.CENTER]),this.regions[Li.RIGHT]=new Ii(e.regions[Li.RIGHT]),this.regions[Li.BOTTOM_LEFT]=new Ii(e.regions[Li.BOTTOM_LEFT]),this.regions[Li.BOTTOM]=new Ii(e.regions[Li.BOTTOM]),this.regions[Li.BOTTOM_RIGHT]=new Ii(e.regions[Li.BOTTOM_RIGHT]),this.defaultColors=null===e||void 0===e||null===(t=e.defaultColors)||void 0===t?void 0:t.map(e=>new di(e))):(this.id=crypto.randomUUID(),this.name="",this.tileSheetId="",this.tileSize=8,this.regions={},this.defaultColors=[],this.regions[Li.TOP_LEFT]=new Ii,this.regions[Li.TOP]=new Ii,this.regions[Li.TOP_RIGHT]=new Ii,this.regions[Li.LEFT]=new Ii,this.regions[Li.CENTER]=new Ii,this.regions[Li.RIGHT]=new Ii,this.regions[Li.BOTTOM_LEFT]=new Ii,this.regions[Li.BOTTOM]=new Ii,this.regions[Li.BOTTOM_RIGHT]=new Ii)}toChocoWinTileSet(e){var t,n;return new yi({id:"00000000-0000-0000-0000-000000000000",name:"Preview",sourceFileUrl:e,tileSize:this.tileSize,corners:{TL:{x:this.regions[Li.TOP_LEFT].tileSheetPositions[0][0].x,y:this.regions[Li.TOP_LEFT].tileSheetPositions[0][0].y},TR:{x:this.regions[Li.TOP_RIGHT].tileSheetPositions[0][0].x,y:this.regions[Li.TOP_RIGHT].tileSheetPositions[0][0].y},BL:{x:this.regions[Li.BOTTOM_LEFT].tileSheetPositions[0][0].x,y:this.regions[Li.BOTTOM_LEFT].tileSheetPositions[0][0].y},BR:{x:this.regions[Li.BOTTOM_RIGHT].tileSheetPositions[0][0].x,y:this.regions[Li.BOTTOM_RIGHT].tileSheetPositions[0][0].y}},edges:{T:this.regions[Li.TOP].tileSheetPositions[0].map(e=>({x:e.x,y:e.y})),B:this.regions[Li.BOTTOM].tileSheetPositions[0].map(e=>({x:e.x,y:e.y})),L:this.regions[Li.LEFT].tileSheetPositions.map(e=>({x:e[0].x,y:e[0].y})),R:this.regions[Li.RIGHT].tileSheetPositions.map(e=>({x:e[0].x,y:e[0].y}))},patternRows:this.regions[Li.CENTER].tileSheetPositions.map(e=>e.map(e=>({x:e.x,y:e.y}))),substitutableColors:null!==(t=null===(n=this.defaultColors)||void 0===n?void 0:n.map(e=>new di(e)))&&void 0!==t?t:[]})}}class Ni{constructor(e){var t;e?(this.name=e.name,this.id=e.id,this.tileSetDefinitionId=e.tileSetDefinitionId,this.tileScale=e.tileScale,this.substituteColors=(null===e||void 0===e||null===(t=e.substituteColors)||void 0===t?void 0:t.map(e=>new di(e)))||[]):(this.name="",this.id=String(crypto.randomUUID()),this.tileSetDefinitionId=null,this.tileScale=1,this.substituteColors=[])}}class Fi{constructor(e){e?(this.name=e.name,this.id=e.id,this.windowIds=(e.windowIds||[]).slice()):(this.name="",this.id=String(crypto.randomUUID()),this.windowIds=[])}}class zi{constructor(e){e?(this.name=e.name,this.id=e.id,this.presetId=e.presetId,this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h,this.singularPreset=e.singularPreset&&new Ni(e.singularPreset)):(this.name="",this.id=String(crypto.randomUUID()),this.presetId=null,this.x=40,this.y=30,this.h=480,this.w=640,this.singularPreset=null)}}class Bi{constructor(e){e?(this.name=e.name,this.id=e.id):(this.name="",this.id=String(crypto.randomUUID()))}}class Ui{constructor(e){e?(this.workspaceName=e.workspaceName,this.id=e.id,this.width=e.width,this.height=e.height,this.tileSheets=e.tileSheets.map(e=>new Mi(e)),this.tileSetDefinitions=e.tileSetDefinitions.map(e=>new Ri(e)),this.tileSets=e.tileSets.map(e=>new yi(e)),this.presets=e.presets.map(e=>new Ni(e)),this.layouts=e.layouts.map(e=>new Fi(e)),this.windows=e.windows.map(e=>new zi(e)),this.variables=e.variables.map(e=>new Bi(e))):(this.workspaceName="",this.id=String(crypto.randomUUID()),this.width=1920,this.height=1080,this.tileSheets=[],this.tileSetDefinitions=[],this.tileSets=[],this.presets=[],this.layouts=[],this.windows=[],this.variables=[])}}class Wi{constructor(e){this.generateLayoutImageDataUrl=(e,t)=>{const n=this.workspace.layouts.find(t=>e==t.id);if(!n)return void console.error("No layout with ID ".concat(e));const r=n.windowIds.map(e=>{const t=this.workspace.windows.find(t=>e==t.id);if(!t)return void console.error("No window with ID ".concat(e,"."));const n=t.singularPreset||this.workspace.presets.find(e=>e.id==t.presetId);if(!n)return void console.error("No singular preset or preset with ID ".concat(t.presetId,"."));const r=this.workspace.tileSetDefinitions.find(e=>e.id==n.tileSetDefinitionId);if(!r)return void console.error("No tile set definition with ID ".concat(n.tileSetDefinitionId,"."));const i=this.workspace.tileSheets.find(e=>e.id==r.tileSheetId);if(!i)return void console.error("No tile sheet with ID ".concat(r.tileSheetId,"."));return new Ei(r.toChocoWinTileSet(i.imageDataUrl),n.tileScale,t.x,t.y,t.w,t.h,n.substituteColors)});Promise.all(r.map(e=>e.isReady())).then(()=>{const e=document.createElement("canvas"),n=e.getContext("2d");e.width=this.workspace.width,e.height=this.workspace.height,r.forEach(e=>e.drawTo(n));const i=e.toDataURL("image/png",10);t&&t(i)})},this.workspace=new Ui(e)}}const Hi=t=>{let{onGearClick:n,onSelectLayoutClick:r,onDownloadPngClick:i}=t;const o=Object.freeze({LEFT:"LEFT",RIGHT:"RIGHT",CENTER:"CENTER",OPEN:"OPEN"}),[a,s]=(0,e.useState)(o.CENTER),[l,c]=(0,e.useState)(o.CENTER),u=()=>{a==o.LEFT||(a==o.CENTER?s(o.LEFT):(o.RIGHT,s(o.CENTER)))},h=()=>{a==o.LEFT?s(o.CENTER):a==o.CENTER?s(o.RIGHT):a==o.RIGHT||s(o.CENTER)},f=()=>{c(a),s(o.OPEN)};return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("div",{id:"center-settings-container",className:"".concat(a==o.CENTER||"hidden"," top-0 ml-auto mr-auto w-[5em] bg-gray-500 opacity-50 rounded-b-lg relative z-20 text-black dark:text-white hover:opacity-75"),children:[(0,or.jsx)("button",{onClick:u,className:"m-1 absolute left-0 text-xl opacity-75 hover:opacity-100",children:(0,or.jsx)(Wr,{icon:Kr})}),(0,or.jsx)("button",{onClick:h,className:"m-1 absolute right-0 text-xl opacity-75 hover:opacity-100",children:(0,or.jsx)(Wr,{icon:Qr})}),(0,or.jsx)("div",{className:"text-center",children:(0,or.jsx)("button",{onClick:f,className:"text-xl m-1 opacity-75 hover:opacity-100",children:(0,or.jsx)(Wr,{icon:Gr})})})]}),(0,or.jsxs)("div",{id:"left-settings-container",className:"".concat(a==o.LEFT||"hidden"," top-0 left-0 w-[4em] bg-gray-500 opacity-25 rounded-b-lg absolute z-20 text-black dark:text-white hover:opacity-75"),children:[(0,or.jsx)("button",{onClick:h,className:"m-1 absolute right-0 text-xl opacity-75 hover:opacity-100",children:(0,or.jsx)(Wr,{icon:Qr})}),(0,or.jsx)("div",{className:"text-left",children:(0,or.jsx)("button",{onClick:f,className:"text-xl m-1 opacity-75 hover:opacity-100",children:(0,or.jsx)(Wr,{icon:Gr})})})]}),(0,or.jsxs)("div",{id:"right-settings-container",className:"".concat(a==o.RIGHT||"hidden"," top-0 right-0 w-[4em] bg-gray-500 opacity-25 rounded-b-lg absolute z-20 text-black dark:text-white hover:opacity-75"),children:[(0,or.jsx)("button",{onClick:u,className:"m-1 absolute left-0 text-xl opacity-75 hover:opacity-100",children:(0,or.jsx)(Wr,{icon:Kr})}),(0,or.jsx)("div",{className:"text-right",children:(0,or.jsx)("button",{onClick:f,className:"text-xl m-1 opacity-75 hover:opacity-100",children:(0,or.jsx)(Wr,{icon:Gr})})})]}),(0,or.jsx)("div",{id:"settings-tray",className:"".concat(a==o.OPEN||"hidden"," text-center top-0 ml-auto mr-auto w-[45em] bg-gray-500 opacity-75 rounded-b-lg relative z-20 text-black dark:text-white"),children:(0,or.jsxs)("div",{className:"flex justify-around items-center w-full p-2",children:[(0,or.jsxs)("button",{className:"flex flex-col items-center ml-2 w-[12em]",onClick:n,children:[(0,or.jsx)(Wr,{className:"text-3xl",icon:qr}),(0,or.jsx)("div",{children:"Configuration"})]}),(0,or.jsxs)("button",{className:"flex flex-col items-center w-[12em]",onClick:r,children:[(0,or.jsx)(Wr,{className:"text-3xl",icon:Yr}),(0,or.jsx)("div",{children:"Select Layout"})]}),(0,or.jsxs)("button",{className:"flex flex-col items-center mr-2 w-[12em]",children:[(0,or.jsx)(Wr,{className:"text-3xl",icon:ei,onClick:i}),(0,or.jsx)("div",{children:"Download Layout PNG"})]}),(0,or.jsxs)("button",{className:"flex flex-col items-center mr-2 w-[12em]",onClick:()=>{s(l)},children:[(0,or.jsx)(Wr,{className:"text-3xl",icon:ni}),(0,or.jsx)("div",{children:"Close Menu"})]})]})})]})},Yi="w-full block rounded-lg border dark:border-none dark:bg-gray-800 py-[9px] px-3 text-sm focus:border-blue-400 focus:ring-1 focus:ring-blue-400 focus:outline-none";var Vi,Gi,Xi,qi,Zi,Ki,$i,Qi,Ji,eo;const to=["objects"],no=["translateX","translateY","scaleX","scaleY"],ro=["startValue","endValue"],io=["startValue","endValue"],oo=["startValue","endValue","easing","onChange","onComplete","abort"],ao=["type"],so=["extraParam"],lo=["target","ex","ey","skewingSide"],co=["left","top","width","height","visible"],uo=["strategy"],ho=["target","strategy","bubbles","prevStrategy"],fo=["type","objects","layoutManager"],po=["target","oldTarget","fireCanvas","e"],go=["type","source","patternTransform"],mo=["path","left","top"],yo=["d"],vo=["left","top","radius"],bo=["x1","y1","x2","y2"],wo=["x1","y1","x2","y2"],_o=["left","top"],xo=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],So=["filters","resizeFilter","src","crossOrigin","type"],ko=["type"],To=["type"],Co=["type","image"];function Eo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Oo{constructor(){Eo(this,"browserShadowBlurConstant",1),Eo(this,"DPI",96),Eo(this,"devicePixelRatio","undefined"!=typeof window?window.devicePixelRatio:1),Eo(this,"perfLimitSizeTotal",2097152),Eo(this,"maxCacheSideLimit",4096),Eo(this,"minCacheSideLimit",256),Eo(this,"disableStyleCopyPaste",!1),Eo(this,"enableGLFiltering",!0),Eo(this,"textureSize",4096),Eo(this,"forceGLPutImageData",!1),Eo(this,"cachesBoundsOfCurve",!1),Eo(this,"fontPaths",{}),Eo(this,"NUM_FRACTION_DIGITS",4)}}const Po=new class extends Oo{constructor(e){super(),this.configure(e)}configure(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this,e)}addFonts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fontPaths=l(l({},this.fontPaths),e)}removeFonts(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(e=>{delete this.fontPaths[e]})}clearFonts(){this.fontPaths={}}restoreDefaults(e){const t=new Oo,n=(null==e?void 0:e.reduce((e,n)=>(e[n]=t[n],e),{}))||t;this.configure(n)}},Ao=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return console[e]("fabric",...n)};class jo extends Error{constructor(e,t){super("fabric: ".concat(e),t)}}class Do extends jo{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}}class Mo{}class Lo extends Mo{testPrecision(e,t){const n="precision ".concat(t," float;\nvoid main(){}"),r=e.createShader(e.FRAGMENT_SHADER);return!!r&&(e.shaderSource(r,n),e.compileShader(r),!!e.getShaderParameter(r,e.COMPILE_STATUS))}queryWebGL(e){const t=e.getContext("webgl");t&&(this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(e=>this.testPrecision(t,e)),t.getExtension("WEBGL_lose_context").loseContext(),Ao("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}}const Io={};let Ro;const No=()=>Ro||(Ro={document:document,window:window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Lo,dispose(){},copyPasteData:Io}),Fo=()=>No().document,zo=()=>No().window,Bo=()=>{var e;return Math.max(null!==(e=Po.devicePixelRatio)&&void 0!==e?e:zo().devicePixelRatio,1)},Uo=new class{constructor(){Eo(this,"boundsOfCurveCache",{}),this.charWidthsCache=new Map}getFontCache(e){let{fontFamily:t,fontStyle:n,fontWeight:r}=e;t=t.toLowerCase();const i=this.charWidthsCache;i.has(t)||i.set(t,new Map);const o=i.get(t),a="".concat(n.toLowerCase(),"_").concat((r+"").toLowerCase());return o.has(a)||o.set(a,new Map),o.get(a)}clearFontCache(e){e?this.charWidthsCache.delete((e||"").toLowerCase()):this.charWidthsCache=new Map}limitDimsByArea(e){const{perfLimitSizeTotal:t}=Po,n=Math.sqrt(t*e);return[Math.floor(n),Math.floor(t/n)]}},Wo="7.1.0";function Ho(){}const Yo=Math.PI/2,Vo=Math.PI/4,Go=2*Math.PI,Xo=Math.PI/180,qo=Object.freeze([1,0,0,1,0,0]),Zo=16,Ko=.4477152502,$o="center",Qo="left",Jo="top",ea="bottom",ta="right",na="none",ra=/\r?\n/,ia="moving",oa="scaling",aa="rotating",sa="rotate",la="skewing",ca="resizing",ua="modifyPoly",ha="modifyPath",fa="changed",da="scale",pa="scaleX",ga="scaleY",ma="skewX",ya="skewY",va="fill",ba="stroke",wa="modified",_a="ltr",xa="rtl",Sa="normal",ka="json",Ta="svg",Ca=new class{constructor(){this[ka]=new Map,this[Ta]=new Map}has(e){return this[ka].has(e)}getClass(e){const t=this[ka].get(e);if(!t)throw new jo("No class registered for ".concat(e));return t}setClass(e,t){t?this[ka].set(t,e):(this[ka].set(e.type,e),this[ka].set(e.type.toLowerCase(),e))}getSVGClass(e){return this[Ta].get(e)}setSVGClass(e,t){this[Ta].set(null!=t?t:e.type.toLowerCase(),e)}},Ea=new class extends Array{remove(e){const t=this.indexOf(e);t>-1&&this.splice(t,1)}cancelAll(){const e=this.splice(0);return e.forEach(e=>e.abort()),e}cancelByCanvas(e){if(!e)return[];const t=this.filter(t=>{var n;return t.target===e||"object"==typeof t.target&&(null===(n=t.target)||void 0===n?void 0:n.canvas)===e});return t.forEach(e=>e.abort()),t}cancelByTarget(e){if(!e)return[];const t=this.filter(t=>t.target===e);return t.forEach(e=>e.abort()),t}};class Oa{constructor(){Eo(this,"__eventListeners",{})}on(e,t){if(this.__eventListeners||(this.__eventListeners={}),"object"==typeof e)return Object.entries(e).forEach(e=>{let[t,n]=e;this.on(t,n)}),()=>this.off(e);if(t){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(t),()=>this.off(n,t)}return()=>!1}once(e,t){if("object"==typeof e){const t=[];return Object.entries(e).forEach(e=>{let[n,r]=e;t.push(this.once(n,r))}),()=>t.forEach(e=>e())}if(t){const n=this.on(e,function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.call(this,...r),n()});return n}return()=>!1}_removeEventListener(e,t){if(this.__eventListeners[e])if(t){const n=this.__eventListeners[e],r=n.indexOf(t);r>-1&&n.splice(r,1)}else this.__eventListeners[e]=[]}off(e,t){if(this.__eventListeners)if(void 0===e)for(const n in this.__eventListeners)this._removeEventListener(n);else"object"==typeof e?Object.entries(e).forEach(e=>{let[t,n]=e;this._removeEventListener(t,n)}):this._removeEventListener(e,t)}fire(e,t){var n;if(!this.__eventListeners)return;const r=null===(n=this.__eventListeners[e])||void 0===n?void 0:n.concat();if(r)for(let i=0;i<r.length;i++)r[i].call(this,t||{})}}const Pa=(e,t)=>{const n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},Aa=e=>{if(0===e)return 1;switch(Math.abs(e)/Yo){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},ja=e=>{if(0===e)return 0;const t=e/Yo,n=Math.sign(e);switch(t){case 1:return n;case 2:return 0;case 3:return-n}return Math.sin(e)};class Da{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"object"==typeof e?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t)}add(e){return new Da(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new Da(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new Da(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new Da(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new Da(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new Da(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new Da(this.x/e.x,this.y/e.y)}scalarDivide(e){return new Da(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return t=Math.max(Math.min(1,t),0),new Da(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)}distanceFrom(e){const t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new Da(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new Da(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,t){return this.x=e,this.y=t,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n}clone(){return new Da(this.x,this.y)}rotate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma;const n=ja(e),r=Aa(e),i=this.subtract(t);return new Da(i.x*r-i.y*n,i.x*n+i.y*r).add(t)}transform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Da(e[0]*this.x+e[2]*this.y+(t?0:e[4]),e[1]*this.x+e[3]*this.y+(t?0:e[5]))}}const Ma=new Da(0,0),La=e=>!!e&&Array.isArray(e._objects);function Ia(e){class t extends e{constructor(){super(...arguments),Eo(this,"_objects",[])}_onObjectAdded(e){}_onObjectRemoved(e){}_onStackOrderChanged(e){}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=this._objects.push(...t);return t.forEach(e=>this._onObjectAdded(e)),r}insertAt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._objects.splice(e,0,...n),n.forEach(e=>this._onObjectAdded(e)),this._objects.length}remove(){const e=this._objects,t=[];for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach(n=>{const r=e.indexOf(n);-1!==r&&(e.splice(r,1),t.push(n),this._onObjectRemoved(n))}),t}forEachObject(e){this.getObjects().forEach((t,n,r)=>e(t,n,r))}getObjects(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?[...this._objects]:this._objects.filter(e=>e.isType(...t))}item(e){return this._objects[e]}isEmpty(){return 0===this._objects.length}size(){return this._objects.length}contains(e,n){return!!this._objects.includes(e)||!!n&&this._objects.some(n=>n instanceof t&&n.contains(e,!0))}complexity(){return this._objects.reduce((e,t)=>e+(t.complexity?t.complexity():0),0)}sendObjectToBack(e){return!(!e||e===this._objects[0])&&(Pa(this._objects,e),this._objects.unshift(e),this._onStackOrderChanged(e),!0)}bringObjectToFront(e){return!(!e||e===this._objects[this._objects.length-1])&&(Pa(this._objects,e),this._objects.push(e),this._onStackOrderChanged(e),!0)}sendObjectBackwards(e,t){if(!e)return!1;const n=this._objects.indexOf(e);if(0!==n){const r=this.findNewLowerIndex(e,n,t);return Pa(this._objects,e),this._objects.splice(r,0,e),this._onStackOrderChanged(e),!0}return!1}bringObjectForward(e,t){if(!e)return!1;const n=this._objects.indexOf(e);if(n!==this._objects.length-1){const r=this.findNewUpperIndex(e,n,t);return Pa(this._objects,e),this._objects.splice(r,0,e),this._onStackOrderChanged(e),!0}return!1}moveObjectTo(e,t){return e!==this._objects[t]&&(Pa(this._objects,e),this._objects.splice(t,0,e),this._onStackOrderChanged(e),!0)}findNewLowerIndex(e,t,n){let r;if(n){r=t;for(let n=t-1;n>=0;--n)if(e.isOverlapping(this._objects[n])){r=n;break}}else r=t-1;return r}findNewUpperIndex(e,t,n){let r;if(n){r=t;for(let n=t+1;n<this._objects.length;++n)if(e.isOverlapping(this._objects[n])){r=n;break}}else r=t+1;return r}collectObjects(e){let{left:t,top:n,width:r,height:i}=e,{includeIntersecting:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=[],s=new Da(t,n),l=s.add(new Da(r,i));for(let c=this._objects.length-1;c>=0;c--){const e=this._objects[c];e.selectable&&e.visible&&(o&&e.intersectsWithRect(s,l)||e.isContainedWithinRect(s,l)||o&&e.containsPoint(s)||o&&e.containsPoint(l))&&a.push(e)}return a}}return t}class Ra extends Oa{_setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(const t in e)this.set(t,e[t])}_setObject(e){for(const t in e)this._set(t,e[t])}set(e,t){return"object"==typeof e?this._setObject(e):this._set(e,t),this}_set(e,t){this[e]=t}toggle(e){const t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this}get(e){return this[e]}}function Na(e){return zo().requestAnimationFrame(e)}function Fa(e){return zo().cancelAnimationFrame(e)}let za=0;const Ba=()=>za++,Ua=()=>{const e=Fo().createElement("canvas");if(!e||void 0===e.getContext)throw new jo("Failed to create `canvas` element");return e},Wa=()=>Fo().createElement("img"),Ha=e=>{const t=Ua();return t.width=e.width,t.height=e.height,t},Ya=(e,t,n)=>e.toDataURL("image/".concat(t),n),Va=(e,t,n)=>new Promise((r,i)=>{e.toBlob(r,"image/".concat(t),n)}),Ga=e=>e*Xo,Xa=e=>e/Xo,qa=e=>e.every((e,t)=>e===qo[t]),Za=(e,t,n)=>new Da(e).transform(t,n),Ka=e=>{const t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0],0,0],{x:r,y:i}=new Da(e[4],e[5]).transform(n,!0);return n[4]=-r,n[5]=-i,n},$a=(e,t,n)=>[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]],Qa=(e,t)=>e.reduceRight((e,n)=>n&&e?$a(n,e,t):n||e,void 0)||qo.concat(),Ja=e=>{let[t,n]=e;return Math.atan2(n,t)},es=e=>{const t=Ja(e),n=Math.pow(e[0],2)+Math.pow(e[1],2),r=Math.sqrt(n),i=(e[0]*e[3]-e[2]*e[1])/r,o=Math.atan2(e[0]*e[2]+e[1]*e[3],n);return{angle:Xa(t),scaleX:r,scaleY:i,skewX:Xa(o),skewY:0,translateX:e[4]||0,translateY:e[5]||0}},ts=function(e){return[1,0,0,1,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]};function ns(){let{angle:e=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{x:t=0,y:n=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Ga(e),i=Aa(r),o=ja(r);return[i,o,-o,i,t?t-(i*t-o*n):0,n?n-(o*t+i*n):0]}const rs=function(e){return[e,0,0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,0,0]},is=e=>Math.tan(Ga(e)),os=e=>[1,0,is(e),1,0,0],as=e=>[1,is(e),0,1,0,0],ss=e=>{let{scaleX:t=1,scaleY:n=1,flipX:r=!1,flipY:i=!1,skewX:o=0,skewY:a=0}=e,s=rs(r?-t:t,i?-n:n);return o&&(s=$a(s,os(o),!0)),a&&(s=$a(s,as(a),!0)),s},ls=e=>{const{translateX:t=0,translateY:n=0,angle:r=0}=e;let i=ts(t,n);r&&(i=$a(i,ns({angle:r})));const o=ss(e);return qa(o)||(i=$a(i,o)),i},cs=function(e){let{signal:t,crossOrigin:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r,i){if(t&&t.aborted)return i(new Do("loadImage"));const o=Wa();let a;t&&(a=function(e){o.src="",i(e)},t.addEventListener("abort",a,{once:!0}));const s=function(){o.onload=o.onerror=null,a&&(null==t||t.removeEventListener("abort",a)),r(o)};e?(o.onload=s,o.onerror=function(){a&&(null==t||t.removeEventListener("abort",a)),i(new jo("Error loading ".concat(o.src)))},n&&(o.crossOrigin=n),o.src=e):s()})},us=function(e){let{signal:t,reviver:n=Ho}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,i)=>{const o=[];t&&t.addEventListener("abort",i,{once:!0}),Promise.all(e.map(e=>Ca.getClass(e.type).fromObject(e,{signal:t}).then(t=>(n(e,t),o.push(t),t)))).then(r).catch(e=>{o.forEach(e=>{e.dispose&&e.dispose()}),i(e)}).finally(()=>{t&&t.removeEventListener("abort",i)})})},hs=function(e){let{signal:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((n,r)=>{const i=[];t&&t.addEventListener("abort",r,{once:!0});const o=Object.values(e).map(e=>e&&e.type&&Ca.has(e.type)?us([e],{signal:t}).then(e=>{let[t]=e;return i.push(t),t}):e),a=Object.keys(e);Promise.all(o).then(e=>e.reduce((e,t,n)=>(e[a[n]]=t,e),{})).then(n).catch(e=>{i.forEach(e=>{e.dispose&&e.dispose()}),r(e)}).finally(()=>{t&&t.removeEventListener("abort",r)})})},fs=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce((t,n)=>(n in e&&(t[n]=e[n]),t),{})},ds=(e,t)=>Object.keys(e).reduce((n,r)=>(t(e[r],r,e)&&(n[r]=e[r]),n),{}),ps=(e,t)=>parseFloat(Number(e).toFixed(t)),gs=e=>"matrix("+e.map(e=>ps(e,Po.NUM_FRACTION_DIGITS)).join(" ")+")",ms=e=>!!e&&void 0!==e.toLive,ys=e=>!!e&&"function"==typeof e.toObject,vs=e=>!!e&&void 0!==e.offsetX&&"source"in e,bs=e=>!!e&&"multiSelectionStacking"in e;function ws(e){const t=e&&_s(e);let n=0,r=0;if(!e||!t)return{left:n,top:r};let i=e;const o=t.documentElement,a=t.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===t?(n=a.scrollLeft||o.scrollLeft||0,r=a.scrollTop||o.scrollTop||0):(n+=i.scrollLeft||0,r+=i.scrollTop||0),1!==i.nodeType||"fixed"!==i.style.position););return{left:n,top:r}}const _s=e=>e.ownerDocument||null,xs=e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null},Ss=function(e,t,n){let{width:r,height:i}=n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e.width=r,e.height=i,o>1&&(e.setAttribute("width",(r*o).toString()),e.setAttribute("height",(i*o).toString()),t.scale(o,o))},ks=(e,t)=>{let{width:n,height:r}=t;n&&(e.style.width="number"==typeof n?"".concat(n,"px"):n),r&&(e.style.height="number"==typeof r?"".concat(r,"px"):r)};function Ts(e){return void 0!==e.onselectstart&&(e.onselectstart=()=>!1),e.style.userSelect=na,e}class Cs{constructor(e){Eo(this,"_originalCanvasStyle",void 0),Eo(this,"lower",void 0);const t=this.createLowerCanvas(e);this.lower={el:t,ctx:t.getContext("2d")}}createLowerCanvas(e){const t=(n=e)&&void 0!==n.getContext?e:e&&Fo().getElementById(e)||Ua();var n;if(t.hasAttribute("data-fabric"))throw new jo("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=t.style.cssText,t.setAttribute("data-fabric","main"),t.classList.add("lower-canvas"),t}cleanupDOM(e){let{width:t,height:n}=e;const{el:r}=this.lower;r.classList.remove("lower-canvas"),r.removeAttribute("data-fabric"),r.setAttribute("width","".concat(t)),r.setAttribute("height","".concat(n)),r.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,t){const{el:n,ctx:r}=this.lower;Ss(n,r,e,t)}setCSSDimensions(e){ks(this.lower.el,e)}calcOffset(){return function(e){var t;const n=e&&_s(e),r={left:0,top:0};if(!n)return r;const i=(null===(t=xs(e))||void 0===t?void 0:t.getComputedStyle(e,null))||{};r.left+=parseInt(i.borderLeftWidth,10)||0,r.top+=parseInt(i.borderTopWidth,10)||0,r.left+=parseInt(i.paddingLeft,10)||0,r.top+=parseInt(i.paddingTop,10)||0;let o={left:0,top:0};const a=n.documentElement;void 0!==e.getBoundingClientRect&&(o=e.getBoundingClientRect());const s=ws(e);return{left:o.left+s.left-(a.clientLeft||0)+r.left,top:o.top+s.top-(a.clientTop||0)+r.top}}(this.lower.el)}dispose(){No().dispose(this.lower.el),delete this.lower}}const Es={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...qo],patternQuality:"best"};class Os extends(Ia(Ra)){get lowerCanvasEl(){var e;return null===(e=this.elements.lower)||void 0===e?void 0:e.el}get contextContainer(){var e;return null===(e=this.elements.lower)||void 0===e?void 0:e.ctx}static getDefaults(){return Os.ownDefaults}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(t),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new Cs(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),i}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(Ao("warn","Canvas is trying to add an object that belongs to a different canvas.\nResulting to default behavior: removing object from previous canvas and adding to new canvas"),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?Bo():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}_setDimensionsImpl(e){let{cssOnly:t=!1,backstoreOnly:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t){const t=l({width:this.width,height:this.height},e);this.elements.setDimensions(t,this.getRetinaScaling()),this.hasLostContext=!0,this.width=t.width,this.height=t.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,t){this._setDimensionsImpl(e,t),t&&t.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,t){const n=e,r=[...this.viewportTransform],i=Za(e,Ka(r));r[0]=t,r[3]=t;const o=Za(i,r);r[4]+=n.x-o.x,r[5]+=n.y-o.y,this.setViewportTransform(r)}setZoom(e){this.zoomToPoint(new Da(0,0),e)}absolutePan(e){const t=[...this.viewportTransform];return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)}relativePan(e){return this.absolutePan(new Da(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Na(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,t=this.height,n=Ka(this.viewportTransform),r=Za({x:0,y:0},n),i=Za({x:e,y:t},n),o=r.min(i),a=r.max(i);return this.vptCoords={tl:o,tr:new Da(a.x,o.y),bl:new Da(o.x,a.y),br:a}}cancelRequestedRender(){this.nextRenderHandle&&(Fa(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,t){if(this.destroyed)return;const n=this.viewportTransform,r=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality=this.patternQuality,this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),r&&(r._set("canvas",this),r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,r)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,t){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}_renderObjects(e,t){for(let n=0,r=t.length;n<r;++n)t[n]&&t[n].render(e)}_renderBackgroundOrOverlay(e,t){const n=this["".concat(t,"Color")],r=this["".concat(t,"Image")],i=this.viewportTransform,o=this["".concat(t,"Vpt")];if(!n&&!r)return;const a=ms(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=a?n.toLive(e):n,o&&e.transform(...i),a){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const t=n.gradientTransform||n.patternTransform;t&&e.transform(...t)}e.fill(),e.restore()}if(r){e.save();const{skipOffscreen:t}=this;this.skipOffscreen=o,o&&e.transform(...i),r.render(e),this.skipOffscreen=t,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenterPoint(){return new Da(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new Da(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new Da(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new Da(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new Da(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Za(this.getCenterPoint(),Ka(this.viewportTransform))}_centerObject(e,t){e.setXY(t,$o,$o),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,t){const n=this.clipPath,r=n&&!n.excludeFromExport?this._toObject(n,e,t):null;return l(l(l({version:Wo},fs(this,t)),{},{objects:this._objects.filter(e=>!e.excludeFromExport).map(n=>this._toObject(n,e,t))},this.__serializeBgOverlay(e,t)),r?{clipPath:r}:null)}_toObject(e,t,n){let r;this.includeDefaultValues||(r=e.includeDefaultValues,e.includeDefaultValues=!1);const i=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=!!r),i}__serializeBgOverlay(e,t){const n={},r=this.backgroundImage,i=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return ms(o)?o.excludeFromExport||(n.background=o.toObject(t)):o&&(n.background=o),ms(a)?a.excludeFromExport||(n.overlay=a.toObject(t)):a&&(n.overlay=a),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,e,t)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,e,t)),n}toSVG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.reviver=t;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,')" >\n')),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")}_setSVGPreamble(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')}_setSVGHeader(e,t){const n=t.width||"".concat(this.width),r=t.height||"".concat(this.height),i=Po.NUM_FRACTION_DIGITS,o=t.viewBox;let a;if(o)a='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const e=this.viewportTransform;a='viewBox="'.concat(ps(-e[4]/e[0],i)," ").concat(ps(-e[5]/e[3],i)," ").concat(ps(this.width/e[0],i)," ").concat(ps(this.height/e[3],i),'" ')}else a='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',r,'" ',a,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",Wo,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")}createSVGClipPathMarkup(e){const t=this.clipPath;return t?(t.clipPathId="CLIPPATH_".concat(Ba()),'<clipPath id="'.concat(t.clipPathId,'" >\n').concat(t.toClipPathSVG(e.reviver),"</clipPath>\n")):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const t=this["".concat(e,"Color")];if(ms(t)){const n=this["".concat(e,"Vpt")],r=this.viewportTransform,i={isType:()=>!1,width:this.width/(n?r[0]:1),height:this.height/(n?r[3]:1)};return t.toSVG(i,{additionalTransform:n?gs(r):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],t={},n=Po.fontPaths;this._objects.forEach(function t(n){e.push(n),La(n)&&n._objects.forEach(t)}),e.forEach(e=>{if(!(r=e)||"function"!=typeof r._renderText)return;var r;const{styles:i,fontFamily:o}=e;!t[o]&&n[o]&&(t[o]=!0,i&&Object.values(i).forEach(e=>{Object.values(e).forEach(e=>{let{fontFamily:r=""}=e;!t[r]&&n[r]&&(t[r]=!0)})}))});const r=Object.keys(t).map(e=>"\t\t@font-face {\n\t\t\tfont-family: '".concat(e,"';\n\t\t\tsrc: url('").concat(n[e],"');\n\t\t}\n")).join("");return r?'\t<style type="text/css"><![CDATA[\n'.concat(r,"]]></style>\n"):""}_setSVGObjects(e,t){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(e,n,t)})}_setSVGObject(e,t,n){e.push(t.toSVG(n))}_setSVGBgOverlayImage(e,t,n){const r=this[t];r&&!r.excludeFromExport&&r.toSVG&&e.push(r.toSVG(n))}_setSVGBgOverlayColor(e,t){const n=this["".concat(t,"Color")];if(n)if(ms(n)){const r=n.repeat||"",i=this.width,o=this.height,a=this["".concat(t,"Vpt")]?gs(Ka(this.viewportTransform)):"";e.push('<rect transform="'.concat(a," translate(").concat(i/2,",").concat(o/2,')" x="').concat(n.offsetX-i/2,'" y="').concat(n.offsetY-o/2,'" width="').concat("repeat-y"!==r&&"no-repeat"!==r||!vs(n)?i:n.source.width,'" height="').concat("repeat-x"!==r&&"no-repeat"!==r||!vs(n)?o:n.source.height,'" fill="url(#SVGID_').concat(n.id,')"></rect>\n'))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")}loadFromJSON(e,t){let{signal:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return Promise.reject(new jo("`json` is undefined"));const r="string"==typeof e?JSON.parse(e):e,{objects:i=[]}=r,o=c(r,to),{backgroundImage:a,background:s,overlayImage:l,overlay:u,clipPath:h}=o,f=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([us(i,{reviver:t,signal:n}),hs({backgroundImage:a,backgroundColor:s,overlayImage:l,overlayColor:u,clipPath:h},{signal:n})]).then(e=>{let[t,n]=e;return this.clear(),this.add(...t),this.set(o),this.set(n),this.renderOnAddRemove=f,this})}clone(e){const t=this.toObject(e);return this.cloneWithoutData().loadFromJSON(t)}cloneWithoutData(){const e=Ha(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{format:t="png",quality:n=1,multiplier:r=1,enableRetinaScaling:i=!1}=e,o=r*(i?this.getRetinaScaling():1);return Ya(this.toCanvasElement(o,e),t,n)}toBlob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{format:t="png",quality:n=1,multiplier:r=1,enableRetinaScaling:i=!1}=e,o=r*(i?this.getRetinaScaling():1);return Va(this.toCanvasElement(o,e),t,n)}toCanvasElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,{width:t,height:n,left:r,top:i,filter:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(t||this.width)*e,s=(n||this.height)*e,l=this.getZoom(),c=this.width,u=this.height,h=this.skipControlsDrawing,f=l*e,d=this.viewportTransform,p=[f,0,0,f,(d[4]-(r||0))*e,(d[5]-(i||0))*e],g=this.enableRetinaScaling,m=Ha({width:a,height:s}),y=o?this._objects.filter(e=>o(e)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=p,this.width=a,this.height=s,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(m.getContext("2d"),y),this.viewportTransform=d,this.width=c,this.height=u,this.calcViewportBoundaries(),this.enableRetinaScaling=g,this.skipControlsDrawing=h,m}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),Ea.cancelByCanvas(this),this.disposed=!0,new Promise((e,t)=>{const n=()=>{this.destroy(),e(!0)};n.kill=t,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}Eo(Os,"ownDefaults",Es);const Ps=["touchstart","touchmove","touchend"],As=e=>{const t=ws(e.target),n=function(e){const t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return new Da(n.clientX+t.left,n.clientY+t.top)},js=e=>Ps.includes(e.type)||"touch"===e.pointerType,Ds=e=>{e.preventDefault(),e.stopPropagation()},Ms=e=>{let t=0,n=0,r=0,i=0;for(let o=0,a=e.length;o<a;o++){const{x:a,y:s}=e[o];(a>r||!o)&&(r=a),(a<t||!o)&&(t=a),(s>i||!o)&&(i=s),(s<n||!o)&&(n=s)}return{left:t,top:n,width:r-t,height:i-n}},Ls=(e,t)=>Is(e,$a(t,e.calcOwnMatrix())),Is=(e,t)=>{const n=es(t),{translateX:r,translateY:i,scaleX:o,scaleY:a}=n,s=c(n,no),l=new Da(r,i);e.flipX=!1,e.flipY=!1,Object.assign(e,s),e.set({scaleX:o,scaleY:a}),e.setPositionByOrigin(l,$o,$o)},Rs=e=>{e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},Ns=e=>({scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}),Fs=(e,t,n)=>{const r=e/2,i=t/2,o=[new Da(-r,-i),new Da(r,-i),new Da(-r,i),new Da(r,i)].map(e=>e.transform(n)),a=Ms(o);return new Da(a.width,a.height)},zs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qo;return $a(Ka(arguments.length>1&&void 0!==arguments[1]?arguments[1]:qo),e)},Bs=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qo,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qo;return e.transform(zs(t,n))},Us=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qo,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qo;return e.transform(zs(t,n),!0)},Ws=(e,t,n)=>{const r=zs(t,n);return Is(e,$a(r,e.calcOwnMatrix())),r},Hs={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Ys=e=>"string"==typeof e?Hs[e]:e-.5,Vs=new Da(1,0),Gs=new Da,Xs=(e,t)=>e.rotate(t),qs=(e,t)=>new Da(t).subtract(e),Zs=e=>e.distanceFrom(Gs),Ks=(e,t)=>Math.atan2(el(e,t),tl(e,t)),$s=e=>Ks(Vs,e),Qs=e=>e.eq(Gs)?e:e.scalarDivide(Zs(e)),Js=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Qs(new Da(-e.y,e.x).scalarMultiply(t?1:-1))},el=(e,t)=>e.x*t.y-e.y*t.x,tl=(e,t)=>e.x*t.x+e.y*t.y,nl=(e,t,n)=>{if(e.eq(t)||e.eq(n))return!0;const r=el(t,n),i=el(t,e),o=el(n,e);return r>=0?i>=0&&o<=0:!(i<=0&&o>=0)},rl="not-allowed";function il(e){return Ys(e.originX)===Ys($o)&&Ys(e.originY)===Ys($o)}function ol(e){return.5-Ys(e)}const al=(e,t)=>e[t],sl=(e,t,n,r)=>({e:e,transform:t,pointer:new Da(n,r)});function ll(e,t,n){const r=n,i=Bs(e.getCenterPoint(),e.canvas.viewportTransform,void 0),o=$s(qs(i,r))+Go;return Math.round(o%Go/Vo)}function cl(e,t,n,r,i){var o;let{target:a,corner:s}=e;const l=a.controls[s],c=(null===(o=a.canvas)||void 0===o?void 0:o.getZoom())||1,u=a.padding/c,h=function(e,t,n,r){const i=e.getRelativeCenterPoint(),o=void 0!==n&&void 0!==r?e.translateToGivenOrigin(i,$o,$o,n,r):new Da(e.left,e.top);return(e.angle?t.rotate(-Ga(e.angle),i):t).subtract(o)}(a,new Da(r,i),t,n);return h.x>=u&&(h.x-=u),h.x<=-u&&(h.x+=u),h.y>=u&&(h.y-=u),h.y<=u&&(h.y+=u),h.x-=l.offsetX,h.y-=l.offsetY,h}const ul=e=>e.replace(/\s+/g," "),hl={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},fl=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),dl=(e,t,n,r)=>{e/=255,t/=255,n/=255;const i=Math.max(e,t,n),o=Math.min(e,t,n);let a,s;const l=(i+o)/2;if(i===o)a=s=0;else{const r=i-o;switch(s=l>.5?r/(2-i-o):r/(i+o),i){case e:a=(t-n)/r+(t<n?6:0);break;case t:a=(n-e)/r+2;break;case n:a=(e-t)/r+4}a/=6}return[Math.round(360*a),Math.round(100*s),Math.round(100*l),r]},pl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";return parseFloat(e)/(e.endsWith("%")?100:1)},gl=e=>Math.min(Math.round(e),255).toString(16).toUpperCase().padStart(2,"0"),ml=e=>{let[t,n,r,i=1]=e;const o=Math.round(.3*t+.59*n+.11*r);return[o,o,o,i]};class yl{constructor(e){if(Eo(this,"isUnrecognised",!1),e)if(e instanceof yl)this.setSource([...e._source]);else if(Array.isArray(e)){const[t,n,r,i=1]=e;this.setSource([t,n,r,i])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in hl&&(e=hl[e]),"transparent"===e?[255,255,255,0]:yl.sourceFromHex(e)||yl.sourceFromRgb(e)||yl.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,t,n]=this.getSource();return"rgb(".concat(e,",").concat(t,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,t,n]=dl(...this.getSource());return"hsl(".concat(e,",").concat(t,"%,").concat(n,"%)")}toHsla(){const[e,t,n,r]=dl(...this.getSource());return"hsla(".concat(e,",").concat(t,"%,").concat(n,"%,").concat(r,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,t,n,r]=this.getSource();return"".concat(gl(e)).concat(gl(t)).concat(gl(n)).concat(gl(Math.round(255*r)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(ml(this.getSource())),this}toBlackWhite(e){const[t,,,n]=ml(this.getSource()),r=t<(e||127)?0:255;return this.setSource([r,r,r,n]),this}overlayWith(e){e instanceof yl||(e=new yl(e));const t=this.getSource(),n=e.getSource(),[r,i,o]=t.map((e,t)=>Math.round(.5*e+.5*n[t]));return this.setSource([r,i,o,t[3]]),this}static fromRgb(e){return yl.fromRgba(e)}static fromRgba(e){return new yl(yl.sourceFromRgb(e))}static sourceFromRgb(e){const t=ul(e).match(/^rgba?\(\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d{0,3}(?:\.\d+)?%?)\s?)?\)$/i);if(t){const[e,n,r]=t.slice(1,4).map(e=>{const t=parseFloat(e);return e.endsWith("%")?Math.round(2.55*t):t});return[e,n,r,pl(t[4])]}}static fromHsl(e){return yl.fromHsla(e)}static fromHsla(e){return new yl(yl.sourceFromHsl(e))}static sourceFromHsl(e){const t=ul(e).match(/^hsla?\(\s?([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d*(?:\.\d+)?%?)\s?)?\)$/i);if(!t)return;const n=(yl.parseAngletoDegrees(t[1])%360+360)%360/360,r=parseFloat(t[2])/100,i=parseFloat(t[3])/100;let o,a,s;if(0===r)o=a=s=i;else{const e=i<=.5?i*(r+1):i+r-i*r,t=2*i-e;o=fl(t,e,n+1/3),a=fl(t,e,n),s=fl(t,e,n-1/3)}return[Math.round(255*o),Math.round(255*a),Math.round(255*s),pl(t[4])]}static fromHex(e){return new yl(yl.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const t=e.slice(e.indexOf("#")+1);let n;n=t.length<=4?t.split("").map(e=>e+e):t.match(/.{2}/g);const[r,i,o,a=255]=n.map(e=>parseInt(e,16));return[r,i,o,a/255]}}static parseAngletoDegrees(e){const t=e.toLowerCase(),n=parseFloat(t);return t.includes("rad")?Xa(n):t.includes("turn")?360*n:n}}const vl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zo;const n=/\D{0,2}$/.exec(e),r=parseFloat(e),i=Po.DPI;switch(null==n?void 0:n[0]){case"mm":return r*i/25.4;case"cm":return r*i/2.54;case"in":return r*i;case"pt":return r*i/72;case"pc":return r*i/72*12;case"em":return r*t;default:return r}},bl=e=>{const[t,n]=e.trim().split(" "),[r,i]=(o=t)&&o!==na?[o.slice(1,4),o.slice(5,8)]:o===na?[o,o]:["Mid","Mid"];var o;return{meetOrSlice:n||"meet",alignX:r,alignY:i}},wl=function(e,t){let n,r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t)if(t.toLive)n="url(#SVGID_".concat(t.id,")");else{const e=new yl(t),i=e.getAlpha();n=e.toRgb(),1!==i&&(r=i.toString())}else n="none";return i?"".concat(e,": ").concat(n,"; ").concat(r?"".concat(e,"-opacity: ").concat(r,"; "):""):"".concat(e,'="').concat(n,'" ').concat(r?"".concat(e,'-opacity="').concat(r,'" '):"")};class _l{getSvgStyles(e){const t=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):na,i=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",l=void 0!==this.opacity?this.opacity:"1",c=this.visible?"":" visibility: hidden;",u=e?"":this.getSvgFilter(),h=wl(va,this.fill);return[wl(ba,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",s,"; ",h,"fill-rule: ",t,"; ","opacity: ",l,";",u,c].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix();return"".concat('transform="'.concat(gs(n)),t,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:t,additionalTransform:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),i=e.indexOf("COMMON_PARTS");return e[i]=r,t?t(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:t,reviver:n,withShadow:r,additionalTransform:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=t?"":'style="'.concat(this.getSvgStyles(),'" '),a=r?'style="'.concat(this.getSvgFilter(),'" '):"",s=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",c=s&&s.absolutePositioned,u=this.stroke,h=this.fill,f=this.shadow,d=[],p=e.indexOf("COMMON_PARTS");let g;s&&(s.clipPathId="CLIPPATH_".concat(Ba()),g='<clipPath id="'.concat(s.clipPathId,'" >\n').concat(s.toClipPathSVG(n),"</clipPath>\n")),c&&d.push("<g ",a,this.getSvgCommons()," >\n"),d.push("<g ",this.getSvgTransform(!1),c?"":a+this.getSvgCommons()," >\n");const m=[o,l,t?"":this.addPaintOrder()," ",i?'transform="'.concat(i,'" '):""].join("");return e[p]=m,ms(h)&&d.push(h.toSVG(this)),ms(u)&&d.push(u.toSVG(this)),f&&d.push(f.toSVG(this)),s&&d.push(g),d.push(e.join("")),d.push("</g>\n"),c&&d.push("</g>\n"),n?n(d.join("")):d.join("")}addPaintOrder(){return this.paintFirst!==va?' paint-order="'.concat(this.paintFirst,'" '):""}}function xl(e){return new RegExp("^("+e.join("|")+")\\b","i")}const Sl="textDecorationThickness",kl=["fontSize","fontWeight","fontFamily","fontStyle"],Tl=["underline","overline","linethrough"],Cl=[...kl,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],El=[...Cl,...Tl,"textBackgroundColor","direction",Sl],Ol=[...kl,...Tl,ba,"strokeWidth",va,"deltaY","textBackgroundColor",Sl],Pl={_reNewline:ra,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:Sa,fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Qo,fontStyle:Sa,lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Qo,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:_a,CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[Sl]:66.667},Al="justify",jl="justify-left",Dl="justify-right",Ml="justify-center",Ll=String.raw(Vi||(Vi=r(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),Il=String.raw(Gi||(Gi=r(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),Rl=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Ll+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Ll+"))?\\s+(.*)"),Nl={cx:Qo,x:Qo,r:"radius",cy:Jo,y:Jo,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":Sl},Fl="font-size",zl="clip-path",Bl=(xl(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),xl(["symbol","image","marker","pattern","view","svg"]),xl(["symbol","g","a","svg","clipPath","defs"])),Ul=(new RegExp(String.raw(Xi||(Xi=r(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),Ll,Il,Ll,Il,Ll,Il,Ll)),"(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?"),Wl=new RegExp("(?:\\s|^)"+Ul+Ul+"("+Ll+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Hl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t="string"==typeof e?Hl.parseShadow(e):e;Object.assign(this,Hl.ownDefaults,t),this.id=Ba()}static parseShadow(e){const t=e.trim(),[,n=0,r=0,i=0]=(Wl.exec(t)||[]).map(e=>parseFloat(e)||0);return{color:(t.replace(Wl,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:r,blur:i}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const t=Xs(new Da(this.offsetX,this.offsetY),Ga(-e.angle)),n=new yl(this.color);let r=40,i=40;return e.width&&e.height&&(r=100*ps((Math.abs(t.x)+this.blur)/e.width,Po.NUM_FRACTION_DIGITS)+20,i=100*ps((Math.abs(t.y)+this.blur)/e.height,Po.NUM_FRACTION_DIGITS)+20),e.flipX&&(t.x*=-1),e.flipY&&(t.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(i,'%" height="').concat(100+2*i,'%" x="-').concat(r,'%" width="').concat(100+2*r,'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="').concat(ps(this.blur?this.blur/2:0,Po.NUM_FRACTION_DIGITS),'"></feGaussianBlur>\n\t<feOffset dx="').concat(ps(t.x,Po.NUM_FRACTION_DIGITS),'" dy="').concat(ps(t.y,Po.NUM_FRACTION_DIGITS),'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="').concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n')}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},t=Hl.ownDefaults;return this.includeDefaultValues?e:ds(e,(e,n)=>e!==t[n])}static async fromObject(e){return new this(e)}}Eo(Hl,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),Eo(Hl,"type","shadow"),Ca.setClass(Hl,"shadow");const Yl=(e,t,n)=>Math.max(e,Math.min(t,n)),Vl=[Jo,Qo,pa,ga,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",ma,ya],Gl=[va,ba,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],Xl={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:$o,originY:$o,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:va,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},ql=(e,t,n,r)=>(e<Math.abs(t)?(e=t,r=n/4):r=0===t&&0===e?n/Go*Math.asin(1):n/Go*Math.asin(t/e),{a:e,c:t,p:n,s:r}),Zl=(e,t,n,r,i)=>e*Math.pow(2,10*(r-=1))*Math.sin((r*i-t)*Go/n),Kl=(e,t,n,r)=>-n*Math.cos(e/r*Yo)+n+t,$l=(e,t,n,r)=>(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,Ql=(e,t,n,r)=>n-$l(r-e,0,n,r)+t;var Jl=Object.freeze({__proto__:null,defaultEasing:Kl,easeInBack:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return n*(e/=r)*e*((i+1)*e-i)+t},easeInBounce:Ql,easeInCirc:(e,t,n,r)=>-n*(Math.sqrt(1-(e/=r)*e)-1)+t,easeInCubic:(e,t,n,r)=>n*(e/r)**3+t,easeInElastic:(e,t,n,r)=>{const i=n;let o=0;if(0===e)return t;if(1===(e/=r))return t+n;o||(o=.3*r);const{a:a,s:s,p:l}=ql(i,n,o,1.70158);return-Zl(a,s,l,e,r)+t},easeInExpo:(e,t,n,r)=>0===e?t:n*2**(10*(e/r-1))+t,easeInOutBack:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInOutBounce:(e,t,n,r)=>e<r/2?.5*Ql(2*e,0,n,r)+t:.5*$l(2*e-r,0,n,r)+.5*n+t,easeInOutCirc:(e,t,n,r)=>(e/=r/2)<1?-n/2*(Math.sqrt(1-e**2)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t,easeInOutCubic:(e,t,n,r)=>(e/=r/2)<1?n/2*e**3+t:n/2*((e-2)**3+2)+t,easeInOutElastic:(e,t,n,r)=>{const i=n;let o=0;if(0===e)return t;if(2===(e/=r/2))return t+n;o||(o=r*(.3*1.5));const{a:a,s:s,p:l,c:c}=ql(i,n,o,1.70158);return e<1?-.5*Zl(a,s,l,e,r)+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-s)*Go/l)*.5+c+t},easeInOutExpo:(e,t,n,r)=>0===e?t:e===r?t+n:(e/=r/2)<1?n/2*2**(10*(e-1))+t:n/2*-(2**(-10*--e)+2)+t,easeInOutQuad:(e,t,n,r)=>(e/=r/2)<1?n/2*e**2+t:-n/2*(--e*(e-2)-1)+t,easeInOutQuart:(e,t,n,r)=>(e/=r/2)<1?n/2*e**4+t:-n/2*((e-=2)*e**3-2)+t,easeInOutQuint:(e,t,n,r)=>(e/=r/2)<1?n/2*e**5+t:n/2*((e-2)**5+2)+t,easeInOutSine:(e,t,n,r)=>-n/2*(Math.cos(Math.PI*e/r)-1)+t,easeInQuad:(e,t,n,r)=>n*(e/=r)*e+t,easeInQuart:(e,t,n,r)=>n*(e/=r)*e**3+t,easeInQuint:(e,t,n,r)=>n*(e/r)**5+t,easeInSine:(e,t,n,r)=>-n*Math.cos(e/r*Yo)+n+t,easeOutBack:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeOutBounce:$l,easeOutCirc:(e,t,n,r)=>n*Math.sqrt(1-(e=e/r-1)*e)+t,easeOutCubic:(e,t,n,r)=>n*((e/r-1)**3+1)+t,easeOutElastic:(e,t,n,r)=>{const i=n;let o=0;if(0===e)return t;if(1===(e/=r))return t+n;o||(o=.3*r);const{a:a,s:s,p:l,c:c}=ql(i,n,o,1.70158);return a*2**(-10*e)*Math.sin((e*r-s)*Go/l)+c+t},easeOutExpo:(e,t,n,r)=>e===r?t+n:n*-(2**(-10*e/r)+1)+t,easeOutQuad:(e,t,n,r)=>-n*(e/=r)*(e-2)+t,easeOutQuart:(e,t,n,r)=>-n*((e=e/r-1)*e**3-1)+t,easeOutQuint:(e,t,n,r)=>n*((e/r-1)**5+1)+t,easeOutSine:(e,t,n,r)=>n*Math.sin(e/r*Yo)+t});const ec=()=>!1;class tc{constructor(e){let{startValue:t,byValue:n,duration:r=500,delay:i=0,easing:o=Kl,onStart:a=Ho,onChange:s=Ho,onComplete:l=Ho,abort:c=ec,target:u}=e;Eo(this,"_state","pending"),Eo(this,"durationProgress",0),Eo(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=r,this.delay=i,this.easing=o,this._onStart=a,this._onChange=s,this._onComplete=l,this._abort=c,this.target=u,this.startValue=t,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return"aborted"===this._state||"completed"===this._state}start(){const e=e=>{"pending"===this._state&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>Na(e),this.delay):Na(e)}tick(e){const t=(e||+new Date)-this.startTime,n=Math.min(t,this.duration);this.durationProgress=n/this.duration;const{value:r,valueProgress:i}=this.calculate(n);this.value=Object.freeze(r),this.valueProgress=i,"aborted"!==this._state&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Na(this.tick)))}register(){Ea.push(this)}unregister(){Ea.remove(this)}abort(){this._state="aborted",this.unregister()}}class nc extends tc{constructor(e){let{startValue:t=0,endValue:n=100}=e;super(l(l({},c(e,ro)),{},{startValue:t,byValue:n-t}))}calculate(e){const t=this.easing(e,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}class rc extends tc{constructor(e){let{startValue:t=[0],endValue:n=[100]}=e;super(l(l({},c(e,io)),{},{startValue:t,byValue:n.map((e,n)=>e-t[n])}))}calculate(e){const t=this.startValue.map((t,n)=>this.easing(e,t,this.byValue[n],this.duration,n));return{value:t,valueProgress:Math.abs((t[0]-this.startValue[0])/this.byValue[0])}}}const ic=(e,t,n,r)=>t+n*(1-Math.cos(e/r*Yo)),oc=e=>e&&((t,n,r)=>e(new yl(t).toRgba(),n,r));class ac extends tc{constructor(e){let{startValue:t,endValue:n,easing:r=ic,onChange:i,onComplete:o,abort:a}=e,s=c(e,oo);const u=new yl(t).getSource(),h=new yl(n).getSource();super(l(l({},s),{},{startValue:u,byValue:h.map((e,t)=>e-u[t]),easing:r,onChange:oc(i),onComplete:oc(o),abort:oc(a)}))}calculate(e){const[t,n,r,i]=this.startValue.map((t,n)=>this.easing(e,t,this.byValue[n],this.duration,n)),o=[...[t,n,r].map(Math.round),Yl(0,i,1)];return{value:o,valueProgress:o.map((e,t)=>0!==this.byValue[t]?Math.abs((e-this.startValue[t])/this.byValue[t]):0).find(e=>0!==e)||0}}}function sc(e){const t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(e)?new rc(e):new nc(e);return t.start(),t}function lc(e){const t=new ac(e);return t.start(),t}class cc{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(t=>t.eq(e))}append(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.points=this.points.concat(t.filter(e=>!this.includes(e))),this}static isPointContained(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.eq(n))return e.eq(t);if(t.x===n.x)return e.x===t.x&&(r||e.y>=Math.min(t.y,n.y)&&e.y<=Math.max(t.y,n.y));if(t.y===n.y)return e.y===t.y&&(r||e.x>=Math.min(t.x,n.x)&&e.x<=Math.max(t.x,n.x));{const i=qs(t,n),o=qs(t,e).divide(i);return r?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,t){const n=new Da(e).setX(Math.min(e.x-1,...t.map(e=>e.x)));let r=0;for(let i=0;i<t.length;i++){const o=this.intersectSegmentSegment(t[i],t[(i+1)%t.length],e,n);if(o.includes(e))return!0;r+=Number("Intersection"===o.status)}return r%2==1}static intersectLineLine(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const a=t.x-e.x,s=t.y-e.y,l=r.x-n.x,c=r.y-n.y,u=e.x-n.x,h=e.y-n.y,f=l*h-c*u,d=a*h-s*u,p=c*a-l*s;if(0!==p){const t=f/p,n=d/p;return(i||0<=t&&t<=1)&&(o||0<=n&&n<=1)?new cc("Intersection").append(new Da(e.x+t*a,e.y+t*s)):new cc}if(0===f||0===d){const a=i||o||cc.isPointContained(e,n,r)||cc.isPointContained(t,n,r)||cc.isPointContained(n,e,t)||cc.isPointContained(r,e,t);return new cc(a?"Coincident":void 0)}return new cc("Parallel")}static intersectSegmentLine(e,t,n,r){return cc.intersectLineLine(e,t,n,r,!1,!0)}static intersectSegmentSegment(e,t,n,r){return cc.intersectLineLine(e,t,n,r,!1,!1)}static intersectLinePolygon(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=new cc,o=n.length;for(let a,s,l,c=0;c<o;c++){if(a=n[c],s=n[(c+1)%o],l=cc.intersectLineLine(e,t,a,s,r,!1),"Coincident"===l.status)return l;i.append(...l.points)}return i.points.length>0&&(i.status="Intersection"),i}static intersectSegmentPolygon(e,t,n){return cc.intersectLinePolygon(e,t,n,!1)}static intersectPolygonPolygon(e,t){const n=new cc,r=e.length,i=[];for(let o=0;o<r;o++){const a=e[o],s=e[(o+1)%r],l=cc.intersectSegmentPolygon(a,s,t);"Coincident"===l.status?(i.push(l),n.append(a,s)):n.append(...l.points)}return i.length>0&&i.length===e.length?new cc("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,t,n){const r=t.min(n),i=t.max(n),o=new Da(i.x,r.y),a=new Da(r.x,i.y);return cc.intersectPolygonPolygon(e,[r,o,i,a])}}class uc extends Ra{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Za(e,this.group.calcTransformMatrix()):e}setXY(e,t,n){this.group&&(e=Za(e,Ka(this.group.calcTransformMatrix()))),this.setRelativeXY(e,t,n)}getRelativeXY(){return new Da(this.left,this.top)}setRelativeXY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.originX,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.originY;this.setPositionByOrigin(e,t,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:t,br:n,bl:r}=this.aCoords||(this.aCoords=this.calcACoords()),i=[e,t,n,r];if(this.group){const e=this.group.calcTransformMatrix();return i.map(t=>Za(t,e))}return i}intersectsWithRect(e,t){return"Intersection"===cc.intersectPolygonRectangle(this.getCoords(),e,t).status}intersectsWithObject(e){const t=cc.intersectPolygonPolygon(this.getCoords(),e.getCoords());return"Intersection"===t.status||"Coincident"===t.status||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(t=>e.containsPoint(t))}isContainedWithinRect(e,t){const{left:n,top:r,width:i,height:o}=this.getBoundingRect();return n>=e.x&&n+i<=t.x&&r>=e.y&&r+o<=t.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return cc.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=t.x&&n.x>=e.x&&n.y<=t.y&&n.y>=e.y)||!!this.intersectsWithRect(e,t)||this.containsPoint(e.midPointFrom(t))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.intersectsWithRect(e,t)||this.getCoords().every(n=>(n.x>=t.x||n.x<=e.x)&&(n.y>=t.y||n.y<=e.y))&&this.containsPoint(e.midPointFrom(t))}getBoundingRect(){return Ms(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(pa,e),this._set(ga,e),this.setCoords()}scaleToWidth(e){const t=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/t)}scaleToHeight(e){const t=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/t)}getCanvasRetinaScaling(){var e;return(null===(e=this.canvas)||void 0===e?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?Xa(Ja(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return(null===(e=this.canvas)||void 0===e?void 0:e.viewportTransform)||qo.concat()}calcACoords(){const e=ns({angle:this.angle}),{x:t,y:n}=this.getRelativeCenterPoint(),r=ts(t,n),i=$a(r,e),o=this._getTransformedDimensions(),a=o.x/2,s=o.y/2;return{tl:Za({x:-a,y:-s},i),tr:Za({x:a,y:-s},i),bl:Za({x:-a,y:s},i),br:Za({x:a,y:s},i)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return!e&&this.group&&(t=this.group.transformMatrixKey(e)),t.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Ys(this.originX),Ys(this.originY)),t}calcTransformMatrix(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.calcOwnMatrix();if(e||!this.group)return t;const n=this.transformMatrixKey(e),r=this.matrixCache;return r&&r.key.every((e,t)=>e===n[t])?r.value:(this.group&&(t=$a(this.group.calcTransformMatrix(!1),t)),this.matrixCache={key:n,value:t},t)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),t=this.ownMatrixCache;if(t&&t.key.every((t,n)=>t===e[n]))return t.value;const n=this.getRelativeCenterPoint(),r={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},i=ls(r);return this.ownMatrixCache={key:e,value:i},i}_getNonTransformedDimensions(){return new Da(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=l({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=t.strokeWidth;let r=n,i=0;this.strokeUniform&&(r=0,i=n);const o=t.width+r,a=t.height+r;let s;return s=0===t.skewX&&0===t.skewY?new Da(o*t.scaleX,a*t.scaleY):Fs(o,a,ss(t)),s.scalarAdd(i)}translateToGivenOrigin(e,t,n,r,i){let o=e.x,a=e.y;const s=Ys(r)-Ys(t),l=Ys(i)-Ys(n);if(s||l){const e=this._getTransformedDimensions();o+=s*e.x,a+=l*e.y}return new Da(o,a)}translateToCenterPoint(e,t,n){if(t===$o&&n===$o)return e;const r=this.translateToGivenOrigin(e,t,n,$o,$o);return this.angle?r.rotate(Ga(this.angle),e):r}translateToOriginPoint(e,t,n){const r=this.translateToGivenOrigin(e,$o,$o,t,n);return this.angle?r.rotate(Ga(this.angle),e):r}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Za(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new Da(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,t){return this.getPositionByOrigin(e,t)}getPositionByOrigin(e,t){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,t)}setPositionByOrigin(e,t,n){const r=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set({left:i.x,top:i.y})}_getLeftTopCoords(){return this.getPositionByOrigin(Qo,Jo)}positionByLeftTop(e){return this.setPositionByOrigin(e,Qo,Jo)}}let hc=class e extends uc{static getDefaults(){return e.ownDefaults}get type(){const e=this.constructor.type;return"FabricObject"===e?"object":e.toLowerCase()}set type(e){Ao("warn","Setting type has no effect",e)}constructor(t){super(),Eo(this,"_cacheContext",null),Object.assign(this,e.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=Ua(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const t=e.width,n=e.height,r=Po.maxCacheSideLimit,i=Po.minCacheSideLimit;if(t<=r&&n<=r&&t*n<=Po.perfLimitSizeTotal)return t<i&&(e.width=i),n<i&&(e.height=i),e;const o=t/n,[a,s]=Uo.limitDimsByArea(o),l=Yl(i,a,r),c=Yl(i,s,r);return t>l&&(e.zoomX/=t/l,e.width=l,e.capped=!0),n>c&&(e.zoomY/=n/c,e.height=c,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),t=this._getTransformedDimensions({skewX:0,skewY:0}),n=t.x*e.x/this.scaleX,r=t.y*e.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(r+2),zoomX:e.x,zoomY:e.y,x:n,y:r}}_updateCacheCanvas(){const e=this._cacheCanvas,t=this._cacheContext,{width:n,height:r,zoomX:i,zoomY:o,x:a,y:s}=this._limitCacheSize(this._getCacheCanvasDimensions()),l=n!==e.width||r!==e.height,c=this.zoomX!==i||this.zoomY!==o;if(!e||!t)return!1;if(l||c){n!==e.width||r!==e.height?(e.width=n,e.height=r):(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height));const l=a/2,c=s/2;return this.cacheTranslationX=Math.round(e.width/2-l)+l,this.cacheTranslationY=Math.round(e.height/2-c)+c,t.translate(this.cacheTranslationX,this.cacheTranslationY),t.scale(i,o),this.zoomX=i,this.zoomY=o,!0}return!1}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setOptions(e)}transform(e){const t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!t);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new Da(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=es(this.calcTransformMatrix());return new Da(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const t=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(t*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e}_set(e,t){e!==pa&&e!==ga||(t=this._constrainScale(t)),e===pa&&t<0?(this.flipX=!this.flipX,t*=-1):"scaleY"===e&&t<0?(this.flipY=!this.flipY,t*=-1):"shadow"!==e||!t||t instanceof Hl||(t=new Hl(t));const n=this[e]!==t;return this[e]=t,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:t,zoomY:n,cacheTranslationX:r,cacheTranslationY:i}=this,{width:o,height:a}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:t,zoomY:n,cacheTranslationX:r,cacheTranslationY:i,width:o,height:a,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return!!this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth}hasFill(){return!!this.fill&&"transparent"!==this.fill}needsItsOwnCache(){return!!(this.paintFirst===ba&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)}drawClipPathOnCache(e,t,n){e.save(),t.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(n,0,0),e.restore()}drawObject(e,t,n){const r=this.fill,i=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,n),this.fill=r,this.stroke=i}createClipPathLayer(e,t){const n=Ha(t),r=n.getContext("2d");if(r.translate(t.cacheTranslationX,t.cacheTranslationY),r.scale(t.zoomX,t.zoomY),e._cacheCanvas=n,t.parentClipPaths.forEach(e=>{e.transform(r)}),t.parentClipPaths.push(e),e.absolutePositioned){const e=Ka(this.calcTransformMatrix());r.transform(e[0],e[1],e[2],e[3],e[4],e[5])}return e.transform(r),e.drawObject(r,!0,t),n}_drawClipPath(e,t,n){if(!t)return;t._transformDone=!0;const r=this.createClipPathLayer(t,n);this.drawClipPathOnCache(e,t,r)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isNotVisible())return!1;const t=this._cacheCanvas,n=this._cacheContext;return!(!t||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,t){const n=t.stroke;n&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,ms(n)?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=t.stroke)}_setFillStyles(e,t){let{fill:n}=t;n&&(ms(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,t){t&&0!==t.length&&e.setLineDash(t)}_setShadow(e){if(!this.shadow)return;const t=this.shadow,n=this.canvas,r=this.getCanvasRetinaScaling(),[i,,,o]=(null==n?void 0:n.viewportTransform)||qo,a=i*r,s=o*r,l=t.nonScaling?new Da(1,1):this.getObjectScaling();e.shadowColor=t.color,e.shadowBlur=t.blur*Po.browserShadowBlurConstant*(a+s)*(l.x+l.y)/4,e.shadowOffsetX=t.offsetX*a*l.x,e.shadowOffsetY=t.offsetY*s*l.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,t){if(!ms(t))return{offsetX:0,offsetY:0};const n=t.gradientTransform||t.patternTransform,r=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,r,i):e.transform(1,0,0,1,r,i),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:i}}_renderPaintInOrder(e){this.paintFirst===ba?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const t=this.getObjectScaling();e.scale(1/t.x,1/t.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,t){var n;const r=this._limitCacheSize(this._getCacheCanvasDimensions()),i=this.getCanvasRetinaScaling(),o=r.x/this.scaleX/i,a=r.y/this.scaleY/i,s=Ha({width:Math.ceil(o),height:Math.ceil(a)}),l=s.getContext("2d");l&&(l.beginPath(),l.moveTo(0,0),l.lineTo(o,0),l.lineTo(o,a),l.lineTo(0,a),l.closePath(),l.translate(o/2,a/2),l.scale(r.zoomX/this.scaleX/i,r.zoomY/this.scaleY/i),this._applyPatternGradientTransform(l,t),l.fillStyle=t.toLive(e),l.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(i*this.scaleX/r.zoomX,i*this.scaleY/r.zoomY),e.strokeStyle=null!==(n=l.createPattern(s,"no-repeat"))&&void 0!==n?n:"")}_findCenterFromElement(){return new Da(this.left+this.width/2,this.top+this.height/2)}clone(e){const t=this.toObject(e);return this.constructor.fromObject(t)}cloneAsImage(e){const t=this.toCanvasElement(e);return new(Ca.getClass("image"))(t)}toCanvasElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Ns(this),n=this.group,r=this.shadow,i=Math.abs,o=e.enableRetinaScaling?Bo():1,a=(e.multiplier||1)*o,s=e.canvasProvider||(e=>new Os(e,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&Rs(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&Ws(this,this.getViewportTransform()),this.setCoords();const l=Ua(),c=this.getBoundingRect(),u=this.shadow,h=new Da;if(u){const e=u.blur,t=u.nonScaling?new Da(1,1):this.getObjectScaling();h.x=2*Math.round(i(u.offsetX)+e)*i(t.x),h.y=2*Math.round(i(u.offsetY)+e)*i(t.y)}const f=c.width+h.x,d=c.height+h.y;l.width=Math.ceil(f),l.height=Math.ceil(d);const p=s(l);"jpeg"===e.format&&(p.backgroundColor="#fff"),this.setPositionByOrigin(new Da(p.width/2,p.height/2),$o,$o);const g=this.canvas;p._objects=[this],this.set("canvas",p),this.setCoords();const m=p.toCanvasElement(a||1,e);return this.set("canvas",g),this.shadow=r,n&&(this.group=n),this.set(t),this.setCoords(),p._objects=[],p.destroy(),m}toDataURL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ya(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Va(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(this.constructor.type)||t.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:t,originX:n,originY:r}=this;if(t){const{x:e,y:t}=this.getRelativeCenterPoint();this.originX=$o,this.originY=$o,this.left=e,this.top=t}if(this.set("angle",e),t){const{x:e,y:t}=this.getPositionByOrigin(n,r);this.left=e,this.top=t,this.originX=n,this.originY=r}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){Ea.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&No().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,t){return Object.entries(e).reduce((e,n)=>{let[r,i]=n;return e[r]=this._animate(r,i,t),e},{})}_animate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.split("."),i=this.constructor.colorProperties.includes(r[r.length-1]),{abort:o,startValue:a,onChange:s,onComplete:c}=n,u=l(l({},n),{},{target:this,startValue:null!=a?a:r.reduce((e,t)=>e[t],this),endValue:t,abort:null==o?void 0:o.bind(this),onChange:(e,t,n)=>{r.reduce((t,n,i)=>(i===r.length-1&&(t[n]=e),t[n]),this),s&&s(e,t,n)},onComplete:(e,t,n)=>{this.setCoords(),c&&c(e,t,n)}});return i?lc(u):sc(u)}isDescendantOf(e){const{parent:t,group:n}=this;return t===e||n===e||!!t&&t.isDescendantOf(e)||!!n&&n!==t&&n.isDescendantOf(e)}getAncestors(){const e=[];let t=this;do{t=t.parent,t&&e.push(t)}while(t);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const t=this.getAncestors(),n=e.getAncestors();if(0===t.length&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let r,i=0;i<t.length;i++){if(r=t[i],r===e)return{fork:[this,...t.slice(0,i)],otherFork:[],common:t.slice(i)};for(let o=0;o<n.length;o++){if(this===n[o])return{fork:[],otherFork:[e,...n.slice(0,o)],common:[this,...t]};if(r===n[o])return{fork:[this,...t.slice(0,i)],otherFork:[e,...n.slice(0,o)],common:t.slice(i)}}}return{fork:[this,...t],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const t=this.findCommonAncestors(e);return t&&!!t.common.length}isInFrontOf(e){if(this===e)return;const t=this.findCommonAncestors(e);if(t.fork.includes(e))return!0;if(t.otherFork.includes(this))return!1;const n=t.common[0]||this.canvas;if(!n)return;const r=t.fork.pop(),i=t.otherFork.pop(),o=n._objects.indexOf(r),a=n._objects.indexOf(i);return o>-1&&o>a}toObject(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).concat(e.customProperties,this.constructor.customProperties||[]);let n;const r=Po.NUM_FRACTION_DIGITS,{clipPath:i,fill:o,stroke:a,shadow:s,strokeDashArray:c,left:u,top:h,originX:f,originY:d,width:p,height:g,strokeWidth:m,strokeLineCap:y,strokeDashOffset:v,strokeLineJoin:b,strokeUniform:w,strokeMiterLimit:_,scaleX:x,scaleY:S,angle:k,flipX:T,flipY:C,opacity:E,visible:O,backgroundColor:P,fillRule:A,paintFirst:j,globalCompositeOperation:D,skewX:M,skewY:L}=this;i&&!i.excludeFromExport&&(n=i.toObject(t.concat("inverted","absolutePositioned")));const I=e=>ps(e,r),R=l(l({},fs(this,t)),{},{type:this.constructor.type,version:Wo,originX:f,originY:d,left:I(u),top:I(h),width:I(p),height:I(g),fill:ys(o)?o.toObject():o,stroke:ys(a)?a.toObject():a,strokeWidth:I(m),strokeDashArray:c?c.concat():c,strokeLineCap:y,strokeDashOffset:v,strokeLineJoin:b,strokeUniform:w,strokeMiterLimit:I(_),scaleX:I(x),scaleY:I(S),angle:I(k),flipX:T,flipY:C,opacity:I(E),shadow:s?s.toObject():s,visible:O,backgroundColor:P,fillRule:A,paintFirst:j,globalCompositeOperation:D,skewX:I(M),skewY:I(L)},n?{clipPath:n}:null);return this.includeDefaultValues?R:this._removeDefaultValues(R)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const t=this.constructor.getDefaults(),n=Object.keys(t).length>0?t:Object.getPrototypeOf(this);return ds(e,(e,t)=>{if(t===Qo||t===Jo||"type"===t)return!0;const r=n[t];return e!==r&&!(Array.isArray(e)&&Array.isArray(r)&&0===e.length&&0===r.length)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let{type:t}=e,n=c(e,ao),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{extraParam:i}=r,o=c(r,so);return hs(n,o).then(e=>i?(delete e[i],new this(n[i],e)):new this(e))}static fromObject(e,t){return this._fromObject(e,t)}};Eo(hc,"stateProperties",Vl),Eo(hc,"cacheProperties",Gl),Eo(hc,"ownDefaults",Xl),Eo(hc,"type","FabricObject"),Eo(hc,"colorProperties",[va,ba,"backgroundColor"]),Eo(hc,"customProperties",[]),Ca.setClass(hc),Ca.setClass(hc,"object");const fc=(e,t)=>{var n;const{transform:{target:r}}=t;null===(n=r.canvas)||void 0===n||n.fire("object:".concat(e),l(l({},t),{},{target:r})),r.fire(e,t)},dc=(e,t,n)=>(r,i,o,a)=>{const s=t(r,i,o,a);return s&&fc(e,l(l({},sl(r,i,o,a)),n)),s};function pc(e){return(t,n,r,i)=>{const{target:o,originX:a,originY:s}=n,l=o.getPositionByOrigin(a,s),c=e(t,n,r,i);return o.setPositionByOrigin(l,n.originX,n.originY),c}}const gc=(e,t,n,r)=>(i,o,a,s)=>{const l=cl(o,o.originX,o.originY,a,s)[n],c=Ys(o[t]);if(0===c||c>0&&l<0||c<0&&l>0){const{target:t}=o,n=t.strokeWidth/(t.strokeUniform?t[r]:1),i=il(o)?2:1,a=t[e],s=Math.abs(l*i/t[r])-n;return t.set(e,Math.max(s,1)),a!==t[e]}return!1},mc=gc("width","originX","x","scaleX"),yc=gc("height","originY","y","scaleY"),vc=dc(ca,pc(mc)),bc=dc(ca,pc(yc));function wc(e,t,n,r,i){e.save();const{stroke:o,xSize:a,ySize:s,opName:l}=this.commonRenderProps(e,t,n,i,r);let c=a;a>s?e.scale(1,s/a):s>a&&(c=s,e.scale(a/s,1)),e.beginPath(),e.arc(0,0,c/2,0,Go,!1),e[l](),o&&e.stroke(),e.restore()}function _c(e,t,n,r,i){e.save();const{stroke:o,xSize:a,ySize:s,opName:l}=this.commonRenderProps(e,t,n,i,r),c=a/2,u=s/2;e["".concat(l,"Rect")](-c,-u,a,s),o&&e.strokeRect(-c,-u,a,s),e.restore()}class xc{constructor(e){Eo(this,"visible",!0),Eo(this,"actionName",da),Eo(this,"angle",0),Eo(this,"x",0),Eo(this,"y",0),Eo(this,"offsetX",0),Eo(this,"offsetY",0),Eo(this,"sizeX",0),Eo(this,"sizeY",0),Eo(this,"touchSizeX",0),Eo(this,"touchSizeY",0),Eo(this,"cursorStyle","crosshair"),Eo(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,t,n,r){var i;let{tl:o,tr:a,br:s,bl:l}=r;return(null===(i=t.canvas)||void 0===i?void 0:i.getActiveObject())===t&&t.isControlVisible(e)&&cc.isPointInPolygon(n,[o,a,s,l])}getActionHandler(e,t,n){return this.actionHandler}getMouseDownHandler(e,t,n){return this.mouseDownHandler}getMouseUpHandler(e,t,n){return this.mouseUpHandler}cursorStyleHandler(e,t,n,r){return t.cursorStyle}getActionName(e,t,n){return t.actionName}getVisibility(e,t){var n,r;return null!==(n=null===(r=e._controlsVisibility)||void 0===r?void 0:r[t])&&void 0!==n?n:this.visible}setVisibility(e,t,n){this.visible=e}positionHandler(e,t,n,r){return new Da(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(t)}calcCornerCoords(e,t,n,r,i,o){const a=Qa([ts(n,r),ns({angle:e}),rs((i?this.touchSizeX:this.sizeX)||t,(i?this.touchSizeY:this.sizeY)||t)]);return{tl:new Da(-.5,-.5).transform(a),tr:new Da(.5,-.5).transform(a),br:new Da(.5,.5).transform(a),bl:new Da(-.5,.5).transform(a)}}commonRenderProps(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{cornerSize:o,cornerColor:a,transparentCorners:s,cornerStrokeColor:l}=i,c=o||r.cornerSize,u=this.sizeX||c,h=this.sizeY||c,f=void 0!==s?s:r.transparentCorners,d=f?ba:va,p=l||r.cornerStrokeColor,g=!f&&!!p;return e.fillStyle=a||r.cornerColor||"",e.strokeStyle=p||"",e.translate(t,n),e.rotate(Ga(r.getTotalAngle())),{stroke:g,xSize:u,ySize:h,transparentCorners:f,opName:d}}render(e,t,n,r,i){"circle"===((r=r||{}).cornerStyle||i.cornerStyle)?wc.call(this,e,t,n,r,i):_c.call(this,e,t,n,r,i)}}const Sc=(e,t,n)=>n.lockRotation?rl:t.cursorStyle,kc=dc(aa,pc((e,t,n,r)=>{let{target:i,ex:o,ey:a,theta:s,originX:l,originY:c}=t;const u=i.getPositionByOrigin(l,c);if(al(i,"lockRotation"))return!1;const h=Math.atan2(a-u.y,o-u.x),f=Math.atan2(r-u.y,n-u.x);let d=Xa(f-h+s);if(i.snapAngle&&i.snapAngle>0){const e=i.snapAngle,t=i.snapThreshold||e,n=Math.ceil(d/e)*e,r=Math.floor(d/e)*e;Math.abs(d-r)<t?d=r:Math.abs(d-n)<t&&(d=n)}d<0&&(d=360+d),d%=360;const p=i.angle!==d;return i.angle=d,p}));function Tc(e,t){const n=t.canvas,r=e[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function Cc(e,t,n){const r=al(e,"lockScalingX"),i=al(e,"lockScalingY");if(r&&i)return!0;if(!t&&(r||i)&&n)return!0;if(r&&"x"===t)return!0;if(i&&"y"===t)return!0;const{width:o,height:a,strokeWidth:s}=e;return 0===o&&0===s&&"y"!==t||0===a&&0===s&&"x"!==t}const Ec=["e","se","s","sw","w","nw","n","ne","e"],Oc=(e,t,n,r)=>{const i=Tc(e,n);if(Cc(n,0!==t.x&&0===t.y?"x":0===t.x&&0!==t.y?"y":"",i))return rl;const o=ll(n,0,r);return"".concat(Ec[o],"-resize")};function Pc(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=t.target,a=i.by,s=Tc(e,o);let l,c,u,h,f,d;if(Cc(o,a,s))return!1;if(t.gestureScale)c=t.scaleX*t.gestureScale,u=t.scaleY*t.gestureScale;else{if(l=cl(t,t.originX,t.originY,n,r),f="y"!==a?Math.sign(l.x||t.signX||1):1,d="x"!==a?Math.sign(l.y||t.signY||1):1,t.signX||(t.signX=f),t.signY||(t.signY=d),al(o,"lockScalingFlip")&&(t.signX!==f||t.signY!==d))return!1;if(h=o._getTransformedDimensions(),s&&!a){const e=Math.abs(l.x)+Math.abs(l.y),{original:n}=t,r=e/(Math.abs(h.x*n.scaleX/o.scaleX)+Math.abs(h.y*n.scaleY/o.scaleY));c=n.scaleX*r,u=n.scaleY*r}else c=Math.abs(l.x*o.scaleX/h.x),u=Math.abs(l.y*o.scaleY/h.y);il(t)&&(c*=2,u*=2),t.signX!==f&&"y"!==a&&(t.originX=ol(t.originX),c*=-1,t.signX=f),t.signY!==d&&"x"!==a&&(t.originY=ol(t.originY),u*=-1,t.signY=d)}const p=o.scaleX,g=o.scaleY;return a?("x"===a&&o.set(pa,c),"y"===a&&o.set(ga,u)):(!al(o,"lockScalingX")&&o.set(pa,c),!al(o,"lockScalingY")&&o.set(ga,u)),p!==o.scaleX||g!==o.scaleY}const Ac=dc(oa,pc((e,t,n,r)=>Pc(e,t,n,r))),jc=dc(oa,pc((e,t,n,r)=>Pc(e,t,n,r,{by:"x"}))),Dc=dc(oa,pc((e,t,n,r)=>Pc(e,t,n,r,{by:"y"}))),Mc={x:{counterAxis:"y",scale:pa,skew:ma,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:ga,skew:ya,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Lc=["ns","nesw","ew","nwse"],Ic=(e,t,n,r)=>{if(0!==t.x&&al(n,"lockSkewingY"))return rl;if(0!==t.y&&al(n,"lockSkewingX"))return rl;const i=ll(n,0,r)%4;return"".concat(Lc[i],"-resize")};function Rc(e,t,n,r,i){const{target:o}=n,{counterAxis:a,origin:s,lockSkewing:u,skew:h,flip:f}=Mc[e];if(al(o,u))return!1;const{origin:d,flip:p}=Mc[a],g=Ys(n[d])*(o[p]?-1:1),m=-Math.sign(g)*(o[f]?-1:1),y=-(0===o[h]&&cl(n,$o,$o,r,i)[e]>0||o[h]>0?1:-1)*m*.5+.5,v=dc(la,pc((t,n,r,i)=>function(e,t,n){let{target:r,ex:i,ey:o,skewingSide:a}=t,s=c(t,lo);const{skew:l}=Mc[e],u=n.subtract(new Da(i,o)).divide(new Da(r.scaleX,r.scaleY))[e],h=r[l],f=s[l],d=Math.tan(Ga(f)),p="y"===e?r._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:r._getTransformedDimensions({scaleX:1,scaleY:1}).y,g=2*u*a/Math.max(p,1)+d,m=Xa(Math.atan(g));r.set(l,m);const y=h!==r[l];if(y&&"y"===e){const{skewX:e,scaleX:t}=r,n=r._getTransformedDimensions({skewY:h}),i=r._getTransformedDimensions(),o=0!==e?n.x/i.x:1;1!==o&&r.set(pa,o*t)}return y}(e,n,new Da(r,i))));return v(t,l(l({},n),{},{[s]:y,skewingSide:m}),r,i)}const Nc=(e,t,n,r)=>Rc("x",e,t,n,r),Fc=(e,t,n,r)=>Rc("y",e,t,n,r);function zc(e,t){return e[t.canvas.altActionKey]}const Bc=(e,t,n)=>{const r=zc(e,n);return 0===t.x?r?ma:ga:0===t.y?r?ya:pa:""},Uc=(e,t,n,r)=>zc(e,n)?Ic(0,t,n,r):Oc(e,t,n,r),Wc=(e,t,n,r)=>zc(e,t.target)?Fc(e,t,n,r):jc(e,t,n,r),Hc=(e,t,n,r)=>zc(e,t.target)?Nc(e,t,n,r):Dc(e,t,n,r),Yc=()=>({ml:new xc({x:-.5,y:0,cursorStyleHandler:Uc,actionHandler:Wc,getActionName:Bc}),mr:new xc({x:.5,y:0,cursorStyleHandler:Uc,actionHandler:Wc,getActionName:Bc}),mb:new xc({x:0,y:.5,cursorStyleHandler:Uc,actionHandler:Hc,getActionName:Bc}),mt:new xc({x:0,y:-.5,cursorStyleHandler:Uc,actionHandler:Hc,getActionName:Bc}),tl:new xc({x:-.5,y:-.5,cursorStyleHandler:Oc,actionHandler:Ac}),tr:new xc({x:.5,y:-.5,cursorStyleHandler:Oc,actionHandler:Ac}),bl:new xc({x:-.5,y:.5,cursorStyleHandler:Oc,actionHandler:Ac}),br:new xc({x:.5,y:.5,cursorStyleHandler:Oc,actionHandler:Ac}),mtr:new xc({x:0,y:-.5,actionHandler:kc,cursorStyleHandler:Sc,offsetY:-40,withConnection:!0,actionName:sa})}),Vc=()=>({mr:new xc({x:.5,y:0,actionHandler:vc,cursorStyleHandler:Uc,actionName:ca}),ml:new xc({x:-.5,y:0,actionHandler:vc,cursorStyleHandler:Uc,actionName:ca})}),Gc=()=>l(l({},Yc()),Vc());class Xc extends hc{static getDefaults(){return l(l({},super.getDefaults()),Xc.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),Xc.ownDefaults),this.setOptions(e)}static createControls(){return{controls:Yc()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const t=e._currentTransform,n=t.target,r=t.action;if(this===n&&r&&r.startsWith(da))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let r=n.length-1;r>=0;r--){const[i,o]=n[r],a=this.controls[i];if(a.shouldActivate(i,this,e,t?o.touchCorner:o.corner))return this.__corner=i,{key:i,control:a,coord:this.oCoords[i]}}}calcOCoords(){const e=this.getViewportTransform(),t=this.getCenterPoint(),n=ts(t.x,t.y),r=ns({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),i=$a(n,r),o=$a(e,i),a=$a(o,[1/e[0],0,0,1/e[3],0,0]),s=this.group?es(this.calcTransformMatrix()):void 0;s&&(s.scaleX=Math.abs(s.scaleX),s.scaleY=Math.abs(s.scaleY));const l=this._calculateCurrentDimensions(s),c={};return this.forEachControl((e,t)=>{const n=e.positionHandler(l,a,this,e);c[t]=Object.assign(n,this._calcCornerCoords(e,n))}),c}_calcCornerCoords(e,t){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,t.x,t.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,t.x,t.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const t in this.controls)e(this.controls[t],t,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const t=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),r=this.getViewportTransform();e.translate(t.x,t.y),e.scale(1/r[0],1/r[3]),e.rotate(Ga(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,t){e.strokeRect(-t.x/2,-t.y/2,t.x,t.y)}_drawBorders(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=l({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=r.borderColor,this._setLineDash(e,r.borderDashArray),this.strokeBorders(e,t),r.hasControls&&this.drawControlsConnectingLines(e,t),e.restore()}_renderControls(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{hasBorders:n,hasControls:r}=this,i=l({hasBorders:n,hasControls:r},t),o=this.getViewportTransform(),a=i.hasBorders,s=i.hasControls,c=$a(o,this.calcTransformMatrix()),u=es(c);e.save(),e.translate(u.translateX,u.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),e.rotate(Ga(this.group?u.angle:this.angle)),a&&this.drawBorders(e,u,t),s&&this.drawControls(e,t),e.restore()}drawBorders(e,t,n){let r;if(n&&n.forActiveSelection||this.group){const e=Fs(this.width,this.height,ss(t)),n=this.isStrokeAccountedForInDimensions()?Ma:(this.strokeUniform?(new Da).scalarAdd(this.canvas?this.canvas.getZoom():1):new Da(t.scaleX,t.scaleY)).scalarMultiply(this.strokeWidth);r=e.add(n).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else r=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,r,n)}drawControlsConnectingLines(e,t){let n=!1;e.beginPath(),this.forEachControl((r,i)=>{r.withConnection&&r.getVisibility(this,i)&&(n=!0,e.moveTo(r.x*t.x,r.y*t.y),e.lineTo(r.x*t.x+r.offsetX,r.y*t.y+r.offsetY))}),n&&e.stroke()}drawControls(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:r,cornerDashArray:i,cornerColor:o}=this,a=l({cornerStrokeColor:r,cornerDashArray:i,cornerColor:o},t);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=a.cornerColor,this.transparentCorners||(e.strokeStyle=a.cornerStrokeColor),this._setLineDash(e,a.cornerDashArray),this.forEachControl((t,n)=>{if(t.getVisibility(this,n)){const r=this.oCoords[n];t.render(e,r.x,r.y,a,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,t){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t}setControlsVisibility(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(e).forEach(e=>{let[t,n]=e;return this.setControlVisible(t,n)})}clearContextTop(e){if(!this.canvas)return;const t=this.canvas.contextTop;if(!t)return;const n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t);const r=this.width+4,i=this.height+4;return t.clearRect(-r/2,-i/2,r,i),e||t.restore(),t}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function qc(e,t){return t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(n=>{"constructor"!==n&&Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n)||Object.create(null))})}),e}Eo(Xc,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Zc extends Xc{}qc(Zc,[_l]),Ca.setClass(Zc),Ca.setClass(Zc,"object");const Kc=(e,t,n,r)=>{const i=2*(r=Math.round(r))+1,{data:o}=e.getImageData(t-r,n-r,i,i);for(let a=3;a<o.length;a+=4)if(o[a]>0)return!1;return!0};class $c{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new Da(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new Da(1/this.options.scaleX,1/this.options.scaleY):new Da(1,1)}createSideVector(e,t){const n=qs(e,t);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,t,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,t,n)))}isSkewed(){return 0!==this.options.skewX||0!==this.options.skewY}applySkew(e){const t=new Da(e);return t.y+=t.x*Math.tan(Ga(this.options.skewY)),t.x+=t.y*Math.tan(Ga(this.options.skewX)),t}scaleUnitVector(e,t){return e.multiply(this.strokeUniformScalar).scalarMultiply(t)}}const Qc=new Da;class Jc extends $c{static getOrthogonalRotationFactor(e,t){const n=t?Ks(e,t):$s(e);return Math.abs(n)<Yo?-1:1}constructor(e,t,n,r){super(r),Eo(this,"AB",void 0),Eo(this,"AC",void 0),Eo(this,"alpha",void 0),Eo(this,"bisector",void 0),this.A=new Da(e),this.B=new Da(t),this.C=new Da(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=Ks(this.AB,this.AC),this.bisector=Qs(Xs(this.AB.eq(Qc)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude;const r=this.createSideVector(e,t),i=Js(r),o=Jc.getOrthogonalRotationFactor(i,this.bisector);return this.scaleUnitVector(i,n*o)}projectBevel(){const e=[];return(this.alpha%Go===0?[this.B]:[this.B,this.C]).forEach(t=>{e.push(this.projectOrthogonally(this.A,t)),e.push(this.projectOrthogonally(this.A,t,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],t=Math.abs(this.alpha),n=1/Math.sin(t/2),r=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),i=this.options.strokeUniform?Zs(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return Zs(r)/this.strokeProjectionMagnitude<=i&&e.push(this.applySkew(this.A.add(r))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,t){const n=[],r=new Da(Jc.getOrthogonalRotationFactor(this.bisector),Jc.getOrthogonalRotationFactor(new Da(this.bisector.y,this.bisector.x)));return[new Da(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r),new Da(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r)].forEach(r=>{nl(r,e,t)&&n.push(this.A.add(r))}),n}projectRoundWithSkew(e,t){const n=[],{skewX:r,skewY:i,scaleX:o,scaleY:a,strokeUniform:s}=this.options,l=new Da(Math.tan(Ga(r)),Math.tan(Ga(i))),c=this.strokeProjectionMagnitude,u=s?c/a/Math.sqrt(1/a**2+1/o**2*l.y**2):c/Math.sqrt(1+l.y**2),h=new Da(Math.sqrt(Math.max(c**2-u**2,0)),u),f=s?c/Math.sqrt(1+l.x**2*(1/a)**2/(1/o+1/o*l.x*l.y)**2):c/Math.sqrt(1+l.x**2/(1+l.x*l.y)**2),d=new Da(f,Math.sqrt(Math.max(c**2-f**2,0)));return[d,d.scalarMultiply(-1),h,h.scalarMultiply(-1)].map(e=>this.applySkew(s?e.multiply(this.strokeUniformScalar):e)).forEach(r=>{nl(r,e,t)&&n.push(this.applySkew(this.A).add(r))}),n}projectRound(){const e=[];e.push(...this.projectBevel());const t=this.alpha%Go===0,n=this.applySkew(this.A),r=e[t?0:2].subtract(n),i=e[t?1:0].subtract(n),o=t?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),a=el(r,o)>0,s=a?r:i,l=a?i:r;return this.isSkewed()?e.push(...this.projectRoundWithSkew(s,l)):e.push(...this.projectRoundNoSkew(s,l)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class eu extends $c{constructor(e,t,n){super(n),this.A=new Da(e),this.T=new Da(t)}calcOrthogonalProjection(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude;const r=this.createSideVector(e,t);return this.scaleUnitVector(Js(r),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const t=new Da(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))}else e.push(...new Jc(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const t=new Da(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(t),this.A.subtract(t))}else{const t=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(Qs(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),r=this.A.add(n);e.push(r.add(t),r.subtract(t))}return e.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const tu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[];if(0===e.length)return r;const i=e.reduce((e,t)=>(e[e.length-1].eq(t)||e.push(new Da(t)),e),[new Da(e[0])]);if(1===i.length)n=!0;else if(!n){const e=i[0],t=((e,t)=>{for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1})(i,t=>!t.eq(e));i.splice(t+1)}return i.forEach((e,i,o)=>{let a,s;0===i?(s=o[1],a=n?e:o[o.length-1]):i===o.length-1?(a=o[i-1],s=n?e:o[0]):(a=o[i-1],s=o[i+1]),n&&1===o.length?r.push(...new eu(e,e,t).project()):!n||0!==i&&i!==o.length-1?r.push(...new Jc(e,a,s,t).project()):r.push(...new eu(e,0===i?s:a,t).project())}),r},nu=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]={},Object.keys(e[n]).forEach(r=>{t[n][r]=l({},e[n][r])})}),t},ru=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let iu;const ou=e=>{if(iu||iu||(iu="Intl"in zo()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),iu){const t=iu.segment(e);return Array.from(t).map(e=>{let{segment:t}=e;return t})}return au(e)},au=e=>{const t=[];for(let n,r=0;r<e.length;r++)!1!==(n=su(e,r))&&t.push(n);return t},su=(e,t)=>{const n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";const n=e.charCodeAt(t+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";const r=e.charCodeAt(t-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1};var lu=Object.freeze({__proto__:null,capitalize:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(e.charAt(0).toUpperCase()).concat(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:ru,graphemeSplit:ou});const cu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.textDecorationThickness!==t.textDecorationThickness||e.textBackgroundColor!==t.textBackgroundColor||e.deltaY!==t.deltaY||n&&(e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough)},uu=(e,t)=>{const n=t.split("\n"),r=[];let i=-1,o={};e=nu(e);for(let a=0;a<n.length;a++){const t=ou(n[a]);if(e[a])for(let n=0;n<t.length;n++){i++;const t=e[a][n];t&&Object.keys(t).length>0&&(cu(o,t,!0)?r.push({start:i,end:i+1,style:t}):r[r.length-1].end++),o=t||{}}else i+=t.length,o={}}return r},hu=(e,t)=>{if(!Array.isArray(e))return nu(e);const n=t.split(ra),r={};let i=-1,o=0;for(let a=0;a<n.length;a++){const t=ou(n[a]);for(let n=0;n<t.length;n++)i++,e[o]&&e[o].start<=i&&i<e[o].end&&(r[a]=r[a]||{},r[a][n]=l({},e[o].style),i===e[o].end-1&&o++)}return r},fu=["display","transform",va,"fill-opacity","fill-rule","opacity",ba,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function du(e,t){const n=e.nodeName,r=e.getAttribute("class"),i=e.getAttribute("id"),o="(?![a-zA-Z\\-]+)";let a;if(a=new RegExp("^"+n,"i"),t=t.replace(a,""),i&&t.length&&(a=new RegExp("#"+i+o,"i"),t=t.replace(a,"")),r&&t.length){const e=r.split(" ");for(let n=e.length;n--;)a=new RegExp("\\."+e[n]+o,"i"),t=t.replace(a,"")}return 0===t.length}function pu(e,t){let n=!0;const r=du(e,t.pop());return r&&t.length&&(n=function(e,t){let n,r=!0;for(;e.parentElement&&1===e.parentElement.nodeType&&t.length;)r&&(n=t.pop()),r=du(e=e.parentElement,n);return 0===t.length}(e,t)),r&&n&&0===t.length}const gu=e=>{var t;return null!==(t=Nl[e])&&void 0!==t?t:e},mu=new RegExp("(".concat(Ll,")"),"gi"),yu="(".concat(Ll,")"),vu=String.raw(qi||(qi=r(["(skewX)(",")"],["(skewX)\\(","\\)"])),yu),bu=String.raw(Zi||(Zi=r(["(skewY)(",")"],["(skewY)\\(","\\)"])),yu),wu=String.raw(Ki||(Ki=r(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),yu,yu,yu),_u=String.raw($i||($i=r(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),yu,yu),xu=String.raw(Qi||(Qi=r(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),yu,yu),Su="(?:".concat(String.raw(Ji||(Ji=r(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),yu,yu,yu,yu,yu,yu),"|").concat(xu,"|").concat(wu,"|").concat(_u,"|").concat(vu,"|").concat(bu,")"),ku="(?:".concat(Su,"*)"),Tu=String.raw(eo||(eo=r(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),ku),Cu=new RegExp(Tu),Eu=new RegExp(Su),Ou=new RegExp(Su,"g");function Pu(e){const t=[];if(!(e=(e=>ul(e.replace(mu," $1 ").replace(/,/gi," ")))(e).replace(/\s*([()])\s*/gi,"$1"))||e&&!Cu.test(e))return[...qo];for(const n of e.matchAll(Ou)){const e=Eu.exec(n[0]);if(!e)continue;let r=qo;const i=e.filter(e=>!!e),[,o,...a]=i,[s,l,c,u,h,f]=a.map(e=>parseFloat(e));switch(o){case"translate":r=ts(s,l);break;case sa:r=ns({angle:s},{x:l,y:c});break;case da:r=rs(s,l);break;case ma:r=os(s);break;case ya:r=as(s);break;case"matrix":r=[s,l,c,u,h,f]}t.push(r)}return Qa(t)}function Au(e,t,n,r){const i=Array.isArray(t);let o,a=t;if(e!==va&&e!==ba||t!==na){if("strokeUniform"===e)return"non-scaling-stroke"===t;if("strokeDashArray"===e)a=t===na?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)a=n&&n.transformMatrix?$a(n.transformMatrix,Pu(t)):Pu(t);else if("visible"===e)a=t!==na&&"hidden"!==t,n&&!1===n.visible&&(a=!1);else if("opacity"===e)a=parseFloat(t),n&&void 0!==n.opacity&&(a*=n.opacity);else if("textAnchor"===e)a="start"===t?Qo:"end"===t?ta:$o;else if("charSpacing"===e||e===Sl)o=vl(t,r)/r*1e3;else if("paintFirst"===e){const e=t.indexOf(va),n=t.indexOf(ba);a=va,(e>-1&&n>-1&&n<e||-1===e&&n>-1)&&(a=ba)}else{if("href"===e||"xlink:href"===e||"font"===e||"id"===e)return t;if("imageSmoothing"===e)return"optimizeQuality"===t;o=i?t.map(vl):vl(t,r)}}else a="";return!i&&isNaN(o)?a:o}function ju(e,t){e.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;const[n,r]=e.split(":");t[n.trim().toLowerCase()]=r.trim()})}const Du={stroke:"strokeOpacity",fill:"fillOpacity"};function Mu(e,t,n){if(!e)return{};let r,i={},o=Zo;e.parentNode&&Bl.test(e.parentNode.nodeName)&&(i=Mu(e.parentElement,t,n),i.fontSize&&(r=o=vl(i.fontSize)));const a=l(l(l({},t.reduce((t,n)=>{const r=e.getAttribute(n);return r&&(t[n]=r),t},{})),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};for(const r in t)pu(e,r.split(" "))&&(n=l(l({},n),t[r]));return n}(e,n)),function(e){const t={},n=e.getAttribute("style");return n?("string"==typeof n?ju(n,t):function(e,t){Object.entries(e).forEach(e=>{let[n,r]=e;void 0!==r&&(t[n.toLowerCase()]=r)})}(n,t),t):t}(e));a[zl]&&e.setAttribute(zl,a[zl]),a[Fl]&&(r=vl(a[Fl],o),a[Fl]="".concat(r));const s={};for(const l in a){const e=gu(l),t=Au(e,a[l],i,r);s[e]=t}s&&s.font&&function(e,t){const n=e.match(Rl);if(!n)return;const r=n[1],i=n[3],o=n[4],a=n[5],s=n[6];r&&(t.fontStyle=r),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),o&&(t.fontSize=vl(o)),s&&(t.fontFamily=s),a&&(t.lineHeight=a===Sa?1:a)}(s.font,s);const c=l(l({},i),s);return Bl.test(e.nodeName)?c:function(e){const t=Zc.getDefaults();return Object.entries(Du).forEach(n=>{let[r,i]=n;if(void 0===e[i]||""===e[r])return;if(void 0===e[r]){if(!t[r])return;e[r]=t[r]}if(0===e[r].indexOf("url("))return;const o=new yl(e[r]);e[r]=o.setAlpha(ps(o.getAlpha()*e[i],2)).toRgba()}),e}(c)}const Lu=["rx","ry"];class Iu extends Zc{static getDefaults(){return l(l({},super.getDefaults()),Iu.ownDefaults)}constructor(e){super(),Object.assign(this,Iu.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:t}=this;e&&!t?this.ry=e:t&&!e&&(this.rx=t)}_render(e){const{width:t,height:n}=this,r=-t/2,i=-n/2,o=this.rx?Math.min(this.rx,t/2):0,a=this.ry?Math.min(this.ry,n/2):0,s=0!==o||0!==a;e.beginPath(),e.moveTo(r+o,i),e.lineTo(r+t-o,i),s&&e.bezierCurveTo(r+t-Ko*o,i,r+t,i+Ko*a,r+t,i+a),e.lineTo(r+t,i+n-a),s&&e.bezierCurveTo(r+t,i+n-Ko*a,r+t-Ko*o,i+n,r+t-o,i+n),e.lineTo(r+o,i+n),s&&e.bezierCurveTo(r+Ko*o,i+n,r,i+n-Ko*a,r,i+n-a),e.lineTo(r,i+a),s&&e.bezierCurveTo(r,i+Ko*a,r+Ko*o,i,r+o,i),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...Lu,...e])}_toSVG(){const{width:e,height:t,rx:n,ry:r}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-t/2,'" rx="').concat(n,'" ry="').concat(r,'" width="').concat(e,'" height="').concat(t,'" />\n')]}static async fromElement(e,t,n){const r=Mu(e,this.ATTRIBUTE_NAMES,n),{left:i=0,top:o=0,width:a=0,height:s=0,visible:u=!0}=r,h=c(r,co);return new this(l(l(l({},t),h),{},{left:i,top:o,width:a,height:s,visible:Boolean(u&&a&&s)}))}}Eo(Iu,"type","Rect"),Eo(Iu,"cacheProperties",[...Gl,...Lu]),Eo(Iu,"ownDefaults",{rx:0,ry:0}),Eo(Iu,"ATTRIBUTE_NAMES",[...fu,"x","y","rx","ry","width","height"]),Ca.setClass(Iu),Ca.setSVGClass(Iu);const Ru="initialization",Nu="added",Fu="removed",zu="imperative",Bu=(e,t)=>{const{strokeUniform:n,strokeWidth:r,width:i,height:o,group:a}=t,s=a&&a!==e?zs(a.calcTransformMatrix(),e.calcTransformMatrix()):null,l=s?t.getRelativeCenterPoint().transform(s):t.getRelativeCenterPoint(),c=!t.isStrokeAccountedForInDimensions(),u=n&&c?Us(new Da(r,r),void 0,e.calcTransformMatrix()):Ma,h=!n&&c?r:0,f=Fs(i+h,o+h,Qa([s,t.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[l.subtract(f),l.add(f)]};class Uu{calcLayoutResult(e,t){if(this.shouldPerformLayout(e))return this.calcBoundingBox(t,e)}shouldPerformLayout(e){let{type:t,prevStrategy:n,strategy:r}=e;return t===Ru||t===zu||!!n&&r!==n}shouldLayoutClipPath(e){let{type:t,target:{clipPath:n}}=e;return t!==Ru&&n&&!n.absolutePositioned}getInitialSize(e,t){return t.size}calcBoundingBox(e,t){const{type:n,target:r}=t;if(n===zu&&t.overrides)return t.overrides;if(0===e.length)return;const{left:i,top:o,width:a,height:s}=Ms(e.map(e=>Bu(r,e)).reduce((e,t)=>e.concat(t),[])),l=new Da(a,s),c=new Da(i,o).add(l.scalarDivide(2));if(n===Ru){const e=this.getInitialSize(t,{size:l,center:c});return{center:c,relativeCorrection:new Da(0,0),size:e}}return{center:c.transform(r.calcOwnMatrix()),size:l}}}Eo(Uu,"type","strategy");class Wu extends Uu{shouldPerformLayout(e){return!0}}Eo(Wu,"type","fit-content"),Ca.setClass(Wu);const Hu="layoutManager";class Yu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wu;Eo(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const t=l(l({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(t);const n=this.getLayoutResult(t);n&&this.commitLayout(t,n),this.onAfterLayout(t,n),this._prevLayoutStrategy=t.strategy}attachHandlers(e,t){const{target:n}=t;return[wa,ia,ca,aa,oa,la,fa,ua,ha].map(t=>e.on(t,e=>this.performLayout(t===wa?{type:"object_modified",trigger:t,e:e,target:n}:{type:"object_modifying",trigger:t,e:e,target:n})))}subscribe(e,t){this.unsubscribe(e,t);const n=this.attachHandlers(e,t);this._subscriptions.set(e,n)}unsubscribe(e,t){(this._subscriptions.get(e)||[]).forEach(e=>e()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(t=>this.unsubscribe(t,e))}subscribeTargets(e){e.targets.forEach(t=>this.subscribe(t,e))}onBeforeLayout(e){const{target:t,type:n}=e,{canvas:r}=t;if(n===Ru||n===Nu?this.subscribeTargets(e):n===Fu&&this.unsubscribeTargets(e),t.fire("layout:before",{context:e}),r&&r.fire("object:layout:before",{target:t,context:e}),n===zu&&e.deep){const{strategy:n}=e,r=c(e,uo);t.forEachObject(e=>e.layoutManager&&e.layoutManager.performLayout(l(l({},r),{},{bubbles:!1,target:e})))}}getLayoutResult(e){const{target:t,strategy:n,type:r}=e,i=n.calcLayoutResult(e,t.getObjects());if(!i)return;const o=r===Ru?new Da:t.getRelativeCenterPoint(),{center:a,correction:s=new Da,relativeCorrection:l=new Da}=i,c=o.subtract(a).add(s).transform(r===Ru?qo:Ka(t.calcOwnMatrix()),!0).add(l);return{result:i,prevCenter:o,nextCenter:a,offset:c}}commitLayout(e,t){const{target:n}=e,{result:{size:r},nextCenter:i}=t;var o,a;n.set({width:r.x,height:r.y}),this.layoutObjects(e,t),e.type===Ru?n.set({left:null!==(o=e.x)&&void 0!==o?o:i.x+r.x*Ys(n.originX),top:null!==(a=e.y)&&void 0!==a?a:i.y+r.y*Ys(n.originY)}):(n.setPositionByOrigin(i,$o,$o),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,t){const{target:n}=e;n.forEachObject(r=>{r.group===n&&this.layoutObject(e,t,r)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,t,n.clipPath)}layoutObject(e,t,n){let{offset:r}=t;n.set({left:n.left+r.x,top:n.top+r.y})}onAfterLayout(e,t){const{target:n,strategy:r,bubbles:i,prevStrategy:o}=e,a=c(e,ho),{canvas:s}=n;n.fire("layout:after",{context:e,result:t}),s&&s.fire("object:layout:after",{context:e,result:t,target:n});const u=n.parent;i&&null!=u&&u.layoutManager&&((a.path||(a.path=[])).push(n),u.layoutManager.performLayout(l(l({},a),{},{target:u}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(e=>e.forEach(e=>e())),e.clear()}toObject(){return{type:Hu,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}Ca.setClass(Yu,Hu);class Vu extends Yu{performLayout(){}}class Gu extends(Ia(Zc)){static getDefaults(){return l(l({},super.getDefaults()),Gu.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Eo(this,"_activeObjects",[]),Eo(this,"__objectSelectionTracker",void 0),Eo(this,"__objectSelectionDisposer",void 0),Object.assign(this,Gu.ownDefaults),this.setOptions(t),this.groupInit(e,t)}groupInit(e,t){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(e=>{this.enterGroup(e,!1)}),this.layoutManager=null!==(n=t.layoutManager)&&void 0!==n?n:new Yu,this.layoutManager.performLayout({type:Ru,target:this,targets:[...e],x:t.left,y:t.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(Ao("error","Group: circular object trees are not supported, this call has no effect"),!1):-1===this._objects.indexOf(e)||(Ao("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((e,t,n)=>this.canEnterGroup(e)&&n.indexOf(e)===t)}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=this._filterObjectsBeforeEnteringGroup(t),i=super.add(...r);return this._onAfterObjectsChange(Nu,r),i}insertAt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=this._filterObjectsBeforeEnteringGroup(n),o=super.insertAt(e,...i);return this._onAfterObjectsChange(Nu,i),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(Fu,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,t){this.exitGroup(e,t),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,t){this.layoutManager.performLayout({type:e,targets:t,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,t){const n=this[e];return super._set(e,t),"canvas"===e&&n!==t&&(this._objects||[]).forEach(n=>{n._set(e,t)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,t){let{target:n}=t;const r=this._activeObjects;if(e)r.push(n),this._set("dirty",!0);else if(r.length>0){const e=r.indexOf(n);e>-1&&(r.splice(e,1),this._set("dirty",!0))}}_watchObject(e,t){e&&this._watchObject(!1,t),e?(t.on("selected",this.__objectSelectionTracker),t.on("deselected",this.__objectSelectionDisposer)):(t.off("selected",this.__objectSelectionTracker),t.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,t){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,t)}_enterGroup(e,t){t&&Is(e,$a(Ka(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,t){this._exitGroup(e,t),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,t){e._set("group",void 0),t||(Is(e,$a(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=Zc.prototype.shouldCache.call(this);if(e)for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1;return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,t,n){this._renderBackground(e);for(let i=0;i<this._objects.length;i++){var r;const t=this._objects[i];null!==(r=this.canvas)&&void 0!==r&&r.preserveObjectStacking&&t.group!==this?(e.save(),e.transform(...Ka(this.calcTransformMatrix())),t.render(e),e.restore()):t.group===this&&t.render(e)}this._drawClipPath(e,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.layoutManager.performLayout(l({target:this,type:zu},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,t){const n=this.includeDefaultValues;return this._objects.filter(function(e){return!e.excludeFromExport}).map(function(r){const i=r.includeDefaultValues;r.includeDefaultValues=n;const o=r[e||"toObject"](t);return r.includeDefaultValues=i,o})}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.layoutManager.toObject();return l(l(l({},super.toObject(["subTargetCheck","interactive",...e])),"fit-content"!==t.strategy||this.includeDefaultValues?{layoutManager:t}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const t=Iu.prototype._toSVG.call(this),n=t.indexOf("COMMON_PARTS");t[n]='for="group" ';const r=t.join("");return e?e(r):r}_toSVG(e){const t=["<g ","COMMON_PARTS"," >\n"],n=this._createSVGBgRect(e);n&&t.push("\t\t",n);for(let r=0;r<this._objects.length;r++)t.push("\t\t",this._objects[r].toSVG(e));return t.push("</g>\n"),t}getSvgStyles(){const e=void 0!==this.opacity&&1!==this.opacity?"opacity: ".concat(this.opacity,";"):"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")}toClipPathSVG(e){const t=[],n=this._createSVGBgRect(e);n&&t.push("\t",n);for(let r=0;r<this._objects.length;r++)t.push("\t",this._objects[r].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}static fromObject(e,t){let{type:n,objects:r=[],layoutManager:i}=e,o=c(e,fo);return Promise.all([us(r,t),hs(o,t)]).then(e=>{let[t,n]=e;const r=new this(t,l(l(l({},o),n),{},{layoutManager:new Vu}));if(i){const e=Ca.getClass(i.type),t=Ca.getClass(i.strategy);r.layoutManager=new e(new t)}else r.layoutManager=new Yu;return r.layoutManager.subscribeTargets({type:Ru,target:r,targets:r.getObjects()}),r.setCoords(),r})}}Eo(Gu,"type","Group"),Eo(Gu,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),Ca.setClass(Gu);const Xu=(e,t)=>Math.min(t.width/e.width,t.height/e.height),qu=(e,t)=>Math.max(t.width/e.width,t.height/e.height),Zu="\\s*,?\\s*",Ku="".concat(Zu,"(").concat(Ll,")"),$u="".concat(Ku).concat(Ku).concat(Ku).concat(Zu,"([01])").concat(Zu,"([01])").concat(Ku).concat(Ku),Qu={m:"l",M:"L"},Ju=(e,t,n,r,i,o,a,s,l,c,u)=>{const h=Aa(e),f=ja(e),d=Aa(t),p=ja(t),g=n*i*d-r*o*p+a,m=r*i*d+n*o*p+s;return["C",c+l*(-n*i*f-r*o*h),u+l*(-r*i*f+n*o*h),g+l*(n*i*p+r*o*d),m+l*(r*i*p-n*o*d),g,m]},eh=(e,t,n,r)=>{const i=Math.atan2(t,e),o=Math.atan2(r,n);return o>=i?o-i:2*Math.PI-(i-o)};function th(e,t,n,r,i,o,a,s){let l;if(Po.cachesBoundsOfCurve&&(l=[...arguments].join(),Uo.boundsOfCurveCache[l]))return Uo.boundsOfCurveCache[l];const c=Math.sqrt,u=Math.abs,h=[],f=[[0,0],[0,0]];let d=6*e-12*n+6*i,p=-3*e+9*n-9*i+3*a,g=3*n-3*e;for(let w=0;w<2;++w){if(w>0&&(d=6*t-12*r+6*o,p=-3*t+9*r-9*o+3*s,g=3*r-3*t),u(p)<1e-12){if(u(d)<1e-12)continue;const e=-g/d;0<e&&e<1&&h.push(e);continue}const e=d*d-4*g*p;if(e<0)continue;const n=c(e),i=(-d+n)/(2*p);0<i&&i<1&&h.push(i);const a=(-d-n)/(2*p);0<a&&a<1&&h.push(a)}let m=h.length;const y=m,v=oh(e,t,n,r,i,o,a,s);for(;m--;){const{x:e,y:t}=v(h[m]);f[0][m]=e,f[1][m]=t}f[0][y]=e,f[1][y]=t,f[0][y+1]=a,f[1][y+1]=s;const b=[new Da(Math.min(...f[0]),Math.min(...f[1])),new Da(Math.max(...f[0]),Math.max(...f[1]))];return Po.cachesBoundsOfCurve&&(Uo.boundsOfCurveCache[l]=b),b}const nh=(e,t,n)=>{let[r,i,o,a,s,l,c,u]=n;const h=((e,t,n,r,i,o,a)=>{if(0===n||0===r)return[];let s=0,l=0,c=0;const u=Math.PI,h=a*Xo,f=ja(h),d=Aa(h),p=.5*(-d*e-f*t),g=.5*(-d*t+f*e),m=n**2,y=r**2,v=g**2,b=p**2,w=m*y-m*v-y*b;let _=Math.abs(n),x=Math.abs(r);if(w<0){const e=Math.sqrt(1-w/(m*y));_*=e,x*=e}else c=(i===o?-1:1)*Math.sqrt(w/(m*v+y*b));const S=c*_*g/x,k=-c*x*p/_,T=d*S-f*k+.5*e,C=f*S+d*k+.5*t;let E=eh(1,0,(p-S)/_,(g-k)/x),O=eh((p-S)/_,(g-k)/x,(-p-S)/_,(-g-k)/x);0===o&&O>0?O-=2*u:1===o&&O<0&&(O+=2*u);const P=Math.ceil(Math.abs(O/u*2)),A=[],j=O/P,D=8/3*Math.sin(j/4)*Math.sin(j/4)/Math.sin(j/2);let M=E+j;for(let L=0;L<P;L++)A[L]=Ju(E,M,d,f,_,x,T,C,D,s,l),s=A[L][5],l=A[L][6],E=M,M+=j;return A})(c-e,u-t,i,o,s,l,a);for(let f=0,d=h.length;f<d;f++)h[f][1]+=e,h[f][2]+=t,h[f][3]+=e,h[f][4]+=t,h[f][5]+=e,h[f][6]+=t;return h},rh=e=>{let t=0,n=0,r=0,i=0;const o=[];let a,s=0,l=0;for(const c of e){const e=[...c];let u;switch(e[0]){case"l":e[1]+=t,e[2]+=n;case"L":t=e[1],n=e[2],u=["L",t,n];break;case"h":e[1]+=t;case"H":t=e[1],u=["L",t,n];break;case"v":e[1]+=n;case"V":n=e[1],u=["L",t,n];break;case"m":e[1]+=t,e[2]+=n;case"M":t=e[1],n=e[2],r=e[1],i=e[2],u=["M",t,n];break;case"c":e[1]+=t,e[2]+=n,e[3]+=t,e[4]+=n,e[5]+=t,e[6]+=n;case"C":s=e[3],l=e[4],t=e[5],n=e[6],u=["C",e[1],e[2],s,l,t,n];break;case"s":e[1]+=t,e[2]+=n,e[3]+=t,e[4]+=n;case"S":"C"===a?(s=2*t-s,l=2*n-l):(s=t,l=n),t=e[3],n=e[4],u=["C",s,l,e[1],e[2],t,n],s=u[3],l=u[4];break;case"q":e[1]+=t,e[2]+=n,e[3]+=t,e[4]+=n;case"Q":s=e[1],l=e[2],t=e[3],n=e[4],u=["Q",s,l,t,n];break;case"t":e[1]+=t,e[2]+=n;case"T":"Q"===a?(s=2*t-s,l=2*n-l):(s=t,l=n),t=e[1],n=e[2],u=["Q",s,l,t,n];break;case"a":e[6]+=t,e[7]+=n;case"A":nh(t,n,e).forEach(e=>o.push(e)),t=e[6],n=e[7];break;case"z":case"Z":t=r,n=i,u=["Z"]}u?(o.push(u),a=u[0]):a=""}return o},ih=(e,t,n,r)=>Math.sqrt((n-e)**2+(r-t)**2),oh=(e,t,n,r,i,o,a,s)=>l=>{const c=l**3,u=(e=>3*e**2*(1-e))(l),h=(e=>3*e*(1-e)**2)(l),f=(e=>(1-e)**3)(l);return new Da(a*c+i*u+n*h+e*f,s*c+o*u+r*h+t*f)},ah=e=>e**2,sh=e=>2*e*(1-e),lh=e=>(1-e)**2,ch=(e,t,n,r,i,o,a,s)=>l=>{const c=ah(l),u=sh(l),h=lh(l),f=3*(h*(n-e)+u*(i-n)+c*(a-i)),d=3*(h*(r-t)+u*(o-r)+c*(s-o));return Math.atan2(d,f)},uh=(e,t,n,r,i,o)=>a=>{const s=ah(a),l=sh(a),c=lh(a);return new Da(i*s+n*l+e*c,o*s+r*l+t*c)},hh=(e,t,n,r,i,o)=>a=>{const s=1-a,l=2*(s*(n-e)+a*(i-n)),c=2*(s*(r-t)+a*(o-r));return Math.atan2(c,l)},fh=(e,t,n)=>{let r=new Da(t,n),i=0;for(let o=1;o<=100;o+=1){const t=e(o/100);i+=ih(r.x,r.y,t.x,t.y),r=t}return i},dh=e=>{let t,n,r=0,i=0,o=0,a=0,s=0;const l=[];for(const c of e){const e={x:i,y:o,command:c[0],length:0};switch(c[0]){case"M":n=e,n.x=a=i=c[1],n.y=s=o=c[2];break;case"L":n=e,n.length=ih(i,o,c[1],c[2]),i=c[1],o=c[2];break;case"C":t=oh(i,o,c[1],c[2],c[3],c[4],c[5],c[6]),n=e,n.iterator=t,n.angleFinder=ch(i,o,c[1],c[2],c[3],c[4],c[5],c[6]),n.length=fh(t,i,o),i=c[5],o=c[6];break;case"Q":t=uh(i,o,c[1],c[2],c[3],c[4]),n=e,n.iterator=t,n.angleFinder=hh(i,o,c[1],c[2],c[3],c[4]),n.length=fh(t,i,o),i=c[3],o=c[4];break;case"Z":n=e,n.destX=a,n.destY=s,n.length=ih(i,o,a,s),i=a,o=s}r+=n.length,l.push(n)}return l.push({length:r,x:i,y:o}),l},ph=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dh(e),r=0;for(;t-n[r].length>0&&r<n.length-2;)t-=n[r].length,r++;const i=n[r],o=t/i.length,a=e[r];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return l(l({},new Da(i.x,i.y).lerp(new Da(i.destX,i.destY),o)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return l(l({},new Da(i.x,i.y).lerp(new Da(a[1],a[2]),o)),{},{angle:Math.atan2(a[2]-i.y,a[1]-i.x)});case"C":case"Q":return((e,t)=>{let n,r=0,i=0,o={x:e.x,y:e.y},a=l({},o),s=.01,c=0;const u=e.iterator,h=e.angleFinder;for(;i<t&&s>1e-4;)a=u(r),c=r,n=ih(o.x,o.y,a.x,a.y),n+i>t?(r-=s,s/=2):(o=a,r+=s,i+=n);return l(l({},a),{},{angle:h(c)})})(i,t)}},gh=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),mh=new RegExp($u,"g"),yh=new RegExp(Ll,"gi"),vh={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},bh=e=>{var t;const n=[],r=null!==(t=e.match(gh))&&void 0!==t?t:[];for(const i of r){const e=i[0];if("z"===e||"Z"===e){n.push([e]);continue}const t=vh[e.toLowerCase()];let r=[];if("a"===e||"A"===e){mh.lastIndex=0;for(let e=null;e=mh.exec(i);)r.push(...e.slice(1))}else r=i.match(yh)||[];for(let i=0;i<r.length;i+=t){const o=new Array(t),a=Qu[e];o[0]=i>0&&a?a:e;for(let e=0;e<t;e++)o[e+1]=parseFloat(r[i+e]);n.push(o)}}return n},wh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Da(e[0]),r=new Da(e[1]),i=1,o=0;const a=[],s=e.length,l=s>2;let c;for(l&&(i=e[2].x<r.x?-1:e[2].x===r.x?0:1,o=e[2].y<r.y?-1:e[2].y===r.y?0:1),a.push(["M",n.x-i*t,n.y-o*t]),c=1;c<s;c++){if(!n.eq(r)){const e=n.midPointFrom(r);a.push(["Q",n.x,n.y,e.x,e.y])}n=e[c],c+1<e.length&&(r=e[c+1])}return l&&(i=n.x>e[c-2].x?1:n.x===e[c-2].x?0:-1,o=n.y>e[c-2].y?1:n.y===e[c-2].y?0:-1),a.push(["L",n.x+i*t,n.y+o*t]),a},_h=(e,t)=>e.map(e=>e.map((e,n)=>0===n||void 0===t?e:ps(e,t)).join(" ")).join(" "),xh=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,Sh=(e,t)=>{let n=e._findCenterFromElement();e.transformMatrix&&((e=>{if(e.transformMatrix){const{scaleX:t,scaleY:n,angle:r,skewX:i}=es(e.transformMatrix);e.flipX=!1,e.flipY=!1,e.set(pa,t),e.set(ga,n),e.angle=r,e.skewX=i,e.skewY=0}})(e),n=n.transform(e.transformMatrix)),delete e.transformMatrix,t&&(e.scaleX*=t.scaleX,e.scaleY*=t.scaleY,e.cropX=t.cropX,e.cropY=t.cropY,n.x+=t.offsetLeft,n.y+=t.offsetTop,e.width=t.width,e.height=t.height),e.setPositionByOrigin(n,$o,$o)};Object.freeze({__proto__:null,addTransformToObject:Ls,animate:sc,animateColor:lc,applyTransformToObject:Is,calcAngleBetweenVectors:Ks,calcDimensionsMatrix:ss,calcPlaneChangeMatrix:zs,calcVectorRotation:$s,cancelAnimFrame:Fa,capValue:Yl,composeMatrix:ls,copyCanvasElement:e=>{var t;const n=Ha(e);return null===(t=n.getContext("2d"))||void 0===t||t.drawImage(e,0,0),n},cos:Aa,createCanvasElement:Ua,createImage:Wa,createRotateMatrix:ns,createScaleMatrix:rs,createSkewXMatrix:os,createSkewYMatrix:as,createTranslateMatrix:ts,createVector:qs,crossProduct:el,degreesToRadians:Ga,dotProduct:tl,ease:Jl,enlivenObjectEnlivables:hs,enlivenObjects:us,findScaleToCover:qu,findScaleToFit:Xu,getBoundsOfCurve:th,getOrthonormalVector:Js,getPathSegmentsInfo:dh,getPointOnPath:ph,getPointer:As,getRandomInt:xh,getRegularPolygonPath:(e,t)=>{const n=2*Math.PI/e;let r=-Yo;e%2==0&&(r+=n/2);const i=new Array(e+1);for(let o=0;o<e;o++){const e=o*n+r,{x:a,y:s}=new Da(Aa(e),ja(e)).scalarMultiply(t);i[o]=[0===o?"M":"L",a,s]}return i[e]=["Z"],i},getSmoothPathFromPoints:wh,getSvgAttributes:e=>{const t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":return t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return t.concat(["offset","stop-color","stop-opacity"])}return t},getUnitVector:Qs,groupSVGElements:(e,t)=>e&&1===e.length?e[0]:new Gu(e,t),hasStyleChanged:cu,invertTransform:Ka,isBetweenVectors:nl,isIdentityMatrix:qa,isTouchEvent:js,isTransparent:Kc,joinPath:_h,loadImage:cs,magnitude:Zs,makeBoundingBoxFromPoints:Ms,makePathSimpler:rh,matrixToSVG:gs,mergeClipPaths:(e,t)=>{var n;let r=e,i=t;r.inverted&&!i.inverted&&(r=t,i=e),Ws(i,null===(n=i.group)||void 0===n?void 0:n.calcTransformMatrix(),r.calcTransformMatrix());const o=r.inverted&&i.inverted;return o&&(r.inverted=i.inverted=!1),new Gu([r],{clipPath:i,inverted:o})},multiplyTransformMatrices:$a,multiplyTransformMatrixArray:Qa,parsePath:bh,parsePreserveAspectRatioAttribute:bl,parseUnit:vl,pick:fs,projectStrokeOnPoints:tu,qrDecompose:es,radiansToDegrees:Xa,removeFromArray:Pa,removeTransformFromObject:(e,t)=>{const n=Ka(t),r=$a(n,e.calcOwnMatrix());Is(e,r)},removeTransformMatrixForSvgParsing:Sh,requestAnimFrame:Na,resetObjectTransform:Rs,rotateVector:Xs,saveObjectTransform:Ns,sendObjectToPlane:Ws,sendPointToPlane:Bs,sendVectorToPlane:Us,sin:ja,sizeAfterTransform:Fs,string:lu,stylesFromArray:hu,stylesToArray:uu,toBlob:Va,toDataURL:Ya,toFixed:ps,transformPath:(e,t,n)=>(n&&(t=$a(t,[1,0,0,1,-n.x,-n.y])),e.map(e=>{const n=[...e];for(let r=1;r<e.length-1;r+=2){const{x:i,y:o}=Za({x:e[r],y:e[r+1]},t);n[r]=i,n[r+1]=o}return n})),transformPoint:Za});function kh(e,t){const n=e.style;n&&Object.entries(t).forEach(e=>{let[t,r]=e;return n.setProperty(t,r)})}class Th extends Cs{constructor(e){let{allowTouchScrolling:t=!1,containerClass:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),Eo(this,"upper",void 0),Eo(this,"container",void 0);const{el:r}=this.lower,i=this.createUpperCanvas();this.upper={el:i,ctx:i.getContext("2d")},this.applyCanvasStyle(r,{allowTouchScrolling:t}),this.applyCanvasStyle(i,{allowTouchScrolling:t,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(n),r.parentNode&&r.parentNode.replaceChild(o,r),o.append(r,i),this.container=o}createUpperCanvas(){const{el:e}=this.lower,t=Ua();return t.className=e.className,t.classList.remove("lower-canvas"),t.classList.add("upper-canvas"),t.setAttribute("data-fabric","top"),t.style.cssText=e.style.cssText,t.setAttribute("draggable","true"),t}createContainerElement(){const e=Fo().createElement("div");return e.setAttribute("data-fabric","wrapper"),kh(e,{position:"relative"}),Ts(e),e}applyCanvasStyle(e,t){const{styles:n,allowTouchScrolling:r}=t;kh(e,l(l({},n),{},{"touch-action":r?"manipulation":na})),Ts(e)}setDimensions(e,t){super.setDimensions(e,t);const{el:n,ctx:r}=this.upper;Ss(n,r,e,t)}setCSSDimensions(e){super.setCSSDimensions(e),ks(this.upper.el,e),ks(this.container,e)}cleanupDOM(e){const t=this.container,{el:n}=this.lower,{el:r}=this.upper;super.cleanupDOM(e),t.removeChild(r),t.removeChild(n),t.parentNode&&t.parentNode.replaceChild(n,t)}dispose(){super.dispose(),No().dispose(this.upper.el),delete this.upper,delete this.container}}const Ch=(e,t,n,r)=>{const{target:i,offsetX:o,offsetY:a}=t,s=n-o,l=r-a,c=!al(i,"lockMovementX")&&i.left!==s,u=!al(i,"lockMovementY")&&i.top!==l;return c&&i.set(Qo,s),u&&i.set(Jo,l),(c||u)&&fc(ia,sl(e,t,n,r)),c||u},Eh=ua,Oh=e=>function(t,n,r){const{points:i,pathOffset:o}=r;return new Da(i[e]).subtract(o).transform($a(r.getViewportTransform(),r.calcTransformMatrix()))},Ph=(e,t,n,r)=>{const{target:i,pointIndex:o}=t,a=i,s=Bs(new Da(n,r),void 0,a.calcOwnMatrix());return a.points[o]=s.add(a.pathOffset),a.setDimensions(),a.set("dirty",!0),!0},Ah=(e,t)=>function(n,r,i,o){const a=r.target,s=new Da(a.points[(e>0?e:a.points.length)-1]),c=s.subtract(a.pathOffset).transform(a.calcOwnMatrix()),u=t(n,l(l({},r),{},{pointIndex:e}),i,o),h=s.subtract(a.pathOffset).transform(a.calcOwnMatrix()).subtract(c);return a.left-=h.x,a.top-=h.y,u},jh=e=>dc(Eh,Ah(e,Ph)),Dh=(e,t,n)=>{const{path:r,pathOffset:i}=e,o=r[t];return new Da(o[n]-i.x,o[n+1]-i.y).transform($a(e.getViewportTransform(),e.calcTransformMatrix()))};function Mh(e,t,n){const{commandIndex:r,pointIndex:i}=this;return Dh(n,r,i)}function Lh(e,t,n,r){const{target:i}=t,{commandIndex:o,pointIndex:a}=this,s=((e,t,n,r,i)=>{const{path:o,pathOffset:a}=e,s=o[(r>0?r:o.length)-1],l=new Da(s[i],s[i+1]),c=l.subtract(a).transform(e.calcOwnMatrix()),u=Bs(new Da(t,n),void 0,e.calcOwnMatrix());o[r][i]=u.x+a.x,o[r][i+1]=u.y+a.y,e.setDimensions();const h=l.subtract(e.pathOffset).transform(e.calcOwnMatrix()).subtract(c);return e.left-=h.x,e.top-=h.y,e.set("dirty",!0),!0})(i,n,r,o,a);return fc(this.actionName,l(l({},sl(e,t,n,r)),{},{commandIndex:o,pointIndex:a})),s}class Ih extends xc{constructor(e){super(e)}render(e,t,n,r,i){const o=l(l({},r),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(e,t,n,o,i)}}class Rh extends Ih{constructor(e){super(e)}render(e,t,n,r,i){const{path:o}=i,{commandIndex:a,pointIndex:s,connectToCommandIndex:l,connectToPointIndex:c}=this;e.save(),e.strokeStyle=this.controlStroke,this.connectionDashArray&&e.setLineDash(this.connectionDashArray);const[u]=o[a],h=Dh(i,l,c);if("Q"===u){const r=Dh(i,a,s+2);e.moveTo(r.x,r.y),e.lineTo(t,n)}else e.moveTo(t,n);e.lineTo(h.x,h.y),e.stroke(),e.restore(),super.render(e,t,n,r,i)}}const Nh=(e,t,n,r,i,o)=>new(n?Rh:Ih)(l(l({commandIndex:e,pointIndex:t,actionName:"modifyPath",positionHandler:Mh,actionHandler:Lh,connectToCommandIndex:i,connectToPointIndex:o},r),n?r.controlPointStyle:r.pointStyle));Object.freeze({__proto__:null,changeHeight:bc,changeObjectHeight:yc,changeObjectWidth:mc,changeWidth:vc,createObjectDefaultControls:Yc,createPathControls:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={};let r="M";return e.path.forEach((e,i)=>{const o=e[0];switch("Z"!==o&&(n["c_".concat(i,"_").concat(o)]=Nh(i,e.length-2,!1,t)),o){case"C":n["c_".concat(i,"_C_CP_1")]=Nh(i,1,!0,t,i-1,(e=>"C"===e?5:"Q"===e?3:1)(r)),n["c_".concat(i,"_C_CP_2")]=Nh(i,3,!0,t,i,5);break;case"Q":n["c_".concat(i,"_Q_CP_1")]=Nh(i,1,!0,t,i,3)}r=o}),n},createPolyActionHandler:jh,createPolyControls:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={};for(let r=0;r<("number"==typeof e?e:e.points.length);r++)n["p".concat(r)]=new xc(l({actionName:Eh,positionHandler:Oh(r),actionHandler:jh(r)},t));return n},createPolyPositionHandler:Oh,createResizeControls:Vc,createTextboxDefaultControls:Gc,dragHandler:Ch,factoryPolyActionHandler:Ah,getLocalPoint:cl,polyActionHandler:Ph,renderCircleControl:wc,renderSquareControl:_c,rotationStyleHandler:Sc,rotationWithSnapping:kc,scaleCursorStyleHandler:Oc,scaleOrSkewActionName:Bc,scaleSkewCursorStyleHandler:Uc,scalingEqually:Ac,scalingX:jc,scalingXOrSkewingY:Wc,scalingY:Dc,scalingYOrSkewingX:Hc,skewCursorStyleHandler:Ic,skewHandlerX:Nc,skewHandlerY:Fc,wrapWithFireEvent:dc,wrapWithFixedAnchor:pc});class Fh extends Os{constructor(){super(...arguments),Eo(this,"_hoveredTargets",[]),Eo(this,"_currentTransform",null),Eo(this,"_groupSelector",null),Eo(this,"contextTopDirty",!1)}static getDefaults(){return l(l({},super.getDefaults()),Fh.ownDefaults)}get upperCanvasEl(){var e;return null===(e=this.elements.upper)||void 0===e?void 0:e.el}get contextTop(){var e;return null===(e=this.elements.upper)||void 0===e?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new Th(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(t=>!t.group&&t!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const t=this.getRetinaScaling(),n=Math.ceil((2*e+1)*t);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(t,t)}isTargetTransparent(e,t,n){const r=this.targetFindTolerance,i=this.pixelFindContext;this.clearContext(i),i.save(),i.translate(-t+r,-n+r),i.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(i),e.selectionBackgroundColor=o,i.restore();const a=Math.round(r*this.getRetinaScaling());return Kc(i,a,a,a)}_isSelectionKeyPressed(e){const t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find(t=>!!t&&!0===e[t]):e[t])}_shouldClearSelection(e,t){const n=this.getActiveObjects(),r=this._activeObject;return!!(!t||t&&r&&n.length>1&&-1===n.indexOf(t)&&r!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&r&&r!==t)}_shouldCenterTransform(e,t,n){if(!e)return;let r;return t===da||t===pa||t===ga||t===ca?r=this.centeredScaling||e.centeredScaling:t===sa&&(r=this.centeredRotation||e.centeredRotation),r?!n:n}_getOriginFromCorner(e,t){const n={x:e.originX,y:e.originY};return t?(["ml","tl","bl"].includes(t)?n.x=ta:["mr","tr","br"].includes(t)&&(n.x=Qo),["tl","mt","tr"].includes(t)?n.y=ea:["bl","mb","br"].includes(t)&&(n.y=Jo),n):n}_setupCurrentTransform(e,t,n){var r;const i=t.group?Bs(this.getScenePoint(e),void 0,t.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:a}=t.getActiveControl()||{},s=n&&a?null===(r=a.getActionHandler(e,t,a))||void 0===r?void 0:r.bind(a):Ch,c=((e,t,n,r)=>{if(!t||!e)return"drag";const i=r.controls[t];return i.getActionName(n,i,r)})(n,o,e,t),u=e[this.centeredKey],h=this._shouldCenterTransform(t,c,u)?{x:$o,y:$o}:this._getOriginFromCorner(t,o),{scaleX:f,scaleY:d,skewX:p,skewY:g,left:m,top:y,angle:v,width:b,height:w,cropX:_,cropY:x}=t,S={target:t,action:c,actionHandler:s,actionPerformed:!1,corner:o,scaleX:f,scaleY:d,skewX:p,skewY:g,offsetX:i.x-m,offsetY:i.y-y,originX:h.x,originY:h.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:Ga(v),width:b,height:w,shiftKey:e.shiftKey,altKey:u,original:l(l({},Ns(t)),{},{originX:h.x,originY:h.y,cropX:_,cropY:x})};this._currentTransform=S,this.fire("before:transform",{e:e,transform:S})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:t,y:n,deltaX:r,deltaY:i}=this._groupSelector,o=new Da(t,n).transform(this.viewportTransform),a=new Da(t+r,n+i).transform(this.viewportTransform),s=this.selectionLineWidth/2;let l=Math.min(o.x,a.x),c=Math.min(o.y,a.y),u=Math.max(o.x,a.x),h=Math.max(o.y,a.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(l,c,u-l,h-c)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,l+=s,c+=s,u-=s,h-=s,Zc.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(l,c,u-l,h-c))}findTarget(e){if(this._targetInfo)return this._targetInfo;if(this.skipTargetFind)return{subTargets:[],currentSubTargets:[]};const t=this.getScenePoint(e),n=this._activeObject,r=this.getActiveObjects(),i=this.searchPossibleTargets(this._objects,t),{subTargets:o,container:a,target:s}=i,c=l(l({},i),{},{currentSubTargets:o,currentContainer:a,currentTarget:s});if(!n)return c;const u=l(l({},this.searchPossibleTargets([n],t)),{},{currentSubTargets:o,currentContainer:a,currentTarget:s});if(n.findControl(this.getViewportPoint(e),js(e)))return l(l({},u),{},{target:n});if(u.target){if(r.length>1)return u;if(!this.preserveObjectStacking)return u;if(this.preserveObjectStacking&&e[this.altSelectionKey])return u}return c}_pointIsInObjectSelectionArea(e,t){let n=e.getCoords();const r=this.getZoom(),i=e.padding/r;if(i){const[e,t,r,o]=n,a=Math.atan2(t.y-e.y,t.x-e.x),s=Aa(a)*i,l=ja(a)*i,c=s+l,u=s-l;n=[new Da(e.x-u,e.y-c),new Da(t.x+c,t.y-u),new Da(r.x+u,r.y+c),new Da(o.x-c,o.y+u)]}return cc.isPointInPolygon(t,n)}_checkTarget(e,t){if(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;{const n=t.transform(this.viewportTransform);if(!this.isTargetTransparent(e,n.x,n.y))return!0}}return!1}_searchPossibleTargets(e,t,n){let r=e.length;for(;r--;){const i=e[r];if(this._checkTarget(i,t)){if(La(i)&&i.subTargetCheck){const{target:e}=this._searchPossibleTargets(i._objects,t,n);e&&n.push(e)}return{target:i,subTargets:n}}}return{subTargets:[]}}searchPossibleTargets(e,t){const n=this._searchPossibleTargets(e,t,[]);n.container=n.target;const{container:r,subTargets:i}=n;if(r&&La(r)&&r.interactive&&i[0]){for(let e=i.length-1;e>0;e--){const t=i[e];if(!La(t)||!t.interactive)return n.target=t,n}return n.target=i[0],n}return n}getViewportPoint(e){return this._viewportPoint?this._viewportPoint:this._getPointerImpl(e,!0)}getScenePoint(e){return this._scenePoint?this._scenePoint:this._getPointerImpl(e)}_getPointerImpl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.upperCanvasEl,r=n.getBoundingClientRect();let i=As(e),o=r.width||0,a=r.height||0;o&&a||(Jo in r&&ea in r&&(a=Math.abs(r.top-r.bottom)),ta in r&&Qo in r&&(o=Math.abs(r.right-r.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,t||(i=Bs(i,void 0,this.viewportTransform));const s=this.getRetinaScaling();1!==s&&(i.x/=s,i.y/=s);const l=0===o||0===a?new Da(1,1):new Da(n.width/o,n.height/a);return i.multiply(l)}_setDimensionsImpl(e,t){this._resetTransformEventData(),super._setDimensionsImpl(e,t),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Ua(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return bs(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,t){let n=!1,r=!1;const i=this.getActiveObjects(),o=[],a=[];e.forEach(e=>{i.includes(e)||(n=!0,e.fire("deselected",{e:t,target:e}),a.push(e))}),i.forEach(r=>{e.includes(r)||(n=!0,r.fire("selected",{e:t,target:r}),o.push(r))}),e.length>0&&i.length>0?(r=!0,n&&this.fire("selection:updated",{e:t,selected:o,deselected:a})):i.length>0?(r=!0,this.fire("selection:created",{e:t,selected:o})):e.length>0&&(r=!0,this.fire("selection:cleared",{e:t,deselected:a})),r&&(this._objectsToRender=void 0)}setActiveObject(e,t){const n=this.getActiveObjects(),r=this._setActiveObject(e,t);return this._fireSelectionEvents(n,t),r}_setActiveObject(e,t){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(t,e)&&this._activeObject)&&!e.onSelect({e:t})&&(this._activeObject=e,bs(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,t){const n=this._activeObject;return!!n&&!n.onDeselect({e:e,object:t})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),bs(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const t=this.getActiveObjects(),n=this.getActiveObject();t.length&&this.fire("before:selection:cleared",{e:e,deselected:[n]});const r=this._discardActiveObject(e);return this._fireSelectionEvents(t,e),r}endCurrentTransform(e){const t=this._currentTransform;this._finalizeCurrentTransform(e),t&&t.target&&(t.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const t=this._currentTransform,n=t.target,r={e:e,target:n,transform:t,action:t.action};n._scaling&&(n._scaling=!1),n.setCoords(),t.actionPerformed&&(this.fire("object:modified",r),n.fire(wa,r))}setViewportTransform(e){super.setViewportTransform(e);const t=this._activeObject;t&&t.setCoords()}destroy(){const e=this._activeObject;bs(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const t=this._activeObject;t&&t._renderControls(e)}_toObject(e,t,n){const r=this._realizeGroupTransformOnObject(e),i=super._toObject(e,t,n);return e.set(r),i}_realizeGroupTransformOnObject(e){const{group:t}=e;if(t&&bs(t)&&this._activeObject===t){const n=fs(e,["angle","flipX","flipY",Qo,pa,ga,ma,ya,Jo]);return Ls(e,t.calcOwnMatrix()),n}return{}}_setSVGObject(e,t,n){const r=this._realizeGroupTransformOnObject(t);super._setSVGObject(e,t,n),t.set(r)}}Eo(Fh,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!0,fireRightClick:!0,fireMiddleClick:!0,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!0});class zh{constructor(e){Eo(this,"targets",[]),Eo(this,"__disposer",void 0);const t=()=>{const{hiddenTextarea:t}=e.getActiveObject()||{};t&&t.focus()},n=e.upperCanvasEl;n.addEventListener("click",t),this.__disposer=()=>n.removeEventListener("click",t)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),Pa(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var t;(null===(t=this.target)||void 0===t?void 0:t.isEditing)&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const Bh={passive:!1},Uh=(e,t)=>({viewportPoint:e.getViewportPoint(t),scenePoint:e.getScenePoint(t)}),Wh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.addEventListener(...n)},Hh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.removeEventListener(...n)},Yh={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class Vh extends Fh{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Eo(this,"_isClick",void 0),Eo(this,"textEditingManager",new zh(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(Wh)}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.upperCanvasEl,r=this._getEventPrefix();e(xs(n),"resize",this._onResize),e(n,r+"down",this._onMouseDown),e(n,"".concat(r,"move"),this._onMouseMove,Bh),e(n,"".concat(r,"out"),this._onMouseOut),e(n,"".concat(r,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel,{passive:!1}),e(n,"contextmenu",this._onContextMenu),t||(e(n,"click",this._onClick),e(n,"dblclick",this._onClick)),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,Bh)}removeListeners(){this.addOrRemove(Hh);const e=this._getEventPrefix(),t=_s(this.upperCanvasEl);Hh(t,"".concat(e,"up"),this._onMouseUp),Hh(t,"touchend",this._onTouchEnd,Bh),Hh(t,"".concat(e,"move"),this._onMouseMove,Bh),Hh(t,"touchmove",this._onMouseMove,Bh),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_onMouseOut(e){const t=this._hoveredTarget,n=l({e:e},Uh(this,e));this.fire("mouse:out",l(l({},n),{},{target:t})),this._hoveredTarget=void 0,t&&t.fire("mouseout",l({},n)),this._hoveredTargets.forEach(e=>{this.fire("mouse:out",l(l({},n),{},{target:e})),e&&e.fire("mouseout",l({},n))}),this._hoveredTargets=[]}_onMouseEnter(e){const{target:t}=this.findTarget(e);this._currentTransform||t||(this.fire("mouse:over",l({e:e},Uh(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const t=this.getActiveObject();if(t&&t.onDragStart(e)){this._dragSource=t;const n={e:e,target:t};return this.fire("dragstart",n),t.fire("dragstart",n),void Wh(this.upperCanvasEl,"drag",this._onDragProgress)}Ds(e)}_renderDragEffects(e,t,n){let r=!1;const i=this._dropTarget;i&&i!==t&&i!==n&&(i.clearContextTop(),r=!0),null==t||t.clearContextTop(),n!==t&&(null==n||n.clearContextTop());const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),t&&(o.save(),t.transform(o),t.renderDragSourceEffect(e),o.restore(),r=!0),n&&(o.save(),n.transform(o),n.renderDropTargetEffect(e),o.restore(),r=!0),o.restore(),r&&(this.contextTopDirty=!0)}_onDragEnd(e){const{currentSubTargets:t}=this.findTarget(e),n=!!e.dataTransfer&&e.dataTransfer.dropEffect!==na,r=n?this._activeObject:void 0,i={e:e,target:this._dragSource,subTargets:t,dragSource:this._dragSource,didDrop:n,dropTarget:r};Hh(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const t={e:e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}_onDragOver(e){const t="dragover",{currentContainer:n,currentSubTargets:r}=this.findTarget(e),i=this._dragSource,o={e:e,target:n,subTargets:r,dragSource:i,canDrop:!1,dropTarget:void 0};let a;this.fire(t,o),this._fireEnterLeaveEvents(e,n,o),n&&(n.canDrop(e)&&(a=n),n.fire(t,o));for(let s=0;s<r.length;s++){const n=r[s];n.canDrop(e)&&(a=n),n.fire(t,o)}this._renderDragEffects(e,i,a),this._dropTarget=a}_onDragEnter(e){const{currentContainer:t,currentSubTargets:n}=this.findTarget(e),r={e:e,target:t,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",r),this._fireEnterLeaveEvents(e,t,r)}_onDragLeave(e){const{currentSubTargets:t}=this.findTarget(e),n={e:e,target:this._draggedoverTarget,subTargets:t,dragSource:this._dragSource};this.fire("dragleave",n),this._fireEnterLeaveEvents(e,void 0,n),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this._hoveredTargets=[]}_onDrop(e){const{currentContainer:t,currentSubTargets:n}=this.findTarget(e),r=this._basicEventHandler("drop:before",l({e:e,target:t,subTargets:n,dragSource:this._dragSource},Uh(this,e)));r.didDrop=!1,r.dropTarget=void 0,this._basicEventHandler("drop",r),this.fire("drop:after",r)}_onContextMenu(e){const{target:t,subTargets:n}=this.findTarget(e),r=this._basicEventHandler("contextmenu:before",{e:e,target:t,subTargets:n});return this.stopContextMenu&&Ds(e),this._basicEventHandler("contextmenu",r),!1}_onClick(e){const t=e.detail;t>3||t<2||(this._cacheTransformEventData(e),2==t&&"dblclick"===e.type&&this._handleEvent(e,"dblclick"),3==t&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}fireEventFromPointerEvent(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._cacheTransformEventData(e);const{target:i,subTargets:o}=this.findTarget(e),a=l(l({e:e,target:i,subTargets:o},Uh(this,e)),{},{transform:this._currentTransform},r);this.fire(t,a),i&&i.fire(n,a);for(let s=0;s<o.length;s++)o[s]!==i&&o[s].fire(n,a);this._resetTransformEventData()}getPointerId(e){const t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){this._cacheTransformEventData(e);let t=!this.allowTouchScrolling;const n=this._activeObject;void 0===this.mainTouchId&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e);const{target:r}=this.findTarget(e);(this.isDrawingMode||n&&r===n)&&(t=!0),t&&e.preventDefault();const i=this.upperCanvasEl,o=this._getEventPrefix(),a=_s(i);Wh(a,"touchend",this._onTouchEnd,Bh),t&&Wh(a,"touchmove",this._onMouseMove,Bh),Hh(i,"".concat(o,"down"),this._onMouseDown),this._resetTransformEventData()}_onMouseDown(e){this._cacheTransformEventData(e),this.__onMouseDown(e);const t=this.upperCanvasEl,n=this._getEventPrefix();Hh(t,"".concat(n,"move"),this._onMouseMove,Bh);const r=_s(t);Wh(r,"".concat(n,"up"),this._onMouseUp),Wh(r,"".concat(n,"move"),this._onMouseMove,Bh),this._resetTransformEventData()}_onTouchEnd(e){if(e.touches.length>0)return;this._cacheTransformEventData(e),this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const t=this._getEventPrefix(),n=_s(this.upperCanvasEl);Hh(n,"touchend",this._onTouchEnd,Bh),Hh(n,"touchmove",this._onMouseMove,Bh),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Wh(this.upperCanvasEl,"".concat(t,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this._cacheTransformEventData(e),this.__onMouseUp(e);const t=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const e=_s(this.upperCanvasEl);Hh(e,"".concat(n,"up"),this._onMouseUp),Hh(e,"".concat(n,"move"),this._onMouseMove,Bh),Wh(t,"".concat(n,"move"),this._onMouseMove,Bh)}this._resetTransformEventData()}_onMouseMove(e){this._cacheTransformEventData(e);const t=this.getActiveObject();!this.allowTouchScrolling&&(!t||!t.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e),this._resetTransformEventData()}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const t=this.getActiveObject();return!!t!=!!e||t&&e&&t!==e}__onMouseUp(e){var t;this._handleEvent(e,"up:before");const n=this._currentTransform,r=this._isClick,{target:i}=this.findTarget(e),{button:o}=e;if(o)return void((this.fireMiddleClick&&1===o||this.fireRightClick&&2===o)&&this._handleEvent(e,"up"));if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let a,s,l=!1;if(n&&(this._finalizeCurrentTransform(e),l=n.actionPerformed),!r){const t=i===this._activeObject;this.handleSelection(e),l||(l=this._shouldRender(i)||!t&&i===this._activeObject)}if(i){const t=i.findControl(this.getViewportPoint(e),js(e)),{key:r,control:o}=t||{};if(s=r,i.selectable&&i!==this._activeObject&&"up"===i.activeOn)this.setActiveObject(i,e),l=!0;else if(o){const t=o.getMouseUpHandler(e,i,o);t&&(a=this.getScenePoint(e),t.call(o,e,n,a.x,a.y))}i.isMoving=!1}if(n&&(n.target!==i||n.corner!==s)){const t=n.target&&n.target.controls[n.corner],r=t&&t.getMouseUpHandler(e,n.target,t);a=a||this.getScenePoint(e),r&&r.call(t,e,n,a.x,a.y)}this._setCursorFromEvent(e,i),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,i&&(i.__corner=void 0),l?this.requestRenderAll():r||null!==(t=this._activeObject)&&void 0!==t&&t.isEditing||this.renderTop()}_basicEventHandler(e,t){const{target:n,subTargets:r=[]}=t;this.fire(e,t),n&&n.fire(e,t);for(let i=0;i<r.length;i++)r[i]!==n&&r[i].fire(e,t);return t}_handleEvent(e,t,n){const{target:r,subTargets:i}=this.findTarget(e),o=l(l({e:e,target:r,subTargets:i},Uh(this,e)),{},{transform:this._currentTransform},"down:before"===t||"down"===t?n:{});"up:before"!==t&&"up"!==t||(o.isClick=this._isClick),this.fire("mouse:".concat(t),o),r&&r.fire("mouse".concat(t),o);for(let a=0;a<i.length;a++)i[a]!==r&&i[a].fire("mouse".concat(t),o)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const t=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:e,pointer:t}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._handleEvent(e,"down:before");let{target:t}=this.findTarget(e),n=!!t&&t===this._activeObject;const{button:r}=e;if(r)return void((this.fireMiddleClick&&1===r||this.fireRightClick&&2===r)&&this._handleEvent(e,"down",{alreadySelected:n}));if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e))return;if(this._currentTransform)return;let i=this._shouldRender(t),o=!1;if(this.handleMultiSelection(e,t)?(t=this._activeObject,o=!0,i=!0):this._shouldClearSelection(e,t)&&this.discardActiveObject(e),this.selection&&(!t||!t.selectable&&!t.isEditing&&t!==this._activeObject)){const t=this.getScenePoint(e);this._groupSelector={x:t.x,y:t.y,deltaY:0,deltaX:0}}if(n=!!t&&t===this._activeObject,t){t.selectable&&"down"===t.activeOn&&this.setActiveObject(t,e);const r=t.findControl(this.getViewportPoint(e),js(e));if(t===this._activeObject&&(r||!o)){this._setupCurrentTransform(e,t,n);const i=r?r.control:void 0,o=this.getScenePoint(e),a=i&&i.getMouseDownHandler(e,t,i);a&&a.call(i,e,this._currentTransform,o.x,o.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:n}),i&&this.requestRenderAll()}_resetTransformEventData(){this._targetInfo=this._viewportPoint=this._scenePoint=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._viewportPoint=this.getViewportPoint(e),this._scenePoint=Bs(this._viewportPoint,void 0,this.viewportTransform),this._targetInfo=this.findTarget(e),this._currentTransform&&(this._targetInfo.target=this._currentTransform.target)}__onMouseMove(e){if(this._isClick=!1,this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const t=this._groupSelector;if(t){const n=this.getScenePoint(e);t.deltaX=n.x-t.x,t.deltaY=n.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const{target:t}=this.findTarget(e);this._setCursorFromEvent(e,t),this._fireOverOutEvents(e,t)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move")}_fireOverOutEvents(e,t){const{_hoveredTarget:n,_hoveredTargets:r}=this,{subTargets:i}=this.findTarget(e),o=Math.max(r.length,i.length);this.fireSyntheticInOutEvents("mouse",{e:e,target:t,oldTarget:n,fireCanvas:!0});for(let a=0;a<o;a++)i[a]===t||r[a]&&r[a]===n||this.fireSyntheticInOutEvents("mouse",{e:e,target:i[a],oldTarget:r[a]});this._hoveredTarget=t,this._hoveredTargets=i}_fireEnterLeaveEvents(e,t,n){const r=this._draggedoverTarget,i=this._hoveredTargets,{subTargets:o}=this.findTarget(e),a=Math.max(i.length,o.length);this.fireSyntheticInOutEvents("drag",l(l({},n),{},{target:t,oldTarget:r,fireCanvas:!0}));for(let s=0;s<a;s++)this.fireSyntheticInOutEvents("drag",l(l({},n),{},{target:o[s],oldTarget:i[s]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(e,t){let{target:n,oldTarget:r,fireCanvas:i,e:o}=t,a=c(t,po);const{targetIn:s,targetOut:u,canvasIn:h,canvasOut:f}=Yh[e],d=r!==n;if(r&&d){const e=l(l({},a),{},{e:o,target:r,nextTarget:n},Uh(this,o));i&&this.fire(f,e),r.fire(u,e)}if(n&&d){const e=l(l({},a),{},{e:o,target:n,previousTarget:r},Uh(this,o));i&&this.fire(h,e),n.fire(s,e)}}_transformObject(e){const t=this.getScenePoint(e),n=this._currentTransform,r=n.target,i=r.group?Bs(t,void 0,r.group.calcTransformMatrix()):t;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,i),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,t,n){const{action:r,actionHandler:i,target:o}=t,a=!!i&&i(e,t,n.x,n.y);a&&o.setCoords(),"drag"===r&&a&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||a}_setCursorFromEvent(e,t){if(!t)return void this.setCursor(this.defaultCursor);let n=t.hoverCursor||this.hoverCursor;const r=bs(this._activeObject)?this._activeObject:null,i=(!r||t.group!==r)&&t.findControl(this.getViewportPoint(e));if(i){const{control:n,coord:r}=i;this.setCursor(n.cursorStyleHandler(e,n,t,r))}else{if(t.subTargetCheck){const{subTargets:t}=this.findTarget(e);t.concat().reverse().forEach(e=>{n=e.hoverCursor||n})}this.setCursor(n)}}handleMultiSelection(e,t){const n=this._activeObject,r=bs(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&t&&t.selectable&&(n!==t||r)&&(r||!t.isDescendantOf(n)&&!n.isDescendantOf(t))&&!t.onSelect({e:e})&&!n.getActiveControl()){if(r){const r=n.getObjects();let i=[];if(t===n){const n=this.getScenePoint(e);let o=this.searchPossibleTargets(r,n);if(o.target?(t=o.target,i=o.subTargets):(o=this.searchPossibleTargets(this._objects,n),t=o.target,i=o.subTargets),!t||!t.selectable)return!1}t.group===n?(n.remove(t),this._hoveredTarget=t,this._hoveredTargets=i,1===n.size()&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(t),this._hoveredTarget=n,this._hoveredTargets=i),this._fireSelectionEvents(r,e)}else{n.isEditing&&n.exitEditing();const r=new(Ca.getClass("ActiveSelection"))([],{canvas:this});r.multiSelectAdd(n,t),this._hoveredTarget=r,this._setActiveObject(r,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:t,y:n,deltaX:r,deltaY:i}=this._groupSelector,o=new Da(t,n),a=o.add(new Da(r,i)),s=o.min(a),l=o.max(a).subtract(s),c=this.collectObjects({left:s.x,top:s.y,width:l.x,height:l.y},{includeIntersecting:!this.selectionFullyContained}),u=o.eq(a)?c[0]?[c[0]]:[]:c.length>1?c.filter(t=>!t.onSelect({e:e})).reverse():c;if(1===u.length)this.setActiveObject(u[0],e);else if(u.length>1){const t=Ca.getClass("ActiveSelection");this.setActiveObject(new t(u,{canvas:this}),e)}return this._groupSelector=null,!0}toCanvasElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;const{upper:n}=this.elements;n.ctx=void 0;const r=super.toCanvasElement(e,t);return n.ctx=n.el.getContext("2d"),r}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const Gh={x1:0,y1:0,x2:0,y2:0},Xh=l(l({},Gh),{},{r1:0,r2:0}),qh=(e,t)=>isNaN(e)&&"number"==typeof t?t:e;function Zh(e){return e&&/%$/.test(e)&&Number.isFinite(parseFloat(e))}function Kh(e,t){const n="number"==typeof e?e:"string"==typeof e?parseFloat(e)/(Zh(e)?100:1):NaN;return Yl(0,qh(n,t),1)}const $h=/\s*;\s*/,Qh=/\s*:\s*/;function Jh(e,t){let n,r;const i=e.getAttribute("style");if(i){const e=i.split($h);""===e[e.length-1]&&e.pop();for(let t=e.length;t--;){const[i,o]=e[t].split(Qh).map(e=>e.trim());"stop-color"===i?n=o:"stop-opacity"===i&&(r=o)}}n=n||e.getAttribute("stop-color")||"rgb(0,0,0)",r=qh(parseFloat(r||e.getAttribute("stop-opacity")||""),1);const o=new yl(n);return o.setAlpha(o.getAlpha()*r*t),{offset:Kh(e.getAttribute("offset"),0),color:o.toRgba()}}function ef(e,t){const n=[],r=e.getElementsByTagName("stop"),i=Kh(t,1);for(let o=r.length;o--;)n.push(Jh(r[o],i));return n}function tf(e){return"linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?"linear":"radial"}function nf(e){return"userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage"}function rf(e,t){return e.getAttribute(t)}function of(e,t){return function(e,t){let n,{width:r,height:i,gradientUnits:o}=t;return Object.entries(e).reduce((e,t)=>{let[a,s]=t;if("Infinity"===s)n=1;else if("-Infinity"===s)n=0;else{const e="string"==typeof s;n=e?parseFloat(s):s,e&&Zh(s)&&(n*=.01,"pixels"===o&&("x1"!==a&&"x2"!==a&&"r2"!==a||(n*=r),"y1"!==a&&"y2"!==a||(n*=i)))}return e[a]=n,e},{})}("linear"===tf(e)?function(e){return{x1:rf(e,"x1")||0,y1:rf(e,"y1")||0,x2:rf(e,"x2")||"100%",y2:rf(e,"y2")||0}}(e):function(e){return{x1:rf(e,"fx")||rf(e,"cx")||"50%",y1:rf(e,"fy")||rf(e,"cy")||"50%",r1:0,x2:rf(e,"cx")||"50%",y2:rf(e,"cy")||"50%",r2:rf(e,"r")||"50%"}}(e),l(l({},t),{},{gradientUnits:nf(e)}))}class af{constructor(e){const{type:t="linear",gradientUnits:n="pixels",coords:r={},colorStops:i=[],offsetX:o=0,offsetY:a=0,gradientTransform:s,id:c}=e||{};Object.assign(this,{type:t,gradientUnits:n,coords:l(l({},"radial"===t?Xh:Gh),r),colorStops:i,offsetX:o,offsetY:a,gradientTransform:s,id:c?"".concat(c,"_").concat(Ba()):Ba()})}addColorStop(e){for(const t in e)this.colorStops.push({offset:parseFloat(t),color:e[t]});return this}toObject(e){return l(l({},fs(this,e)),{},{type:this.type,coords:l({},this.coords),colorStops:this.colorStops.map(e=>l({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],r=this.gradientTransform?this.gradientTransform.concat():qo.concat(),i="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(e=>l({},e)).sort((e,t)=>e.offset-t.offset);let a=-this.offsetX,s=-this.offsetY;var c;"objectBoundingBox"===i?(a/=e.width,s/=e.height):(a+=e.width/2,s+=e.height/2),(c=e)&&"function"==typeof c._renderPathCommands&&"percentage"!==this.gradientUnits&&(a-=e.pathOffset.x,s-=e.pathOffset.y),r[4]-=a,r[5]-=s;const u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(i,'"'),'gradientTransform="'.concat(t?t+" ":"").concat(gs(r),'"'),""].join(" ");if("linear"===this.type){const{x1:e,y1:t,x2:r,y2:i}=this.coords;n.push("<linearGradient ",u,' x1="',e,'" y1="',t,'" x2="',r,'" y2="',i,'">\n')}else if("radial"===this.type){const{x1:e,y1:t,x2:r,y2:i,r1:a,r2:s}=this.coords,l=a>s;n.push("<radialGradient ",u,' cx="',l?e:r,'" cy="',l?t:i,'" r="',l?a:s,'" fx="',l?r:e,'" fy="',l?i:t,'">\n'),l&&(o.reverse(),o.forEach(e=>{e.offset=1-e.offset}));const c=Math.min(a,s);if(c>0){const e=c/Math.max(a,s);o.forEach(t=>{t.offset+=e*(1-t.offset)})}}return o.forEach(e=>{let{color:t,offset:r}=e;n.push('<stop offset="'.concat(100*r,'%" style="stop-color:').concat(t,';"/>\n'))}),n.push("linear"===this.type?"</linearGradient>":"</radialGradient>","\n"),n.join("")}toLive(e){const{x1:t,y1:n,x2:r,y2:i,r1:o,r2:a}=this.coords,s="linear"===this.type?e.createLinearGradient(t,n,r,i):e.createRadialGradient(t,n,o,r,i,a);return this.colorStops.forEach(e=>{let{color:t,offset:n}=e;s.addColorStop(n,t)}),s}static async fromObject(e){const{colorStops:t,gradientTransform:n}=e;return new this(l(l({},e),{},{colorStops:t?t.map(e=>l({},e)):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,t,n){const r=nf(e),i=t._findCenterFromElement();return new this(l({id:e.getAttribute("id")||void 0,type:tf(e),coords:of(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:ef(e,n.opacity),gradientUnits:r,gradientTransform:Pu(e.getAttribute("gradientTransform")||"")},"pixels"===r?{offsetX:t.width/2-i.x,offsetY:t.height/2-i.y}:{offsetX:0,offsetY:0}))}}Eo(af,"type","Gradient"),Ca.setClass(af,"gradient"),Ca.setClass(af,"linear"),Ca.setClass(af,"radial");class sf{get type(){return"pattern"}set type(e){Ao("warn","Setting type has no effect",e)}constructor(e){Eo(this,"repeat","repeat"),Eo(this,"offsetX",0),Eo(this,"offsetY",0),Eo(this,"crossOrigin",""),this.id=Ba(),Object.assign(this,e)}isImageSource(){return!!this.source&&"string"==typeof this.source.src}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&0!==this.source.naturalWidth&&0!==this.source.naturalHeight)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{repeat:t,crossOrigin:n}=this;return l(l({},fs(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:t,crossOrigin:n,offsetX:ps(this.offsetX,Po.NUM_FRACTION_DIGITS),offsetY:ps(this.offsetY,Po.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:t,height:n}=e;const{source:r,repeat:i,id:o}=this,a=qh(this.offsetX/t,0),s=qh(this.offsetY/n,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(a,'" y="').concat(s,'" width="').concat("repeat-y"===i||"no-repeat"===i?1+Math.abs(a||0):qh(r.width/t,0),'" height="').concat("repeat-x"===i||"no-repeat"===i?1+Math.abs(s||0):qh(r.height/n,0),'">'),'<image x="0" y="0" width="'.concat(r.width,'" height="').concat(r.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join("\n")}static async fromObject(e,t){let{type:n,source:r,patternTransform:i}=e,o=c(e,go);const a=await cs(r,l(l({},t),{},{crossOrigin:o.crossOrigin}));return new this(l(l({},o),{},{patternTransform:i&&i.slice(0),source:a}))}}Eo(sf,"type","Pattern"),Ca.setClass(sf),Ca.setClass(sf,"pattern");class lf extends Zc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{path:n,left:r,top:i}=t,o=c(t,mo);super(),Object.assign(this,lf.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),"number"==typeof r&&this.set(Qo,r),"number"==typeof i&&this.set(Jo,i)}_setPath(e,t){this.path=rh(Array.isArray(e)?e:bh(e)),this.setBoundingBox(t)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new Da(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const t=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const r of this.path)switch(r[0]){case"L":e.lineTo(r[1]+t,r[2]+n);break;case"M":e.moveTo(r[1]+t,r[2]+n);break;case"C":e.bezierCurveTo(r[1]+t,r[2]+n,r[3]+t,r[4]+n,r[5]+t,r[6]+n);break;case"Q":e.quadraticCurveTo(r[1]+t,r[2]+n,r[3]+t,r[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(l({},super.toObject(e)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.toObject(e);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}_toSVG(){return["<path ","COMMON_PARTS",'d="'.concat(_h(this.path,Po.NUM_FRACTION_DIGITS),'" stroke-linecap="round" />\n')]}_getOffsetTransform(){const e=Po.NUM_FRACTION_DIGITS;return" translate(".concat(ps(-this.pathOffset.x,e),", ").concat(ps(-this.pathOffset.y,e),")")}toClipPathSVG(e){const t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}toSVG(e){const t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:t,height:n,pathOffset:r}=this._calcDimensions();this.set({width:t,height:n,pathOffset:r}),e&&this.setPositionByOrigin(r,$o,$o)}_calcBoundsFromPath(){const e=[];let t=0,n=0,r=0,i=0;for(const o of this.path)switch(o[0]){case"L":r=o[1],i=o[2],e.push({x:t,y:n},{x:r,y:i});break;case"M":r=o[1],i=o[2],t=r,n=i;break;case"C":e.push(...th(r,i,o[1],o[2],o[3],o[4],o[5],o[6])),r=o[5],i=o[6];break;case"Q":e.push(...th(r,i,o[1],o[2],o[1],o[2],o[3],o[4])),r=o[3],i=o[4];break;case"Z":r=t,i=n}return Ms(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return l(l({},e),{},{pathOffset:new Da(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,t,n){const r=Mu(e,this.ATTRIBUTE_NAMES,n),{d:i}=r;return new this(i,l(l(l({},c(r,yo)),t),{},{left:void 0,top:void 0}))}}Eo(lf,"type","Path"),Eo(lf,"cacheProperties",[...Gl,"path","fillRule"]),Eo(lf,"ATTRIBUTE_NAMES",[...fu,"d"]),Ca.setClass(lf),Ca.setSVGClass(lf);const cf=["radius","startAngle","endAngle","counterClockwise"];class uf extends Zc{static getDefaults(){return l(l({},super.getDefaults()),uf.ownDefaults)}constructor(e){super(),Object.assign(this,uf.ownDefaults),this.setOptions(e)}_set(e,t){return super._set(e,t),"radius"===e&&this.setRadius(t),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Ga(this.startAngle),Ga(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(pa)}getRadiusY(){return this.get("radius")*this.get(ga)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...cf,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(0===e)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),'" />\n'];{const{radius:t}=this,n=Ga(this.startAngle),r=Ga(this.endAngle),i=Aa(n)*t,o=ja(n)*t,a=Aa(r)*t,s=ja(r)*t;return['<path d="M '.concat(i," ").concat(o," A ").concat(t," ").concat(t," 0 ").concat(e>180?1:0," ").concat(this.counterClockwise?0:1," ").concat(a," ").concat(s,'" '),"COMMON_PARTS"," />\n"]}}static async fromElement(e,t,n){const r=Mu(e,this.ATTRIBUTE_NAMES,n),{left:i=0,top:o=0,radius:a=0}=r;return new this(l(l({},c(r,vo)),{},{radius:a,left:i-a,top:o-a}))}static fromObject(e){return super._fromObject(e)}}Eo(uf,"type","Circle"),Eo(uf,"cacheProperties",[...Gl,...cf]),Eo(uf,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),Eo(uf,"ATTRIBUTE_NAMES",["cx","cy","r",...fu]),Ca.setClass(uf),Ca.setSVGClass(uf);const hf=["x1","x2","y1","y2"];class ff extends Zc{constructor(){let[e,t,n,r]=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,ff.ownDefaults),this.setOptions(i),this.x1=e,this.x2=n,this.y1=t,this.y2=r,this._setWidthHeight();const{left:o,top:a}=i;"number"==typeof o&&this.set(Qo,o),"number"==typeof a&&this.set(Jo,a)}_setWidthHeight(){const{x1:e,y1:t,x2:n,y2:r}=this;this.width=Math.abs(n-e),this.height=Math.abs(r-t);const{left:i,top:o,width:a,height:s}=Ms([{x:e,y:t},{x:n,y:r}]),l=new Da(i+a/2,o+s/2);this.setPositionByOrigin(l,$o,$o)}_set(e,t){return super._set(e,t),hf.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var r;ms(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=null!==(r=this.stroke)&&void 0!==r?r:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new Da((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(l({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:t,y1:n,y2:r,width:i,height:o}=this,a=e<=t?-1:1,s=n<=r?-1:1;return{x1:a*i/2,x2:a*-i/2,y1:s*o/2,y2:s*-o/2}}_toSVG(){const{x1:e,x2:t,y1:n,y2:r}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(t,'" y2="').concat(r,'" />\n')]}static async fromElement(e,t,n){const r=Mu(e,this.ATTRIBUTE_NAMES,n),{x1:i=0,y1:o=0,x2:a=0,y2:s=0}=r;return new this([i,o,a,s],c(r,bo))}static fromObject(e){let{x1:t,y1:n,x2:r,y2:i}=e,o=c(e,wo);return this._fromObject(l(l({},o),{},{points:[t,n,r,i]}),{extraParam:"points"})}}Eo(ff,"type","Line"),Eo(ff,"cacheProperties",[...Gl,...hf]),Eo(ff,"ATTRIBUTE_NAMES",fu.concat(hf)),Ca.setClass(ff),Ca.setSVGClass(ff);class df extends Zc{static getDefaults(){return l(l({},super.getDefaults()),df.ownDefaults)}constructor(e){super(),Object.assign(this,df.ownDefaults),this.setOptions(e)}_render(e){const t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(t,",0 ").concat(-t,",").concat(e," ").concat(t),'" />']}}Eo(df,"type","Triangle"),Eo(df,"ownDefaults",{width:100,height:100}),Ca.setClass(df),Ca.setSVGClass(df);const pf=["rx","ry"];class gf extends Zc{static getDefaults(){return l(l({},super.getDefaults()),gf.ownDefaults)}constructor(e){super(),Object.assign(this,gf.ownDefaults),this.setOptions(e)}_set(e,t){switch(super._set(e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this}getRx(){return this.get("rx")*this.get(pa)}getRy(){return this.get("ry")*this.get(ga)}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...pf,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,'" />\n')]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,Go,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,t,n){const r=Mu(e,this.ATTRIBUTE_NAMES,n);return r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,new this(r)}}Eo(gf,"type","Ellipse"),Eo(gf,"cacheProperties",[...Gl,...pf]),Eo(gf,"ownDefaults",{rx:0,ry:0}),Eo(gf,"ATTRIBUTE_NAMES",[...fu,"cx","cy","rx","ry"]),Ca.setClass(gf),Ca.setSVGClass(gf);const mf={exactBoundingBox:!1};class yf extends Zc{static getDefaults(){return l(l({},super.getDefaults()),yf.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Eo(this,"strokeDiff",void 0),Object.assign(this,yf.ownDefaults),this.setOptions(t),this.points=e;const{left:n,top:r}=t;this.initialized=!0,this.setBoundingBox(!0),"number"==typeof n&&this.set(Qo,n),"number"==typeof r&&this.set(Jo,r)}isOpen(){return!0}_projectStrokeOnPoints(e){return tu(this.points,e,this.isOpen())}_calcDimensions(e){e=l({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const t=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(e=>e.projectedPoint):this.points;if(0===t.length)return{left:0,top:0,width:0,height:0,pathOffset:new Da,strokeOffset:new Da,strokeDiff:new Da};const n=Ms(t),r=ss(l(l({},e),{},{scaleX:1,scaleY:1})),i=Ms(this.points.map(e=>Za(e,r,!0))),o=new Da(this.scaleX,this.scaleY);let a=n.left+n.width/2,s=n.top+n.height/2;return this.exactBoundingBox&&(a-=s*Math.tan(Ga(this.skewX)),s-=a*Math.tan(Ga(this.skewY))),l(l({},n),{},{pathOffset:new Da(a,s),strokeOffset:new Da(i.left,i.top).subtract(new Da(n.left,n.top)).multiply(o),strokeDiff:new Da(n.width,n.height).subtract(new Da(i.width,i.height)).multiply(o)})}_findCenterFromElement(){const e=Ms(this.points);return new Da(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:t,top:n,width:r,height:i,pathOffset:o,strokeOffset:a,strokeDiff:s}=this._calcDimensions();this.set({width:r,height:i,pathOffset:o,strokeOffset:a,strokeDiff:s}),e&&this.setPositionByOrigin(new Da(t+r/2,n+i/2),$o,$o)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new Da(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some(e=>this.strokeUniform||this.constructor.layoutProperties.includes(e))){var t,n;const{width:r,height:i}=this._calcDimensions(e);o=new Da(null!==(t=e.width)&&void 0!==t?t:r,null!==(n=e.height)&&void 0!==n?n:i)}else{var r,i;o=new Da(null!==(r=e.width)&&void 0!==r?r:this.width,null!==(i=e.height)&&void 0!==i?i:this.height)}return o.multiply(new Da(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,t){const n=this.initialized&&this[e]!==t,r=super._set(e,t);return this.exactBoundingBox&&n&&((e===pa||e===ga)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),r}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(l({},super.toObject(e)),{},{points:this.points.map(e=>{let{x:t,y:n}=e;return{x:t,y:n}})})}_toSVG(){const e=[],t=this.pathOffset.x,n=this.pathOffset.y,r=Po.NUM_FRACTION_DIGITS;for(let i=0,o=this.points.length;i<o;i++)e.push(ps(this.points[i].x-t,r),",",ps(this.points[i].y-n,r)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),'" />\n')]}_render(e){const t=this.points.length,n=this.pathOffset.x,r=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-r);for(let i=0;i<t;i++){const t=this.points[i];e.lineTo(t.x-n,t.y-r)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,t,n){const r=function(e){if(!e)return[];const t=e.replace(/,/g," ").trim().split(/\s+/),n=[];for(let r=0;r<t.length;r+=2)n.push({x:parseFloat(t[r]),y:parseFloat(t[r+1])});return n}(e.getAttribute("points")),i=Mu(e,this.ATTRIBUTE_NAMES,n),{left:o,top:a}=i;return new this(r,l(l({},c(i,_o)),t))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}Eo(yf,"ownDefaults",mf),Eo(yf,"type","Polyline"),Eo(yf,"layoutProperties",[ma,ya,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),Eo(yf,"cacheProperties",[...Gl,"points"]),Eo(yf,"ATTRIBUTE_NAMES",[...fu]),Ca.setClass(yf),Ca.setSVGClass(yf);class vf extends yf{isOpen(){return!1}}Eo(vf,"ownDefaults",mf),Eo(vf,"type","Polygon"),Ca.setClass(vf),Ca.setSVGClass(vf);class bf extends Zc{isEmptyStyles(e){if(!this.styles)return!0;if(void 0!==e&&!this.styles[e])return!0;const t=void 0===e?this.styles:{line:this.styles[e]};for(const n in t)for(const e in t[n])for(const r in t[n][e])return!1;return!0}styleHas(e,t){if(!this.styles)return!1;if(void 0!==t&&!this.styles[t])return!1;const n=void 0===t?this.styles:{0:this.styles[t]};for(const r in n)for(const t in n[r])if(void 0!==n[r][t][e])return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const t=this.styles;let n,r,i=0,o=!0,a=0;for(const s in t){n=0;for(const a in t[s]){const l=t[s][a]||{};i++,void 0!==l[e]?(r?l[e]!==r&&(o=!1):r=l[e],l[e]===this[e]&&delete l[e]):o=!1,0!==Object.keys(l).length?n++:delete t[s][a]}0===n&&delete t[s]}for(let s=0;s<this._textLines.length;s++)a+=this._textLines[s].length;o&&i===a&&(this[e]=r,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const t=this.styles;let n,r,i;for(r in t){for(i in n=t[r],n)delete n[i][e],0===Object.keys(n[i]).length&&delete n[i];0===Object.keys(n).length&&delete t[r]}}_extendStyles(e,t){const{lineIndex:n,charIndex:r}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const i=ds(l(l({},this._getStyleDeclaration(n,r)),t),e=>void 0!==e);this._setStyleDeclaration(n,r,i)}getSelectionStyles(e,t,n){const r=[];for(let i=e;i<(t||e);i++)r.push(this.getStyleAtPosition(i,n));return r}getStyleAtPosition(e,t){const{lineIndex:n,charIndex:r}=this.get2DCursorLocation(e);return t?this.getCompleteStyleDeclaration(n,r):this._getStyleDeclaration(n,r)}setSelectionStyles(e,t,n){for(let r=t;r<(n||t);r++)this._extendStyles(r,e);this._forceClearCache=!0}_getStyleDeclaration(e,t){var n;const r=this.styles&&this.styles[e];return r&&null!==(n=r[t])&&void 0!==n?n:{}}getCompleteStyleDeclaration(e,t){return l(l({},fs(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,t))}_setStyleDeclaration(e,t,n){this.styles[e][t]=n}_deleteStyleDeclaration(e,t){delete this.styles[e][t]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}Eo(bf,"_styleProperties",Ol);const wf=/  +/g,_f=/"/g;function xf(e,t,n,r,i){return"\t\t".concat(function(e,t){let{left:n,top:r,width:i,height:o}=t,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Po.NUM_FRACTION_DIGITS;const s=wl(va,e,!1),[l,c,u,h]=[n,r,i,o].map(e=>ps(e,a));return"<rect ".concat(s,' x="').concat(l,'" y="').concat(c,'" width="').concat(u,'" height="').concat(h,'"></rect>')}(e,{left:t,top:n,width:r,height:i}),"\n")}let Sf;class kf extends bf{static getDefaults(){return l(l({},super.getDefaults()),kf.ownDefaults)}constructor(e,t){super(),Eo(this,"__charBounds",[]),Object.assign(this,kf.ownDefaults),this.setOptions(t),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=dh(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Al)&&this.enlargeSpaces()}enlargeSpaces(){let e,t,n,r,i,o,a;for(let s=0,l=this._textLines.length;s<l;s++)if((this.textAlign===Al||s!==l-1&&!this.isEndOfWrapping(s))&&(r=0,i=this._textLines[s],t=this.getLineWidth(s),t<this.width&&(a=this.textLines[s].match(this._reSpacesAndTabs)))){n=a.length,e=(this.width-t)/n;for(let t=0;t<=i.length;t++)o=this.__charBounds[s][t],this._reSpaceAndTab.test(i[t])?(o.width+=e,o.kernedWidth+=e,o.left+=r,r+=e):o.left+=r}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,t){const n=t?this._unwrappedTextLines:this._textLines;let r;for(r=0;r<n.length;r++){if(e<=n[r].length)return{lineIndex:r,charIndex:e};e-=n[r].length+this.missingNewlineOffset(r,t)}return{lineIndex:r-1,charIndex:n[r-1].length<e?n[r-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e}_render(e){const t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===ba?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,t,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case $o:e.textBaseline="middle";break;case"ascender":e.textBaseline=Jo;break;case"descender":e.textBaseline=ea}e.font=this._getFontDeclaration(t,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let t=1,n=this._textLines.length;t<n;t++){const n=this.getLineWidth(t);n>e&&(e=n)}return e}_renderTextLine(e,t,n,r,i,o){this._renderChars(e,t,n,r,i,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const t=e.fillStyle,n=this._getLeftOffset();let r=this._getTopOffset();for(let i=0,o=this._textLines.length;i<o;i++){const t=this.getHeightOfLine(i);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",i)){r+=t;continue}const o=this._textLines[i].length,a=this._getLineLeftOffset(i);let s,l,c=0,u=0,h=this.getValueOfPropertyAt(i,0,"textBackgroundColor");const f=this.getHeightOfLineImpl(i);for(let d=0;d<o;d++){const t=this.__charBounds[i][d];l=this.getValueOfPropertyAt(i,d,"textBackgroundColor"),this.path?(e.save(),e.translate(t.renderLeft,t.renderTop),e.rotate(t.angle),e.fillStyle=l,l&&e.fillRect(-t.width/2,-f*(1-this._fontSizeFraction),t.width,f),e.restore()):l!==h?(s=n+a+u,this.direction===xa&&(s=this.width-s-c),e.fillStyle=h,h&&e.fillRect(s,r,c,f),u=t.left,c=t.width,h=l):c+=t.kernedWidth}l&&!this.path&&(s=n+a+u,this.direction===xa&&(s=this.width-s-c),e.fillStyle=l,e.fillRect(s,r,c,f)),r+=t}e.fillStyle=t,this._removeShadow(e)}_measureChar(e,t,n,r){const i=Uo.getFontCache(t),o=this._getFontDeclaration(t),a=n?n+e:e,s=n&&o===this._getFontDeclaration(r),l=t.fontSize/this.CACHE_FONT_SIZE;let c,u,h,f;if(n&&i.has(n)&&(h=i.get(n)),i.has(e)&&(f=c=i.get(e)),s&&i.has(a)&&(u=i.get(a),f=u-h),void 0===c||void 0===h||void 0===u){const r=function(){if(!Sf){const e=Ha({width:0,height:0});Sf=e.getContext("2d")}return Sf}();this._setTextStyles(r,t,!0),void 0===c&&(f=c=r.measureText(e).width,i.set(e,c)),void 0===h&&s&&n&&(h=r.measureText(n).width,i.set(n,h)),s&&void 0===u&&(u=r.measureText(a).width,i.set(a,u),f=u-h)}return{width:c*l,kernedWidth:f*l}}getHeightOfChar(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")}measureLine(e){const t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}_measureLine(e){let t,n,r=0;const i=this.pathSide===ta,o=this.path,a=this._textLines[e],s=a.length,l=new Array(s);this.__charBounds[e]=l;for(let c=0;c<s;c++){const i=a[c];n=this._getGraphemeBox(i,e,c,t),l[c]=n,r+=n.kernedWidth,t=i}if(l[s]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let e=0;const t=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case Qo:e=i?t-r:0;break;case $o:e=(t-r)/2;break;case ta:e=i?0:t-r}e+=this.pathStartOffset*(i?-1:1);for(let r=i?s-1:0;i?r>=0:r<s;i?r--:r++)n=l[r],e>t?e%=t:e<0&&(e+=t),this._setGraphemeOnPath(e,n),e+=n.kernedWidth}return{width:r,numOfSpaces:0}}_setGraphemeOnPath(e,t){const n=e+t.kernedWidth/2,r=this.path,i=ph(r.path,n,r.segmentsInfo);t.renderLeft=i.x-r.pathOffset.x,t.renderTop=i.y-r.pathOffset.y,t.angle=i.angle+(this.pathSide===ta?Math.PI:0)}_getGraphemeBox(e,t,n,r,i){const o=this.getCompleteStyleDeclaration(t,n),a=r?this.getCompleteStyleDeclaration(t,n-1):{},s=this._measureChar(e,o,r,a);let l,c=s.kernedWidth,u=s.width;0!==this.charSpacing&&(l=this._getWidthOfCharSpacing(),u+=l,c+=l);const h={width:u,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(n>0&&!i){const e=this.__charBounds[t][n-1];h.left=e.left+e.width+s.kernedWidth-s.width}return h}getHeightOfLineImpl(e){const t=this.__lineHeights;if(t[e])return t[e];let n=this.getHeightOfChar(e,0);for(let r=1,i=this._textLines[e].length;r<i;r++)n=Math.max(this.getHeightOfChar(e,r),n);return t[e]=n*this._fontSizeMult}getHeightOfLine(e){return this.getHeightOfLineImpl(e)*this.lineHeight}calcTextHeight(){let e=0;for(let t=0,n=this._textLines.length;t<n;t++)e+=t===n-1?this.getHeightOfLineImpl(t):this.getHeightOfLine(t);return e}_getLeftOffset(){return this.direction===_a?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,t){e.save();let n=0;const r=this._getLeftOffset(),i=this._getTopOffset();for(let o=0,a=this._textLines.length;o<a;o++)this._renderTextLine(t,e,this._textLines[o],r+this._getLineLeftOffset(o),i+n+this.getHeightOfLineImpl(o),o),n+=this.getHeightOfLine(o);e.restore()}_renderTextFill(e){(this.fill||this.styleHas(va))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,t,n,r,i,o){const a=this.textAlign.includes(Al),s=this.path,l=!a&&0===this.charSpacing&&this.isEmptyStyles(o)&&!s,c=this.direction===_a,u=this.direction===_a?1:-1,h=t.direction;let f,d,p,g,m,y="",v=0;if(t.save(),h!==this.direction&&(t.canvas.setAttribute("dir",c?_a:xa),t.direction=c?_a:xa,t.textAlign=c?Qo:ta),i-=this.getHeightOfLineImpl(o)*this._fontSizeFraction,l)return this._renderChar(e,t,o,0,n.join(""),r,i),void t.restore();for(let b=0,w=n.length-1;b<=w;b++)g=b===w||this.charSpacing||s,y+=n[b],p=this.__charBounds[o][b],0===v?(r+=u*(p.kernedWidth-p.width),v+=p.width):v+=p.kernedWidth,a&&!g&&this._reSpaceAndTab.test(n[b])&&(g=!0),g||(f=f||this.getCompleteStyleDeclaration(o,b),d=this.getCompleteStyleDeclaration(o,b+1),g=cu(f,d,!1)),g&&(s?(t.save(),t.translate(p.renderLeft,p.renderTop),t.rotate(p.angle),this._renderChar(e,t,o,b,y,-v/2,0),t.restore()):(m=r,this._renderChar(e,t,o,b,y,m,i)),y="",f=d,r+=u*v,v=0);t.restore()}_applyPatternGradientTransformText(e){const t=this.width+this.strokeWidth,n=this.height+this.strokeWidth,r=Ha({width:t,height:n}),i=r.getContext("2d");return r.width=t,r.height=n,i.beginPath(),i.moveTo(0,0),i.lineTo(t,0),i.lineTo(t,n),i.lineTo(0,n),i.closePath(),i.translate(t/2,n/2),i.fillStyle=e.toLive(i),this._applyPatternGradientTransform(i,e),i.fill(),i.createPattern(r,"no-repeat")}handleFiller(e,t,n){let r,i;return ms(n)?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?(r=-this.width/2,i=-this.height/2,e.translate(r,i),e[t]=this._applyPatternGradientTransformText(n),{offsetX:r,offsetY:i}):(e[t]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[t]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,t){let{stroke:n,strokeWidth:r}=t;return e.lineWidth=r,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,t){let{fill:n}=t;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,t,n,r,i,o,a){const s=this._getStyleDeclaration(n,r),l=this.getCompleteStyleDeclaration(n,r),c="fillText"===e&&l.fill,u="strokeText"===e&&l.stroke&&l.strokeWidth;if(u||c){if(t.save(),t.font=this._getFontDeclaration(l),s.textBackgroundColor&&this._removeShadow(t),s.deltaY&&(a+=s.deltaY),c){const e=this._setFillStyles(t,l);t.fillText(i,o-e.offsetX,a-e.offsetY)}if(u){const e=this._setStrokeStyles(t,l);t.strokeText(i,o-e.offsetX,a-e.offsetY)}t.restore()}}setSuperscript(e,t){this._setScript(e,t,this.superscript)}setSubscript(e,t){this._setScript(e,t,this.subscript)}_setScript(e,t,n){const r=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),o=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),a={fontSize:i*n.size,deltaY:o+i*n.baseline};this.setSelectionStyles(a,e,t)}_getLineLeftOffset(e){const t=this.getLineWidth(e),n=this.width-t,r=this.textAlign,i=this.direction,o=this.isEndOfWrapping(e);let a=0;return r===Al||r===Ml&&!o||r===Dl&&!o||r===jl&&!o?0:(r===$o&&(a=n/2),r===ta&&(a=n),r===Ml&&(a=n/2),r===Dl&&(a=n),i===xa&&(r===ta||r===Dl?a=0:r===Qo||r===jl?a=-n:r!==$o&&r!==Ml||(a=-n/2)),a)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(void 0!==this.__lineWidths[e])return this.__lineWidths[e];const{width:t}=this.measureLine(e);return this.__lineWidths[e]=t,t}_getWidthOfCharSpacing(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,t,n){var r;return null!==(r=this._getStyleDeclaration(e,t)[n])&&void 0!==r?r:this[n]}_renderTextDecoration(e,t){if(!this[t]&&!this.styleHas(t))return;let n=this._getTopOffset();const r=this._getLeftOffset(),i=this.path,o=this._getWidthOfCharSpacing(),a="linethrough"===t?.5:"overline"===t?1:0,s=this.offsets[t];for(let l=0,c=this._textLines.length;l<c;l++){const c=this.getHeightOfLine(l);if(!this[t]&&!this.styleHas(t,l)){n+=c;continue}const u=this._textLines[l],h=c/this.lineHeight,f=this._getLineLeftOffset(l);let d=0,p=0,g=this.getValueOfPropertyAt(l,0,t),m=this.getValueOfPropertyAt(l,0,va),y=this.getValueOfPropertyAt(l,0,Sl),v=g,b=m,w=y;const _=n+h*(1-this._fontSizeFraction);let x=this.getHeightOfChar(l,0),S=this.getValueOfPropertyAt(l,0,"deltaY");for(let n=0,o=u.length;n<o;n++){const o=this.__charBounds[l][n];v=this.getValueOfPropertyAt(l,n,t),b=this.getValueOfPropertyAt(l,n,va),w=this.getValueOfPropertyAt(l,n,Sl);const c=this.getHeightOfChar(l,n),u=this.getValueOfPropertyAt(l,n,"deltaY");if(i&&v&&b){const t=this.fontSize*w/1e3;e.save(),e.fillStyle=m,e.translate(o.renderLeft,o.renderTop),e.rotate(o.angle),e.fillRect(-o.kernedWidth/2,s*c+u-a*t,o.kernedWidth,t),e.restore()}else if((v!==g||b!==m||c!==x||w!==y||u!==S)&&p>0){const t=this.fontSize*y/1e3;let n=r+f+d;this.direction===xa&&(n=this.width-n-p),g&&m&&y&&(e.fillStyle=m,e.fillRect(n,_+s*x+S-a*t,p,t)),d=o.left,p=o.width,g=v,y=w,m=b,x=c,S=u}else p+=o.kernedWidth}let k=r+f+d;this.direction===xa&&(k=this.width-k-p),e.fillStyle=b;const T=this.fontSize*w/1e3;v&&b&&w&&e.fillRect(k,_+s*x+S-a*T,p-o,T),n+=c}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:t=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:r=this.fontSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||kf.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[t,n,"".concat(i?this.CACHE_FONT_SIZE:r,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return ou(e)}_splitTextIntoLines(e){const t=e.split(this._reNewline),n=new Array(t.length),r=["\n"];let i=[];for(let o=0;o<t.length;o++)n[o]=this.graphemeSplit(t[o]),i=i.concat(n[o],r);return i.pop(),{_unwrappedLines:n,lines:t,graphemeText:i,graphemeLines:n}}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(l({},super.toObject([...El,...e])),{},{styles:uu(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,t){const{textLayoutProperties:n}=this.constructor;super.set(e,t);let r=!1,i=!1;if("object"==typeof e)for(const o in e)"path"===o&&this.setPathInfo(),r=r||n.includes(o),i=i||"path"===o;else r=n.includes(e),i="path"===e;return i&&this.setPathInfo(),r&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,t,n){const r=Mu(e,kf.ATTRIBUTE_NAMES,n),i=l(l({},t),r),{textAnchor:o=Qo,textDecoration:a="",dx:s=0,dy:u=0,top:h=0,left:f=0,fontSize:d=Zo,strokeWidth:p=1}=i,g=c(i,xo),m=new this(ul(e.textContent||"").trim(),l({left:f+s,top:h+u,underline:a.includes("underline"),overline:a.includes("overline"),linethrough:a.includes("line-through"),strokeWidth:0,fontSize:d},g)),y=m.getScaledHeight()/m.height,v=((m.height+m.strokeWidth)*m.lineHeight-m.height)*y,b=m.getScaledHeight()+v;let w=0;return o===$o&&(w=m.getScaledWidth()/2),o===ta&&(w=m.getScaledWidth()),m.set({left:m.left-w,top:m.top-(b-m.fontSize*(.07+m._fontSizeFraction))/m.lineHeight,strokeWidth:p}),m}static fromObject(e){return this._fromObject(l(l({},e),{},{styles:hu(e.styles||{},e.text)}),{extraParam:"text"})}}Eo(kf,"textLayoutProperties",Cl),Eo(kf,"cacheProperties",[...Gl,...El]),Eo(kf,"ownDefaults",Pl),Eo(kf,"type","Text"),Eo(kf,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),Eo(kf,"ATTRIBUTE_NAMES",fu.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),qc(kf,[class extends _l{_toSVG(){const e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(e){const t=this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0}),n=this.path;return n?t+n._createBaseSVGMarkup(n._toSVG(),{reviver:e,withShadow:!0,additionalTransform:gs(this.calcOwnMatrix())}):t}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(e){let{textBgRects:t,textSpans:n}=e;const r=this.getSvgTextDecoration(this);return[t.join(""),'\t\t<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(_f,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",r?'text-decoration="'.concat(r,'" '):"","rtl"===this.direction?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",n.join(""),"</text>\n"]}_getSVGTextAndBg(e,t){const n=[],r=[];let i,o=e;this.backgroundColor&&r.push(...xf(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let a=0,s=this._textLines.length;a<s;a++)i=this._getLineLeftOffset(a),"rtl"===this.direction&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(r,a,t+i,o),this._setSVGTextLineText(n,a,t+i,o),o+=this.getHeightOfLine(a);return{textSpans:n,textBgRects:r}}_createTextCharSpan(e,t,n,r,i){const o=Po.NUM_FRACTION_DIGITS,a=this.getSvgSpanStyles(t,e!==e.trim()||!!e.match(wf)),s=a?'style="'.concat(a,'"'):"",l=t.deltaY,c=l?' dy="'.concat(ps(l,o),'" '):"",{angle:u,renderLeft:h,renderTop:f,width:d}=i;let p="";if(void 0!==h){const e=d/2;u&&(p=' rotate="'.concat(ps(Xa(u),o),'"'));const t=ns({angle:Xa(u)});t[4]=h,t[5]=f;const i=new Da(-e,0).transform(t);n=i.x,r=i.y}return'<tspan x="'.concat(ps(n,o),'" y="').concat(ps(r,o),'" ').concat(c).concat(p).concat(s,">").concat(ru(e),"</tspan>")}_setSVGTextLineText(e,t,n,r){const i=this.getHeightOfLine(t),o=this.textAlign.includes(Al),a=this._textLines[t];let s,l,c,u,h,f="",d=0;r+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let p=0,g=a.length-1;p<=g;p++)h=p===g||this.charSpacing||this.path,f+=a[p],c=this.__charBounds[t][p],0===d?(n+=c.kernedWidth-c.width,d+=c.width):d+=c.kernedWidth,o&&!h&&this._reSpaceAndTab.test(a[p])&&(h=!0),h||(s=s||this.getCompleteStyleDeclaration(t,p),l=this.getCompleteStyleDeclaration(t,p+1),h=cu(s,l,!0)),h&&(u=this._getStyleDeclaration(t,p),e.push(this._createTextCharSpan(f,u,n,r,c)),f="",s=l,"rtl"===this.direction?n-=d:n+=d,d=0)}_setSVGTextLineBg(e,t,n,r){const i=this._textLines[t],o=this.getHeightOfLine(t)/this.lineHeight;let a,s=0,l=0,c=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let u=0;u<i.length;u++){const{left:i,width:h,kernedWidth:f}=this.__charBounds[t][u];a=this.getValueOfPropertyAt(t,u,"textBackgroundColor"),a!==c?(c&&e.push(...xf(c,n+l,r,s,o)),l=i,s=h,c=a):s+=f}a&&e.push(...xf(c,n+l,r,s,o))}getSvgStyles(e){return"".concat(super.getSvgStyles(e)," text-decoration-thickness: ").concat(ps(this.textDecorationThickness*this.getObjectScaling().y/10,Po.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(e,t){const{fontFamily:n,strokeWidth:r,stroke:i,fill:o,fontSize:a,fontStyle:s,fontWeight:l,textDecorationThickness:c,linethrough:u,overline:h,underline:f}=e,d=this.getSvgTextDecoration({underline:null!=f?f:this.underline,overline:null!=h?h:this.overline,linethrough:null!=u?u:this.linethrough}),p=c||this.textDecorationThickness;return[i?wl(ba,i):"",r?"stroke-width: ".concat(r,"; "):"",n?"font-family: ".concat(n.includes("'")||n.includes('"')?n:"'".concat(n,"'"),"; "):"",a?"font-size: ".concat(a,"px; "):"",s?"font-style: ".concat(s,"; "):"",l?"font-weight: ".concat(l,"; "):"",d?"text-decoration: ".concat(d,"; text-decoration-thickness: ").concat(ps(p*this.getObjectScaling().y/10,Po.NUM_FRACTION_DIGITS),"%; "):"",o?wl(va,o):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(e){return["overline","underline","line-through"].filter(t=>e[t.replace("-","")]).join(" ")}}]),Ca.setClass(kf),Ca.setSVGClass(kf);class Tf{constructor(e){Eo(this,"target",void 0),Eo(this,"__mouseDownInPlace",!1),Eo(this,"__dragStartFired",!1),Eo(this,"__isDraggingOver",!1),Eo(this,"__dragStartSelection",void 0),Eo(this,"__dragImageDisposer",void 0),Eo(this,"_dispose",void 0),this.target=e;const t=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{t.forEach(e=>e()),this._dispose=void 0}}isPointerOverSelection(e){const t=this.target,n=t.getSelectionStartFromPointer(e);return t.isEditing&&n>=t.selectionStart&&n<=t.selectionEnd&&t.selectionStart<t.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const t=this.isActive();return t&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,t}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,t){var n;let{selectionStart:r,selectionEnd:i}=t;const o=this.target,a=o.canvas,s=new Da(o.flipX?-1:1,o.flipY?-1:1),l=o._getCursorBoundaries(r),c=new Da(l.left+l.leftOffset,l.top+l.topOffset).multiply(s).transform(o.calcTransformMatrix()),u=a.getScenePoint(e).subtract(c),h=o.getCanvasRetinaScaling(),f=o.getBoundingRect(),d=c.subtract(new Da(f.left,f.top)),p=a.viewportTransform,g=d.add(u).transform(p,!0),m=o.backgroundColor,y=nu(o.styles);o.backgroundColor="";const v={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(v,0,r),o.setSelectionStyles(v,i,o.text.length),o.dirty=!0;const b=o.toCanvasElement({enableRetinaScaling:a.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=m,o.styles=y,o.dirty=!0,kh(b,{position:"fixed",left:-b.width+"px",border:na,width:b.width/h+"px",height:b.height/h+"px"}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{b.remove()},_s(e.target||this.target.hiddenTextarea).body.appendChild(b),null===(n=e.dataTransfer)||void 0===n||n.setDragImage(b,g.x,g.y)}onDragStart(e){this.__dragStartFired=!0;const t=this.target,n=this.isActive();if(n&&e.dataTransfer){const n=this.__dragStartSelection={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},r=t._text.slice(n.selectionStart,n.selectionEnd).join(""),i=l({text:t.text,value:r},n);e.dataTransfer.setData("text/plain",r),e.dataTransfer.setData("application/fabric",JSON.stringify({value:r,styles:t.getSelectionStyles(n.selectionStart,n.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,i)}return t.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const t=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return t<n.selectionStart||t>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:t}=e;const n=this.targetCanDrop(t);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:t}=e,n=this.targetCanDrop(t);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(t.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var t;const{e:n}=e,r=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let i=null===(t=n.dataTransfer)||void 0===t?void 0:t.getData("text/plain");if(i&&!r){const t=this.target,r=t.canvas;let o=t.getSelectionStartFromPointer(n);const{styles:a}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},s=i[Math.max(0,i.length-1)],l=0;if(this.__dragStartSelection){const e=this.__dragStartSelection.selectionStart,n=this.__dragStartSelection.selectionEnd;o>e&&o<=n?o=e:o>n&&(o-=n-e),t.removeChars(e,n),delete this.__dragStartSelection}t._reNewline.test(s)&&(t._reNewline.test(t._text[o])||o===t._text.length)&&(i=i.trimEnd()),e.didDrop=!0,e.dropTarget=t,t.insertChars(i,a,o),r.setActiveObject(t),t.enterEditing(n),t.selectionStart=Math.min(o+l,t._text.length),t.selectionEnd=Math.min(t.selectionStart+i.length,t._text.length),t.hiddenTextarea.value=t.text,t._updateTextarea(),t.hiddenTextarea.focus(),t.fire(fa,{index:o+l,action:"drop"}),r.fire("text:changed",{target:t}),r.contextTopDirty=!0,r.requestRenderAll()}}dragEndHandler(e){let{e:t}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const e=this.target,r=this.target.canvas,{selectionStart:i,selectionEnd:o}=this.__dragStartSelection,a=(null===(n=t.dataTransfer)||void 0===n?void 0:n.dropEffect)||na;a===na?(e.selectionStart=i,e.selectionEnd=o,e._updateTextarea(),e.hiddenTextarea.focus()):(e.clearContextTop(),"move"===a&&(e.removeChars(i,o),e.selectionStart=e.selectionEnd=i,e.hiddenTextarea&&(e.hiddenTextarea.value=e.text),e._updateTextarea(),e.fire(fa,{index:i,action:"dragend"}),r.fire("text:changed",{target:e}),r.requestRenderAll()),e.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const Cf=/[ \n\.,;!\?\-]/;class Ef extends kf{constructor(){super(...arguments),Eo(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:t,duration:n,delay:r,onComplete:i}=e;return sc({startValue:this._currentCursorOpacity,endValue:t,duration:n,delay:r,onComplete:i,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:e=>{this._currentCursorOpacity=e,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;null===(e=this._currentTickCompleteState)||void 0===e||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(t=>{t&&!t.isDone()&&(e=!0,t.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t}findWordBoundaryRight(e){let t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t}findLineBoundaryLeft(e){let t=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t}findLineBoundaryRight(e){let t=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t}searchWordBoundary(e,t){const n=this._text;let r=e>0&&this._reSpace.test(n[e])&&(-1===t||!ra.test(n[e-1]))?e-1:e,i=n[r];for(;r>0&&r<n.length&&!Cf.test(i);)r+=t,i=n[r];return-1===t&&Cf.test(i)&&r++,r}selectWord(e){e=null!=e?e:this.selectionStart;const t=this.searchWordBoundary(e,-1),n=Math.max(t,this.searchWordBoundary(e,1));this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){e=null!=e?e:this.selectionStart;const t=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e:e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const t=this.hiddenTextarea;_s(t).activeElement!==t&&t.focus();const n=this.getSelectionStartFromPointer(e),r=this.selectionStart,i=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&r!==i||r!==n&&i!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===r&&this.selectionEnd===i||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,t,n){const r=n.slice(0,e),i=this.graphemeSplit(r).length;if(e===t)return{selectionStart:i,selectionEnd:i};const o=n.slice(e,t);return{selectionStart:i,selectionEnd:i+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,t,n){const r=n.slice(0,e).join("").length;return e===t?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(e,t).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){const{hiddenTextarea:e,direction:t,textAlign:n,inCompositionMode:r}=this;if(!e)return;const i=n!==Al?n.replace("justify-",""):t===_a?Qo:ta,o=this.getPositionByOrigin(i,"top");this.cursorOffsetCache={},this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setPositionByOrigin(o,i,"top"),this.setCoords();const a=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=a.selectionEnd,r||(this.selectionStart=a.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),r=n.lineIndex,i=n.charIndex,o=this.getValueOfPropertyAt(r,i,"fontSize")*this.lineHeight,a=t.leftOffset,s=this.getCanvasRetinaScaling(),l=this.canvas.upperCanvasEl,c=l.width/s,u=l.height/s,h=c-o,f=u-o,d=new Da(t.left+a,t.top+t.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new Da(l.clientWidth/c,l.clientHeight/u));return d.x<0&&(d.x=0),d.x>h&&(d.x=h),d.y<0&&(d.y=0),d.y>f&&(d.y=f),d.x+=this.canvas._offset.left,d.y+=this.canvas._offset.top,{left:"".concat(d.x,"px"),top:"".concat(d.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}exitEditingImpl(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(wa),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,t){const{lineIndex:n,charIndex:r}=this.get2DCursorLocation(e,!0),{lineIndex:i,charIndex:o}=this.get2DCursorLocation(t,!0);if(n!==i){if(this.styles[n])for(let e=r;e<this._unwrappedTextLines[n].length;e++)delete this.styles[n][e];if(this.styles[i])for(let e=o;e<this._unwrappedTextLines[i].length;e++){const t=this.styles[i][e];t&&(this.styles[n]||(this.styles[n]={}),this.styles[n][r+e-o]=t)}for(let e=n+1;e<=i;e++)delete this.styles[e];this.shiftLineStyles(i,n-i)}else if(this.styles[n]){const e=this.styles[n],t=o-r;for(let n=r;n<o;n++)delete e[n];for(const r in this.styles[n]){const n=parseInt(r,10);n>=o&&(e[n-t]=e[r],delete e[r])}}}shiftLineStyles(e,t){const n=Object.assign({},this.styles);for(const r in this.styles){const i=parseInt(r,10);i>e&&(this.styles[i+t]=n[i],n[i-t]||delete this.styles[i])}}insertNewlineStyleObject(e,t,n,r){const i={},o=this._unwrappedTextLines[e].length,a=o===t;let s=!1;n||(n=1),this.shiftLineStyles(e,n);const c=this.styles[e]?this.styles[e][0===t?t:t-1]:void 0;for(const l in this.styles[e]){const n=parseInt(l,10);n>=t&&(s=!0,i[n-t]=this.styles[e][l],a&&0===t||delete this.styles[e][l])}let u=!1;for(s&&!a&&(this.styles[e+n]=i,u=!0),(u||o>t)&&n--;n>0;)r&&r[n-1]?this.styles[e+n]={0:l({},r[n-1])}:c?this.styles[e+n]={0:l({},c)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,t,n,r){this.styles||(this.styles={});const i=this.styles[e],o=i?l({},i):{};n||(n=1);for(const s in o){const e=parseInt(s,10);e>=t&&(i[e+n]=o[e],o[e-n]||delete i[e])}if(this._forceClearCache=!0,r){for(;n--;)Object.keys(r[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+n]=l({},r[n]));return}if(!i)return;const a=i[t?t-1:1];for(;a&&n--;)this.styles[e][t+n]=l({},a)}insertNewStyleBlock(e,t,n){const r=this.get2DCursorLocation(t,!0),i=[0];let o,a=0;for(let s=0;s<e.length;s++)"\n"===e[s]?(a++,i[a]=0):i[a]++;for(i[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),a&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+i[0],a),o=1;o<a;o++)i[o]>0?this.insertCharStyleObject(r.lineIndex+o,0,i[o],n):n&&this.styles[r.lineIndex+o]&&n[0]&&(this.styles[r.lineIndex+o][0]=n[0]),n=n&&n.slice(i[o]+1);i[o]>0&&this.insertCharStyleObject(r.lineIndex+o,0,i[o],n)}removeChars(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e+1;this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;r>n&&this.removeStyleFromTo(n,r);const i=this.graphemeSplit(e);this.insertNewStyleBlock(i,n,t),this._text=[...this._text.slice(0,n),...i,...this._text.slice(r)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,t,n){n<=e?(t===e?this._selectionDirection=Qo:this._selectionDirection===ta&&(this._selectionDirection=Qo,this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?this._selectionDirection===ta?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection=ta:this._selectionDirection===Qo&&(this._selectionDirection=ta,this.selectionStart=t),this.selectionEnd=n)}}class Of extends Ef{initHiddenTextarea(){const e=this.canvas&&_s(this.canvas.getElement())||Fo(),t=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off",name:"fabricTextarea"}).map(e=>{let[n,r]=e;return t.setAttribute(n,r)});const{top:n,left:r,fontSize:i}=this._calcTextareaPosition();t.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(r,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(i,";"),(this.hiddenTextareaContainer||e.body).appendChild(t),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(e=>{let[n,r]=e;return t.addEventListener(n,this[r].bind(this))}),this.hiddenTextarea=t}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const t="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const t=this.fromPaste,{value:n,selectionStart:r,selectionEnd:i}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const o=()=>{this.updateFromTextArea(),this.fire(fa),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(""===this.hiddenTextarea.value)return this.styles={},void o();const a=this._splitTextIntoLines(n).graphemeText,s=this._text.length,l=a.length,c=this.selectionStart,u=this.selectionEnd,h=c!==u;let f,d,p,g,m=l-s;const y=this.fromStringToGraphemeSelection(r,i,n),v=c>y.selectionStart;h?(d=this._text.slice(c,u),m+=u-c):l<s&&(d=v?this._text.slice(u+m,u):this._text.slice(c,c-m));const b=a.slice(y.selectionEnd-m,y.selectionEnd);if(d&&d.length&&(b.length&&(f=this.getSelectionStyles(c,c+1,!1),f=b.map(()=>f[0])),h?(p=c,g=u):v?(p=u-d.length,g=u):(p=u,g=u+d.length),this.removeStyleFromTo(p,g)),b.length){const{copyPasteData:e}=No();t&&b.join("")===e.copiedText&&!Po.disableStyleCopyPaste&&(f=e.copiedTextStyle),this.insertNewStyleBlock(b,c,f)}o()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:t}=e;const{selectionStart:n,selectionEnd:r}=t;this.compositionStart=n,this.compositionEnd=r,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=No();e.copiedText=this.getSelectedText(),Po.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,t){let n,r=this._getLineLeftOffset(e);return t>0&&(n=this.__charBounds[e][t-1],r+=n.left+n.width),r}getDownCursorOffset(e,t){const n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(i===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;const o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i+1,a);return this._textLines[i].slice(o).length+s+1+this.missingNewlineOffset(i)}_getSelectionForOffset(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,t){const n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(0===i||e.metaKey||33===e.keyCode)return-n;const o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i-1,a),l=this._textLines[i].slice(0,o),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+s-l.length+(1-c)}_getIndexOnLine(e,t){const n=this._textLines[e];let r,i,o=this._getLineLeftOffset(e),a=0;for(let s=0,l=n.length;s<l;s++)if(r=this.__charBounds[e][s].width,o+=r,o>t){i=!0;const e=o-r,n=o,l=Math.abs(e-t);a=Math.abs(n-t)<l?s:s-1;break}return i||(a=n.length-1),a}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,t){const n=this["get".concat(e,"CursorOffset")](t,this._selectionDirection===ta);if(t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n){const e=this.text.length;this.selectionStart=Yl(0,this.selectionStart,e),this.selectionEnd=Yl(0,this.selectionEnd,e),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const t=this._selectionDirection===Qo?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e}moveCursorLeft(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)}_move(e,t,n){let r;if(e.altKey)r=this["findWordBoundary".concat(n)](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;r=this["findLineBoundary".concat(n)](this[t])}return void 0!==r&&this[t]!==r&&(this[t]=r,!0)}_moveLeft(e,t){return this._move(e,t,"Left")}_moveRight(e,t){return this._move(e,t,"Right")}moveCursorLeftWithoutShift(e){let t=!0;return this._selectionDirection=Qo,this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t}moveCursorLeftWithShift(e){return this._selectionDirection===ta&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection=Qo,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,t){const n="moveCursor".concat(e).concat(t.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Qo&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=ta,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let t=!0;return this._selectionDirection=ta,this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t}}const Pf=e=>!!e.button;class Af extends Of{constructor(){super(...arguments),Eo(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new Tf(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:t,alreadySelected:n}=e;this.canvas&&this.editable&&!Pf(t)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),n&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=n||this.isEditing)))}mouseUpHandler(e){let{e:t,transform:n}=e;const r=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);const e=this.canvas._activeObject;if(e&&e!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||Pf(t)||r||this.selected&&!this.getActiveControl()&&(this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const t=this.getSelectionStartFromPointer(e),n=this.selectionStart,r=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,r,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const t=this.canvas.getScenePoint(e).transform(Ka(this.calcTransformMatrix())).add(new Da(-this._getLeftOffset(),-this._getTopOffset()));let n=0,r=0,i=0;for(let l=0;l<this._textLines.length&&n<=t.y;l++)n+=this.getHeightOfLine(l),i=l,l>0&&(r+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));let o=Math.abs(this._getLineLeftOffset(i));const a=this._textLines[i].length,s=this.__charBounds[i];for(let l=0;l<a;l++){const e=o+s[l].kernedWidth;if(t.x<=e){Math.abs(t.x-e)<=Math.abs(t.x-o)&&r++;break}o=e,r++}return Math.min(this.flipX?a-r:r,this._text.length)}}const jf="moveCursorUp",Df="moveCursorDown",Mf="moveCursorLeft",Lf="moveCursorRight",If="exitEditing",Rf=(e,t)=>{const n=t.getRetinaScaling();e.setTransform(n,0,0,n,0,0);const r=t.viewportTransform;e.transform(r[0],r[1],r[2],r[3],r[4],r[5])},Nf={selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:If,27:If,33:jf,34:Df,35:Lf,36:Mf,37:Mf,38:jf,39:Lf,40:Df},keysMapRtl:{9:If,27:If,33:jf,34:Df,35:Mf,36:Lf,37:Lf,38:jf,39:Mf,40:Df},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"},_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1};class Ff extends Af{static getDefaults(){return l(l({},super.getDefaults()),Ff.ownDefaults)}get type(){const e=super.type;return"itext"===e?"i-text":e}constructor(e,t){super(e,l(l({},Ff.ownDefaults),t)),this.initBehavior()}_set(e,t){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=t,this):("canvas"===e&&(this.canvas instanceof Vh&&this.canvas.textEditingManager.remove(this),t instanceof Vh&&t.textEditingManager.add(this)),super._set(e,t))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart||0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,t,n)}setSelectionStyles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionStart||0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,t,n)}get2DCursorLocation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,t)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const t=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=t,n}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const t=this._getCursorBoundaries(),n=this.findAncestorsWithClipPath(),r=n.length>0;let i,o=e;if(r){i=Ha(e.canvas),o=i.getContext("2d"),Rf(o,this.canvas);const t=this.calcTransformMatrix();o.transform(t[0],t[1],t[2],t[3],t[4],t[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(o,t):this.renderCursor(o,t),r)for(const a of n){const t=a.clipPath,n=Ha(e.canvas),r=n.getContext("2d");if(Rf(r,this.canvas),!t.absolutePositioned){const e=a.calcTransformMatrix();r.transform(e[0],e[1],e[2],e[3],e[4],e[5])}t.transform(r),t.drawObject(r,!0,{}),this.drawClipPathOnCache(o,t,n)}r&&(e.setTransform(1,0,0,1,0,0),e.drawImage(i,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let t=this;for(;t;)t.clipPath&&e.push(t),t=t.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),r=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e,t);return{left:n,top:r,leftOffset:i.left,topOffset:i.top}}_getCursorBoundariesOffsets(e,t){return t?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let t=0,n=0;const{charIndex:r,lineIndex:i}=this.get2DCursorLocation(e),{textAlign:o,direction:a}=this;for(let u=0;u<i;u++)t+=this.getHeightOfLine(u);const s=this._getLineLeftOffset(i),l=this.__charBounds[i][r];l&&(n=l.left),0!==this.charSpacing&&r===this._textLines[i].length&&(n-=this._getWidthOfCharSpacing());let c=s+(n>0?n:0);return a===xa&&(o===ta||o===Al||o===Dl?c*=-1:o===Qo||o===jl?c=s-(n>0?n:0):o!==$o&&o!==Ml||(c=s-(n>0?n:0))),{top:t,left:c}}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,t){this._renderCursor(e,t,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getCursorBoundaries(e);const n=this.get2DCursorLocation(e),r=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(r,i,"fontSize"),a=this.getObjectScaling().x*this.canvas.getZoom(),s=this.cursorWidth/a,l=this.getValueOfPropertyAt(r,i,"deltaY"),c=t.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(r,i,"fill"),opacity:this._currentCursorOpacity,left:t.left+t.leftOffset-s/2,top:c+t.top+l,width:s,height:o}}_renderCursor(e,t,n){const{color:r,opacity:i,left:o,top:a,width:s,height:l}=this.getCursorRenderingData(n,t);e.fillStyle=r,e.globalAlpha=i,e.fillRect(o,a,s,l)}renderSelection(e,t){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,t)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const t=this.getSelectionStartFromPointer(e);this.renderCursorAt(t)}_renderSelection(e,t,n){const{textAlign:r,direction:i}=this,o=t.selectionStart,a=t.selectionEnd,s=r.includes(Al),l=this.get2DCursorLocation(o),c=this.get2DCursorLocation(a),u=l.lineIndex,h=c.lineIndex,f=l.charIndex<0?0:l.charIndex,d=c.charIndex<0?0:c.charIndex;for(let p=u;p<=h;p++){const t=this._getLineLeftOffset(p)||0;let o=this.getHeightOfLine(p),a=0,l=0,c=0;if(p===u&&(l=this.__charBounds[u][f].left),p>=u&&p<h)c=s&&!this.isEndOfWrapping(p)?this.width:this.getLineWidth(p)||5;else if(p===h)if(0===d)c=this.__charBounds[h][d].left;else{const e=this._getWidthOfCharSpacing();c=this.__charBounds[h][d-1].left+this.__charBounds[h][d-1].width-e}a=o,(this.lineHeight<1||p===h&&this.lineHeight>1)&&(o/=this.lineHeight);let g=n.left+t+l,m=o,y=0;const v=c-l;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",m=1,y=o):e.fillStyle=this.selectionColor,i===xa&&(r===ta||r===Al||r===Dl?g=this.width-g-v:r===Qo||r===jl?g=n.left+t-c:r!==$o&&r!==Ml||(g=n.left+t-c)),e.fillRect(g,n.top+n.topOffset+y,v,m),n.topOffset+=a}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,va)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}Eo(Ff,"ownDefaults",Nf),Eo(Ff,"type","IText"),Ca.setClass(Ff),Ca.setClass(Ff,"i-text");class zf extends Ff{static getDefaults(){return l(l({},super.getDefaults()),zf.ownDefaults)}constructor(e,t){super(e,l(l({},zf.ownDefaults),t))}static createControls(){return{controls:Gc()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Al)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let t=0,n=0,r=0;const i={};for(let o=0;o<e.graphemeLines.length;o++)"\n"===e.graphemeText[r]&&o>0?(n=0,r++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[r])&&o>0&&(n++,r++),i[o]={line:t,offset:n},r+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return i}styleHas(e,t){if(this._styleMap&&!this.isWrapping){const e=this._styleMap[t];e&&(t=e.line)}return super.styleHas(e,t)}isEmptyStyles(e){if(!this.styles)return!0;let t,n=0,r=e+1,i=!1;const o=this._styleMap[e],a=this._styleMap[e+1];o&&(e=o.line,n=o.offset),a&&(r=a.line,i=r===e,t=a.offset);const s=void 0===e?this.styles:{line:this.styles[e]};for(const l in s)for(const e in s[l]){const r=parseInt(e,10);if(r>=n&&(!i||r<t))for(const t in s[l][e])return!1}return!0}_getStyleDeclaration(e,t){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,t=n.offset+t}return super._getStyleDeclaration(e,t)}_setStyleDeclaration(e,t,n){const r=this._styleMap[e];super._setStyleDeclaration(r.line,r.offset+t,n)}_deleteStyleDeclaration(e,t){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+t)}_getLineStyle(e){const t=this._styleMap[e];return!!this.styles[t.line]}_setLineStyle(e){const t=this._styleMap[e];super._setLineStyle(t.line)}_wrapText(e,t){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),r=[];for(let i=0;i<n.wordsData.length;i++)r.push(...this._wrapLine(i,t,n));return this.isWrapping=!1,r}getGraphemeDataForRender(e){const t=this.splitByGrapheme,n=t?"":" ";let r=0;return{wordsData:e.map((e,i)=>{let o=0;const a=t?this.graphemeSplit(e):this.wordSplit(e);return 0===a.length?[{word:[],width:0}]:a.map(e=>{const a=t?[e]:this.graphemeSplit(e),s=this._measureWord(a,i,o);return r=Math.max(s,r),o+=a.length+n.length,{word:a,width:s}})}),largestWordWidth:r}}_measureWord(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0;for(let o=0,a=e.length;o<a;o++)i+=this._getGraphemeBox(e[o],t,o+r,n,!0).kernedWidth,n=e[o];return i}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,t,n){let{largestWordWidth:r,wordsData:i}=n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a=this._getWidthOfCharSpacing(),s=this.splitByGrapheme,l=[],c=s?"":" ";let u=0,h=[],f=0,d=0,p=!0;t-=o;const g=Math.max(t,r,this.dynamicMinWidth),m=i[e];let y;for(f=0,y=0;y<m.length;y++){const{word:t,width:n}=m[y];f+=t.length,u+=d+n-a,u>g&&!p?(l.push(h),h=[],u=n,p=!0):u+=a,p||s||h.push(c),h=h.concat(t),d=s?0:this._measureWord([c],e,f),f++,p=!1}return y&&l.push(h),r+o>this.dynamicMinWidth&&(this.dynamicMinWidth=r-a+o),l}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,t){return this.splitByGrapheme&&!t?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const t=super._splitTextIntoLines(e),n=this._wrapText(t.lines,this.width),r=new Array(n.length);for(let i=0;i<n.length;i++)r[i]=n[i].join("");return t.lines=r,t.graphemeLines=n,t}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const t in this._styleMap){const n=parseInt(t,10);if(this._textLines[n]){const n=this._styleMap[t].line;e.set("".concat(n),!0)}}for(const t in this.styles)e.has(t)||delete this.styles[t]}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}Eo(zf,"type","Textbox"),Eo(zf,"textLayoutProperties",[...Ff.textLayoutProperties,"width"]),Eo(zf,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),Ca.setClass(zf);class Bf extends Uu{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,t){const{target:n}=e,{clipPath:r,group:i}=n;if(!r||!this.shouldPerformLayout(e))return;const{width:o,height:a}=Ms(Bu(n,r)),s=new Da(o,a);if(r.absolutePositioned)return{center:Bs(r.getRelativeCenterPoint(),void 0,i?i.calcTransformMatrix():void 0),size:s};{const i=r.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:n=new Da,correction:r=new Da}=this.calcBoundingBox(t,e)||{};return{center:n.add(i),correction:r.subtract(i),size:s}}return{center:n.getRelativeCenterPoint().add(i),size:s}}}}Eo(Bf,"type","clip-path"),Ca.setClass(Bf);class Uf extends Uu{getInitialSize(e,t){let{target:n}=e,{size:r}=t;return new Da(n.width||r.x,n.height||r.y)}}Eo(Uf,"type","fixed"),Ca.setClass(Uf);class Wf extends Yu{subscribeTargets(e){const t=e.target;e.targets.reduce((e,t)=>(t.parent&&e.add(t.parent),e),new Set).forEach(e=>{e.layoutManager.subscribeTargets({target:e,targets:[t]})})}unsubscribeTargets(e){const t=e.target,n=t.getObjects();e.targets.reduce((e,t)=>(t.parent&&e.add(t.parent),e),new Set).forEach(e=>{!n.some(t=>t.parent===e)&&e.layoutManager.unsubscribeTargets({target:e,targets:[t]})})}}class Hf extends Gu{static getDefaults(){return l(l({},super.getDefaults()),Hf.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,Hf.ownDefaults),this.setOptions(t);const{left:n,top:r,layoutManager:i}=t;this.groupInit(e,{left:n,top:r,layoutManager:null!=i?i:new Wf})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"selection-order"===this.multiSelectionStacking?this.add(...t):t.forEach(e=>{const t=this._objects.findIndex(t=>t.isInFrontOf(e)),n=-1===t?this.size():t;this.insertAt(n,e)})}canEnterGroup(e){return this.getObjects().some(t=>t.isDescendantOf(e)||e.isDescendantOf(t))?(Ao("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,t){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,t)}exitGroup(e,t){this._exitGroup(e,t),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,t){super._onAfterObjectsChange(e,t);const n=new Set;t.forEach(e=>{const{parent:t}=e;t&&n.add(t)}),e===Fu?n.forEach(e=>{e._onAfterObjectsChange(Nu,t)}):n.forEach(e=>{e._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const r=l(l({hasControls:!1},n),{},{forActiveSelection:!0});for(let i=0;i<this._objects.length;i++)this._objects[i]._renderControls(e,r);super._renderControls(e,t),e.restore()}}Eo(Hf,"type","ActiveSelection"),Eo(Hf,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),Ca.setClass(Hf),Ca.setClass(Hf,"activeSelection");class Yf{constructor(){Eo(this,"resources",{})}applyFilters(e,t,n,r,i){const o=i.getContext("2d",{willReadFrequently:!0,desynchronized:!0});if(!o)return;o.drawImage(t,0,0,n,r);const a={sourceWidth:n,sourceHeight:r,imageData:o.getImageData(0,0,n,r),originalEl:t,originalImageData:o.getImageData(0,0,n,r),canvasEl:i,ctx:o,filterBackend:this};e.forEach(e=>{e.applyTo(a)});const{imageData:s}=a;return s.width===n&&s.height===r||(i.width=s.width,i.height=s.height),o.putImageData(s,0,0),a}}class Vf{constructor(){let{tileSize:e=Po.textureSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Eo(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),Eo(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,t){this.dispose(),this.createWebGLCanvas(e,t)}createWebGLCanvas(e,t){const n=Ha({width:e,height:t}),r=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});r&&(r.clearColor(0,0,0,0),this.canvas=n,this.gl=r)}applyFilters(e,t,n,r,i,o){const a=this.gl,s=i.getContext("2d");if(!a||!s)return;let l;o&&(l=this.getCachedTexture(o,t));const c={originalWidth:t.width||t.naturalWidth||0,originalHeight:t.height||t.naturalHeight||0,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:a,sourceTexture:this.createTexture(a,n,r,l?void 0:t),targetTexture:this.createTexture(a,n,r),originalTexture:l||this.createTexture(a,n,r,l?void 0:t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},u=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,u),e.forEach(e=>{e&&e.applyTo(c)}),function(e){const t=e.targetCanvas,n=t.width,r=t.height,i=e.destinationWidth,o=e.destinationHeight;n===i&&r===o||(t.width=i,t.height=o)}(c),this.copyGLTo2D(a,c),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(c.sourceTexture),a.deleteTexture(c.targetTexture),a.deleteFramebuffer(u),s.setTransform(1,0,0,1,0,0),c}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,t,n,r,i){const{NEAREST:o,TEXTURE_2D:a,RGBA:s,UNSIGNED_BYTE:l,CLAMP_TO_EDGE:c,TEXTURE_MAG_FILTER:u,TEXTURE_MIN_FILTER:h,TEXTURE_WRAP_S:f,TEXTURE_WRAP_T:d}=e,p=e.createTexture();return e.bindTexture(a,p),e.texParameteri(a,u,i||o),e.texParameteri(a,h,i||o),e.texParameteri(a,f,c),e.texParameteri(a,d,c),r?e.texImage2D(a,0,s,s,l,r):e.texImage2D(a,0,s,t,n,0,s,l,null),p}getCachedTexture(e,t,n){const{textureCache:r}=this;if(r[e])return r[e];{const i=this.createTexture(this.gl,t.width,t.height,t,n);return i&&(r[e]=i),i}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,t){const n=e.canvas,r=t.targetCanvas,i=r.getContext("2d");if(!i)return;i.translate(0,r.height),i.scale(1,-1);const o=n.height-r.height;i.drawImage(n,0,o,r.width,r.height,0,0,r.width,r.height)}copyGLTo2DPutImageData(e,t){const n=t.targetCanvas.getContext("2d"),r=t.destinationWidth,i=t.destinationHeight,o=r*i*4;if(!n)return;const a=new Uint8Array(this.imageBuffer,0,o),s=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,r,i,e.RGBA,e.UNSIGNED_BYTE,a);const l=new ImageData(s,r,i);n.putImageData(l,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,t={renderer:"",vendor:""};if(!e)return t;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const r=e.getParameter(n.UNMASKED_RENDERER_WEBGL),i=e.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(t.renderer=r.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}let Gf;function Xf(){return!Gf&&(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(Gf=function(){const{WebGLProbe:e}=No();return e.queryWebGL(Ua()),Po.enableGLFiltering&&e.isSupported(Po.textureSize)?new Vf({tileSize:Po.textureSize}):new Yf}()),Gf}const qf=["cropX","cropY"];class Zf extends Zc{static getDefaults(){return l(l({},super.getDefaults()),Zf.ownDefaults)}constructor(e,t){super(),Eo(this,"_lastScaleX",1),Eo(this,"_lastScaleY",1),Eo(this,"_filterScalingX",1),Eo(this,"_filterScalingY",1),this.filters=[],Object.assign(this,Zf.ownDefaults),this.setOptions(t),this.cacheKey="texture".concat(Ba()),this.setElement("string"==typeof e?(this.canvas&&_s(this.canvas.getElement())||Fo()).getElementById(e):e,t)}getElement(){return this._element}setElement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const t=Xf(!1);t instanceof Vf&&t.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const t=this[e];t&&No().dispose(t),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||0===this.strokeWidth)return;const t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=[];return this.filters.forEach(e=>{e&&t.push(e.toObject())}),l(l({},super.toObject([...qf,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],t=this._element,n=-this.width/2,r=-this.height/2;let i=[],o=[],a="",s="";if(!t)return[];if(this.hasCrop()){const e=Ba();i.push('<clipPath id="imageCrop_'+e+'">\n','\t<rect x="'+n+'" y="'+r+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),a=' clip-path="url(#imageCrop_'+e+')" '}if(this.imageSmoothing||(s=' image-rendering="optimizeSpeed"'),e.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(r-this.cropY,'" width="').concat(t.width||t.naturalWidth,'" height="').concat(t.height||t.naturalHeight,'"').concat(s).concat(a,"></image>\n")),this.stroke||this.strokeDashArray){const e=this.fill;this.fill=null,o=['\t<rect x="'.concat(n,'" y="').concat(r,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),'" />\n')],this.fill=e}return i=this.paintFirst!==va?i.concat(o,e):i.concat(e,o),i}getSrc(e){const t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return cs(e,{crossOrigin:t,signal:n}).then(e=>{void 0!==t&&this.set({crossOrigin:t}),this.setElement(e)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.x,i=n.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||r>t&&i>t)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=i);const a=Ha(o),{width:s,height:l}=o;this._element=a,this._lastScaleX=e.scaleX=r,this._lastScaleY=e.scaleY=i,Xf().applyFilters([e],o,s,l,this._element),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.filters||[];if(e=e.filter(e=>e&&!e.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),0===e.length)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const t=this._originalElement,n=t.naturalWidth||t.width,r=t.naturalHeight||t.height;if(this._element===this._originalElement){const e=Ha({width:n,height:r});this._element=e,this._filteredEl=e}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1);Xf().applyFilters(e,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const t=this._element;if(!t)return;const n=this._filterScalingX,r=this._filterScalingY,i=this.width,o=this.height,a=Math.max(this.cropX,0),s=Math.max(this.cropY,0),l=t.naturalWidth||t.width,c=t.naturalHeight||t.height,u=a*n,h=s*r,f=Math.min(i*n,l-u),d=Math.min(o*r,c-h),p=-i/2,g=-o/2,m=Math.min(i,l/n-a),y=Math.min(o,c/r-s);t&&e.drawImage(t,u,h,f,d,p,g,m,y)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=t||n.height}parsePreserveAspectRatioAttribute(){const e=bl(this.preserveAspectRatio||""),t=this.width,n=this.height,r={width:t,height:n};let i,o=this._element.width,a=this._element.height,s=1,l=1,c=0,u=0,h=0,f=0;return!e||e.alignX===na&&e.alignY===na?(s=t/o,l=n/a):("meet"===e.meetOrSlice&&(s=l=Xu(this._element,r),i=(t-o*s)/2,"Min"===e.alignX&&(c=-i),"Max"===e.alignX&&(c=i),i=(n-a*l)/2,"Min"===e.alignY&&(u=-i),"Max"===e.alignY&&(u=i)),"slice"===e.meetOrSlice&&(s=l=qu(this._element,r),i=o-t/s,"Mid"===e.alignX&&(h=i/2),"Max"===e.alignX&&(h=i),i=a-n/l,"Mid"===e.alignY&&(f=i/2),"Max"===e.alignY&&(f=i),o=t/s,a=n/l)),{width:o,height:a,scaleX:s,scaleY:l,offsetLeft:c,offsetTop:u,cropX:h,cropY:f}}static fromObject(e,t){let{filters:n,resizeFilter:r,src:i,crossOrigin:o,type:a}=e,s=c(e,So);return Promise.all([cs(i,l(l({},t),{},{crossOrigin:o})),n&&us(n,t),r?us([r],t):[],hs(s,t)]).then(e=>{let[t,n=[],[r],o={}]=e;return new this(t,l(l({},s),{},{src:i,filters:n,resizeFilter:r},o))})}static fromURL(e){let{crossOrigin:t=null,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return cs(e,{crossOrigin:t,signal:n}).then(e=>new this(e,r))}static async fromElement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=Mu(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(r["xlink:href"]||r.href,t,r).catch(e=>(Ao("log","Unable to parse Image",e),null))}}Eo(Zf,"type","Image"),Eo(Zf,"cacheProperties",[...Gl,...qf]),Eo(Zf,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),Eo(Zf,"ATTRIBUTE_NAMES",[...fu,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),Ca.setClass(Zf),Ca.setSVGClass(Zf);xl(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Kf=e=>void 0!==e.webgl,$f="precision highp float",Qf="\n    ".concat($f,";\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n    void main() {\n      gl_FragColor = texture2D(uTexture, vTexCoord);\n    }"),Jf=new RegExp($f,"g");class ed{get type(){return this.constructor.type}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:t}=e,n=c(e,ko);Object.assign(this,this.constructor.defaults,n)}getFragmentSource(){return Qf}getVertexSource(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    void main() {\n      vTexCoord = aPosition;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }"}createProgram(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:r="highp"}}=No();"highp"!==r&&(t=t.replace(Jf,$f.replace("highp",r)));const i=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),a=e.createProgram();if(!i||!o||!a)throw new jo("Vertex, fragment shader or program creation error");if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new jo("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(i)));if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new jo("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(a,i),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new jo('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(a)));const s=this.getUniformLocations(e,a)||{};return s.uStepW=e.getUniformLocation(a,"uStepW"),s.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(e,a),uniformLocations:s}}getAttributeLocations(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}}getUniformLocations(e,t){const n=this.constructor.uniformLocations,r={};for(let i=0;i<n.length;i++)r[n[i]]=e.getUniformLocation(t,n[i]);return r}sendAttributeData(e,t,n){const r=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const t=e.context;if(e.passes>1){const n=e.destinationWidth,r=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===r||(t.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(t,n,r)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish()}_swapTextures(e){e.passes--,e.pass++;const t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t}isNeutralState(e){return!1}applyTo(e){Kf(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const t=this.getCacheKey();return e.programCache[t]||(e.programCache[t]=this.createProgram(e.context)),e.programCache[t]}applyToWebGL(e){const t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,t){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:t,sourceHeight:n}=e,r=Ha({width:t,height:n});e.helpLayer=r}}toObject(){const e=Object.keys(this.constructor.defaults||{});return l({type:this.type},e.reduce((e,t)=>(e[t]=this[t],e),{}))}toJSON(){return this.toObject()}static async fromObject(e,t){let{type:n}=e;return new this(c(e,To))}}Eo(ed,"type","BaseFilter"),Eo(ed,"uniformLocations",[]);const td={multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",difference:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"\n    if (uColor.r < 0.5) {\n      gl_FragColor.r *= 2.0 * uColor.r;\n    } else {\n      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n    }\n    if (uColor.g < 0.5) {\n      gl_FragColor.g *= 2.0 * uColor.g;\n    } else {\n      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n    }\n    if (uColor.b < 0.5) {\n      gl_FragColor.b *= 2.0 * uColor.b;\n    } else {\n      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n    }\n    ",tint:"\n    gl_FragColor.rgb *= (1.0 - uColor.a);\n    gl_FragColor.rgb += uColor.rgb;\n    "};class nd extends ed{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec4 uColor;\n      varying vec2 vTexCoord;\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        gl_FragColor = color;\n        if (color.a > 0.0) {\n          ".concat(td[this.mode],"\n        }\n      }\n      ")}applyTo2d(e){let{imageData:{data:t}}=e;const n=new yl(this.color).getSource(),r=this.alpha,i=n[0]*r,o=n[1]*r,a=n[2]*r,s=1-r;for(let l=0;l<t.length;l+=4){const e=t[l],n=t[l+1],r=t[l+2];let c,u,h;switch(this.mode){case"multiply":c=e*i/255,u=n*o/255,h=r*a/255;break;case"screen":c=255-(255-e)*(255-i)/255,u=255-(255-n)*(255-o)/255,h=255-(255-r)*(255-a)/255;break;case"add":c=e+i,u=n+o,h=r+a;break;case"difference":c=Math.abs(e-i),u=Math.abs(n-o),h=Math.abs(r-a);break;case"subtract":c=e-i,u=n-o,h=r-a;break;case"darken":c=Math.min(e,i),u=Math.min(n,o),h=Math.min(r,a);break;case"lighten":c=Math.max(e,i),u=Math.max(n,o),h=Math.max(r,a);break;case"overlay":c=i<128?2*e*i/255:255-2*(255-e)*(255-i)/255,u=o<128?2*n*o/255:255-2*(255-n)*(255-o)/255,h=a<128?2*r*a/255:255-2*(255-r)*(255-a)/255;break;case"exclusion":c=i+e-2*i*e/255,u=o+n-2*o*n/255,h=a+r-2*a*r/255;break;case"tint":c=i+e*s,u=o+n*s,h=a+r*s}t[l]=c,t[l+1]=u,t[l+2]=h}}sendUniformData(e,t){const n=new yl(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(t.uColor,n)}}Eo(nd,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),Eo(nd,"type","BlendColor"),Eo(nd,"uniformLocations",["uColor"]),Ca.setClass(nd);const rd={multiply:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.rgba *= color2.rgba;\n      gl_FragColor = color;\n    }\n    ",mask:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.a = color2.a;\n      gl_FragColor = color;\n    }\n    "};class id extends ed{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return rd[this.mode]}getVertexSource(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    uniform mat3 uTransformMatrix;\n    void main() {\n      vTexCoord = aPosition;\n      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }\n    "}applyToWebGL(e){const t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(t,t.TEXTURE1)}createTexture(e,t){return e.getCachedTexture(t.cacheKey,t.getElement())}calculateMatrix(){const e=this.image,{width:t,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]}applyTo2d(e){let{imageData:{data:t,width:n,height:r},filterBackend:{resources:i}}=e;const o=this.image;i.blendImage||(i.blendImage=Ua());const a=i.blendImage,s=a.getContext("2d");a.width!==n||a.height!==r?(a.width=n,a.height=r):s.clearRect(0,0,n,r),s.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),s.drawImage(o.getElement(),0,0,n,r);const l=s.getImageData(0,0,n,r).data;for(let c=0;c<t.length;c+=4){const e=t[c],n=t[c+1],r=t[c+2],i=t[c+3],o=l[c],a=l[c+1],s=l[c+2],u=l[c+3];switch(this.mode){case"multiply":t[c]=e*o/255,t[c+1]=n*a/255,t[c+2]=r*s/255,t[c+3]=i*u/255;break;case"mask":t[c+3]=u}}}sendUniformData(e,t){const n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)}toObject(){return l(l({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,t){let{type:n,image:r}=e,i=c(e,Co);return Zf.fromObject(r,t).then(e=>new this(l(l({},i),{},{image:e})))}}Eo(id,"type","BlendImage"),Eo(id,"defaults",{mode:"multiply",alpha:1}),Eo(id,"uniformLocations",["uTransformMatrix","uImage"]),Ca.setClass(id);class od extends ed{getFragmentSource(){return"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform vec2 uDelta;\n    varying vec2 vTexCoord;\n    const float nSamples = 15.0;\n    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\n    float random(vec3 scale) {\n      /* use the fragment position for a different seed per-pixel */\n      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n    }\n    void main() {\n      vec4 color = vec4(0.0);\n      float totalC = 0.0;\n      float totalA = 0.0;\n      float offset = random(v3offset);\n      for (float t = -nSamples; t <= nSamples; t++) {\n        float percent = (t + offset - 0.5) / nSamples;\n        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);\n        float weight = 1.0 - abs(percent);\n        float alpha = weight * sample.a;\n        color.rgb += sample.rgb * alpha;\n        color.a += alpha;\n        totalA += weight;\n        totalC += alpha;\n      }\n      gl_FragColor.rgb = color.rgb / totalC;\n      gl_FragColor.a = color.a / totalA;\n    }\n  "}applyTo(e){Kf(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:t,width:n,height:r}}=e;this.aspectRatio=n/r,this.horizontal=!0;let i=this.getBlurValue()*n;const o=new Uint8ClampedArray(t),a=4*n;for(let s=0;s<t.length;s+=4){let e=0,n=0,r=0,l=0,c=0;const u=s-s%a,h=u+a;for(let o=-14;o<15;o++){const a=o/15,f=4*Math.floor(i*a),d=1-Math.abs(a);let p=s+f;p<u?p=u:p>h&&(p=h);const g=t[p+3]*d;e+=t[p]*g,n+=t[p+1]*g,r+=t[p+2]*g,l+=g,c+=d}o[s]=e/l,o[s+1]=n/l,o[s+2]=r/l,o[s+3]=l/c}this.horizontal=!1,i=this.getBlurValue()*r;for(let s=0;s<o.length;s+=4){let e=0,n=0,r=0,l=0,c=0;const u=s%a,h=o.length-a+u;for(let t=-14;t<15;t++){const f=t/15,d=Math.floor(i*f)*a,p=1-Math.abs(f);let g=s+d;g<u?g=u:g>h&&(g=h);const m=o[g+3]*p;e+=o[g]*m,n+=o[g+1]*m,r+=o[g+2]*m,l+=m,c+=p}t[s]=e/l,t[s+1]=n/l,t[s+2]=r/l,t[s+3]=l/c}}sendUniformData(e,t){const n=this.chooseRightDelta();e.uniform2fv(t.uDelta,n)}isNeutralState(){return 0===this.blur}getBlurValue(){let e=1;const{horizontal:t,aspectRatio:n}=this;return t?n>1&&(e=1/n):n<1&&(e=n),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}Eo(od,"type","Blur"),Eo(od,"defaults",{blur:0}),Eo(od,"uniformLocations",["uDelta"]),Ca.setClass(od);class ad extends ed{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBrightness;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += uBrightness;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=Math.round(255*this.brightness);for(let r=0;r<t.length;r+=4)t[r]+=n,t[r+1]+=n,t[r+2]+=n}isNeutralState(){return 0===this.brightness}sendUniformData(e,t){e.uniform1f(t.uBrightness,this.brightness)}}Eo(ad,"type","Brightness"),Eo(ad,"defaults",{brightness:0}),Eo(ad,"uniformLocations",["uBrightness"]),Ca.setClass(ad);const sd={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class ld extends ed{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  varying vec2 vTexCoord;\n  uniform mat4 uColorMatrix;\n  uniform vec4 uConstants;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color *= uColorMatrix;\n    color += uConstants;\n    gl_FragColor = color;\n  }"}applyTo2d(e){const t=e.imageData.data,n=this.matrix,r=this.colorsOnly;for(let i=0;i<t.length;i+=4){const e=t[i],o=t[i+1],a=t[i+2];if(t[i]=e*n[0]+o*n[1]+a*n[2]+255*n[4],t[i+1]=e*n[5]+o*n[6]+a*n[7]+255*n[9],t[i+2]=e*n[10]+o*n[11]+a*n[12]+255*n[14],!r){const r=t[i+3];t[i]+=r*n[3],t[i+1]+=r*n[8],t[i+2]+=r*n[13],t[i+3]=e*n[15]+o*n[16]+a*n[17]+r*n[18]+255*n[19]}}}sendUniformData(e,t){const n=this.matrix,r=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],i=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,r),e.uniform4fv(t.uConstants,i)}toObject(){return l(l({},super.toObject()),{},{matrix:[...this.matrix]})}}function cd(e,t){var n;const r=(Eo(n=class extends ld{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",e),Eo(n,"defaults",{colorsOnly:!1,matrix:t}),n);return Ca.setClass(r,e),r}Eo(ld,"type","ColorMatrix"),Eo(ld,"defaults",sd),Eo(ld,"uniformLocations",["uColorMatrix","uConstants"]),Ca.setClass(ld);const ud=cd("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),hd=cd("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),fd=cd("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),dd=cd("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),pd=cd("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),gd=cd("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),md=cd("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class yd extends ed{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){Kf(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(t=>{t.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,t){return Promise.all((e.subFilters||[]).map(e=>Ca.getClass(e.type).fromObject(e,t))).then(e=>new this({subFilters:e}))}}Eo(yd,"type","Composed"),Ca.setClass(yd);class vd extends ed{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uContrast;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\n    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\n    gl_FragColor = color;\n  }"}isNeutralState(){return 0===this.contrast}applyTo2d(e){let{imageData:{data:t}}=e;const n=Math.floor(255*this.contrast),r=259*(n+255)/(255*(259-n));for(let i=0;i<t.length;i+=4)t[i]=r*(t[i]-128)+128,t[i+1]=r*(t[i+1]-128)+128,t[i+2]=r*(t[i+2]-128)+128}sendUniformData(e,t){e.uniform1f(t.uContrast,this.contrast)}}Eo(vd,"type","Contrast"),Eo(vd,"defaults",{contrast:0}),Eo(vd,"uniformLocations",["uContrast"]),Ca.setClass(vd);const bd={Convolute_3_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_3_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_5_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_5_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_7_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_7_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_9_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_9_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    "};class wd extends ed{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return bd[this.getCacheKey()]}applyTo2d(e){const t=e.imageData,n=t.data,r=this.matrix,i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=t.width,s=t.height,l=e.ctx.createImageData(a,s),c=l.data,u=this.opaque?1:0;let h,f,d,p,g,m,y,v,b,w,_,x,S;for(_=0;_<s;_++)for(w=0;w<a;w++){for(g=4*(_*a+w),h=0,f=0,d=0,p=0,S=0;S<i;S++)for(x=0;x<i;x++)y=_+S-o,m=w+x-o,y<0||y>=s||m<0||m>=a||(v=4*(y*a+m),b=r[S*i+x],h+=n[v]*b,f+=n[v+1]*b,d+=n[v+2]*b,u||(p+=n[v+3]*b));c[g]=h,c[g+1]=f,c[g+2]=d,c[g+3]=u?n[g+3]:p}e.imageData=l}sendUniformData(e,t){e.uniform1fv(t.uMatrix,this.matrix)}toObject(){return l(l({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}Eo(wd,"type","Convolute"),Eo(wd,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),Eo(wd,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),Ca.setClass(wd);const _d="Gamma";class xd extends ed{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform vec3 uGamma;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    vec3 correction = (1.0 / uGamma);\n    color.r = pow(color.r, correction.r);\n    color.g = pow(color.g, correction.g);\n    color.b = pow(color.b, correction.b);\n    gl_FragColor = color;\n    gl_FragColor.rgb *= color.a;\n  }\n"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:t}}=e;const n=this.gamma,r=1/n[0],i=1/n[1],o=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const a=this.rgbValues;for(let s=0;s<256;s++)a.r[s]=255*Math.pow(s/255,r),a.g[s]=255*Math.pow(s/255,i),a.b[s]=255*Math.pow(s/255,o);for(let s=0;s<t.length;s+=4)t[s]=a.r[t[s]],t[s+1]=a.g[t[s+1]],t[s+2]=a.b[t[s+2]]}sendUniformData(e,t){e.uniform3fv(t.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return 1===e[0]&&1===e[1]&&1===e[2]}toObject(){return{type:_d,gamma:this.gamma.concat()}}}Eo(xd,"type",_d),Eo(xd,"defaults",{gamma:[1,1,1]}),Eo(xd,"uniformLocations",["uGamma"]),Ca.setClass(xd);const Sd={average:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      float average = (color.r + color.b + color.g) / 3.0;\n      gl_FragColor = vec4(average, average, average, color.a);\n    }\n    ",lightness:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    ",luminosity:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    "};class kd extends ed{applyTo2d(e){let{imageData:{data:t}}=e;for(let n,r=0;r<t.length;r+=4){const e=t[r],i=t[r+1],o=t[r+2];switch(this.mode){case"average":n=(e+i+o)/3;break;case"lightness":n=(Math.min(e,i,o)+Math.max(e,i,o))/2;break;case"luminosity":n=.21*e+.72*i+.07*o}t[r+2]=t[r+1]=t[r]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Sd[this.mode]}sendUniformData(e,t){e.uniform1i(t.uMode,1)}isNeutralState(){return!1}}Eo(kd,"type","Grayscale"),Eo(kd,"defaults",{mode:"average"}),Eo(kd,"uniformLocations",["uMode"]),Ca.setClass(kd);const Td=l(l({},sd),{},{rotation:0});class Cd extends ld{calculateMatrix(){const e=this.rotation*Math.PI,t=Aa(e),n=ja(e),r=1/3,i=Math.sqrt(r)*n,o=1-t;this.matrix=[t+o/3,r*o-i,r*o+i,0,0,r*o+i,t+r*o,r*o-i,0,0,r*o-i,r*o+i,t+r*o,0,0,0,0,0,1,0]}isNeutralState(){return 0===this.rotation}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}Eo(Cd,"type","HueRotation"),Eo(Cd,"defaults",Td),Ca.setClass(Cd);class Ed extends ed{applyTo2d(e){let{imageData:{data:t}}=e;for(let n=0;n<t.length;n+=4)t[n]=255-t[n],t[n+1]=255-t[n+1],t[n+2]=255-t[n+2],this.alpha&&(t[n+3]=255-t[n+3])}getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform int uInvert;\n  uniform int uAlpha;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    if (uInvert == 1) {\n      if (uAlpha == 1) {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);\n      } else {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n      }\n    } else {\n      gl_FragColor = color;\n    }\n  }\n"}isNeutralState(){return!this.invert}sendUniformData(e,t){e.uniform1i(t.uInvert,Number(this.invert)),e.uniform1i(t.uAlpha,Number(this.alpha))}}Eo(Ed,"type","Invert"),Eo(Ed,"defaults",{alpha:!1,invert:!0}),Eo(Ed,"uniformLocations",["uInvert","uAlpha"]),Ca.setClass(Ed);class Od extends ed{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uStepH;\n  uniform float uNoise;\n  uniform float uSeed;\n  varying vec2 vTexCoord;\n  float rand(vec2 co, float seed, float vScale) {\n    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n  }\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=this.noise;for(let r=0;r<t.length;r+=4){const e=(.5-Math.random())*n;t[r]+=e,t[r+1]+=e,t[r+2]+=e}}sendUniformData(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())}isNeutralState(){return 0===this.noise}}Eo(Od,"type","Noise"),Eo(Od,"defaults",{noise:0}),Eo(Od,"uniformLocations",["uNoise","uSeed"]),Ca.setClass(Od);class Pd extends ed{applyTo2d(e){let{imageData:{data:t,width:n,height:r}}=e;for(let i=0;i<r;i+=this.blocksize)for(let e=0;e<n;e+=this.blocksize){const o=4*i*n+4*e,a=t[o],s=t[o+1],l=t[o+2],c=t[o+3];for(let u=i;u<Math.min(i+this.blocksize,r);u++)for(let r=e;r<Math.min(e+this.blocksize,n);r++){const e=4*u*n+4*r;t[e]=a,t[e+1]=s,t[e+2]=l,t[e+3]=c}}}isNeutralState(){return 1===this.blocksize}getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBlocksize;\n  uniform float uStepW;\n  uniform float uStepH;\n  varying vec2 vTexCoord;\n  void main() {\n    float blockW = uBlocksize * uStepW;\n    float blockH = uBlocksize * uStepH;\n    int posX = int(vTexCoord.x / blockW);\n    int posY = int(vTexCoord.y / blockH);\n    float fposX = float(posX);\n    float fposY = float(posY);\n    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\n    vec4 color = texture2D(uTexture, squareCoords);\n    gl_FragColor = color;\n  }\n"}sendUniformData(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}Eo(Pd,"type","Pixelate"),Eo(Pd,"defaults",{blocksize:4}),Eo(Pd,"uniformLocations",["uBlocksize"]),Ca.setClass(Pd);class Ad extends ed{getFragmentSource(){return"\nprecision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\n  gl_FragColor = texture2D(uTexture, vTexCoord);\n  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\n    gl_FragColor.a = 0.0;\n  }\n}\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=255*this.distance,r=new yl(this.color).getSource(),i=[r[0]-n,r[1]-n,r[2]-n],o=[r[0]+n,r[1]+n,r[2]+n];for(let a=0;a<t.length;a+=4){const e=t[a],n=t[a+1],r=t[a+2];e>i[0]&&n>i[1]&&r>i[2]&&e<o[0]&&n<o[1]&&r<o[2]&&(t[a+3]=0)}}sendUniformData(e,t){const n=new yl(this.color).getSource(),r=this.distance,i=[0+n[0]/255-r,0+n[1]/255-r,0+n[2]/255-r,1],o=[n[0]/255+r,n[1]/255+r,n[2]/255+r,1];e.uniform4fv(t.uLow,i),e.uniform4fv(t.uHigh,o)}}Eo(Ad,"type","RemoveColor"),Eo(Ad,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),Eo(Ad,"uniformLocations",["uLow","uHigh"]),Ca.setClass(Ad);class jd extends ed{sendUniformData(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),r=new Array(n);for(let i=1;i<=n;i++)r[i-1]=e(i*t);return r}generateShader(e){const t=new Array(e);for(let n=1;n<=e;n++)t[n-1]="".concat(n,".0 * uDelta");return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec2 uDelta;\n      varying vec2 vTexCoord;\n      uniform float uTaps[".concat(e,"];\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        float sum = 1.0;\n        ").concat(t.map((e,t)=>"\n              color += texture2D(uTexture, vTexCoord + ".concat(e,") * uTaps[").concat(t,"] + texture2D(uTexture, vTexCoord - ").concat(e,") * uTaps[").concat(t,"];\n              sum += 2.0 * uTaps[").concat(t,"];\n            ")).join("\n"),"\n        gl_FragColor = color / sum;\n      }\n    ")}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){Kf(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return 1===this.scaleX&&1===this.scaleY}lanczosCreate(e){return t=>{if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;const n=(t*=Math.PI)/e;return Math.sin(t)/t*Math.sin(n)/n}}applyTo2d(e){const t=e.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;const i=t.width,o=t.height,a=Math.round(i*n),s=Math.round(o*r);let l;l="sliceHack"===this.resizeType?this.sliceByTwo(e,i,o,a,s):"hermite"===this.resizeType?this.hermiteFastResize(e,i,o,a,s):"bilinear"===this.resizeType?this.bilinearFiltering(e,i,o,a,s):"lanczos"===this.resizeType?this.lanczosResize(e,i,o,a,s):new ImageData(a,s),e.imageData=l}sliceByTwo(e,t,n,r,i){const o=e.imageData,a=.5;let s=!1,l=!1,c=t*a,u=n*a;const h=e.filterBackend.resources;let f=0,d=0;const p=t;let g=0;h.sliceByTwo||(h.sliceByTwo=Ua());const m=h.sliceByTwo;(m.width<1.5*t||m.height<n)&&(m.width=1.5*t,m.height=n);const y=m.getContext("2d");for(y.clearRect(0,0,1.5*t,n),y.putImageData(o,0,0),r=Math.floor(r),i=Math.floor(i);!s||!l;)t=c,n=u,r<Math.floor(c*a)?c=Math.floor(c*a):(c=r,s=!0),i<Math.floor(u*a)?u=Math.floor(u*a):(u=i,l=!0),y.drawImage(m,f,d,t,n,p,g,c,u),f=p,d=g,g+=u;return y.getImageData(f,d,r,i)}lanczosResize(e,t,n,r,i){const o=e.imageData.data,a=e.ctx.createImageData(r,i),s=a.data,l=this.lanczosCreate(this.lanczosLobes),c=this.rcpScaleX,u=this.rcpScaleY,h=2/this.rcpScaleX,f=2/this.rcpScaleY,d=Math.ceil(c*this.lanczosLobes/2),p=Math.ceil(u*this.lanczosLobes/2),g={},m={x:0,y:0},y={x:0,y:0};return function e(v){let b,w,_,x,S,k,T,C,E,O,P;for(m.x=(v+.5)*c,y.x=Math.floor(m.x),b=0;b<i;b++){for(m.y=(b+.5)*u,y.y=Math.floor(m.y),S=0,k=0,T=0,C=0,E=0,w=y.x-d;w<=y.x+d;w++)if(!(w<0||w>=t)){O=Math.floor(1e3*Math.abs(w-m.x)),g[O]||(g[O]={});for(let e=y.y-p;e<=y.y+p;e++)e<0||e>=n||(P=Math.floor(1e3*Math.abs(e-m.y)),g[O][P]||(g[O][P]=l(Math.sqrt(Math.pow(O*h,2)+Math.pow(P*f,2))/1e3)),_=g[O][P],_>0&&(x=4*(e*t+w),S+=_,k+=_*o[x],T+=_*o[x+1],C+=_*o[x+2],E+=_*o[x+3]))}x=4*(b*r+v),s[x]=k/S,s[x+1]=T/S,s[x+2]=C/S,s[x+3]=E/S}return++v<r?e(v):a}(0)}bilinearFiltering(e,t,n,r,i){let o,a,s,l,c,u,h,f,d,p,g,m,y,v=0;const b=this.rcpScaleX,w=this.rcpScaleY,_=4*(t-1),x=e.imageData.data,S=e.ctx.createImageData(r,i),k=S.data;for(h=0;h<i;h++)for(f=0;f<r;f++)for(c=Math.floor(b*f),u=Math.floor(w*h),d=b*f-c,p=w*h-u,y=4*(u*t+c),g=0;g<4;g++)o=x[y+g],a=x[y+4+g],s=x[y+_+g],l=x[y+_+4+g],m=o*(1-d)*(1-p)+a*d*(1-p)+s*p*(1-d)+l*d*p,k[v++]=m;return S}hermiteFastResize(e,t,n,r,i){const o=this.rcpScaleX,a=this.rcpScaleY,s=Math.ceil(o/2),l=Math.ceil(a/2),c=e.imageData.data,u=e.ctx.createImageData(r,i),h=u.data;for(let f=0;f<i;f++)for(let e=0;e<r;e++){const n=4*(e+f*r);let i=0,u=0,d=0,p=0,g=0,m=0,y=0;const v=(f+.5)*a;for(let r=Math.floor(f*a);r<(f+1)*a;r++){const n=Math.abs(v-(r+.5))/l,a=(e+.5)*o,h=n*n;for(let l=Math.floor(e*o);l<(e+1)*o;l++){let e=Math.abs(a-(l+.5))/s;const n=Math.sqrt(h+e*e);n>1&&n<-1||(i=2*n*n*n-3*n*n+1,i>0&&(e=4*(l+r*t),y+=i*c[e+3],d+=i,c[e+3]<255&&(i=i*c[e+3]/250),p+=i*c[e],g+=i*c[e+1],m+=i*c[e+2],u+=i))}}h[n]=p/u,h[n+1]=g/u,h[n+2]=m/u,h[n+3]=y/d}return u}}Eo(jd,"type","Resize"),Eo(jd,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),Eo(jd,"uniformLocations",["uDelta","uTaps"]),Ca.setClass(jd);class Dd extends ed{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uSaturation;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float rgMax = max(color.r, color.g);\n    float rgbMax = max(rgMax, color.b);\n    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\n    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\n    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=-this.saturation;for(let r=0;r<t.length;r+=4){const e=t[r],i=t[r+1],o=t[r+2],a=Math.max(e,i,o);t[r]+=a!==e?(a-e)*n:0,t[r+1]+=a!==i?(a-i)*n:0,t[r+2]+=a!==o?(a-o)*n:0}}sendUniformData(e,t){e.uniform1f(t.uSaturation,-this.saturation)}isNeutralState(){return 0===this.saturation}}Eo(Dd,"type","Saturation"),Eo(Dd,"defaults",{saturation:0}),Eo(Dd,"uniformLocations",["uSaturation"]),Ca.setClass(Dd);class Md extends ed{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uVibrance;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float max = max(color.r, max(color.g, color.b));\n    float avg = (color.r + color.g + color.b) / 3.0;\n    float amt = (abs(max - avg) * 2.0) * uVibrance;\n    color.r += max != color.r ? (max - color.r) * amt : 0.00;\n    color.g += max != color.g ? (max - color.g) * amt : 0.00;\n    color.b += max != color.b ? (max - color.b) * amt : 0.00;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=-this.vibrance;for(let r=0;r<t.length;r+=4){const e=t[r],i=t[r+1],o=t[r+2],a=Math.max(e,i,o),s=(e+i+o)/3,l=2*Math.abs(a-s)/255*n;t[r]+=a!==e?(a-e)*l:0,t[r+1]+=a!==i?(a-i)*l:0,t[r+2]+=a!==o?(a-o)*l:0}}sendUniformData(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}isNeutralState(){return 0===this.vibrance}}Eo(Md,"type","Vibrance"),Eo(Md,"defaults",{vibrance:0}),Eo(Md,"uniformLocations",["uVibrance"]),Ca.setClass(Md);Object.freeze({__proto__:null,BaseFilter:ed,BlackWhite:md,BlendColor:nd,BlendImage:id,Blur:od,Brightness:ad,Brownie:ud,ColorMatrix:ld,Composed:yd,Contrast:vd,Convolute:wd,Gamma:xd,Grayscale:kd,HueRotation:Cd,Invert:Ed,Kodachrome:fd,Noise:Od,Pixelate:Pd,Polaroid:pd,RemoveColor:Ad,Resize:jd,Saturation:Dd,Sepia:gd,Technicolor:dd,Vibrance:Md,Vintage:hd});var Ld=n(224);const Id=t=>{var n,r,i,o,a,s;let{tileSetDefinition:l,tileSheets:c,onTileSetDefinitionChange:u,onTileSetDefinitionDelete:h,onReturnToCanvas:f}=t;const d=u&&"function"==typeof u,p=h&&"function"==typeof h,g=(0,e.useContext)(Bd),m=e=>{let t;var n;(String(e)===e?t=c.find(t=>t.id==e):e instanceof Mi&&(t=e),g.has(l.tileSheetId))||g.setDataUrl(t.id,null===(n=c.find(e=>e.id==t.id))||void 0===n?void 0:n.imageDataUrl)},y=e=>{if(null===oe||void 0===oe||!oe.current)return;const t=c.find(t=>t.id==e.tileSheetId);if(!t)return;const n=e.toChocoWinTileSet(t.imageDataUrl);let r=new Ei(n,re,0,0,450,180);r.isReady().then(()=>{if(null===oe||void 0===oe||!oe.current)return void console.warn("previewRef.current falsy after it was truthy");const e=document.createElement("canvas");e.width=450,e.height=180,e.style.imageRendering="pixelated";const t=e.getContext("2d",{willReadFrequently:!0,colorSpace:"srgb",colorType:"unorm8"});t.imageSmoothingEnabled=!1,r.drawTo(t);let n=e.toDataURL("image/png",1);oe.current.src=n})},[v,b]=(0,e.useState)(l.name),[w,_]=(0,e.useState)(l.tileSheetId),[x,S]=(0,e.useState)(l.tileSize),[k,T]=(0,e.useState)(structuredClone(l.regions)),[C,E]=(0,e.useState)(l.defaultColors),O=(0,e.useRef)(null),P=(0,e.useRef)(null),A=(0,e.useRef)(null),j=(0,e.useRef)(null),D=(0,e.useRef)(null),[M,L]=(0,e.useState)(null),[I,R]=(0,e.useState)(!1),[N,F]=(0,e.useState)(null),[z,B]=(0,e.useState)(3),[U,W]=(0,e.useState)(null!==(n=3*l.tileSize*3)&&void 0!==n?n:72),[H,Y]=(0,e.useState)(null!==(r=3*l.tileSize)&&void 0!==r?r:24),[V,G]=(0,e.useState)(Li.TOP_LEFT),[X,q]=(0,e.useState)(!0),[Z,K]=(0,e.useState)(0),[$,Q]=(0,e.useState)(!1),[J,ee]=(0,e.useState)(!!l.tileSheetId),[te,ne]=(0,e.useState)(null),[re,ie]=(0,e.useState)(3),oe=(0,e.useRef)(null);(0,e.useEffect)(()=>{J&&(m(w),Zf.fromURL(g.get(l.tileSheetId)).then(e=>ne(e)))},[J,w]),(0,e.useEffect)(()=>{J&&null!==O&&void 0!==O&&O.current&&w&&(m(w),O.current.src=g.get(w))},[J,w,O]),(0,e.useEffect)(()=>{if(J)if(P.current){const e=Math.floor(P.current.parentElement.offsetWidth/3/x),t=Math.min(6,e);B(t),W(3*x*t)}else W(3*x)},[J,x,P]),(0,e.useEffect)(()=>{if(J&&j&&j.current){const e=new Vh("canvasId"),t=1,n=U/3,r="rgba(128, 128, 00, 0.5)",i="rgba(00, 0, 00, 0)",o=(t,r,i)=>{const o=new Iu({left:t-1,top:r-1,fill:i,width:n-1,height:n-1,objectCaching:!1,originX:"left",originY:"top"});e.add(o)},a=n=>{const r=new yf(n,{stroke:"black",strokeWidth:t,fill:"transparent"});e.add(r)};a([{x:n,y:0},{x:n,y:U}],!0),a([{x:2*n,y:0},{x:2*n,y:U}]),a([{x:0,y:n},{x:U,y:n}]),a([{x:0,y:2*n},{x:U,y:2*n}]),o(0,0,r),o(n,0,r),o(2*n,0,r),o(0,n,r),o(n,n,i),o(2*n,n,r),o(0,2*n,r),o(n,2*n,r),o(2*n,2*n,r),e.renderAll();const s=e.toDataURL();j.current.style.backgroundImage="url(".concat(s,")")}},[J,j,z,U]),(0,e.useEffect)(()=>{if(!J||!D)return;const e=k[V].width||1;if(D.current&&k[V]){const t=Math.floor((D.current.offsetWidth/e-4*e)/x);Y(x*Math.min(6,t))}else Y(x)},[J,D,x,k,V]),(0,e.useEffect)(()=>{J&&oe&&oe.current&&c&&l&&l.tileSize&&y(l)},[J,oe,c,l,re]);const ae=e=>{let{mouseEvent:t,naturalX:n,naturalY:r,overrideSnap:i=!1}=e;if(!J||!O||!O.current)return;const o=O.current.naturalWidth,a=O.current.naturalHeight;if(t){const e=O.current.getBoundingClientRect();n=Math.max(0,Math.min(Math.floor(t.clientX-e.left),o)),r=Math.max(0,Math.min(Math.floor(t.clientY-e.top),a))}!i&&X&&(n=x*Math.floor(n/x),r=x*Math.floor(r/x));const s={x:z*(x-n),y:z*(x-r)};L({x:n,y:r}),F(s)},se=e=>{const t=new Ri(l);d&&(e&&"function"==typeof e&&e(t),u(t),y(t))};return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("h2",{className:"bg-white text-2xl font-bold sticky top-0 dark:bg-gray-600 mb-2",children:["Tile Set Definition ",(0,or.jsxs)("span",{className:"text-sm",children:["(",l.id,")"]})]}),(0,or.jsx)("p",{className:"mb-2 mx-6 text-sm italic",children:"A tile set definition identifies locations in the sprite sheet for a window's corner tiles, repeating edge tiles, and repeating center tiles."}),(0,or.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"e4486061-7422-490d-be92-533ff31711a1",children:"Name:"}),(0,or.jsx)("input",{placeholder:"Tile Set Name",type:"text",autoComplete:"off",id:"e4486061-7422-490d-be92-533ff31711a1",className:Yi,value:v,onChange:e=>{b(e.target.value),se(t=>t.name=e.target.value)}})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"170eb33f-6cf9-453e-aad0-eaff6db6bb65",children:"Tile Sheet:"}),(0,or.jsxs)("select",{id:"170eb33f-6cf9-453e-aad0-eaff6db6bb65",className:Yi,onChange:e=>{_(e.target.value),J||ee(!0),se(t=>t.tileSheetId=e.target.value)},value:w,children:[c.findIndex(e=>e.id==w)<0&&(0,or.jsx)("option",{value:""},"none"),c.map(e=>(0,or.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"443fd77f-4bfc-489d-aad7-10948ef9a77d",children:"Tile Size:"}),(0,or.jsx)("input",{placeholder:"Tile Size",type:"Number",autoComplete:"off",id:"443fd77f-4bfc-489d-aad7-10948ef9a77d",className:Yi,value:x,onChange:e=>{S(Number(e.target.value)),se(t=>t.tileSize=Number(e.target.value))}})]})]}),J&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("h3",{className:"mb-1 font-bold text-xl",children:"Window Regions"}),(0,or.jsx)("p",{className:"mb-2 text-sm italic mx-6",children:"There are nine window regions: four corners, four edges, and the center. Top and bottom edges will repeat horizontally. Left and right edges will repeat vertically. The center will repeat in both directions."}),(0,or.jsxs)("div",{className:"grid grid-cols-10 gap-4",children:[(0,or.jsxs)("div",{className:"col-span-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"fca684ea-2f2e-459a-ae5c-99e602f3d57e",children:"Window Region:"}),(0,or.jsxs)("select",{className:Yi,id:"fca684ea-2f2e-459a-ae5c-99e602f3d57e",value:V,onChange:e=>{G(e.target.value)},children:[(0,or.jsx)("option",{value:Li.TOP_LEFT,children:"Top-Left Corner"}),(0,or.jsx)("option",{value:Li.TOP,children:"Top Edge"}),(0,or.jsx)("option",{value:Li.TOP_RIGHT,children:"Top-Right Corner"}),(0,or.jsx)("option",{value:Li.LEFT,children:"Left Edge"}),(0,or.jsx)("option",{value:Li.CENTER,children:"Center"}),(0,or.jsx)("option",{value:Li.RIGHT,children:"Right Edge"}),(0,or.jsx)("option",{value:Li.BOTTOM_LEFT,children:"Bottom-Left Corner"}),(0,or.jsx)("option",{value:Li.BOTTOM,children:"Bottom Edge"}),(0,or.jsx)("option",{value:Li.BOTTOM_RIGHT,children:"Bottom-Right Corner"})]})]}),(0,or.jsxs)("div",{className:"w-full col-span-2",children:[(0,or.jsx)("label",{htmlFor:"cbeb0e41-1266-432d-a3d4-0fbccc65b3e3",children:"Sheet Snap Mode"}),(0,or.jsxs)("select",{className:Yi,id:"cbeb0e41-1266-432d-a3d4-0fbccc65b3e3",value:X,onChange:e=>q(String(!0)==e.target.value),children:[(0,or.jsxs)("option",{value:!0,children:["Tile Size (",x,"px)"]}),(0,or.jsx)("option",{value:!1,children:"Do Not Snap"})]})]}),(0,or.jsxs)("div",{className:"w-full col-span-2",children:[(0,or.jsx)("label",{htmlFor:"4f4a4b0c-5b7b-4ef1-8355-c10c9c76c961",children:"Width (tiles)"}),(V==Li.TOP||V==Li.BOTTOM||V==Li.CENTER)&&(0,or.jsx)("input",{placeholder:"Tile Size",type:"Number",autoComplete:"off",id:"4f4a4b0c-5b7b-4ef1-8355-c10c9c76c961",className:Yi,value:k[V].width||1,onChange:e=>{const t=structuredClone(k);t[V].width=e.target.value,T(t),se(e=>e.regions=t)}}),V!=Li.TOP&&V!=Li.BOTTOM&&V!=Li.CENTER&&(0,or.jsx)("div",{className:"w-full block rounded-lg border py-[9px] px-3 text-sm",children:"1"})]}),(0,or.jsxs)("div",{className:"w-full col-span-2",children:[(0,or.jsx)("label",{htmlFor:"7ae42bae-9eeb-4491-be31-00161a3af632",children:"Height (tiles)"}),(V==Li.LEFT||V==Li.RIGHT||V==Li.CENTER)&&(0,or.jsx)("input",{placeholder:"Tile Size",type:"Number",autoComplete:"off",id:"4f4a4b0c-5b7b-4ef1-8355-c10c9c76c961",className:Yi,value:k[V].height||1,onChange:e=>{const t=structuredClone(k);t[V].height=e.target.value,T(t),se(e=>e.regions=t)}}),V!=Li.LEFT&&V!=Li.RIGHT&&V!=Li.CENTER&&(0,or.jsx)("div",{className:"w-full block rounded-lg border py-[9px] px-3 text-sm",children:"1"})]}),(0,or.jsxs)("div",{className:"col-span-10 -mt-4",children:[(V==Li.TOP_LEFT||V==Li.TOP_RIGHT||V==Li.BOTTOM_LEFT||V==Li.BOTTOM_RIGHT)&&(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"Corners can only be 1 tile wide and 1 tile high."}),(V==Li.TOP||V==Li.BOTTOM)&&(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"Top and bottom edge pattern can be any number of tiles wide."}),(V==Li.LEFT||V==Li.RIGHT)&&(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"Left and right edge pattern can be any number of tiles wide."}),V==Li.CENTER&&(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"The center repeated pattern can be any number of tiles wide or high."})]})]}),(0,or.jsx)("h3",{className:"mb-1 text-xl font-bold",children:"Tile Selection"}),(0,or.jsxs)("p",{className:"mb-2 text-sm mx-6",children:[(0,or.jsx)("span",{className:"italic",children:"First,"})," approximately click on location the tile sheet to load that area into the tile sheet detail selector. ",(0,or.jsx)("span",{className:"italic",children:"Second,"})," precisely adjust the position or click on an adjacent tile. ",(0,or.jsx)("span",{className:"italic",children:"Third,"})," click on the tile location to assign that part of the tile sheet to that tile in the regioon. If ",(0,or.jsx)("span",{className:"italic",children:" other tiles "})," to be assigned are ",(0,or.jsx)("span",{className:"italic",children:"adjacent"})," in the tile sheet, use can use the precise tile selection without using the approximate tile selection."]}),(0,or.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("h4",{className:"mb-1 font-bold",children:"Approximate Tile Selection"}),(0,or.jsx)("img",{onMouseEnter:()=>{R(!1)},onMouseMove:e=>{I||ae({mouseEvent:e})},onClick:e=>{R(!0),ae({mouseEvent:e})},alt:"Tile Selection",src:null,ref:O})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("h4",{className:"mb-1 font-bold",children:"Precise Tile Selection"}),(0,or.jsx)("div",{ref:P,style:{"--tile-sel-size":"".concat(U,"px")},className:"mb-3 mx-auto tile-sheet-position-selector h-[var(--tile-sel-size)] w-[var(--tile-sel-size)]",children:(0,or.jsx)("div",{ref:A,className:"w-full h-full sheet-tile-selection-mid-ground",style:{backgroundImage:"url(".concat(g.get(l.tileSheetId),")"),imageRendering:"pixelated",backgroundSize:"".concat((null===O||void 0===O||null===(i=O.current)||void 0===i?void 0:i.naturalWidth)*z,"px ").concat((null===O||void 0===O||null===(o=O.current)||void 0===o?void 0:o.naturalHeight)*z,"px"),backgroundPositionX:(null===N||void 0===N?void 0:N.x)||0,backgroundPositionY:(null===N||void 0===N?void 0:N.y)||0},onClick:e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left+1,r=e.clientY-t.top+1;let i=0,o=0;n/z<x?i=-x:n/z>2*x&&(i=x),r/z<x?o=-x:r/z>2*x&&(o=x),ae({naturalX:i+M.x,naturalY:o+M.y,overrideSnap:!0})},children:(0,or.jsx)("div",{ref:j,className:"w-full h-full"})})}),(0,or.jsxs)("div",{className:"grid grid-cols-2",children:[(0,or.jsxs)("div",{className:"mr-2 mb-2",children:[(0,or.jsx)("label",{htmlFor:"94b7a866-c49a-4999-b167-a6f205861b59",children:"Sheet X"}),(0,or.jsx)("input",{placeholder:"x",type:"Number",autoComplete:"off",id:"94b7a866-c49a-4999-b167-a6f205861b59",className:Yi,onChange:e=>{ae({naturalX:Number(e.target.value),naturalY:M.y,overrideSnap:!0})},value:null!==(a=null===M||void 0===M?void 0:M.x)&&void 0!==a?a:0})]}),(0,or.jsxs)("div",{className:"ml-2 mb-2",children:[(0,or.jsx)("label",{htmlFor:"e4be39b9-9af0-4de5-8fa5-64ebc9a6f769",children:"Sheet Y"}),(0,or.jsx)("input",{placeholder:"x",type:"Number",autoComplete:"off",id:"e4be39b9-9af0-4de5-8fa5-64ebc9a6f769",className:Yi,onChange:e=>{ae({naturalX:M.x,naturalY:Number(e.target.value),overrideSnap:!0})},value:null!==(s=null===M||void 0===M?void 0:M.y)&&void 0!==s?s:0})]})]})]}),(0,or.jsxs)("div",{ref:D,className:"mb-4 w-full",children:[(0,or.jsx)("h4",{className:"mb-1 font-bold",children:"Tile Assignment"}),(0,or.jsx)("div",{style:{"--flex-width":"".concat(k[V].width*H,"px"),"--col-count":"".concat(k[V].width,"px"),"--tile-size":"".concat(H,"px")},className:"flex flex-wrap w-[var(--flex-width)] mx-auto",children:Array.from({length:k[V].height||1}).map((e,t)=>Array.from({length:k[V].width||1}).map((e,n)=>{return(0,or.jsxs)("button",{onClick:()=>((e,t)=>{if(!te)return void console.error("wholeTileSheetImage isn't loaded when the user tile assignment happeend.");const n=structuredClone(k);n[V].tileSheetPositions[t]||(n[V].tileSheetPositions[t]=[]),n[V].tileSheetPositions[t][e]={x:null===M||void 0===M?void 0:M.x,y:null===M||void 0===M?void 0:M.y},T(n),se(e=>e.regions=n)})(n,t),style:{backgroundImage:"url(".concat(g.get(l.tileSheetId),")"),backgroundRepeat:"no-repeat",imageRendering:"pixelated",backgroundSize:"".concat((null===O||void 0===O||null===(f=O.current)||void 0===f?void 0:f.naturalWidth)*(H/x),"px ").concat((null===O||void 0===O||null===(d=O.current)||void 0===d?void 0:d.naturalHeight)*(H/x),"px"),backgroundPositionX:H/x*(null!==(s=-(null===(c=l.regions[V].tileSheetPositions)||void 0===c||null===(u=c[t])||void 0===u||null===(h=u[n])||void 0===h?void 0:h.x))&&void 0!==s?s:0),backgroundPositionY:H/x*(null!==(r=-(null===(i=l.regions[V].tileSheetPositions)||void 0===i||null===(o=i[t])||void 0===o||null===(a=o[n])||void 0===a?void 0:a.y))&&void 0!==r?r:0)},className:"border-t-2 border-l-2 ".concat(t==k[V].height-1&&"border-b-2"," ").concat(n==k[V].width-1&&"border-r-2"," w-[var(--tile-size)] h-[var(--tile-size)] text-xs"),children:["(",n+1,", ",t+1,")"]},"tile-selector-".concat(n,"-").concat(t));var r,i,o,a,s,c,u,h,f,d}))})]})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Window Preview"}),(0,or.jsx)("div",{className:"grid grid-cols-4 gap-4 mb-2 mx-6 text-sm",children:(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{htmlFor:"a33f0024-8c0d-4ab8-9ac2-0c72ce5f2eb1",children:"Preview Tile Scale"}),(0,or.jsx)("input",{min:1,placeholder:"Preview Tile Scale",type:"Number",autoComplete:"off",id:"a33f0024-8c0d-4ab8-9ac2-0c72ce5f2eb1",className:Yi,value:re,onChange:e=>ie(e.target.value)})]})}),(0,or.jsx)("p",{className:"mb-2 text-sm mx-6",children:"This is a preview of what a window with this tile set definition will look like."}),(0,or.jsx)("div",{className:"mx-6",id:"tileSetPreviewDiv",children:(0,or.jsx)("img",{alt:"Window Preview",src:null,ref:oe})}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Color Palette"}),(0,or.jsx)("button",{onClick:()=>{fetch(g.get(l.tileSheetId)).then(e=>e.body).then(e=>{const t=new Ld.PNG;e.getReader().read().then(e=>t.write(e.value)).finally(()=>{}),t.on("parsed",()=>{const e=[],n=new Set;var r;Object.keys(Li).forEach(r=>{k[r].tileSheetPositions.forEach(r=>{r.forEach(r=>{for(let i=r.x;i<r.x+x;i++)for(let o=r.y;o<r.y+x;o++){const r=t.width*o+i<<2,a=t.data[r],s=t.data[r+1],l=t.data[r+2],c=t.data[r+3],u="(".concat(a,", ").concat(s,", ").concat(l,", ").concat(c,")");n.has(u)||(n.add(u),e[e.length]=new di({r:a,g:s,b:l,a:c}))}})})}),Q(e.length>8),K(e.length),e.length<=8&&(E(r=e),se(e=>e.defaultColors=r))})})},className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-500",children:"Generate Color Palette"}),$&&(0,or.jsxs)("p",{className:"my-2 text-sm mx-6",children:["The selected tiles contain ",Z," colors but only ",8," colors are supported. Please reduce the colors in an external tool or select different tiles."]}),!$&&C&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("h4",{className:"mb-1 mt-2 font-bold",children:"Default Colors"}),(0,or.jsx)("div",{className:"grid grid-cols-4 gap-4",children:C.map((e,t)=>{var n,r;return(0,or.jsxs)("div",{children:[(0,or.jsxs)("div",{className:"text-sm w-full text-center",children:["Color ",t+1]}),(0,or.jsx)("div",{children:(0,or.jsx)("input",{className:"w-full rounded",type:"color",value:(null===(n=C[t])||void 0===n||null===(r=n.toHexString)||void 0===r?void 0:r.call(n))||e.toHexString(),readOnly:!0})})]},t)})})]})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:f,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-500",children:"Return to Canvas"}),(0,or.jsx)("button",{onClick:()=>{l.id,p&&h(l.id)},className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-500",children:"Delete Tile Set Definition"})]})]})},Rd=t=>{var n,r,i;let{isSubordinate:o=!1,preset:a,tileSheets:s,tileSetDefinitions:l,onPresetChange:c,onPresetDelete:u,onReturnToCanvas:h}=t;const f=(0,e.useRef)(null),[d,p]=(0,e.useState)(a.name),[g,m]=(0,e.useState)(l.find(e=>e.id==a.tileSetDefinitionId)||l[0]),[y,v]=(0,e.useState)(null!==(n=a.tileSetDefinitionId)&&void 0!==n?n:null),[b,w]=(0,e.useState)(a.tileScale||1),[_,x]=(0,e.useState)(a.substituteColors||[]),[S,k]=(0,e.useState)(a.substituteColors||[]);(0,e.useEffect)(()=>{m(l.find(e=>e.id==y))},[y]),(0,e.useEffect)(()=>{S&&S.length&&setTimeout(()=>{x(S);const e=new Ni(a);e.substituteColors=S,T(e)},250)},[S]),(0,e.useEffect)(()=>{if(!f.current)return;if(!g)return;const e=s.find(e=>e.id==g.tileSheetId);if(!e)return;let t=new Ei(g.toChocoWinTileSet(e.imageDataUrl),b||1,0,0,450,180,_);t.isReady().then(()=>{const e=document.createElement("canvas");e.width=450,e.height=180,e.style.imageRendering="pixelated";const n=e.getContext("2d",{willReadFrequently:!0,colorSpace:"srgb",colorType:"unorm8"});n.imageSmoothingEnabled=!1,t.drawTo(n);let r=e.toDataURL("image/png",1);f.current.src=r})},[a,b,g,_,f]);const T=e=>{c&&"function"==typeof c&&c(e)};(0,e.useEffect)(()=>{const e=new Ni(a);e.substituteColors=_.slice(),T(e)},[_]);return(0,or.jsxs)(or.Fragment,{children:[o||(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("h2",{className:"bg-white text-2xl font-bold sticky top-0 dark:bg-gray-600",children:["Preset Settings ",(0,or.jsxs)("span",{className:"text-sm",children:["(",a.id,")"]})]}),(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"You can use presets to reuse the same settings on multiple windows."}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"e4486061-7422-490d-be92-533ff31711a1",children:"Name: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"text",autoComplete:"off",id:"e4486061-7422-490d-be92-533ff31711a1",className:Yi,value:d,onChange:e=>{const t=e.target.value;p(t);const n=new Ni(a);n.name=t,T(n)}})]})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"7ed0e6ee-47bf-48ff-b54b-d919c60faad5",children:"Tile Set Definition: "}),(0,or.jsxs)("select",{id:"7ed0e6ee-47bf-48ff-b54b-d919c60faad5",className:Yi,onChange:e=>{const t=e.target.value;v(t),x([]);const n=new Ni(a);n.tileSetDefinitionId=t,T(n)},value:y,children:[a.tileSetDefinitionId||(0,or.jsx)("option",{value:"",children:"-"},""),l.map(e=>(0,or.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,or.jsxs)("div",{className:"w-full",children:[(0,or.jsx)("label",{htmlFor:"59731ce7-1ab4-4ea1-a08e-1bf5a43d1f4e",children:"Tile Scale: "}),(0,or.jsx)("input",{placeholder:"Tile Scale",type:"number",min:1,max:10,id:"59731ce7-1ab4-4ea1-a08e-1bf5a43d1f4e",className:Yi,value:b,onChange:e=>{const t=e.target.value;w(t);const n=new Ni(a);n.tileScale=t,T(n)}})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Color Substitutions"}),(null===g||void 0===g||null===(r=g.defaultColors)||void 0===r?void 0:r.length)>0||(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"No default colors were generated for the selected tile set definition."}),(null===g||void 0===g||null===(i=g.defaultColors)||void 0===i?void 0:i.length)>0&&(0,or.jsx)("div",{className:"grid grid-cols-4 gap-4",children:g.defaultColors.map((e,t)=>{var n,r;return(0,or.jsxs)("div",{children:[(0,or.jsxs)("div",{className:"text-sm w-full text-center",children:["Color ",t+1]}),(0,or.jsx)("div",{children:(0,or.jsx)("input",{className:"w-full rounded",type:"color",value:(null===(n=_[t])||void 0===n||null===(r=n.toHexString)||void 0===r?void 0:r.call(n))||e.toHexString(),onChange:e=>((e,t)=>{let n=_.slice();n[t]=new di(e.target.value),k(n)})(e,t)})}),(0,or.jsx)("div",{children:(0,or.jsx)("button",{className:"w-full border mt-1 text-sm border-gray-900 bg-gray-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded",onClick:e=>(e=>{let t=_.slice();delete t[e],x(t)})(t),children:"Reset"})})]},t)})}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Preview"}),(0,or.jsx)("div",{id:"tileSetPreviewDiv",children:(0,or.jsx)("img",{alt:"Window Preview",src:null,ref:f})}),o||(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:h,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-500",children:"Return to Canvas"}),(0,or.jsx)("button",{onClick:()=>{a.id,u&&"function"==typeof u&&u(a.id)},className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-500",children:"Delete Preset"})]})]})]})},Nd=t=>{let{layout:n,windows:r,onLayoutChange:i,onLayoutDelete:o,onReturnToCanvas:a,onEditThisLayout:s}=t;const l=(0,e.useRef)(),[c,u]=(0,e.useState)(n.name||""),[h,f]=(0,e.useState)(n.windowIds||[]),d=e=>{i&&"function"==typeof i&&i(e)};return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("h2",{className:"bg-white text-2xl font-bold sticky top-0 dark:bg-gray-600",children:["Layout Settings ",(0,or.jsxs)("span",{className:"text-sm",children:["(",n.id,")"]})]}),(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"A layout is a collection of windows, analogous to a scene."}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"c2c6dc82-1188-41ae-a8ba-24b3c3748b95",children:"Name: "}),(0,or.jsx)("input",{placeholder:"Layout Name",type:"text",autoComplete:"off",id:"c2c6dc82-1188-41ae-a8ba-24b3c3748b95",className:Yi,value:c,onChange:e=>{const t=e.target.value;u(t);const r=new Fi(n);r.name=t,d(r)}})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Window List"}),(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"Windows lower in the list will rendered later and therefore appear above windows higher in the list."}),(0,or.jsxs)("table",{className:"min-w-full",children:[(0,or.jsx)("thead",{children:(0,or.jsxs)("tr",{children:[(0,or.jsx)("th",{className:"p-1 border-b border-b-gray-900 text-left",children:"Render Order"}),(0,or.jsx)("th",{className:"p-1 border-b border-b-gray-900 text-left",children:"Window Name"}),(0,or.jsx)("th",{className:"p-1 border-b border-b-gray-900 text-left",children:"Actions"})]})}),(0,or.jsx)("tbody",{children:h.map(e=>{const t=r.find(t=>t.id==e);return(0,or.jsxs)("tr",{className:"even:bg-gray-600 odd:bg-gray-700",children:[(0,or.jsxs)("td",{className:"p-1",children:[(0,or.jsx)("button",{className:"hover:text-yellow-400",onClick:()=>(e=>{const t=h.indexOf(e);if(0==t)return;let r=h.slice();r[t]=r[t-1],r[t-1]=e,f(r);const i=new Fi(n);i.windowIds=r.slice(),d(i)})(t.id),"aria-label":"Delete",children:(0,or.jsx)(Wr,{icon:Zr})},"u-".concat(t.id)),(0,or.jsx)("button",{className:"hover:text-yellow-400",onClick:()=>(e=>{const t=h.indexOf(e);if(t==h.length-1)return;let r=h.slice();r[t]=r[t+1],r[t+1]=e,f(r);const i=new Fi(n);i.windowIds=r.slice(),d(i)})(t.id),"aria-label":"Delete",children:(0,or.jsx)(Wr,{icon:ti})},"d-".concat(t.id))]}),(0,or.jsx)("td",{className:"p-1",children:t.name}),(0,or.jsx)("td",{className:"p-1",children:(0,or.jsx)("button",{className:"hover:text-red-200",onClick:()=>(e=>{const t=h.indexOf(e);if(t<0)return;let r=h.slice();r.splice(t,1),f(r);const i=new Fi(n);i.windowIds=r.slice(),d(i)})(t.id),"aria-label":"Delete",children:(0,or.jsx)(Wr,{icon:ri})},"r-".concat(t.id))})]},e)})})]}),(0,or.jsxs)("div",{className:"mb-4 mt-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"c4698df8-c46f-4736-96c0-a20777e7eb7e",className:"block",children:"Add Window: "}),(0,or.jsx)("div",{className:"mb-4 w-full",children:(0,or.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,or.jsxs)("select",{id:"c4698df8-c46f-4736-96c0-a20777e7eb7e",className:Yi,defaultValue:null,ref:l,children:[(0,or.jsx)("option",{value:null}),r.filter(e=>0==h.includes(e.id)).map(e=>(0,or.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,or.jsx)("button",{onClick:()=>{if(l.current){const e=l.current.value,t=r.find(t=>e==t.id);if(t){let t=h.slice();t.push(e),f(t);const r=new Fi(n);r.windowIds=t.slice(),d(r)}}},className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-gray-700 dark:hover:bg-gray-500",children:"Add"})]})})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:a,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-500",children:"Return to Canvas"}),(0,or.jsx)("button",{onClick:()=>s(n.id),className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-500",children:"Edit this Layout"}),(0,or.jsx)("button",{onClick:()=>{n.id,o&&"function"==typeof o&&o(n.id)},className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-500",children:"Delete Layout"})]})]})},Fd=t=>{let{window:n,presets:r,tileSheets:i,tileSetDefinitions:o,onWindowChange:a,onWindowDelete:s,onReturnToCanvas:l}=t;const c=(0,e.useRef)(null),[u,h]=(0,e.useState)(n.name),[f,d]=(0,e.useState)(n.x),[p,g]=(0,e.useState)(n.y),[m,y]=(0,e.useState)(n.w),[v,b]=(0,e.useState)(n.h),[w,_]=(0,e.useState)(n.presetId),x=e=>{a&&"function"==typeof a&&a(e)};(0,e.useEffect)(()=>{if(!c.current)return;if(!w)return;let e=r.find(e=>e.id==w);if(!e)return;let t=o.find(t=>t.id==e.tileSetDefinitionId);if(!t)return;let n=i.find(e=>e.id==t.tileSheetId);if(!n)return;let a=new Ei(t.toChocoWinTileSet(n.imageDataUrl),e.tileScale,0,0,450,180,e.substituteColors);a.isReady().then(()=>{const e=document.createElement("canvas");e.width=450,e.height=180,e.style.imageRendering="pixelated";const t=e.getContext("2d",{willReadFrequently:!0,colorSpace:"srgb",colorType:"unorm8"});t.imageSmoothingEnabled=!1,a.drawTo(t);let n=e.toDataURL("image/png",1);c.current.src=n})},[w,c]);return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("h2",{className:"bg-white text-2xl font-bold sticky top-0 dark:bg-gray-600",children:["Window Settings ",(0,or.jsxs)("span",{className:"text-sm",children:["(",n.id,")"]})]}),(0,or.jsx)("p",{className:"mb-2 text-sm italic"}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"c2c6dc82-1188-41ae-a8ba-24b3c3748b95",children:"Name: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"text",autoComplete:"off",id:"c2c6dc82-1188-41ae-a8ba-24b3c3748b95",className:Yi,value:u,onChange:e=>{const t=e.target.value;h(t);const r=new zi(n);r.name=t,x(r)}})]}),(0,or.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"f6242f82-7376-4e18-9248-a7a6e874d6e4",children:"X Position: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"number",id:"f6242f82-7376-4e18-9248-a7a6e874d6e4",className:Yi,value:f,onChange:e=>{const t=e.target.value;d(t);const r=new zi(n);r.x=t,x(r)}})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"3da2a38e-6c32-4e9d-8ff9-cac955c3b53e",children:"Y Position: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"number",id:"3da2a38e-6c32-4e9d-8ff9-cac955c3b53e",className:Yi,value:p,onChange:e=>{const t=e.target.value;g(t);const r=new zi(n);r.y=t,x(r)}})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"4a855c80-d4e1-46b4-ba47-471488280ac7",children:"Width: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"number",id:"4a855c80-d4e1-46b4-ba47-471488280ac7",className:Yi,value:m,onChange:e=>{const t=e.target.value;y(t);const r=new zi(n);r.w=t,x(r)}})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"df672390-f90b-4033-b0c3-ffbdcbd4139d",children:"Height: "}),(0,or.jsx)("input",{placeholder:"Preset Name",type:"number",id:"df672390-f90b-4033-b0c3-ffbdcbd4139d",className:Yi,value:v,onChange:e=>{const t=e.target.value;b(t);const r=new zi(n);r.h=t,x(r)}})]})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"e2820c63-7187-4326-8cd7-822161700f82",children:"Preset: "}),(0,or.jsxs)("select",{id:"e2820c63-7187-4326-8cd7-822161700f82",className:Yi,onChange:e=>{const t=e.target.value;_(t);const r=new zi(n);r.singularPreset=null,r.presetId=t,x(r)},value:w,children:[(0,or.jsx)("option",{value:"",children:"- no preset -"},"none"),r.map(e=>(0,or.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),!w&&(0,or.jsx)(Rd,{isSubordinate:!0,preset:n.singularPreset||new Ni,tileSheets:i,tileSetDefinitions:o,onPresetChange:e=>{const t=new Ni(e),r=new zi(n);r.singularPreset=t,x(r)}}),w&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Preview"}),(0,or.jsx)("div",{id:"tileSetPreviewDiv",children:(0,or.jsx)("img",{alt:"Window Preview",src:null,ref:c})})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:l,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-500",children:"Return to Canvas"}),(0,or.jsx)("button",{onClick:()=>{n.id,s&&"function"==typeof s&&s(n.id)},className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-500",children:"Delete Window"})]})]})},zd=t=>{let{tileSheet:n,onTileSheetChange:r,onTileSheetDelete:i,onReturnToCanvas:o}=t;const a=i&&"function"==typeof i,s=(0,e.useRef)(null),l=(0,e.useRef)(null),[c,u]=(0,e.useState)(n.name),[h,f]=(0,e.useState)(null!=n.imageDataUrl),[d,p]=(0,e.useState)(n.imageDataUrl),[g,m]=(0,e.useState)(n.attribution),y=e=>{const t=new Mi(n);r&&"function"==typeof r&&(e&&"function"==typeof e&&e(t),r(t))};return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("h2",{className:"bg-white text-2xl font-bold sticky top-0 dark:bg-gray-600 mb-2",children:["Tile Sheet Editor ",(0,or.jsxs)("span",{className:"text-sm",children:["(",n.id,")"]})]}),(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"A tile sheet is an image file that contains the tiles used to create windows."}),(0,or.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"3ccab645-9aaa-4bfb-b12d-625bc18b6fd9",children:"Name: "}),(0,or.jsx)("input",{placeholder:"Tile Set Name",type:"text",autoComplete:"off",id:"3ccab645-9aaa-4bfb-b12d-625bc18b6fd9",className:Yi,value:c,onChange:e=>{u(e.target.value),y(t=>t.name=e.target.value)}})]}),(0,or.jsxs)("div",{className:"wb-4 w-full",children:[(0,or.jsx)("input",{className:"hidden",accept:"image/png",type:"file",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;f(!0),e.onload=t=>{const n=e.result;l.current.src=n,p(n),y(e=>e.imageDataUrl=n)},e.readAsDataURL(t)}},ref:s}),(0,or.jsx)("label",{htmlFor:"b06ffc48-9ef6-47b7-b8a2-daf2fdc8e2cf",children:"Upload Tile Sheet"}),(0,or.jsx)("button",{id:"b06ffc48-9ef6-47b7-b8a2-daf2fdc8e2cf",className:"".concat(Yi," hover:bg-gray-500"),onClick:e=>{s.current&&s.current.click()},children:"Upload"})]})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"4d8736a5-51a6-4fd3-88a1-2a907b755718",children:"Atrribution: "}),(0,or.jsx)("textarea",{placeholder:"Attribution",type:"text",autoComplete:"off",id:"4d8736a5-51a6-4fd3-88a1-2a907b755718",className:Yi,value:g,onChange:e=>{m(e.target.value),y(t=>t.attribution=e.target.value)}})]}),h||(0,or.jsx)("p",{className:"mb-2 text-sm italic",children:"Please upload a tile sheet image file."}),h&&(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Tile Sheet Quick View"}),(0,or.jsx)("div",{className:"mb-4 w-full",children:(0,or.jsx)("img",{className:"block rounded-lg border dark:border-none dark:bg-gray-800 py-[9px] px-3 text-sm focus:border-blue-400 focus:ring-1 focus:ring-blue-400 focus:outline-none",ref:l,src:d})})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:o,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-500",children:"Return to Canvas"}),a&&(0,or.jsx)("button",{onClick:()=>i(n.id),className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-500",children:"Delete Tile Sheet"})]})]})},Bd=(0,e.createContext)(new Di),Ud=t=>{let{isModalHidden:n,onReturnToCanvas:r,onWorkspaceChange:i,workspace:o}=t;const a=Object.freeze({SETTINGS:"SETTINGS",TILE_SHEET:"TILE_SHEET",TILE_SET_DEFINITION:"TILE_SET_DEFINITION",TILE_SET:"TILE_SET",PRESET:"PRESET",LAYOUT:"LAYOUT",WINDOW:"WINDOW",VARIABLE:"VARIABLE"}),[s,l]=(0,e.useState)(a.SETTINGS),[c,u]=(0,e.useState)(!0),[h,f]=(0,e.useState)(!0),[d,p]=(0,e.useState)(!0),[g,m]=(0,e.useState)(!0),[y,v]=(0,e.useState)(!0),[b,w]=(0,e.useState)(!0),[_,x]=(0,e.useState)(null),[S,k]=(0,e.useState)(null),[T,C]=(0,e.useState)(null),[E,O]=(0,e.useState)(null),[P,A]=(0,e.useState)(null),[j,D]=(0,e.useState)(null),M=(0,e.useRef)(null),[L,I]=(0,e.useState)(""),[R,N]=(0,e.useState)(1920),[F,z]=(0,e.useState)(1080),B=()=>{const e=JSON.stringify(o),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="".concat(o.workspaceName,".choco.json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},U=()=>{},W=()=>{M.current&&M.current.click()},H=e=>{i(e)},Y=e=>{const t=new Ui(o);let n=t.tileSheets.findIndex(t=>t.id==e.id);n<0&&(n=t.tileSheets.length),t.tileSheets[n]=e,H(t),x(e)},V=e=>{const t=new Ui(o);let n=t.tileSetDefinitions.findIndex(t=>t.id==e.id);n<0&&(n=t.tileSetDefinitions.length),t.tileSetDefinitions[n]=e,H(t),C(e)},G=e=>{l(a.SETTINGS);const t=new Ui(o),n=t.tileSheets.findIndex(t=>t.id==e);n>=0&&t.tileSheets.splice(n,1),H(t),x(null)},X=e=>{l(a.SETTINGS);const t=new Ui(o),n=t.tileSetDefinitions.findIndex(t=>t.id==e);n>=0&&t.tileSetDefinitions.splice(n,1),H(t),k(null)},q=e=>{const t=new Ui(o);let n=t.presets.findIndex(t=>t.id==e.id);n<0&&(n=t.presets.length),t.presets[n]=e,H(t),O(e)},Z=e=>{l(a.SETTINGS);const t=new Ui(o),n=t.presets.findIndex(t=>t.id==e);n>=0&&t.presets.splice(n,1),H(t),O(null)},K=e=>{const t=new Ui(o);let n=t.layouts.findIndex(t=>t.id==e.id);n<0&&(n=t.layouts.length),t.layouts[n]=e,H(t),A(e)},Q=e=>{l(a.SETTINGS);const t=new Ui(o),n=t.layouts.findIndex(t=>t.id==e);n>=0&&t.layouts.splice(n,1),H(t)},J=e=>{const t=new Ui(o);let n=t.windows.findIndex(t=>t.id==e.id);n<0&&(n=t.windows.length),t.windows[n]=e,H(t),D(e)},ee=e=>{l(a.SETTINGS);const t=new Ui(o),n=t.windows.findIndex(t=>t.id==e);n>=0&&t.windows.splice(n,1),H(t),D(null)},te=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result),n=new Ui(t);H(n),M.current.value=null}catch($){console.error($),alert("An unexpected error occurred; check the console log for details.")}},e.readAsText(t)}},ne=e=>{const t=e.target.value;o.workspaceName=t,I(t),H(o)},re=e=>{const t=e.target.value;o.width=t,N(t),H(o)},ie=e=>{const t=e.target.value;o.height=t,z(t),H(o)};return(0,or.jsx)("div",{id:"modal",className:"settings-modal fixed inset-0 ".concat(n?"hidden":""," bg-black bg-opacity-50 z-40"),children:(0,or.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,or.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-5/6 h-5/6 flex relative dark:bg-gray-600",children:[(0,or.jsx)("button",{id:"closeModal",className:"mt-2 mr-2 text-red-300 text-xl absolute top-0 right-0",children:(0,or.jsx)("i",{className:"fa-solid fa-square-xmark"})}),(0,or.jsx)("div",{className:"bg-gray-800 text-white p-4 pr-6 rounded-l-lg flex-none",children:(0,or.jsxs)("nav",{className:"h-full overflow-y-auto",children:[(0,or.jsx)("h2",{className:"bg-gray-800 font-bold text-lg sticky top-0",children:"Workspace"}),(0,or.jsxs)("ul",{children:[(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>l(a.SETTINGS),className:"block py-1 hover:bg-gray-600",children:"Workspace Settings"})}),(0,or.jsxs)("li",{children:[(0,or.jsxs)("button",{onClick:()=>f(!h),className:"block py-1 hover:bg-gray-700",children:[(0,or.jsx)(Wr,{icon:h?Jr:Xr}),"Tile Sheets"]}),(0,or.jsxs)("ul",{className:"ml-8 ".concat(h?"":"hidden"),children:[(0,or.jsx)("button",{onClick:()=>{a.TILE_SHEET!=s&&l(a.TILE_SHEET);const e=new Mi;x(e)},className:"block py-1 hover:bg-gray-600",children:"Add New..."}),o.tileSheets.map(e=>(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>(e=>{a.TILE_SHEET!=s&&l(a.TILE_SHEET),x(e)})(e),className:"block py-1 hover:bg-gray-600",children:String(e.name).trim()||(0,or.jsx)("span",{className:"italic",children:"no name"})})},e.id))]})]}),(0,or.jsxs)("li",{children:[(0,or.jsxs)("button",{onClick:()=>u(!c),className:"block py-1 hover:bg-gray-700",children:[(0,or.jsx)(Wr,{icon:c?Jr:Xr}),"Tile Set Definitions"]}),(0,or.jsxs)("ul",{className:"ml-8 ".concat(c?"":"hidden"),children:[(0,or.jsx)("button",{onClick:()=>{a.TILE_SET_DEFINITION!=s&&l(a.TILE_SET_DEFINITION);const e=new Ri;C(e)},className:"block py-1 hover:bg-gray-600",children:"Add New..."}),o.tileSetDefinitions.map(e=>(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>(e=>{a.TILE_SET_DEFINITION!=s&&l(a.TILE_SET_DEFINITION),C(e)})(e),className:"block py-1 hover:bg-gray-600",children:String(e.name).trim()||(0,or.jsx)("span",{className:"italic",children:"no name"})})},e.id))]})]}),(0,or.jsxs)("li",{children:[(0,or.jsxs)("button",{onClick:()=>p(!d),className:"block py-1 hover:bg-gray-700",children:[(0,or.jsx)(Wr,{icon:d?Jr:Xr}),"Presets"]}),(0,or.jsxs)("ul",{className:"ml-8 ".concat(d?"":"hidden"),children:[(0,or.jsx)("button",{onClick:()=>{a.PRESET!=s&&l(a.PRESET);const e=new Ni;O(e)},className:"block py-1 hover:bg-gray-600",children:"Add New..."}),o.presets.map(e=>(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>(e=>{a.PRESET!=s&&l(a.PRESET),O(e)})(e),className:"block py-1 hover:bg-gray-600",children:String(e.name).trim()||(0,or.jsx)("span",{className:"italic",children:"no name"})})},e.id))]})]}),(0,or.jsxs)("li",{children:[(0,or.jsxs)("button",{onClick:()=>v(!y),className:"block py-1 hover:bg-gray-700",children:[(0,or.jsx)(Wr,{icon:y?Jr:Xr}),"Windows"]}),(0,or.jsxs)("ul",{className:"ml-8 ".concat(y?"":"hidden"),children:[(0,or.jsx)("button",{onClick:()=>{a.WINDOW!=s&&l(a.WINDOW);const e=new zi;D(e)},className:"block py-1 hover:bg-gray-600",children:"Add New..."}),o.windows.map(e=>(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>(e=>{a.WINDOW!=s&&l(a.WINDOW),D(e)})(e),className:"block py-1 hover:bg-gray-600",children:String(e.name).trim()||(0,or.jsx)("span",{className:"italic",children:"no name"})})},e.id))]})]}),(0,or.jsxs)("li",{children:[(0,or.jsxs)("button",{onClick:()=>m(!g),className:"block py-1 hover:bg-gray-700",children:[(0,or.jsx)(Wr,{icon:g?Jr:Xr}),"Layouts"]}),(0,or.jsxs)("ul",{className:"ml-8 ".concat(g?"":"hidden"),children:[(0,or.jsx)("button",{onClick:()=>{a.LAYOUT!=s&&l(a.LAYOUT);const e=new Fi;A(e)},className:"block py-1 hover:bg-gray-600",children:"Add New..."}),o.layouts.map(e=>(0,or.jsx)("li",{children:(0,or.jsx)("button",{onClick:()=>(e=>{a.LAYOUT!=s&&l(a.LAYOUT),A(e)})(e),className:"block py-1 hover:bg-gray-600",children:String(e.name).trim()||(0,or.jsx)("span",{className:"italic",children:"no name"})})},e.id))]})]}),(0,or.jsxs)("li",{children:[(0,or.jsxs)("button",{onClick:()=>w(!b),className:"block py-1 hover:bg-gray-700",children:[(0,or.jsx)(Wr,{icon:b?Jr:Xr}),"Variables"]}),(0,or.jsxs)("ul",{className:"ml-8 ".concat(b?"":"hidden"),children:[(0,or.jsx)("a",{href:"#",className:"block py-1 hover:bg-gray-600",children:"Add New..."}),o.variables.map(e=>(0,or.jsx)("li",{children:(0,or.jsx)("a",{href:"#",className:"block py-1 hover:bg-gray-600",children:e.name})},e.id))]})]})]})]})}),(0,or.jsx)("div",{className:"flex-grow p-6 bg-white rounded-lg dark:bg-gray-600 dark:text-gray-300",children:(0,or.jsx)("div",{className:"h-full overflow-y-auto",children:(()=>{switch(s){case a.SETTINGS:default:return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("h2",{className:"mb-3 bg-white text-2xl font-bold sticky top-0 dark:bg-gray-600",children:"Export/Load Workspace"}),(0,or.jsxs)("div",{className:"flex justify-around items-center w-full",children:[(0,or.jsxs)("button",{className:"flex flex-col items-center",onClick:W,children:[(0,or.jsx)(Wr,{className:"text-6xl",icon:Vr}),(0,or.jsx)("div",{children:"Load Workspace..."})]}),(0,or.jsxs)("button",{className:"flex flex-col items-center",onClick:B,children:[(0,or.jsx)(Wr,{className:"text-6xl",icon:Hr}),(0,or.jsx)("div",{children:"Export Workspace..."})]}),(0,or.jsxs)("button",{className:"flex flex-col items-center",onClick:U,children:[(0,or.jsx)(Wr,{className:"text-6xl",icon:$r}),(0,or.jsx)("div",{children:"Download Assets..."})]}),(0,or.jsx)("input",{className:"hidden",accept:"application/json",type:"file",onChange:te,ref:M})]}),(0,or.jsx)("h2",{className:"mt-3 mb-3 bg-white text-2xl font-bold sticky top-0 dark:bg-gray-600",children:"Workspace Settings"}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"ccd163fa-8b14-4f68-9b0d-753b093c28ff",children:"Name: "}),(0,or.jsx)("input",{placeholder:"Workspace Name",type:"text",autoComplete:"off",id:"ccd163fa-8b14-4f68-9b0d-753b093c28ff",className:Yi,onChange:ne,value:o.workspaceName})]}),(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"063ce7b6-c327-4ab2-b343-0556f0e7158d",children:"Width: "}),(0,or.jsx)("input",{placeholder:"Width",type:"number",id:"063ce7b6-c327-4ab2-b343-0556f0e7158d",className:Yi,value:R,onChange:re})]}),(0,or.jsxs)("div",{className:"mb-4 w-full",children:[(0,or.jsx)("label",{htmlFor:"c3efc55a-36cd-4f12-b546-308893448ade",children:"Y Position: "}),(0,or.jsx)("input",{placeholder:"Height",type:"number",id:"c3efc55a-36cd-4f12-b546-308893448ade",className:Yi,value:F,onChange:ie})]})]}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsx)("div",{className:"flex justify-between",children:(0,or.jsx)("button",{onClick:()=>r(o),className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-500",children:"Return to Canvas"})})]});case a.TILE_SHEET:return _?(0,or.jsx)(zd,{tileSheet:_,onTileSheetChange:Y,onTileSheetDelete:G,onReturnToCanvas:()=>r(o)},_.id):"";case a.TILE_SET_DEFINITION:return T?(0,or.jsx)(Id,{tileSetDefinition:T,tileSheets:o.tileSheets,onTileSetDefinitionChange:V,onTileSetDefinitionDelete:X,onReturnToCanvas:()=>r(o)},T.id):"";case a.PRESET:return E?(0,or.jsx)(Rd,{preset:E,tileSheets:o.tileSheets,tileSetDefinitions:o.tileSetDefinitions,onPresetChange:q,onPresetDelete:Z,onReturnToCanvas:()=>r(o)},E.id):"";case a.WINDOW:return j?(0,or.jsx)(Fd,{window:j,presets:o.presets,tileSetDefinitions:o.tileSetDefinitions,tileSheets:o.tileSheets,onWindowChange:J,onWindowDelete:ee,onReturnToCanvas:()=>r(o)},j.id):"";case a.LAYOUT:return P?(0,or.jsx)(Nd,{layout:P,windows:o.windows,onLayoutChange:K,onLayoutDelete:Q,onReturnToCanvas:()=>r(o),onEditThisLayout:e=>{r(o,e)}},P.id):"";case a.VARIABLE:return(0,or.jsx)("h2",{className:"bg-white text-2xl font-bold sticky top-0 dark:bg-gray-600",children:"variable"})}})()})})]})})})};var Wd=n(936),Hd=n.n(Wd);const Yd=t=>{let{workspace:n,onWorkspaceChange:r,canvasLayoutId:i,ignoreKeyInputs:o}=t;const a=(0,e.useRef)(null),s=(0,e.useRef)(null);let l=1;const c=(0,e.useRef)(o);(0,e.useEffect)(()=>{c.current=o},[o]);const u=()=>Array.from(document.getElementsByClassName("chocoWinBoundingBox")).forEach(e=>{e.classList.remove("active")}),h=e=>{let t,n;if(e.classList&&(e.classList.contains("dimensions")||e.classList.contains("window-name"))){n=e.parentNode,t=Array.from(n.childNodes).filter(e=>e.classList.contains("dimensions"))[0]}else n=e,t=Array.from(n.childNodes).filter(e=>e.classList.contains("dimensions"))[0];const r=Math.floor(n.style.width.replace("px","")),i=Math.floor(n.style.height.replace("px","")),o=Math.floor(n.style.left.replace("px","")),a=Math.floor(n.style.top.replace("px",""));t.innerText="".concat(r," x ").concat(i," @ (").concat(o,", ").concat(a,")")},f=e=>function(){const e=navigator.userAgent;return/Macintosh/.test(e)}()&&e.metaKey||function(){const e=navigator.userAgent;return/Linux/.test(e)&&!/Android|CrOS/.test(e)}()&&e.controlKey||function(){const e=navigator.userAgent;return/Windows/.test(e)}()&&e.controlKey,d=e=>10*Math.floor(1*e/10),p=(e,t)=>{let{x:n,y:r}=e;return f(t)?{x:d(n),y:d(r)}:{x:n,y:r}},g=e=>{let t=e.target.classList&&e.target.classList.contains("dimensions")?e.target.parentNode:e.target;Array.from(document.getElementsByClassName("chocoWinBoundingBox")).forEach(e=>{e.classList.remove("active")}),t.classList.add("active"),h(t)};let m=0;return(0,e.useEffect)(()=>{a.current&&(a.current.onclick=e=>{e.target==a.current&&u()}),(()=>{const e=window.innerWidth,t=window.innerHeight,r=1*e/n.width,i=1*(t-0)/n.height;if(l=Math.min(r,i),l<1){const e=document.getElementById("choco-studio-canvas-div");e.style.scale="".concat(100*l,"%"),e.style.width=Math.floor(1*n.width*l),e.style.height=Math.floor(1*n.height*l),e.style.left="".concat(-.25*n.width*l,"px"),e.style.top="".concat(-.25*n.height*l+0,"px")}})();const e=e=>{if(!(null===c||void 0===c?void 0:c.current)&&e.timeStamp!=m)switch(m=e.timeStamp,e.key){case"Escape":u();break;case"ArrowUp":{const e=document.querySelector("div.chocoWinBoundingBox.active");if(e){e.style.top="".concat(Number(e.style.top.replace("px",""))-1,"px");document.getElementById(e.getAttribute("data-choco-win-id")).style.top=e.style.top,h(e)}break}case"ArrowDown":{const e=document.querySelector("div.chocoWinBoundingBox.active");if(e){e.style.top="".concat(Number(e.style.top.replace("px",""))+1,"px");document.getElementById(e.getAttribute("data-choco-win-id")).style.top=e.style.top,h(e)}break}case"ArrowLeft":{const e=document.querySelector("div.chocoWinBoundingBox.active");if(e){e.style.left="".concat(Number(e.style.left.replace("px",""))-1,"px");document.getElementById(e.getAttribute("data-choco-win-id")).style.left=e.style.left,h(e)}break}case"ArrowRight":{const e=document.querySelector("div.chocoWinBoundingBox.active");if(e){e.style.left="".concat(Number(e.style.left.replace("px",""))+1,"px");document.getElementById(e.getAttribute("data-choco-win-id")).style.left=e.style.left,h(e)}break}}};document.addEventListener("keydown",e);if(n){const e=n;a.current.style.width="".concat(e.width,"px"),a.current.style.height="".concat(e.height,"px");const t=e.layouts.filter(e=>i==e.id)[0]||e.layouts[0];if(a.current&&s.current&&t){document.querySelectorAll("[data-studio-window-id], [data-choco-win-id]").forEach(e=>e.remove());const i=s.current.sheet;new Array(i.cssRules);t.windowIds.forEach(t=>{const i=e.windows.find(e=>e.id==t),o="win-".concat(i.id);if(document.getElementById(o))return;const c=document.createElement("canvas"),u=c.getContext("2d",{willReadFrequently:!0});c.width=i.w,c.height=i.h;const m=document.createElement("div");m.setAttribute("id",o),m.setAttribute("data-studio-window-id",i.id),m.style.position="absolute",m.style.top="".concat(i.y,"px"),m.style.left="".concat(i.x,"px"),m.style.width="".concat(i.w,"px"),m.style.height="".concat(i.h,"px"),m.style.color="white",m.style.fontSize="20px",m.style.fontFamily="sans-serif",m.style.touchAction="none",m.style.boxSizing="border-box",m.style.backgroundSize="100%",a.current.appendChild(m);const y="bnd-".concat(i.id),v=document.createElement("div");v.setAttribute("id",y),v.setAttribute("data-choco-win-id",o),v.setAttribute("data-studio-window-id",i.id),v.classList.add("chocoWinBoundingBox"),v.style.position="absolute",v.style.top="".concat(i.y,"px"),v.style.left="".concat(i.x,"px"),v.style.width="".concat(i.w,"px"),v.style.height="".concat(i.h,"px");const b=document.createElement("div");b.classList.add("dimensions"),v.appendChild(b);const w=document.createElement("div");if(w.classList.add("window-name"),w.textContent=i.name,v.appendChild(w),a.current.append(v),v.onclick=g,i){const t=i.singularPreset||e.presets.find(e=>e.id==i.presetId);if(!t)return;const a=e.tileSetDefinitions.find(e=>e.id==t.tileSetDefinitionId);if(!a)return;const m=e.tileSheets.find(e=>e.id==a.tileSheetId);if(!m)return;const y=a.toChocoWinTileSet(m.imageDataUrl);if(!y)return;const b=new Ei(y,t.tileScale,0,0,i.w,i.h,t.substituteColors);b.isReady().then(()=>{const e=s.current.sheet;b.drawTo(u);const t=c.toDataURL(),i="#".concat(o," { background-image: url(").concat(t,") }"),a=Array.from(e.cssRules).findIndex(e=>e.selectorText=="#".concat(o));var m;a>=0&&e.deleteRule(a),e.insertRule(i),m=v,Hd()(m).draggable({listeners:{start(e){e.target.setAttribute("data-drag-start-x",e.pageX),e.target.setAttribute("data-drag-start-y",e.pageY),e.target.setAttribute("data-drag-delta-x",0),e.target.setAttribute("data-drag-delta-y",0),e.target.setAttribute("data-window-start-x",e.target.style.left.replace("px","")),e.target.setAttribute("data-window-start-y",e.target.style.top.replace("px",""))},move(e){g(e);const t=Number(e.target.getAttribute("data-window-start-x").replace("px","")),n=Number(e.target.getAttribute("data-window-start-y").replace("px","")),r=Number(e.target.getAttribute("data-drag-delta-x"))+e.dx,i=Number(e.target.getAttribute("data-drag-delta-y"))+e.dy;e.target.setAttribute("data-drag-delta-x",r),e.target.setAttribute("data-drag-delta-y",i);const{x:o,y:a}=p({x:t+r,y:n+i},e);e.target.style.left="".concat(Math.round(o),"px"),e.target.style.top="".concat(Math.round(a),"px"),h(e.target)},end(e){const t=e.target.getAttribute("data-drag-start-x"),i=e.target.getAttribute("data-drag-start-y");e.target.removeAttribute("data-drag-start-x"),e.target.removeAttribute("data-drag-start-y"),e.target.removeAttribute("data-window-start-x"),e.target.removeAttribute("data-window-start-y");const o=e.pageX-t,a=e.pageY-i,s=document.getElementById(e.target.getAttribute("data-choco-win-id")),l=Number(s.style.left.replace("px","")),c=Number(s.style.top.replace("px","")),{x:u,y:h}=p({x:l+o,y:c+a},e);if(s.style.left="".concat(Math.round(u),"px"),s.style.top="".concat(Math.round(h),"px"),e.target.style.transform="",e.target.style.top=s.style.top,e.target.style.left=s.style.left,n){const e=n.windows.filter(e=>s.dataset.studioWindowId==e.id)[0];e.x=Math.round(u),e.y=Math.round(h),r(n)}}}}).resizable({edges:{top:!0,left:!0,bottom:!0,right:!0},listeners:{start(e){g(e);const t=e.interaction.prepared.edges;e.target.setAttribute("data-resize-start-x",e.pageX),e.target.setAttribute("data-resize-start-y",e.pageY),e.target.setAttribute("data-resize-left",t.left),e.target.setAttribute("data-resize-right",t.right),e.target.setAttribute("data-resize-top",t.top),e.target.setAttribute("data-resize-bottom",t.bottom),e.target.setAttribute("data-drag-delta-x",0),e.target.setAttribute("data-drag-delta-y",0)},move:function(e){const t=e.interaction.prepared.edges.left,n=e.interaction.prepared.edges.right,r=e.interaction.prepared.edges.top,i=e.interaction.prepared.edges.bottom;if(f(e)&&r){const t=d(e.rect.top/l),n=(e.rect.top-t)/l,r=(e.rect.height+n)/l;e.target.style.top="".concat(Math.floor(t),"px"),e.target.style.height="".concat(Math.floor(r),"px")}else if(f(e)&&i){const t=e.rect.top,n=d(t+e.rect.height)-e.rect.top;e.target.style.top="".concat(Math.floor(t),"px"),e.target.style.height="".concat(Math.floor(n),"px")}else e.target.style.top="".concat(Math.floor(e.rect.top/l),"px"),e.target.style.height="".concat(Math.floor(e.rect.height/l),"px");if(f(e)&&t){const t=d(e.rect.left),n=e.rect.left-t,r=e.rect.width+n;e.target.style.left="".concat(Math.floor(t),"px"),e.target.style.width="".concat(Math.floor(r),"px")}else if(f(e)&&n){const t=e.rect.left,n=d(t+e.rect.width)-e.rect.left;e.target.style.left="".concat(Math.floor(t),"px"),e.target.style.width="".concat(Math.floor(n),"px")}else e.target.style.left="".concat(Math.floor(e.rect.left/l),"px"),e.target.style.width="".concat(Math.floor(e.rect.width/l),"px");h(e.target)},end(e){const t=document.getElementById(e.target.getAttribute("data-choco-win-id"));t.style.top=e.target.style.top,t.style.height=e.target.style.height,t.style.left=e.target.style.left,t.style.width=e.target.style.width;const i=n.windows.find(t=>"win-".concat(t.id)==e.target.dataset.chocoWinId),o="win-".concat(i.id);i.w=Number(t.style.width.replace("px","")),i.h=Number(t.style.height.replace("px","")),r&&r(n);const a=i.singularPreset||n.presets.find(e=>e.id==i.presetId);if(!a)return;const l=n.tileSetDefinitions.find(e=>e.id==a.tileSetDefinitionId);if(!l)return;const c=n.tileSheets.find(e=>e.id==l.tileSheetId);if(!c)return;const u=l.toChocoWinTileSet(c.imageDataUrl);if(!u)return;const h=new Ei(u,a.tileScale,0,0,i.w,i.h,a.substituteColors);h.isReady().then(()=>{const e=document.createElement("canvas"),t=e.getContext("2d",{willReadFrequently:!0});e.width=i.w,e.height=i.h;const n=s.current.sheet;h.drawTo(t);const r=e.toDataURL(),a="#".concat(o," { background-image: url(").concat(r,") }"),l=Array.from(n.cssRules).findIndex(e=>e.selectorText=="#".concat(o));l>=0&&n.deleteRule(l),n.insertRule(a)})}}})})}})}}return()=>{document.removeEventListener("keydown",e)}},[n,i]),(0,or.jsx)("div",{id:"choco-studio-canvas-div",ref:a,children:(0,or.jsx)("style",{ref:s})})},Vd=t=>{var n;let{workspace:r,currentLayoutId:i,isModalHidden:o,onReturnToCanvas:a}=t;const[s,l]=(0,e.useState)(null);return(0,or.jsx)("div",{className:"settings-modal fixed inset-0 ".concat(o?"hidden":""," bg-black bg-opacity-50 z-40"),children:(0,or.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,or.jsx)("div",{className:"bg-white rounded-lg shadow-lg  flex relative dark:bg-gray-600",children:(0,or.jsxs)("div",{className:"flex-grow p-6 bg-white rounded-lg dark:bg-gray-600 dark:text-gray-300",children:[(0,or.jsxs)("label",{children:[(0,or.jsx)("span",{children:"Select Layout:"}),(0,or.jsx)("select",{name:"name",className:Yi,onChange:e=>{const t=e.target.value;l(t)},value:null!==(n=null!==s&&void 0!==s?s:i)&&void 0!==n?n:"",autoComplete:"false",children:r.layouts.map(e=>(0,or.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:()=>{a(s)},className:"m-2 w-[12em] bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-500",children:"Return to Canvas"}),(0,or.jsx)("button",{onClick:()=>{a(null)},className:"m-2 w-[12em] bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-500",children:"Cancel"})]})]})})})})},Gd=t=>{let{isModalHidden:n,dataUrl:r,downloadName:i,onReturnToCanvas:o}=t;const a=(0,e.useRef)(null);(0,e.useEffect)(()=>{a.current.src=r},[a]);return(0,or.jsx)("div",{id:"modal",className:"settings-modal fixed inset-0 ".concat(n?"hidden":""," bg-black bg-opacity-50 z-40"),children:(0,or.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,or.jsx)("div",{className:"bg-white rounded-lg shadow-lg flex relative dark:bg-gray-600",children:(0,or.jsx)("div",{className:"flex-grow p-6 bg-white rounded-lg dark:bg-gray-600 dark:text-gray-300",children:(0,or.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Preview"}),(0,or.jsx)("div",{className:"flex-grow p-6 bg-white rounded-lg dark:bg-gray-600 dark:text-gray-300",children:(0,or.jsx)("img",{style:{width:"400px"},ref:a})}),(0,or.jsx)("h3",{className:"mb-2 mt-4 text-xl",children:"Actions"}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.download=i,e.href=r,document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-500",children:"Download Background"}),(0,or.jsx)("button",{onClick:o,className:"bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-500",children:"Return to Canvas"})]})]})})})})})},Xd=()=>{fi.ignoreScaleMisalignmentErrors=!0;const t="workspace",n=()=>{try{const e=window.localStorage.getItem(t);if(e){const t=window.atob(e),n=JSON.parse(t);return new Ui(n)}}catch($){console.error($),alert("An unexpected error occurred; check the console log for details.")}return new Ui},r=e=>{const n=JSON.stringify(e),r=btoa(n);window.localStorage.setItem(t,r)},[i,o]=(0,e.useState)(!0),[a,s]=(0,e.useState)(!0),[l,c]=(0,e.useState)(null),[u,h]=(0,e.useState)(n()),[f,d]=(0,e.useState)(n()),[p,g]=(0,e.useState)(!1),[m,y]=(0,e.useState)(!1),[v,b]=(0,e.useState)(null),[w,_]=(0,e.useState)(null);return(0,e.useEffect)(()=>{},[]),(0,or.jsxs)("div",{id:"app-div",children:[(0,or.jsx)(Hi,{onGearClick:()=>{o(!1),g(!0)},onSelectLayoutClick:()=>{s(!1),g(!0)},onDownloadPngClick:()=>{var e;const t=new Wi(f),n=l||f.layouts[0].id,r=((null===(e=f.layouts.find(e=>e.id==n))||void 0===e?void 0:e.name)||"window")+".png";_(r),t.generateLayoutImageDataUrl(n,e=>{b(e),y(!0)})}}),i||(0,or.jsx)(Ud,{isModalHidden:i,onReturnToCanvas:(e,t)=>{g(!1),o(!0),d(new Ui(e)),t&&c(t)},onWorkspaceChange:e=>{h(e),r(e)},workspace:u}),a||(0,or.jsx)(Vd,{workspace:f,currentLayoutId:l,isModalHidden:a,onReturnToCanvas:e=>{g(!1),e&&c(e),s(!0)}}),m&&(0,or.jsx)(Gd,{isModalHidden:!m,dataUrl:v,downloadName:w,onReturnToCanvas:()=>{y(!1),b(null),_("")}}),(0,or.jsx)(Yd,{ignoreKeyInputs:p,workspace:f,onWorkspaceChange:e=>{h(new Ui(e)),r(u)},canvasLayoutId:l})]})};document.body.className="dark:bg-gray-800";t.createRoot(document.getElementById("root")).render((0,or.jsx)(e.StrictMode,{children:(0,or.jsx)(Xd,{})}))})()})();
//# sourceMappingURL=main.719fc4b9.js.map